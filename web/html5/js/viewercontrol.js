
//----------------------------------------------------------------------
// Copyright (c) 1996-2015 Accusoft Corporation.  All rights reserved.
//----------------------------------------------------------------------
var IPCC=IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;IPCC.Type.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.initializePageViewPlugin=function(FI,afr){var KP=new IPCC.Web.UI.PageView(FI);if(afr){IPCC.Xr(KP,afr);}KP.lU(FI);KP.initialize();return KP;};IPCC.initializePageListPlugin=function(FI,ah){var Mx=new IPCC.PageList(FI);if(ah){IPCC.Xr(Mx,ah);}Mx.lU(FI);Mx.initialize();return Mx;};IPCC.Web.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};IPCC.Web.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Kc in baseType.prototype){if(baseType.prototype.hasOwnProperty(Kc)){var amr=baseType.prototype[Kc];if(!this.prototype[Kc]){this.prototype[Kc]=amr;}}}}return this;};IPCC.Web.avQ=function(UK,PQ,abU){if(PQ){if(!abU){PQ.apply(UK);}else{PQ.apply(UK,abU);}}return UK;};IPCC.Web.UI.DebugErrorLevel=function(){};IPCC.Web.UI.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.Web.UI.DebugErrorLevel.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);IPCC.Web.UI.DebugItemCause=function(){};IPCC.Web.UI.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};IPCC.Web.UI.DebugItemCause.registerEnum('IPCC.Web.UI.DebugItemCause',false);IPCC.Web.UI.MouseButton=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");IPCC.Web.UI.Key=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");IPCC.Web.UI.aW=function(ajL){var bJ=ajL;var aez=this.type=bJ.type.toLowerCase();var Oo=typeof bJ.changedTouches!=='undefined';this.rawEvent=bJ;this.altKey=bJ.altKey;if(typeof(bJ.button)!=='undefined'){this.button=(typeof(bJ.which)!=='undefined')?bJ.button:(bJ.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bJ.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aez==='keypress'){this.charCode=bJ.charCode||bJ.keyCode;}else if(bJ.keyCode&&(bJ.keyCode===46)){this.keyCode=127;}else{this.keyCode=bJ.keyCode;}this.clientX=(Oo)?bJ.changedTouches[0].clientX:bJ.clientX;this.clientY=(Oo)?bJ.changedTouches[0].clientY:bJ.clientY;this.ctrlKey=bJ.ctrlKey;this.target=bJ.target?bJ.target:bJ.srcElement;function aqM(bL){var bq=0;var et=0;while(bL&& !isNaN(bL.offsetLeft)&& !isNaN(bL.offsetTop)){bq+=bL.offsetLeft-bL.scrollLeft;et+=bL.offsetTop-bL.scrollTop;if(bL.offsetparent){bL=bL.offsetParent;}else{bL=bL.parentNode;}}return{top:et,left:bq};};var dN=""+aez;var sL='key';if(dN.substr(0,sL.length)!==sL){if((typeof(bJ.offsetX)!=='undefined')&&(typeof(bJ.offsetY)!=='undefined')){this.offsetX=bJ.offsetX;this.offsetY=bJ.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bJ.clientX)==='number')){var aat=aqM(this.target);var cT=this.target;var cI=cT.ownerDocument||cT.document||cT;var iG=cI.defaultView||cI.parentWindow;this.offsetX=(iG.pageXOffset||0)+bJ.clientX-aat.left;this.offsetY=(iG.pageYOffset||0)+bJ.clientY-aat.top;}}this.screenX=(Oo)?bJ.changedTouches[0].screenX:bJ.screenX;this.screenY=(Oo)?bJ.changedTouches[0].screenY:bJ.screenY;this.shiftKey=bJ.shiftKey;};IPCC.Web.UI.aW.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};IPCC.Web.UI.aW.registerClass=IPCC.Web.regClass;IPCC.Web.UI.aW.registerClass('IPCC.Web.UI.aW');IPCC.Xr=function(ep,PD){var IF;for(var bY in PD){if(PD.hasOwnProperty(bY)){var cn=PD[bY];var aha=ep["get_"+bY];var XH=ep["set_"+bY];if(typeof(XH)==='function'){XH.apply(ep,[cn]);}else if(cn instanceof Array){IF=aha.apply(ep);if(!(IF instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(bY+" is not an Array property");}for(var G=0,bF=IF.length,qi=cn.length;G<qi;G++,bF++){IF[bF]=cn[G];}}}}};IPCC.Web.UI.aW.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aW.Ph(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.fE.addHandlerCantBeUsedForError);}if(!element.be){element.be={};}var eventCache=element.be[eventName];if(!eventCache){element.be[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aW(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var cT=doc.defaultView||doc.parentWindow;e=cT.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aW(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aW.acF){element.dispose=IPCC.Web.UI.aW.acF;if(typeof(d)!=="undefined"){element.abo=d;}}}};IPCC.Web.UI.aW.clearHandlers=function(element){IPCC.Web.UI.aW.Ph(element);IPCC.Web.UI.aW.acc(element,false);};IPCC.Web.UI.aW.acc=function(element,autoRemoving){if(element.be){var cache=element.be;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aW.removeHandler(element,name,entry.handler);}}}}element.be=null;}};IPCC.Web.UI.aW.acF=function(){IPCC.Web.UI.aW.acc(this,true);var d=this.abo,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.abo=null;if(type==="function"){this.dispose();}}};IPCC.Web.UI.aW.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aW.bV(element,eventName,handler);};IPCC.Web.UI.aW.bV=function(element,eventName,handler){IPCC.Web.UI.aW.Ph(element);var browserHandler=null;if((typeof(element.be)!=='object')|| !element.be){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.be[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aW.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};IPCC.Web.UI.aW.Ph=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.fE.argumentDomNode);}};IPCC.nF=function(aF,tO){var O=this;this.aF=aF;this.tO=tO;this.amn=function(){return O.aF;};this.awV=function(){return O.tO;};};IPCC.nF.prototype.get_propertyName=function(){return this.aF;};IPCC.nF.prototype.get_propertyInfo=function(){return this.tO;};IPCC.Web.zu=function(bq){return!isNaN(bq-0)&&bq!==null;};IPCC.aje=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};IPCC.Web.UI.fY=function fY(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.VK={};};IPCC.Web.UI.fY.prototype.bj=function(fu,R){var dH=this.Vx(fu,true);dH[dH.length]=R;};IPCC.Web.UI.fY.prototype.addHandler=function(fu,R){this.bj(fu,R);};IPCC.Web.UI.fY.prototype.bV=function(fu,R){var pV=this.Vx(fu);if(!pV){return;}var bH=IPCC.aje(pV,R);if(bH>=0){pV.splice(bH,1);}};IPCC.Web.UI.fY.prototype.removeHandler=function(fu,R){this.bV(fu,R);};IPCC.Web.UI.fY.prototype.getHandler=function(fu){var pV=this.Vx(fu);if(!pV||(pV.length===0)){return null;}var dH=pV.slice();pV=dH;return function(source,args){for(var G=0,qi=pV.length;G<qi;G++){pV[G](source,args);}};};IPCC.Web.UI.fY.prototype.Vx=function(fu,ave){if(!this.VK[fu]){if(!ave){return null;}this.VK[fu]=[];}return this.VK[fu];};IPCC.Web.GY=IPCC.GY||{};IPCC.Web.GY.Rd=function(bz){if(!this.Cv[0][0][0]){this.OM();}var G,bF,dN,Gq,Sz,jZ=this.Cv[0][4],uF=this.Cv[1],pE=bz.length,Jt=1;if(pE!==4&&pE!==6&&pE!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.bz=[Gq=bz.slice(0),Sz=[]];for(G=pE;G<4*pE+28;G++){dN=Gq[G-1];if(G%pE===0||(pE===8&&G%pE===4)){dN=jZ[dN>>>24]<<24^jZ[dN>>16&255]<<16^jZ[dN>>8&255]<<8^jZ[dN&255];if(G%pE===0){dN=dN<<8^dN>>>24^Jt<<24;Jt=Jt<<1^(Jt>>7)*283;}}Gq[G]=Gq[G-pE]^dN;}for(bF=0;G;bF++,G--){dN=Gq[bF&3?G:G-4];if(G<=4||bF<4){Sz[bF]=dN;}else{Sz[bF]=uF[0][jZ[dN>>>24]]^uF[1][jZ[dN>>16&255]]^uF[2][jZ[dN>>8&255]]^uF[3][jZ[dN&255]];}}};IPCC.Web.GY.Rd.prototype={NZ:function(cY){return this.apn(cY,1);},Cv:[[[],[],[],[],[]],[[],[],[],[],[]]],OM:function(){var JQ=this.Cv[0],uF=this.Cv[1],jZ=JQ[4],apy=uF[4],G,bq,vQ,dR=[],ew=[],Rr,Wl,XO,gP,Ij,HM;for(G=0;G<256;G++){ew[(dR[G]=G<<1^(G>>7)*283)^G]=G;}for(bq=vQ=0;!jZ[bq];bq^=Rr||1,vQ=ew[vQ]||1){gP=vQ^vQ<<1^vQ<<2^vQ<<3^vQ<<4;gP=gP>>8^gP&255^99;jZ[bq]=gP;apy[gP]=bq;XO=dR[Wl=dR[Rr=dR[bq]]];HM=XO*0x1010101^Wl*0x10001^Rr*0x101^bq*0x1010100;Ij=dR[gP]*0x101^gP*0x1010100;for(G=0;G<4;G++){JQ[G][bq]=Ij=Ij<<24^Ij>>>8;uF[G][gP]=HM=HM<<24^HM>>>8;}}for(G=0;G<5;G++){JQ[G]=JQ[G].slice(0);uF[G]=uF[G].slice(0);}},apn:function(Ee,ES){if(Ee.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var bz=this.bz[ES],cg=Ee[0]^bz[0],fa=Ee[ES?3:1]^bz[1],fC=Ee[2]^bz[2],dR=Ee[ES?1:3]^bz[3],ug,aaG,adI,ajr=bz.length/4-2,G,AR=4,eK=[0,0,0,0],GE=this.Cv[ES],HY=GE[0],GX=GE[1],Hf=GE[2],HK=GE[3],jZ=GE[4];for(G=0;G<ajr;G++){ug=HY[cg>>>24]^GX[fa>>16&255]^Hf[fC>>8&255]^HK[dR&255]^bz[AR];aaG=HY[fa>>>24]^GX[fC>>16&255]^Hf[dR>>8&255]^HK[cg&255]^bz[AR+1];adI=HY[fC>>>24]^GX[dR>>16&255]^Hf[cg>>8&255]^HK[fa&255]^bz[AR+2];dR=HY[dR>>>24]^GX[cg>>16&255]^Hf[fa>>8&255]^HK[fC&255]^bz[AR+3];AR+=4;cg=ug;fa=aaG;fC=adI;}for(G=0;G<4;G++){eK[ES?3& -G:G]=jZ[cg>>>24]<<24^jZ[fa>>16&255]<<16^jZ[fC>>8&255]<<8^jZ[dR&255]^bz[AR++];ug=cg;cg=fa;fa=fC;fC=dR;dR=ug;}return eK;}};IPCC.Web.anz='8.4';IPCC.Web.asn=24;IPCC.Web.oi=IPCC.Web.oi||{};IPCC.Web.oi.TJ=function(oi){if(!this.bz[0]){this.OM();}if(oi){this.fh=oi.fh.slice(0);this.ts=oi.ts.slice(0);this.dP=oi.dP;}else{this.ZV();}};IPCC.Web.oi.TJ.oi=function(cY){return(new IPCC.Web.oi.TJ()).alA(cY).ajF();};IPCC.Web.oi.TJ.prototype={awP:512,ZV:function(){this.fh=this.Mu.slice(0);this.ts=[];this.dP=0;return this;},alA:function(cY){if(typeof cY==="string"){cY=IPCC.Web.Codec.BV.qu(cY);}var G,fa=this.ts=IPCC.Web.hf.Tl(this.ts,cY),acB=this.dP,ais=this.dP=acB+IPCC.Web.hf.rX(cY);for(G=512+acB& -512;G<=ais;G+=512){this.Mb(fa.splice(0,16));}return this;},ajF:function(){var G,fa=this.ts,fh=this.fh;fa=IPCC.Web.hf.Tl(fa,[IPCC.Web.hf.Gs(1,1)]);for(G=fa.length+2;G&15;G++){fa.push(0);}fa.push(Math.floor(this.dP/0x100000000));fa.push(this.dP|0);while(fa.length){this.Mb(fa.splice(0,16));}this.ZV();return fh;},Mu:[],bz:[],OM:function(){var G=0,FW=2,aT;function ZH(bq){return(bq-Math.floor(bq))*0x100000000|0;};arh:for(;G<64;FW++){for(aT=2;aT*aT<=FW;aT++){if(FW%aT===0){continue arh;}}if(G<8){this.Mu[G]=ZH(Math.pow(FW,1/2));}this.bz[G]=ZH(Math.pow(FW,1/3));G++;}},Mb:function(kP){var G,dN,cg,fa,iG=kP.slice(0),fh=this.fh,cb=this.bz,UH=fh[0],qT=fh[1],Fy=fh[2],Mv=fh[3],sK=fh[4],LW=fh[5],FF=fh[6],Vr=fh[7];for(G=0;G<64;G++){if(G<16){dN=iG[G];}else{cg=iG[(G+1)&15];fa=iG[(G+14)&15];dN=iG[G&15]=((cg>>>7^cg>>>18^cg>>>3^cg<<25^cg<<14)+(fa>>>17^fa>>>19^fa>>>10^fa<<15^fa<<13)+iG[G&15]+iG[(G+9)&15])|0;}dN=(dN+Vr+(sK>>>6^sK>>>11^sK>>>25^sK<<26^sK<<21^sK<<7)+(FF^sK&(LW^FF))+cb[G]);Vr=FF;FF=LW;LW=sK;sK=Mv+dN|0;Mv=Fy;Fy=qT;qT=UH;UH=(dN+((qT&Fy)^(Mv&(qT^Fy)))+(qT>>>2^qT>>>13^qT>>>22^qT<<30^qT<<19^qT<<10))|0;}fh[0]=fh[0]+UH|0;fh[1]=fh[1]+qT|0;fh[2]=fh[2]+Fy|0;fh[3]=fh[3]+Mv|0;fh[4]=fh[4]+sK|0;fh[5]=fh[5]+LW|0;fh[6]=fh[6]+FF|0;fh[7]=fh[7]+Vr|0;}};IPCC.Web.yZ=function(pQ,cE){return IPCC.Web.aaS(false,arguments);};IPCC.Web.XG=function(pQ,cE){return IPCC.Web.aaS(true,arguments);};IPCC.Web.aaS=function(useLocale,cE){var aq='';var pQ=cE[0];for(var G=0;;){var DW=pQ.indexOf('{',G);var km=pQ.indexOf('}',G);if((DW<0)&&(km<0)){aq+=pQ.slice(G);break;}if((km>0)&&((km<DW)||(DW<0))){if(pQ.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aq+=pQ.slice(G,km+1);G=km+2;continue;}aq+=pQ.slice(G,DW);G=DW+1;if(pQ.charAt(G)==='{'){aq+='{';G++;continue;}if(km<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var NJ=pQ.substring(G,km);var Hk=NJ.indexOf(':');var abA=parseInt((Hk<0)?NJ:NJ.substring(0,Hk),10)+1;if(isNaN(abA)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var QF=(Hk<0)?'':NJ.substring(Hk+1);var sX=cE[abA];if(typeof(sX)==="undefined"||sX===null){sX='';}if(sX.toFormattedString){aq+=sX.toFormattedString(QF);}else if(useLocale&&sX.XG){aq+=sX.XG(QF);}else if(sX.format){aq+=sX.format(QF);}else{aq+=sX.toString();}G=km+1;}return aq;};IPCC.Web.UI.ImGearException=function(message,errorInfo){this.message=message;var O=this;if(errorInfo){for(var Rs in errorInfo){if(errorInfo.hasOwnProperty(Rs)){O[Rs]=errorInfo[Rs];}}}};IPCC.Web.UI.ImGearException.prototype=new Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass('IPCC.Web.UI.ImGearException');IPCC.Web.UI.ImGearHttpException=function(statusCode,message,customErrorCode){var gx="IPCC.Web.UI.ImGearHttpException: ";if(message){gx+=message;}this.message=gx;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};IPCC.Web.UI.ImGearHttpException.prototype=new Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass('IPCC.Web.UI.ImGearHttpException');IPCC.Web.UI.ImGearArgumentException=function(paramName,message){var gx="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.fE.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gx+="\n"+IPCC.Web.yZ(IPCC.fE.paramName,paramName);}}this.message=gx;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentException.prototype=new Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass('IPCC.Web.UI.ImGearArgumentException');IPCC.Web.UI.ImGearArgumentNullException=function(paramName,message){var gx="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.fE.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gx+="\n"+IPCC.Web.yZ(IPCC.Res.paramName,paramName);}}this.message=gx;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentNullException.prototype=new Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass('IPCC.Web.UI.ImGearArgumentNullException');IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(paramName,actualValue,message){var gx="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.fE.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gx+="\n"+IPCC.Web.yZ(IPCC.fE.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gx+="\n"+IPCC.Web.yZ(IPCC.fE.actualValue,actualValue);}this.message=gx;this.paramName=paramName;this.actualValue=actualValue;};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');IPCC.Web.UI.ImGearArgumentTypeException=function(paramName,actualType,expectedType,message){var gx="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gx+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gx+=IPCC.Web.yZ(IPCC.fE.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gx+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gx+=IPCC.fE.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gx+="\n"+IPCC.Web.yZ(IPCC.fE.paramName,paramName);}}this.message=gx;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};IPCC.Web.UI.ImGearArgumentTypeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');IPCC.Web.UI.ImGearArgumentUndefinedException=function(paramName,message){var gx="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.fE.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gx+="\n"+IPCC.Web.yZ(IPCC.Res.paramName,paramName);}}this.message=gx;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=new Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');IPCC.Web.UI.ImGearInvalidOperationException=function(message){var gx="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.fE.invalidOperation);this.message=gx;};IPCC.Web.UI.ImGearInvalidOperationException.protype=new Error();IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');IPCC.Web.UI.ImGearNotImplementedException=function(message){var gx="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.fE.notImplemented);this.message=gx;};IPCC.Web.UI.ImGearNotImplementedException.prototype=new Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass('IPCC.Web.UI.ImGearNotImplementedException');IPCC.Web.UI.ImGearParameterCountException=function(message){var gx="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.fE.parameterCount);this.message=gx;};IPCC.Web.UI.ImGearParameterCountException.prootype=new Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass('IPCC.Web.UI.ImGearParameterCountException');IPCC.Web.bz=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];IPCC.Web.hf={PZ:function(cg,ri,ZX){cg=IPCC.Web.hf.UR(cg.slice(ri/32),32-(ri&31)).slice(1);return(ZX===undefined)?cg:IPCC.Web.hf.ahl(cg,ZX-ri);},Nd:function(cg,ri,OI){var bq,Ud=Math.floor((-ri-OI)&31);if((ri+OI-1^ri)& -32){bq=(cg[ri/32|0]<<(32-Ud))^(cg[ri/32+1|0]>>>Ud);}else{bq=cg[ri/32|0]>>>Ud;}return bq&((1<<OI)-1);},Tl:function(xl,ug){if(xl.length===0||ug.length===0){return xl.concat(ug);}var tN=xl[xl.length-1],sR=IPCC.Web.hf.UQ(tN);if(sR===32){return xl.concat(ug);}else{return IPCC.Web.hf.UR(ug,sR,tN|0,xl.slice(0,xl.length-1));}},rX:function(cg){var qi=cg.length,bq;if(qi===0){return 0;}bq=cg[qi-1];return(qi-1)*32+IPCC.Web.hf.UQ(bq);},ahl:function(cg,bp){if(cg.length*32<bp){return cg;}cg=cg.slice(0,Math.ceil(bp/32));var qi=cg.length;bp=bp&31;if(qi>0&&bp){cg[qi-1]=IPCC.Web.hf.Gs(bp,cg[qi-1]&0x80000000>>(bp-1),1);}return cg;},Gs:function(bp,bq,fj){if(bp===32){return bq;}return(fj?bq|0:bq<<(32-bp))+bp*0x10000000000;},UQ:function(bq){return Math.round(bq/0x10000000000)||32;},ahw:function(cg,fa){if(IPCC.Web.hf.rX(cg)!==IPCC.Web.hf.rX(fa)){return false;}var bq=0,G;for(G=0;G<cg.length;G++){bq|=cg[G]^fa[G];}return(bq===0);},UR:function(cg,sR,Iu,eK){var G,acN=0,Tq;if(eK===undefined){eK=[];}for(;sR>=32;sR-=32){eK.push(Iu);Iu=0;}if(sR===0){return eK.concat(cg);}for(G=0;G<cg.length;G++){eK.push(Iu|cg[G]>>>sR);Iu=cg[G]<<(32-sR);}acN=cg.length?cg[cg.length-1]:0;Tq=IPCC.Web.hf.UQ(acN);eK.push(IPCC.Web.hf.Gs(sR+Tq&31,(sR+Tq>32)?Iu:eK.pop(),1));return eK;},Zx:function(bq,et){return[bq[0]^et[0],bq[1]^et[1],bq[2]^et[2],bq[3]^et[3]];}};IPCC.Web.gf=IPCC.Web.gf||{};IPCC.Web.ss=false;IPCC.Web.Wd=[];IPCC.Web.gf.BV={kE:function(dH){var eK="",nS=IPCC.Web.hf.rX(dH),G,dN;for(G=0;G<nS/8;G++){if((G&3)===0){dN=dH[G/4];}eK+=String.fromCharCode(dN>>>24);dN<<=8;}return decodeURIComponent(escape(eK));},qu:function(cU){cU=unescape(encodeURIComponent(cU));var eK=[],G,dN=0;for(G=0;G<cU.length;G++){dN=dN<<8|cU.charCodeAt(G);if((G&3)===3){eK.push(dN);dN=0;}}if(G&3){eK.push(IPCC.Web.hf.Gs(8*(G&3),dN));}return eK;}};IPCC.Web.vg=false;IPCC.Web.gf.mY={xb:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kE:function(dH,ahD,dA){var eK="",G,dB=0,fC=IPCC.Web.gf.mY.xb,wQ=0,nS=IPCC.Web.hf.rX(dH);if(dA){fC=fC.substr(0,62)+'-_';}for(G=0;eK.length*6<nS;){eK+=fC.charAt((wQ^dH[G]>>>dB)>>>26);if(dB<6){wQ=dH[G]<<(6-dB);dB+=26;G++;}else{wQ<<=6;dB-=6;}}while((eK.length&3)&& !ahD){eK+="=";}return eK;},qu:function(cU,dA){cU=cU.replace(/\s|=/g,'');var eK=[],G,dB=0,fC=IPCC.Web.gf.mY.xb,wQ=0,bq;if(dA){fC=fC.substr(0,62)+'-_';}for(G=0;G<cU.length;G++){bq=fC.indexOf(cU.charAt(G));if(bq<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(dB>26){dB-=26;eK.push(wQ^bq>>>dB);wQ=bq<<(32-dB);}else{dB+=6;wQ^=bq<<(32-dB);}}if(dB&56){eK.push(IPCC.Web.hf.Gs(dB&56,wQ,1));}return eK;}};IPCC.Web.gf.Cn={kE:function(dH){return IPCC.Web.gf.mY.kE(dH,1,1);},qu:function(cU){return IPCC.Web.gf.mY.qu(cU,1);}};IPCC.Web.jH=[];IPCC.Web.KS=IPCC.Web.KS||{};IPCC.Web.KS.acT={bY:"cbc",afv:function(JZ,Ql,eC,wH){if(wH&&wH.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.hf.rX(eC)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var G,iG=IPCC.Web.hf,KI=iG.Zx,nS=iG.rX(Ql),adj=0,pq=[];if(nS&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(G=0;adj+128<=nS;G+=4,adj+=128){eC=JZ.afv(KI(eC,Ql.slice(G,G+4)));pq.splice(G,0,eC[0],eC[1],eC[2],eC[3]);}nS=(16-((nS>>3)&15))*0x1010101;eC=JZ.afv(KI(eC,iG.Tl(Ql,[nS,nS,nS,nS]).slice(G,G+4)));pq.splice(G,0,eC[0],eC[1],eC[2],eC[3]);return pq;},NZ:function(JZ,HA,eC,wH){if(wH&&wH.length){throw new IPCC.Web.UI.ImGearArgumentException(wH,"cbc can't authenticate data");}if(IPCC.Web.hf.rX(eC)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.hf.rX(HA)&127)|| !HA.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var G,iG=IPCC.Web.hf,KI=iG.Zx,pJ,qP,pq=[];wH=wH||[];for(G=0;G<HA.length;G+=4){pJ=HA.slice(G,G+4);qP=KI(eC,JZ.NZ(pJ));pq.splice(G,0,qP[0],qP[1],qP[2],qP[3]);eC=pJ;}pJ=pq[G-1]&255;if(pJ===0||pJ>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}qP=pJ*0x1010101;if(!iG.ahw(iG.PZ([qP,qP,qP,qP],0,pJ*8),iG.PZ(pq,pq.length*32-pJ*8,pq.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return iG.PZ(pq,0,pq.length*32-pJ*8);}};IPCC.Web.aiW=0;IPCC.Web.be=new IPCC.Web.UI.fY();IPCC.Web.avw=function(R){IPCC.Web.be.bj(IPCC.fE.prodInfo,R);};IPCC.Web.avR=function(R){IPCC.Web.be.bV(IPCC.fE.prodInfo,R);};IPCC.Web.awK=function(R){IPCC.Web.be.bj(IPCC.fE.prodFailInfo,R);};IPCC.Web.awE=function(R){IPCC.Web.be.bV(IPCC.fE.prodFailInfo,R);};IPCC.Web.by=function(aC,C){var R=IPCC.Web.be.getHandler(aC);if(R!==null){R(IPCC.Web,C);}};IPCC.Web.aah=function(Bv){var qg=Bv.length;var wD=Math.ceil(qg/4),Lo;var dB=[];dB.length=wD;for(var jY=0,gF=0;jY<wD;jY++,gF+=4){dB[jY]=((Bv[gF]&0xff)<<24)+((Bv[gF+1]&0xff)<<16)+((Bv[gF+2]&0xff)<<8)+(Bv[gF+3]&0xff);}if(gF<qg){Lo[jY]=0;for(var wT=0;gF<qg;gF++,wT++){Lo[jY]+=(Bv[gF++]&0xff)<<(3-wT);}}return dB;};IPCC.Web.aco=function(bm){var qg=bm.length;var wD=Math.ceil(qg/4);var dB=[];dB.length=wD;for(var jY=0,gF=0;jY<wD;jY++,gF+=4){dB[jY]=((bm.charCodeAt(gF)&0xff)<<24)+((bm.charCodeAt(gF+1)&0xff)<<16)+((bm.charCodeAt(gF+2)&0xff)<<8)+((bm.charCodeAt(gF+3)&0xff));}if(gF<qg){dB[jY]=0;for(var wT=0;gF<qg;gF++,wT++){dB[jY]+=(bm.charCodeAt(gF++)&0xff)<<(3-wT);}}return dB;};IPCC.Web.aih=function(ts){var CI=new Uint8Array(ts);var qg=CI.length;var wD=Math.ceil(qg/4),Lo;var dB=[];dB.length=wD;for(var jY=0,gF=0;jY<wD;jY++,gF+=4){dB[jY]=(CI[gF]<<24)+(CI[gF+1]<<16)+(CI[gF+2]<<8)+CI[gF+3];}if(gF<qg){dB[jY]=0;for(var wT=0;gF<qg;gF++,wT++){Lo[jY]+=CI[gF++]<<(3-wT);}}return dB;};IPCC.Web.AV=function(dB,eC){var bz=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.xe(dB,bz,eC);};IPCC.Web.xe=function(dB,bz,eC){try{var KZ=new IPCC.Web.GY.Rd(bz);var cY=IPCC.Web.KS.acT.NZ(KZ,dB,eC);return cY;}catch(bK){return;}};IPCC.Web.AW=function(aL){var dB;if(typeof(VBArray)!=="undefined"){dB=IPCC.Web.aah(new VBArray(aL.responseBody).toArray());}else{dB=IPCC.Web.aco(aL.responseText);}return dB;};IPCC.Web.awf=function(ts,aL){var dB;if(typeof(ArrayBuffer)!=="undefined"){dB=IPCC.Web.aih(ts);}else if(typeof(VBArray)!=="undefined"){dB=IPCC.Web.aah(new VBArray(aL.responseBody).toArray());}else{dB=IPCC.Web.aco(aL.responseText);}return dB;};IPCC.Web.arC=function(aoz,eC,uG){var NM;var cY;var KZ;var dB;try{KZ=new IPCC.Web.GY.Rd(uG.Wd);dB=IPCC.Web.gf.mY.qu(aoz);NM=IPCC.Web.KS.acT.NZ(KZ,dB,eC);cY=IPCC.Web.gf.BV.kE(NM);}catch(bK){IPCC.Web.jH[0]=0;IPCC.Web.ss=false;return;}var aq;if(NM){aq=IPCC.dh.oA(cY);if(aq){if(aq.v===IPCC.Web.mt.aau()&&aq.p===IPCC.Web.mt.aaF()){if(aq.f){var bp=aq.f.length,dH=aq.f;if(aq.f.length>0){IPCC.Web.jH.splice(0);for(var G=0;G<bp;G++){IPCC.Web.jH.push(dH[G]);}IPCC.Web.ss=true;IPCC.Web.vg=false;}}else{IPCC.Web.ss=false;IPCC.Web.vg=false;}}}}};IPCC.Web.MU=function(abn){if(IPCC.Web.ss){return;}if(IPCC.Web.vg){return;}if(!abn){return;}var aL=new XMLHttpRequest();var eC=IPCC.Web.mt.Jq(4);var uG={Wd:[]};function alM(){try{if(aL.readyState===4){if(aL.status===200){IPCC.Web.arC(aL.responseText,eC,uG);}else{IPCC.Web.jH[0]=0;IPCC.Web.ss=false;IPCC.Web.vg=false;throw new IPCC.Web.UI.ImGearHttpException(aL.status,'failure to get product info');}}}catch(e){IPCC.Web.vg=false;throw new IPCC.Web.UI.ImGearException('failure to get product info',{name:'Product Infomation'});}finally{if(aL.readyState===4){if(aL.status===200){if(IPCC.Web.ss===true){IPCC.Web.by(IPCC.fE.prodInfo,null);}else{IPCC.Web.by(IPCC.fE.prodFailInfo,null);}}else{IPCC.Web.by(IPCC.fE.prodFailInfo,null);}}}};setTimeout(function(){aL.open('GET',IPCC.Web.mt.arI(abn,eC,uG),true);aL.setRequestHeader('Content-Type','application/json');aL.onreadystatechange=alM;aL.send();},500);IPCC.Web.aiW++;IPCC.Web.vg=true;};IPCC.Web.JF=function(){var zK=new Date();var akj=new Date(zK.getYear(),zK.getMonth(),zK.getDate(),zK.getHours(),zK.getMinutes(),zK.getSeconds());return(+akj);};IPCC.Web.mt={Jq:function(gC){var Dn=[];var VB=IPCC.Web.abF().Zz;for(var G=0;G<gC;G++){Dn.push(VB());}return Dn;},UO:function(gC,ow){var Dn=[];var VB=IPCC.Web.abF(ow).Zz;for(var G=0;G<gC;G++){Dn.push(VB());}return Dn;},arI:function(cU,eC,uG){return cU+IPCC.fE.fwdslash+IPCC.fE.svctype+IPCC.fE.fwdslash+IPCC.fE.viewer+IPCC.fE.querySymb+IPCC.fE.version+IPCC.Web.mt.aau()+'&'+IPCC.fE.iv+IPCC.Web.mt.atl(eC,uG)+'&'+IPCC.fE.param+IPCC.Web.mt.aaF();},aau:function(){return IPCC.Web.anz;},aaF:function(){return IPCC.Web.asn;},atl:function(eC,uG){var gC,iw=true,eK="",IB,TO,UB,IY,Jn,aeF;for(gC=0;gC<4;gC++){if(!iw){eK+='-';}else{iw=false;}Jn=0;for(IB=0;IB<4;IB++){IY=gC*32+IB*8;TO=IPCC.Web.hf.Nd(eC,IY,4);eK+=TO.toString(16).toUpperCase();UB=IPCC.Web.hf.Nd(eC,IY+4,4);eK+=UB.toString(16).toUpperCase();aeF=(TO*16+UB+IPCC.Web.hf.Nd(IPCC.Web.bz,IY,8))%256;Jn=Jn|(aeF<<(24-(IB*8)));}uG.Wd[gC]=Jn;}return eK;}};IPCC.dh=IPCC.dh||{};IPCC.dh.oA=IPCC.dh.oA||function(cU,amj){if(cU===""){cU='""';}try{if(typeof YUI!=='undefined'){var abM;YUI().use('json-parse',function(Y){abM=Y.JSON.parse(cU);});return abM;}else{var acQ=cU.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var alR=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var akU=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(amj&&alR.test(acQ.replace(akU,''))){throw null;}return eval('('+acQ+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};IPCC.fB={};IPCC.fB.InternetExplorer={};IPCC.fB.Firefox={};IPCC.fB.Safari={};IPCC.fB.Opera={};IPCC.fB.agent=null;IPCC.fB.hasDebuggerStatement=false;IPCC.fB.name=navigator.appName;IPCC.fB.version=parseFloat(navigator.appVersion);IPCC.fB.documentMode=0;if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.fB.agent=IPCC.fB.InternetExplorer;IPCC.fB.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.fB.version>=8){if(document.documentMode>=7){IPCC.fB.documentMode=document.documentMode;}}IPCC.fB.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.fB.agent=IPCC.fB.Firefox;IPCC.fB.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.fB.name='Firefox';IPCC.fB.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.fB.agent=IPCC.fB.Safari;IPCC.fB.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.fB.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.fB.agent=IPCC.fB.Opera;}IPCC.CB=function(KW){this.oI=(typeof(KW)!=='undefined'&&KW!==null&&KW!=='')?[KW.toString()]:[];this.V={};this.bp=0;};IPCC.CB.prototype.mW=function(bm){this.oI[this.oI.length]=bm;};IPCC.CB.prototype.awz=function(bm){this.oI[this.oI.length]=((typeof(bm)==='undefined')||(bm===null)||(bm===''))?'\r\n':bm+'\r\n';};IPCC.CB.prototype.avB=function(){this.oI=[];this.V={};this.bp=0;};IPCC.CB.prototype.avi=function(){if(this.oI.length===0){return true;}return this.toString()==='';};IPCC.CB.prototype.alP=function(yU){yU=yU||'';var parts=this.oI;if(this.bp!==parts.length){this.V={};this.bp=parts.length;}var val=this.V;if(typeof(val[yU])==='undefined'){if(yU!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[yU]=this.oI.join(yU);}return val[yU];};IPCC.Web.gh=function(dH,elt){var len=dH.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in dH&&dH[from]===elt){return from;}}return-1;};IPCC.dh.Ig=[];IPCC.dh.HV=[];IPCC.dh.awr=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g');IPCC.dh.Cy={};IPCC.dh.ahy=new RegExp('["\\\\\\x00-\\x1F]','i');IPCC.dh.ahr=new RegExp('["\\\\\\x00-\\x1F]','g');IPCC.dh.awj=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');IPCC.dh.avV=new RegExp('"(\\\\.|[^"\\\\])*"','g');IPCC.dh.aov='__type';IPCC.dh.Mu=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.dh.HV[0]='\\';IPCC.dh.Ig['\\']=new RegExp('\\\\','g');IPCC.dh.Cy['\\']='\\\\';IPCC.dh.HV[1]='"';IPCC.dh.Ig['"']=new RegExp('"','g');IPCC.dh.Cy['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.dh.HV[i+2]=c;IPCC.dh.Ig[c]=new RegExp(c,'g');IPCC.dh.Cy[c]=replaceChars[i];}};IPCC.dh.YM=function(object,gB){gB.mW(object.toString());};IPCC.dh.Wo=function(object,gB){if(isFinite(object)){gB.mW(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};IPCC.dh.Ws=function(string,gB){gB.mW('"');if(IPCC.dh.ahy.test(string)){if(IPCC.dh.HV.length===0){IPCC.dh.Mu();}if(string.length<128){string=string.replace(IPCC.dh.ahr,function(x){return IPCC.dh.Cy[x];});}else{for(var i=0;i<34;i++){var c=IPCC.dh.HV[i];if(string.indexOf(c)!== -1){if(IPCC.fB.agent===IPCC.fB.Opera||IPCC.fB.agent===IPCC.fB.FireFox){string=string.split(c).join(IPCC.dh.Cy[c]);}else{string=string.replace(IPCC.dh.Ig[c],IPCC.dh.Cy[c]);}}}}}gB.mW(string);gB.mW('"');};IPCC.dh.IP=function(object,gB,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.dh.Wo(object,gB);}else if(typeof(object)==="boolean"){IPCC.dh.YM(object,gB);}else if(typeof(object)==="string"){IPCC.dh.Ws(object,gB);}else if(object instanceof Array){gB.mW('[');for(i=0;i<object.length;++i){if(i>0){gB.mW(',');}IPCC.dh.IP(object[i],gB,false,prevObjects);}gB.mW(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var dN=""+name;var sL='$';if((dN.substr(0,sL.length)===sL)){continue;}if(name===IPCC.dh.aov&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}gB.mW('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){gB.mW(',');}else{needComma=true;}IPCC.dh.IP(properties[i],gB,sort,prevObjects);gB.mW(':');IPCC.dh.IP(value,gB,sort,prevObjects);}}gB.mW('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{gB.mW('null');}break;case 'number':IPCC.dh.Wo(object,gB);break;case 'string':IPCC.dh.Ws(object,gB);break;case 'boolean':IPCC.dh.YM(object,gB);break;default:gB.mW('null');break;}};IPCC.dh.TG=IPCC.dh.TG||function(object){var gB=new IPCC.CB();IPCC.dh.IP(object,gB,false);return gB.alP();};IPCC.fE={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};IPCC.Web.auz=function awY(){var kJ=0xefc8249d;var pS=function(cY){cY=cY.toString();for(var G=0;G<cY.length;G++){kJ+=cY.charCodeAt(G);var fh=0.02519603282416938*kJ;kJ=fh>>>0;fh-=kJ;fh*=kJ;kJ=fh>>>0;fh-=kJ;kJ+=fh*0x100000000;}return(kJ>>>0)*2.3283064365386963e-10;};pS.ald='Mash 0.9';return pS;};IPCC.Web.abF=function avG(){return(function(cE){var zS=0;var Bw=0;var yG=0;var fC=1;if(cE.length===0){cE=[+new Date()];}var pS=IPCC.Web.auz();zS=pS(' ');Bw=pS(' ');yG=pS(' ');for(var G=0;G<cE.length;G++){zS-=pS(cE[G]);if(zS<0){zS+=1;}Bw-=pS(cE[G]);if(Bw<0){Bw+=1;}yG-=pS(cE[G]);if(yG<0){yG+=1;}}pS=null;var vj=function(){var sb=2091639*zS+fC*2.3283064365386963e-10;zS=Bw;Bw=yG;yG=sb-(fC=sb|0);return yG;};vj.Zz=function(){return vj()*0x100000000;};vj.awk=function(){return vj()+(vj()*0x200000|0)*1.1102230246251565e-16;};vj.ald='Alea 0.9';vj.cE=cE;return vj;}(Array.prototype.slice.call(arguments)));};IPCC.aE={bO:function(V,bY,bO){if(typeof(V)!==bO){throw new IPCC.Web.UI.ImGearArgumentTypeException(bY,typeof(V),bO);}},iV:function(V,bY){IPCC.aE.bO(V,bY,'string');},gj:function(V,bY){IPCC.aE.bO(V,bY,'number');if(!isFinite(V)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(bY,V,'The value must be a number.');}},kH:function(V,bY,uO,vJ){IPCC.aE.bO(V,bY,'number');if(V<uO||V>vJ|| !isFinite(V)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(bY,V,'The value must be a number between '+uO+' and '+vJ+' inclusive.');}},aes:function(V,bY,Ht){IPCC.aE.bO(V,bY,'number');var G;for(G=0;G<Ht.length;G++){if(V===Ht[G]){return;}}var If='';for(G=0;G<Ht.length;G++){if(G>0){if(G===Ht.length-1){If+=' or ';}else{If+=', ';}}If+=Ht[G];}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(bY,V,'The value must be '+If+'.');},mh:function(V,bY,uO,vJ){IPCC.aE.kH(V,bY,uO,vJ);if(V!==Math.floor(V)){throw new IPCC.Web.UI.ImGearArgumentException(bY,'The value must be an integer.');}},di:function(V,bY){IPCC.aE.bO(V,bY,'string');if(!V.match(/#[0-9A-Fa-f]{6}/)){throw new IPCC.Web.UI.ImGearArgumentException(bY,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},il:function(V,bY,il,aam){IPCC.aE.bO(V,bY,'number');var aF;var NS=0;for(aF in il){if(il.hasOwnProperty(aF)){if(aam){NS|=il[aF];}else{if(V===il[aF]){return;}}}}var cU="";if(aam){if((V|NS)===NS){return;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(bY,V,'The value must be zero or more members of the '+cU+' enumeration.');}}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(bY,V,'The value must be a member of the '+cU+' enumeration.');},au:function(V,bY){IPCC.aE.gj(V.x,bY+'.x');IPCC.aE.gj(V.y,bY+'.y');},h:function(V,bY){IPCC.aE.gj(V.x,bY+'.x');IPCC.aE.gj(V.y,bY+'.y');IPCC.aE.gj(V.width,bY+'.width');IPCC.aE.gj(V.height,bY+'.height');}};IPCC.Ha=function(){function AQ(){return Math.floor((Math.random()*10)).toString();};var gd=new Date();return AQ()+AQ()+'_'+gd.getTime()+"_"+AQ()+AQ()+AQ()+AQ();};IPCC.ed={ie:function(jy,Hx){var bO,cU,gU;if(jy===null){return 'null';}if(!Hx){Hx=0;}bO=typeof(jy);if(bO==='undefined'){return 'undefined';}else if(bO==='number'||bO==='boolean'){return jy.toString();}else if(bO==='string'){return '\''+jy+'\'';}else if(bO==='function'){return 'function';}else{if(Hx<0){return 'jy';}cU='{';for(gU in jy){if(jy.hasOwnProperty(gU)){if(cU.length>2){cU+=', ';}cU+=gU;cU+=': ';cU+=IPCC.ed.ie(jy[gU],Hx-1);}}cU+='}';return cU;}},MZ:function(bm){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bm+'\n';}},awn:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},hc:function(fS,Hs,bQ,zx,yv){var bm="PCC Controls - ";bm+=(zx)?zx:" ";bm+=" parent Div id = ";bm+=(yv)?yv:" ";if(Hs){switch(Hs){case 0:bm+=" FunctionCall ";break;case 1:bm+=" Exception ";break;case 2:bm+=" Custom ";break;case 3:bm+=" UserAction ";break;case 4:bm+=" Warning ";break;default:bm+=" unknown ";}}bm+=" - "+fS;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bm);}if(window.console&&window.console.log){window.console.log(bm);}if(window.opera){window.opera.postError(bm);}if(window.debugService){window.debugService.trace(bm);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bm+'\n';}var Ko;try{Ko=onPCCItemLogged;}catch(ex){}if(Ko&&(typeof(Ko)).toLowerCase()==='function'){var cE=new IPCC.Web.UI.LogItemEventArgs();cE.message=fS;cE.cause=Hs;cE.level=bQ;cE.id=yv;Ko(cE);}}};IPCC.qS={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};IPCC.Web.GS=function(){if(this.ZD===undefined){var yB=document.createElement("div");yB.style.overflow='scroll';yB.style.position='absolute';yB.style.top='-9999px';document.body.appendChild(yB);this.ZD=yB.offsetWidth-yB.clientWidth;document.body.removeChild(yB);}return this.ZD;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21};IPCC.Web.UI.MouseTool.registerEnum('IPCC.Web.UI.MouseTool',false);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum('IPCC.Web.UI.FitType',false);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};IPCC.Web.UI.ScrollBars.registerEnum('IPCC.Web.UI.ScrollBars',false);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};IPCC.Web.UI.ImGearArtDataServices.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);IPCC.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};IPCC.Web.UI.Rectangle.prototype={intersect:function(rectangle){var bq=Math.max(this.x,rectangle.x);var aQ=Math.min(this.x+this.width,rectangle.x+rectangle.width)-bq;var et=Math.max(this.y,rectangle.y);var dg=Math.min(this.y+this.height,rectangle.y+rectangle.height)-et;if(aQ<=0||dg<=0){bq=et=aQ=dg=0;}this.x=bq;this.y=et;this.width=aQ;this.height=dg;},union:function(rectangle){var eO=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var fK=Math.max(this.x+this.width,rectangle.x+rectangle.width);var eD=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=eO;this.y=_top;this.width=fK-eO;this.height=eD-_top;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass('IPCC.Web.UI.Rectangle');IPCC.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};IPCC.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass('IPCC.Web.UI.Point');IPCC.Web.UI.PointCollection=function(){var ax=[];var be=new IPCC.Web.UI.fY();this.aig=function(au){var C=new IPCC.Web.UI.PointEventArgs();C.point=au;C.length=1;ax.push(new IPCC.Web.UI.Point(au.x,au.y));C.index=ax.length-1;this.by('pointAdded',C);};this.aiP=function(aen){var C=new IPCC.Web.UI.PointEventArgs();C.index=ax.length;C.length=aen.get_length();function lN(au){ax.push(au);};aen.forEach(lN,{});if(C.length>0){this.by('pointAdded',C);}};this.qO=function(mG,cD){var Uf=[].concat(ax);var G;for(G=0;G<Uf.length;G++){mG.call(cD,new IPCC.Web.UI.Point(Uf[G].x,Uf[G].y),G,this);}};this.VV=function(bH){jN(bH);var gU=ax[bH];return new IPCC.Web.UI.Point(gU.x,gU.y);};this.arZ=function(bH,au){jN(bH);IPCC.aE.au(au,'point');var KG=ax[bH];if(KG.x===au.x&&KG.y===au.y){return;}KG.x=au.x;KG.y=au.y;var C=new IPCC.Web.UI.PointEventArgs();C.point=au;C.index=bH;C.length=1;this.by('pointChanged',C);};this.hv=function(){return ax.length;};this.apo=function(bH){jN(bH);var C=new IPCC.Web.UI.PointEventArgs();C.point=ax[bH];C.index=bH;C.length=1;ax.splice(bH,1);this.by('pointRemoved',C);};this.aqn=function(){if(ax.length<1){return;}var C=new IPCC.Web.UI.PointEventArgs();C.index=0;C.length=ax.length;ax=[];this.by('pointRemoved',C);};this.ahf=function(eh,eT){if(eh===0&&eT===0){return;}IPCC.aE.gj(eh,'deltaX');IPCC.aE.gj(eT,'deltaY');var G;for(G=0;G<ax.length;G++){ax[G].x+=eh;ax[G].y+=eT;}var C=new IPCC.Web.UI.PointEventArgs();C.index=0;C.length=ax.length;this.by('pointChanged',C);};this.Lf=function(){if(ax.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var G,eO=ax[0].x,fK=ax[0].x,_top=ax[0].y,eD=ax[0].y;for(G=1;G<ax.length;G++){var au=ax[G];eO=Math.min(eO,au.x);fK=Math.max(fK,au.x);_top=Math.min(_top,au.y);eD=Math.max(eD,au.y);}return new IPCC.Web.UI.Rectangle(eO,_top,fK-eO,eD-_top);};function jN(bH){if(bH>ax.length-1||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH);}};this.ait=function(R){be.addHandler('pointAdded',R);};this.aqf=function(R){be.removeHandler('pointAdded',R);};this.aiF=function(R){be.addHandler('pointChanged',R);};this.aqq=function(R){be.removeHandler('pointChanged',R);};this.afT=function(R){be.addHandler('pointRemoved',R);};this.aqH=function(R){be.removeHandler('pointRemoved',R);};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(this,C);}};return this;};IPCC.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.aig(point);},addPoints:function(pointCollection){this.aiP(pointCollection);},forEach:function(method,context){this.qO(method,context);},getPoint:function(index){return this.VV(index);},setPoint:function(index,point){this.arZ(index,point);},get_length:function(){return this.hv();},removePoint:function(index){this.apo(index);},removeAllPoints:function(){this.aqn();},moveAllPoints:function(deltaX,deltaY){this.ahf(deltaX,deltaY);},add_pointAdded:function(handler){this.ait(handler);},remove_pointAdded:function(handler){this.aqf(handler);},add_pointChanged:function(handler){this.aiF(handler);},remove_pointChanged:function(handler){this.aqq(handler);},add_pointRemoved:function(handler){this.afT(handler);},remove_pointRemoved:function(handler){this.aqH(handler);}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass('IPCC.Web.UI.PointCollection');IPCC.Web.UI.PageViewState=function(){return this;};IPCC.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:new IPCC.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass('IPCC.Web.UI.PageViewState');IPCC.Web.UI.ThumbnailViewState=function(){return this;};IPCC.Web.UI.ThumbnailViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,selected:false};IPCC.Web.UI.ThumbnailViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailViewState.registerClass('IPCC.Web.UI.ThumbnailViewState');IPCC.Web.UI.LogItemEventArgs=function(){return this;};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass('IPCC.Web.UI.LogItemEventArgs');IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var abm=false;this.afR=function(){abm=true;};this.abq=function(){return abm;};return this;};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.afR();}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass('IPCC.Web.UI.MouseEventArgs');IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this;};IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass('IPCC.Web.UI.PointEventArgs');IPCC.Web.UI.CommentEventArgs=function(){return this;};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass('IPCC.Web.UI.CommentEventArgs');IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');IPCC.Web.UI.TextSelectedEventArgs=function(){return this;};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass('IPCC.Web.UI.TextSelectedEventArgs');IPCC.Web.UI.PageView=function(element,wO){var cJ=this;var ao;var J;var uh=0;var lF='';var xa=false;var be=new IPCC.Web.UI.fY();var ek=null;var qS=IPCC.qS;var Wu=IPCC.qS;var Ke=0.0;var FZ=false;var Kp=0;var aeH= -1;var afg= -1;var aeu= -1;function ge(rG){if(!J){return false;}return J.ge(rG);};this.F=function(eo,hd){if(ge(IPCC.Web.UI.DebugErrorLevel.Production)){J.F(eo,hd);}};this.aB=function(eo,ez,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=')';this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.tm=function(eo,ez,mT,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.ap=function(eo,ez,mT){if(!ge(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],0);}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kL=function(fS,bQ){if(J){J.hc(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bQ);}};this.hc=function(fS){if(J){J.hc(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.qA=function(){return J.get_debug();};this.xE=function(V){J.set_debug(V);};this.lL=function(){return J.lL();};this.rS=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.DebugErrorLevel);J.rS(V);};this.avt=function(V){FZ=V;};this.avm=function(){return FZ;};var np=function(){if(J.dJ()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function bj(aC,R){be.addHandler(aC,R);};function bV(aC,R){be.removeHandler(aC,R);};this.GB=function(jk,cE){J.ars(jk,cE);};this.aqu=function(cE,K){J.Qg(K);J.ak();};this.Hn=function(R){bj('pageOpening',R);};this.EY=function(R){bV('pageOpening',R);};this.Hq=function(R){bj('pageOpened',R);};this.Gn=function(R){bV('pageOpened',R);};this.Rn=function(R){bj('pageClosed',R);};this.Oa=function(R){bV('pageClosed',R);};this.xi=function(R){bj('pageOpenFailed',R);};this.xM=function(R){bV('pageOpenFailed',R);};this.Ic=function(R){bj('pageDisplayed',R);};this.DY=function(R){bV('pageDisplayed',R);};this.yf=function(R){bj('mouseDown',R);};this.Ax=function(R){bV('mouseDown',R);};this.BM=function(R){bj('mouseMove',R);};this.zz=function(R){bV('mouseMove',R);};this.xn=function(R){bj('mouseUp',R);};this.Ai=function(R){bV('mouseUp',R);};this.SB=function(R){bj('contextMenu',R);};this.Om=function(R){bV('contextMenu',R);};this.vR=function(R){bj('markAdded',R);};this.wN=function(R){bV('markAdded',R);};this.Pb=function(R){bj('markCreating',R);};this.Mz=function(R){bV('markCreating',R);};this.CL=function(R){bj('markChanged',R);};this.AL=function(R){bV('markChanged',R);};this.vP=function(R){bj('markRemoved',R);};this.vu=function(R){bV('markRemoved',R);};this.CD=function(R){bj('markReordered',R);};this.zN=function(R){bV('markReordered',R);};this.Nb=function(R){bj('marksLoaded',R);};this.Nn=function(R){bV('marksLoaded',R);};this.CC=function(R){bj('markSelectionChanged',R);};this.An=function(R){bV('markSelectionChanged',R);};this.uK=function(R){bj('textPageReady',R);};this.wu=function(R){bV('textPageReady',R);};this.QN=function(R){bj('selectTextMouseToolCompleted',R);};this.Na=function(R){bV('selectTextMouseToolCompleted',R);};this.Qp=function(R){bj('exceptionThrown',R);};this.RO=function(R){bj('scaleChanged',R);};this.NX=function(R){bV('scaleChanged',R);};this.Nu=function(R){bV('exceptionThrown',R);};this.yV=function(R){bj('textExtractionFailed',R);};this.zE=function(R){bV('textExtractionFailed',R);};this.jx=function(R){bj('propertyChanged',R);};this.jK=function(R){bV('propertyChanged',R);};var by=function(aC,C){try{var R;R=be.getHandler(aC);if(R){R(cJ,C);}}catch(e){cJ.F(aC+'Event',e);}};var hU=function(aC){function oH(ad,C){by(aC,C);};J['add_'+aC](oH);};var GC=function(aC){function oH(ad,C){if(xa&&J.CO()){Dp();}by(aC,C);};J['add_'+aC](oH);};function Dp(){var fk,hq,pB;if(lF!==''){pB=document.getElementById(lF);if(pB){fk=cJ.sf();hq='{encodedDocumentIdentifier:"'+fk.encodedDocumentIdentifier;hq+='",pageNumber:'+fk.pageNumber.toString();hq+=',viewFitType:'+fk.viewFitType.toString();if(fk.viewRectangle&&fk.viewFitType===IPCC.Web.UI.FitType.Rectangle){hq+=',viewRectangle:{x:'+fk.viewRectangle.x.toFixed(5);hq+=',y:'+fk.viewRectangle.y.toFixed(5);hq+=',width:'+fk.viewRectangle.width.toFixed(5);hq+=',height:'+fk.viewRectangle.height.toFixed(5);hq+='}';}if(fk.viewRotationDegreesClockwise){hq+=',viewRotationDegreesClockwise:'+fk.viewRotationDegreesClockwise.toString();}if(fk.viewMirror){hq+=',viewMirror:'+fk.viewMirror.toString();}if(fk.viewZoomFactor){hq+=',viewZoomFactor:'+fk.viewZoomFactor.toString();}if(xa){var aO=J.dO();if(aO){hq+=',artPageJson:"'+IPCC.eA.ql(aO.saveToJson())+'"';}}hq+='}';pB.value=hq;}}};var ML=function(){function oH(ad,C){var yY=true;switch(C.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Dp();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'zf':case 'sF':yY=false;break;case 'Eo':if(J.CO()){Dp();}yY=false;break;}if(yY){by('propertyChanged',C);}};J.jx(oH);};this.ael=function(bO){IPCC.aE.il(bO,'type',IPCC.Web.UI.FitType);if(bO===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}np();ek={apA:true,viewFitType:bO};NC();};this.hH=function(){return J.dJ()!==undefined;};this.qm=function(){np();return J.dJ().width;};this.qI=function(){np();return J.dJ().height;};this.aqj=function(){np();return J.dJ().gZ;};this.ane=function(){np();return J.dJ().ip;};this.vc=function(){if(!J|| !(J.dJ())){return '';}return J.dJ().get_identifier();};this.yi=function(){if(!J|| !(J.dJ())){return '';}return J.dJ().get_encodedIdentifier();};this.kV=function(){if(!J|| !(J.dJ())){return-1;}return J.dJ().ar;};this.VN=function(){if(!J|| !(J.dJ())){return 0;}return J.dJ().cQ;};this.afD=function(){var aD=J.dJ();if(!aD){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var av=J.eQ();av.x=av.y=0;var ra=J.bu().eW();ra.wc();var ci=ra.rJ(av);if(ci.x<0){ci.width+=ci.x;ci.x=0;}if(ci.y<0){ci.height+=ci.y;ci.y=0;}if(ci.x+ci.width>aD.width){ci.width=aD.width-ci.x;}if(ci.y+ci.height>aD.height){ci.height=aD.height-ci.y;}return ci;};function zA(){var bU={},cw=J.bu().eW();bU.documentIdentifier=cJ.vc();bU.encodedDocumentIdentifier=cJ.yi();bU.pageNumber=cJ.kV();bU.artPage=cJ.dO();bU.referenceDocumentIdentifier=cJ.vc();bU.referencePageNumber=cJ.kV();bU.viewFitType=IPCC.Web.UI.FitType.Rectangle;bU.viewRectangle=cJ.afD();bU.imGearPage=cJ.mA();bU.transientArtPage=cJ.ml();var cZ=cw.FX();if(cZ!==0){bU.viewRotationDegreesClockwise=cZ;}if(cw.HF()){bU.viewMirror=true;}return bU;};this.GO=function(aH,dP){J.GO(aH,dP);};this.sf=function(){var bU;if(ao){bU=new IPCC.Web.UI.PageViewState();bU.documentIdentifier=ao.documentIdentifier;bU.encodedDocumentIdentifier=ao.encodedDocumentIdentifier;bU.pageNumber=ao.pageNumber;bU.artPage=ao.artPage;bU.artPageJson=ao.artPageJson;bU.referenceDocumentIdentifier=ao.documentIdentifier;bU.referencePageNumber=ao.pageNumber;bU.viewFitType=ao.viewFitType;bU.viewRectangle=ao.viewRectangle;bU.viewRotationDegreesClockwise=ao.viewRotationDegreesClockwise;bU.viewMirror=ao.viewMirror;bU.viewZoomFactor=ao.viewZoomFactor;bU.transientArtPage=ao.transientArtPage;}else{bU=zA();}return bU;};this.DU=function(aT){var av=J.eQ();this.afK(aT,{x:av.width/2,y:av.height/2});};this.afK=function(aT,cV){IPCC.aE.kH(aT,'factor',1.01,20);IPCC.aE.au(cV,'point');np();var ae=J.bu();var bP=ae.eW();var aj=J.dJ();var hO=bP.xB();if(hO*aT>aj.nY){aT=aj.nY/hO;}bP.wx(aT,aT,cV.x,cV.y);bP.iE(aj,J.eQ());ek=null;ae.iu(bP);};this.Qt=function(aT){var av=J.eQ();this.adp(aT,{x:av.width/2,y:av.height/2});};this.adp=function(aT,cV){IPCC.aE.kH(aT,'factor',1.01,20);IPCC.aE.au(cV,'point');np();var ae=J.bu();var bP=ae.eW();var aj=J.dJ();var hO=bP.xB();if(hO/aT<aj.rc){aT=hO/aj.rc;}bP.wx(1/aT,1/aT,cV.x,cV.y);bP.iE(aj,J.eQ());ek=null;ae.iu(bP);};this.qz=function(aT){var av=J.eQ();this.asB(aT,{x:av.width/2,y:av.height/2});};this.asB=function(aT,cV){IPCC.aE.au(cV,'point');np();var ae=J.bu();var bP=ae.eW();var aj=J.dJ();var hO=bP.xB();if(aT>aj.nY){aT=aj.nY;}else if(aT<aj.rc){aT=aj.rc;}bP.wx(aT/hO,aT/hO,cV.x,cV.y);bP.iE(aj,J.eQ());ek=null;ae.iu(bP);};this.Fo=function(qo){IPCC.aE.aes(qo,'degreesClockwise',[90,180,270,-90,-180,-270]);np();var ae=J.bu();var bP=ae.eW();var av=J.eQ();bP.WE(qo,av.width/2,av.height/2);bP.iE(J.dJ(),J.eQ());ek=null;ae.iu(bP);};this.YP=function(){np();var ae=J.bu();var bP=ae.eW();var av=J.eQ();bP.wx(-1,1,av.width/2,av.height/2);bP.iE(J.dJ(),J.eQ());ek=null;ae.iu(bP);};this.apx=function(ci){IPCC.aE.h(ci,'pageRectangle');np();var ae=J.bu();var bP=ae.eW();var av=J.eQ();var aj=J.dJ();bP.LG(aj,av,ci);bP.iE(aj,J.eQ());ek=null;ae.iu(bP);};this.apu=function(dr){IPCC.aE.au(dr,'imagePoint');np();var ae=J.bu();var bP=ae.eW();var av=J.eQ();bP.aaQ(av,dr);bP.iE(J.dJ(),J.eQ());ek=null;ae.iu(bP);};this.afN=function(){np();ek=null;var ae=J.bu();var bP=ae.eW();var av=J.eQ();bP.wx(1,-1,av.width/2,av.height/2);bP.iE(J.dJ(),J.eQ());ek=null;ae.iu(bP);};this.ak=function(){J.ak();};var NC=function(){var aj=J.dJ();var av=J.eQ();var bP;if(!ek){bP=J.bu().eW();bP.iE(aj,av);J.bu().iu(bP);return;}if(ek.apA){bP=J.bu().eW();}else{bP=new IPCC.dG();bP.Ww(aj,av);if(ek.viewRotationDegreesClockwise){bP.rotate(ek.viewRotationDegreesClockwise);}if(ek.viewMirror){bP.ail(av);}}if(ek.viewZoomFactor){if(ek.viewZoomFactor>aj.nY){ek.viewZoomFactor=aj.nY;}else if(ek.viewZoomFactor<aj.rc){ek.viewZoomFactor=aj.rc;}ek.viewFitType=IPCC.Web.UI.FitType.ActualSize;bP.RJ(ek.viewFitType,aj,av);bP.scale(ek.viewZoomFactor,ek.viewZoomFactor);}else{if(!ek.viewFitType&&ek.viewFitType!==0){ek.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ek.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !ek.viewRectangle){ek.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ek.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bP.RJ(ek.viewFitType,aj,av);}else{bP.LG(aj,av,ek.viewRectangle);}}bP.iE(aj,av);J.bu().iu(bP);};var aib=function(aiA){ek=aiA;Kp=0;NC();};this.Vd=function(gC){var nv=false;if(IPCC.Web.jH.length>0){if(Array.prototype.indexOf){if(IPCC.Web.jH.indexOf(gC)>=0){return true;}}else{if(IPCC.Web.gh(IPCC.Web.jH,gC)>=0){return true;}}}return nv;};this.CN=function(ay){uh++;var QW=uh;var Qv={};Ke=0.0;J.PN=0.0;IPCC.eA.adS(ay);if(ge(IPCC.Web.UI.DebugErrorLevel.Development)){var aY='opening documentIdentifier "'+ay.documentIdentifier+'", pageNumber '+ay.pageNumber;this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);}ao=new IPCC.Web.UI.PageViewState();var G;for(G in ay){if(ay.hasOwnProperty(G)){ao[G]=ay[G];}}if(ay.documentIdentifier===''){this.zt();return;}if(IPCC.Web.UI.ArtPage){if(ao){if(!ao.artPage){var aO=new IPCC.Web.UI.ArtPage();if(ao.artPageJson){aO.loadFromJson(ao.artPageJson);}ao.artPage=aO;}if(this.hX()===true){if(!ao.imGearPage){var cI=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ay.documentIdentifier,imageServicePath:this.mU()});ao.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ay.pageNumber,ai:cI});cI.get_pages().addPage(ao.imGearPage);}if(!ao.transientArtPage){ao.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ao.viewRotationDegreesClockwise){IPCC.aE.aes(ao.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ao.viewFitType){IPCC.aE.il(ao.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ao.viewZoomFactor){IPCC.aE.kH(ao.viewZoomFactor,'parameters.viewZoomFactor',0,20);}by('pageOpening',ay);var aD=new IPCC.eA(ay.encodedDocumentIdentifier,ay.pageNumber,0,0,0,0);var oG=function(){if(QW!==uh){return;}var ub=null;if(J.dJ()){ub=zA();}J.bu().oC();J.vN(aD);aib(ao);if(ay.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ao){if(ao.artPage){J.jR(ao.artPage);J.dO().loadFromJson(aD.OW);}}}else{if(ao){if(ao.artPage){J.jR(ao.artPage);}if(J.hX()===true){if(ao.imGearPage){var ajI=ao.imGearPage.get_pageWidth();var akz=ao.imGearPage.get_pageHeight();ao.imGearPage.gW(cJ.fG());if(!ajI){ao.imGearPage.Kv(cJ.get_pageWidth());}if(!akz){ao.imGearPage.Jw(cJ.get_pageHeight());}J.tA(ao.imGearPage);if(typeof(J.mA().HH==='function')){if(!J.mA().cu().zV()){ao.imGearPage.sJ(cJ.iQ());setTimeout(J.mA().HH,1000);}}}if(ao.transientArtPage){J.uY(ao.transientArtPage);}}}}ao=null;if(ub){by('pageClosed',ub);}Dp();by('pageOpened',ay);};if(ay.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ao){if(!ao.artPageJson){aD.ace(J.mU(),J,oG,Qv);}else{aD.Dr(J.mU(),J,oG);}}}else{aD.Dr(J.mU(),J,oG);}};this.zt=function(){uh++;if(!(J.dJ())){return;}var ub=zA();J.vN(undefined);J.jR(undefined);J.tA(undefined);J.uY(undefined);this.ak();Dp();var aN;aN=cJ.fc();if(aN.igElements){if(aN.igElements.te){aN.igElements.te.FQ=null;aN.igElements.te.Gw=null;aN.igElements.te.Gx=null;aN.igElements.te=null;}aN.igElements.zL=null;aN.igElements.ea=null;aN.igElements.ny=null;aN.igElements.kI=null;aN.igElements.lm=null;aN.igElements.qq=null;aN.igElements.JW=null;}cJ=null;aN.bA=null;by('pageClosed',ub);};this.ahJ=function(){uh++;if(!(J.dJ())){return;}var aD=J.dJ();J.vN(undefined);this.ak();J.vN(aD);};this.zX=function(ur){J.zX(ur);};this.jR=function(V){J.jR(V);};this.dO=function(){return J.dO();};this.ml=function(){return J.ml();};this.uY=function(V){J.uY(V);};this.wf=function(){return J.wf();};this.Re=function(V){J.Re(V);};this.sa=function(V){J.sa(V);};this.kX=function(){return J.kX();};this.atY=function(V){Wu=this.akG(V);};this.jc=function(){return Wu;};this.II=function(V){J.II(V);};this.EV=function(){return J.EV();};this.vK=function(V){J.vK(V);};this.GT=function(){return J.GT();};this.vB=function(yx){J.vB(yx);};this.va=function(){return J.va();};this.akG=function(aG){var bz='',KU='',VH=function(eI){var sC=0,bz;for(bz in eI){if(eI.hasOwnProperty(bz)){sC+=1;}}return sC;};for(bz in qS){if(qS.hasOwnProperty(bz)){if(typeof aG[bz]==='undefined'){aG[bz]=qS[bz];}if(typeof aG[bz]==='object'){if(!VH(aG[bz])){aG[bz]=qS[bz];}else if(VH(aG[bz])!==VH(qS[bz])){for(KU in qS[bz]){if(typeof aG[bz][KU]==='undefined'){aG[bz][KU]=qS[bz][KU];}}}}}}return aG;};this.asz=function(arP){if(arP===false){IPCC.jC=false;J.cP([new IPCC.nc(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}else{IPCC.jC=true;IPCC.aaH=this.jc();J.cP([new IPCC.nc(),new IPCC.cO(),new IPCC.hw(),new IPCC.dm(),new IPCC.dQ(false)]);}};this.oC=function(){var ae=J.bu();if(!ae.AK()){return;}J.bu().oC();};this.apN=function(ci){IPCC.aE.h(ci,'pageRectangle');var aD=J.dJ();if(aD){J.bu().showSelection(ci);}};this.zr=function(dr){IPCC.aE.au(dr,'imagePoint');if(J.dJ()){J.bu().zr(new IPCC.Web.UI.Point(dr.x,dr.y));}};this.As=function(dr){IPCC.aE.au(dr,'imagePoint');if(J.dJ()){J.bu().As(new IPCC.Web.UI.Point(dr.x,dr.y));}};this.wM=function(){if(J.dJ()&&J.bu().AK()){return J.bu().wM();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.anN=function(){if(J.dJ()&&J.bu().AK()){var ci=J.bu().wM();return J.bu().eW().rJ(ci);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.AK=function(){return! !(J.dJ()&&J.bu().AK());};this.mU=function(){return J.mU();};this.zP=function(V){IPCC.aE.iV(V,'value');J.zP(V);if(!IPCC.Web.ss){if(IPCC.Web.vg===false){IPCC.Web.MU(V);}}};this.HI=function(){return lF;};this.CV=function(V){IPCC.aE.iV(V,'value');lF=V;};this.UW=function(){return xa;};this.RX=function(V){xa=V;};var ky='';this.lU=function(V){J.lU(V);ky=V;};this.fc=function(){return ky;};this.arw=function(){return J.bu().get_magnifierMagnification();};this.asq=function(V){IPCC.aE.kH(V,'value',1.5,8);J.bu().set_magnifierMagnification(V);};this.arO=function(){return J.bu().sg().width;};this.ate=function(V){IPCC.aE.kH(V,'value',25,500);var sC=J.bu().sg();sC.width=V;J.bu().set_magnifierWindowSize(sC);};this.atw=function(){return J.bu().sg().height;};this.arV=function(V){IPCC.aE.kH(V,'value',25,500);var sC=J.bu().sg();sC.height=V;J.bu().set_magnifierWindowSize(sC);};this.Jx=function(){return J.bu().Jx();};this.Qw=function(V){IPCC.aE.kH(V,'value',-500,500);J.bu().Qw(V);};this.Kn=function(){return J.bu().Kn();};this.Ro=function(V){IPCC.aE.kH(V,'value',-500,500);J.bu().Ro(V);};this.Kx=function(){return J.bu().Kx();};this.Ry=function(V){IPCC.aE.kH(V,'value',0.1,0.5);J.bu().Ry(V);};this.raisePropertyChanged=function(aF,tO){if(J){J.ac(aF,tO);}};var cf= -1;this.TU=function(){return cf;};this.awc=function(V){J.rZ=V;};this.FT=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.MouseTool);if(cf!==V){cf=V;var jp="None";switch(cf){case IPCC.Web.UI.MouseTool.None:J.cP([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.jC===true){J.cP([new IPCC.pG(),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.pG(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);jp="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.jC===true){J.cP([new IPCC.nc(),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.nc(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.jC===true){J.cP([new IPCC.ps(),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(true)]);}else{J.cP([new IPCC.ps(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(true)]);}jp="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.jC===true){J.cP([new IPCC.nA(),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.nA(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Rectangle),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Rectangle),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Ellipse),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Ellipse),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.jC===true){J.cP([new IPCC.pl(),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.pl(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.jC===true){J.cP([new IPCC.ln(IPCC.Web.UI.MarkType.Polyline),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.ln(IPCC.Web.UI.MarkType.Polyline),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.jC===true){J.cP([new IPCC.mw(),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.mw(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.jC===true){J.cP([new IPCC.ln(IPCC.Web.UI.MarkType.Polygon),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.ln(IPCC.Web.UI.MarkType.Polygon),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Text),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Text),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateTextMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.jC===true){J.cP([new IPCC.nm(IPCC.Web.UI.MarkType.Text),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.nm(IPCC.Web.UI.MarkType.Text),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.jC===true){J.cP([new IPCC.GF(IPCC.Web.UI.MarkType.Text),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.GF(IPCC.Web.UI.MarkType.Text),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Stamp),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.Stamp),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.jC===true){J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.cO(),new IPCC.hw(true,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:J.FZ=true;if(IPCC.jC===true){J.cP([new IPCC.oM(),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.oM(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:J.FZ=false;if(IPCC.jC===true){J.cP([new IPCC.oM(),new IPCC.cO(),new IPCC.hw(false,this.jc()),new IPCC.dm(),new IPCC.dQ(false)]);}else{J.cP([new IPCC.oM(),new IPCC.cO(),new IPCC.dm(),new IPCC.dQ(false)]);}jp="SelectText";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jp});}};this.Gc=function(atg){cf= -1;J.cP(atg);};this.amd=function(){return J.bu().get_presentationQuality();};this.atP=function(V){IPCC.aE.kH(V,'value',0,100);J.bu().set_presentationQuality(V);};this.amg=function(){return J.bu().get_scrollBars();};this.atv=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.ScrollBars);J.bu().set_scrollBars(V);};this.alF=function(dr,asP){IPCC.aE.au(dr,'imagePoint');if(!(J.dJ())){return new IPCC.Web.UI.Point(0,0);}var cV=J.bu().eW().transform(dr);if(asP){cV.constrain(J.eQ());}return cV;};this.Dh=function(cV,arE){IPCC.aE.au(cV,'windowPoint');var aD=J.dJ();if(!aD){return new IPCC.Web.UI.Point(0,0);}var ra=J.bu().eW();ra.wc();var dr=ra.transform(cV);if(arE){dr.constrain(aD);}return dr;};function Sk(){var aN;aN=cJ.fc();var WU=aN.clientWidth;var Wt=aN.clientHeight;var anG=(ek&&ek.viewFitType===aeH&&WU===afg&&Wt===aeu);if(anG){if(Kp>2){return;}Kp++;}else{aeH=ek?ek.viewFitType: -1;afg=WU;aeu=Wt;Kp=0;}NC();};function aoZ(){ek=null;};function agw(ad,C){switch(C.fA){case IPCC.eB.aeE:cJ.afK(1.25,C.Nz.windowPoint);break;case IPCC.eB.acv:cJ.adp(1.25,C.Nz.windowPoint);break;case IPCC.eB.RU:cJ.Fo(C.V);break;case IPCC.eB.acE:cJ.afN();break;case IPCC.eB.Yo:cJ.YP();break;case IPCC.eB.Wj:cJ.ael(C.V);break;case IPCC.eB.UU:cJ.FT(C.V);break;}};this.hX=function(){return J.hX();};this.vi=function(V){J.vi(V);};this.cu=function(){return J.cu();};this.mA=function(){return J.mA();};this.tA=function(V){J.tA(V);};this.mZ=function(){return J.get_requireRequestsOptimize();};this.qX=function(V){J.qX(V);};this.iQ=function(){return J.iQ();};this.sJ=function(V){J.sJ(V);};this.DV=function(dr){IPCC.aE.au(dr,'imagePoint');return J.DV(dr);};this.yo=function(bD){J.yo(bD);};this.Rw=function(){J.Rw();};this.IV=function(sz,dP){var yk=J.cu().gz().hv();IPCC.aE.mh(sz,'sz',0,yk-1);J.IV(sz,dP);};this.sH=function(bD){if(bD===undefined){J.bu().sH(bD);return;}var yk=J.cu().gz().hv();IPCC.aE.mh(bD,'textIndex',0,yk-1);J.sH(bD);};this.zo=function(){return! !(J.dJ()&&J.hX()&&J.cu().oE()===true&&J.bu().zo());};this.VM=function(){var ae=J.bu();ae.VM();};this.axv=function(){if(J.hX()&&J.cu().oE()===true){var ae=J.bu();var yk=J.cu().gz().hv();if(yk>0){if(this.zo()){if(ae.fp.length>0){return ae.fp[0].iA;}}}}};this.atB=function(){if(J.hX()&&J.cu().oE()===true){return J.bu().axp();}};this.zT=function(){if(J.hX()&&J.cu().oE()===true&&J.bu().zo()){return J.zT();}else{return "";}};this.Hb=function(){return J.bu().Hb();};this.amf=function(){return J.bu().get_cursor();};this.auy=function(V){J.bu().set_cursor(V);};this.yD=function(){return J.yD();};this.QQ=function(V){J.QQ(V);};this.fG=function(){return J.fG();};this.gW=function(V){J.gW(V);};this.anq=function(){J.bu().hideMagnifier();};this.apO=function(cV){J.bu().showMagnifier(cV);};function ajN(ad,C){var wy=C.scaleFactor;var bi={scaleType:"scaledDown",pageNumber:C.pageNumber};if(Ke!==wy){if(wy>Ke){bi.scaleType="scaledUp";}Ke=wy;by('scaleChanged',bi);}};this.initialize=function(){J.Wy(this.fc().id);J.lU(this.fc().id);if(cf=== -1){this.FT(IPCC.Web.UI.MouseTool.RectangleZoom);}hU('mouseDown');hU('mouseMove');hU('mouseUp');hU('contextMenu');hU('markCreating');hU('pageOpenFailed');hU('textPageReady');hU('pageDisplayed');hU('exceptionThrown');hU('selectTextMouseToolCompleted');GC('markAdded');GC('markChanged');GC('markRemoved');hU('textExtractionFailed');GC('markReordered');GC('marksLoaded');hU('markSelectionChanged');ML();J.adX(Sk);J.alU(aoZ);J.afS(agw);J.add_scaleChanged(ajN);J.ada();var aN=this.fc();aN.bA=this;};if(wO===false){J=new IPCC.RC(false);}else{J=new IPCC.RC(true);}J.WI('PageView');};IPCC.Web.UI.PageView.prototype={dispose:function(){this.aB('dispose',arguments);this.zt();},get_debug:function(){try{var T=this.qA();this.ap('get_debug',arguments,T);return T;}catch(e){this.F('get_debug',e);throw e;}},set_debug:function(value){try{this.aB('set_debug',arguments);var lj=this.qA();this.xE(value);if(!lj){this.aB('set_debug',arguments);}}catch(e){this.F('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var T=this.lL();this.ap('get_debugErrorLevel',arguments,T);return T;}catch(e){this.F('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aB('set_debugErrorLevel',arguments);var lj=this.lL();this.rS(value);if(lj<IPCC.Web.UI.DebugErrorLevel.Development){this.aB('set_debugErrorLevel',arguments);}}catch(e){this.F('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var T=this.va();this.ap('get_artServiceOption',arguments,T);return T;}catch(e){this.F('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.aB('set_artServiceOption',arguments);this.vB(value);}catch(e){this.F('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Hn(handler);}catch(e){this.F('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.EY(handler);}catch(e){this.F('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Hq(handler);}catch(e){this.F('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Gn(handler);}catch(e){this.F('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.Rn(handler);}catch(e){this.F('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Oa(handler);}catch(e){this.F('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.xi(handler);}catch(e){this.F('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.xM(handler);}catch(e){this.F('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Ic(handler);}catch(e){this.F('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.DY(handler);}catch(e){this.F('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.yf(handler);}catch(e){this.F('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Ax(handler);}catch(e){this.F('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.BM(handler);}catch(e){this.F('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.zz(handler);}catch(e){this.F('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.xn(handler);}catch(e){this.F('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Ai(handler);}catch(e){this.F('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.SB(handler);}catch(e){this.F('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.Om(handler);}catch(e){this.F('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.vR(handler);}catch(e){this.F('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.wN(handler);}catch(e){this.F('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Pb(handler);}catch(e){this.F('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Mz(handler);}catch(e){this.F('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.CL(handler);}catch(e){this.F('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.AL(handler);}catch(e){this.F('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.vP(handler);}catch(e){this.F('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.vu(handler);}catch(e){this.F('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.CD(handler);}catch(e){this.F('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.zN(handler);}catch(e){this.F('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Nb(handler);}catch(e){this.F('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Nn(handler);}catch(e){this.F('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.CC(handler);}catch(e){this.F('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.An(handler);}catch(e){this.F('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.QN(handler);}catch(e){this.F('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Na(handler);}catch(e){this.F('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.uK(handler);}catch(e){this.F('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.wu(handler);}catch(e){this.F('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Qp(handler);},remove_exceptionThrown:function(handler){this.Nu(handler);},add_scaleChanged:function(handler){try{this.RO(handler);}catch(e){this.F('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.NX(handler);}catch(e){this.F('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.jx(handler);}catch(e){this.F('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.jK(handler);}catch(e){this.F('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.yV(handler);},remove_textExtractionFailed:function(handler){this.zE(handler);},writeToLog:function(message){try{this.hc(message);}catch(e){this.F('writeToLog',e);throw e;}},fitPage:function(type){try{this.aB('fitPage',arguments);this.ael(type);}catch(e){this.F('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var T=this.hH();this.ap('get_pageIsOpen',arguments,T);return T;}catch(e){this.F('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var T=this.qm();this.ap('get_pageWidth',arguments,T);return T;}catch(e){this.F('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var T=this.qI();this.ap('get_pageHeight',arguments,T);return T;}catch(e){this.F('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var T=this.aqj();this.ap('get_pageXResolution',arguments,T);return T;}catch(e){this.F('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var T=this.ane();this.ap('get_pageYResolution',arguments,T);return T;}catch(e){this.F('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var T=this.vc();this.ap('get_documentIdentifier',arguments,T);return T;}catch(e){this.F('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var T=this.yi();this.ap('get_encodedDocumentIdentifier',arguments,T);return T;}catch(e){this.F('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var T=this.kV();this.ap('get_pageNumber',arguments,T);return T;}catch(e){this.F('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var T=this.VN();this.ap('get_documentPageCount',arguments,T);return T;}catch(e){this.F('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var T=this.afD();this.ap('get_displayedPageRectangle',arguments,T);return T;}catch(e){this.F('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var T=this.sf();this.ap('get_currentState',arguments,T);return T;}catch(e){this.F('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.aB('zoomIn',arguments);this.DU(factor);}catch(e){this.F('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aB('zoomOut',arguments);this.Qt(factor);}catch(e){this.F('zoomOut',e);throw e;}},zoom:function(factor){try{this.aB('zoom',arguments);this.qz(factor);}catch(e){this.F('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.aB('rotate',arguments);this.Fo(degreesClockwise);}catch(e){this.F('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.aB('showPageRectangle',arguments,1);this.apx(imageRectangle);}catch(e){this.F('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.aB('showPagePointAtCenter',arguments,1);this.apu(imagePoint);}catch(e){this.F('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.aB('mirror',arguments);this.YP();}catch(e){this.F('mirror',e);throw e;}},flip:function(){try{this.aB('flip',arguments);this.afN();}catch(e){this.F('flip',e);throw e;}},display:function(){try{this.aB('display',arguments);this.ak();}catch(e){this.F('display',e);throw e;}},openPage:function(parameters){try{this.aB('openPage',arguments,1);this.CN(parameters);}catch(e){this.F('openPage',e);throw e;}},closePage:function(){try{this.aB('closePage',arguments);this.zt();}catch(e){this.F('closePage',e);throw e;}},hideSelection:function(){try{this.aB('hideSelection',arguments);this.oC();}catch(e){this.F('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.aB('showSelection',arguments);this.apN(imageRectangle);}catch(e){this.F('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.aB('showEmptySelection',arguments);this.zr(imagePoint);}catch(e){this.F('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.aB('extendSelection',arguments);this.As(imagePoint);}catch(e){this.F('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.aB('saveArtPage',arguments);this.zX(onSave);}catch(e){this.F('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var T=this.wM();this.ap('get_selectionPageRectangle',arguments,T);return T;}catch(e){this.F('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var T=this.anN();this.ap('get_selectionWindowRectangle',arguments,T);return T;}catch(e){this.F('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var T=this.AK();this.ap('get_selectionIsVisible',arguments,T);return T;}catch(e){this.F('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var T=this.HI();this.ap('get_controlStateElementId',arguments,T);return T;}catch(e){this.F('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.aB('set_controlStateElementId',arguments);this.CV(value);}catch(e){this.F('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var T=this.UW();this.ap('get_includeArtInPostBack',arguments,T);return T;}catch(e){this.F('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.aB('set_includeArtInPostBack',arguments);this.RX(value);}catch(e){this.F('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var T=this.dO();this.ap('get_artPage',arguments,T);return T;}catch(e){this.F('get_artPage',e);throw e;}},set_artPage:function(value){try{this.aB('set_artPage',arguments);this.jR(value);}catch(e){this.F('set_artPage',e);throw e;}},get_transientArtPage:function(){try{var T=this.ml();this.ap('get_transientArtPage',arguments,T);return T;}catch(e){this.F('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.aB('set_transientArtPage',arguments);this.uY(value);}catch(e){this.F('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var T=this.mU();this.ap('get_imageHandlerUrl',arguments,T);return T;}catch(e){this.F('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.aB('set_imageHandlerUrl',arguments);this.zP(value);}catch(e){this.F('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var T=this.kX();this.ap('get_resourcePath',arguments,T);return T;}catch(e){this.F('get_resourcePath',e);throw e;}},set_resourcePath:function(V){try{this.aB('set_resourcePath',arguments);this.sa(V);}catch(e){this.F('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var T=this.jc();this.ap('get_contextMenuLanguageDictionary',arguments,T);return T;}catch(e){this.F('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(V){try{this.aB('set_contextMenuLanguageDictionary',arguments);this.atY(V);}catch(e){this.F('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var T=this.hX();this.ap('get_textRequired',arguments,T);return T;}catch(e){this.F('get_textRequired',e);throw e;}},set_textRequired:function(V){try{this.aB('set_textRequired',arguments);this.vi(V);}catch(e){this.F('set_textRequired',e);throw e;}},get_textPage:function(){try{var T=this.cu();this.ap('get_textPage',arguments,T);return T;}catch(e){this.F('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var T=this.zo();this.tm('textSelectionIsVisible',arguments,T,1);return T;}catch(e){this.F('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var T=this.zT();this.tm('getSelectedText',arguments,T,1);return T;}catch(e){this.F('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var T=this.mZ();this.ap('get_requireRequestsOptimize',arguments,T);return T;}catch(e){this.F('mZ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aB('set_requireRequestsOptimize',arguments);this.qX(value);}catch(e){this.F('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var T=this.arw();this.ap('get_magnifierMagnification',arguments,T);return T;}catch(e){this.F('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.aB('set_magnifierMagnification',arguments);this.asq(value);}catch(e){this.F('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var T=this.arO();this.ap('get_magnifierWidth',arguments,T);return T;}catch(e){this.F('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.aB('set_magnifierWidth',arguments);this.ate(value);}catch(e){this.F('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var T=this.atw();this.ap('get_magnifierHeight',arguments,T);return T;}catch(e){this.F('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.aB('set_magnifierHeight',arguments);this.arV(value);}catch(e){this.F('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var T=this.Jx();this.ap('get_magnifierXOffset',arguments,T);return T;}catch(e){this.F('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.aB('set_magnifierXOffset',arguments);this.Qw(value);}catch(e){this.F('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var T=this.Kn();this.ap('get_magnifierYOffset',arguments,T);return T;}catch(e){this.F('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.aB('set_magnifierYOffset',arguments);this.Ro(value);}catch(e){this.F('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.aB('showMagnifier',arguments,1);this.apO(windowPoint);}catch(e){this.F('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.aB('hideMagnifier',arguments);this.anq();}catch(e){this.F('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var T=this.Kx();this.ap('get_markHandleSize',arguments,T);return T;}catch(e){this.F('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.aB('set_markHandleSize',arguments);this.Ry(value);}catch(e){this.F('set_markHandleSize',e);throw e;}},get_mouseTool:function(){try{var T=this.TU();this.ap('get_mouseTool',arguments,T);return T;}catch(e){this.F('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aB('set_mouseTool',arguments);this.FT(value);}catch(e){this.F('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var T=this.amd();this.ap('get_presentationQuality',arguments,T);return T;}catch(e){this.F('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.aB('set_presentationQuality',arguments);this.atP(value);}catch(e){this.F('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var T=this.amg();this.ap('get_scrollBars',arguments,T);return T;}catch(e){this.F('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.aB('set_scrollBars',arguments);this.atv(value);}catch(e){this.F('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var T=this.mA();this.ap('get_imGearPage',arguments,T);return T;}catch(e){this.F('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.aB('set_imGearPage',arguments);this.tA(value);}catch(e){this.F('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var T=this.iQ();this.ap('get_serviceResponseTimeout',arguments,T);return T;}catch(e){this.F('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aB('set_serviceResponseTimeout',arguments);this.sJ(value);}catch(e){this.F('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var T=this.Hb();this.ap('get_currentTextIndex',arguments,T);return T;}catch(e){this.F('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var T=this.amf();this.ap('get_cursor',arguments,T);return T;}catch(e){this.F('get_cursor',e);throw e;}},set_cursor:function(value){try{this.aB('set_cursor',arguments);this.auy(value);}catch(e){this.F('set_cursor',e);throw e;}},get_encryption:function(){try{var T=this.fG();this.ap('get_encryption',arguments,T);return T;}catch(e){this.F('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aB('set_encryption',arguments);this.gW(value);}catch(e){this.F('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var T=this.alF(imagePoint,constrainResultToWindow);this.tm('transformPagePointToWindow',arguments,T,1);return T;}catch(e){this.F('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var T=this.Dh(windowPoint,constrainResultToImage);this.tm('transformWindowPointToPage',arguments,T,1);return T;}catch(e){this.F('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var T=this.DV(pagePoint);this.tm('transformPagePointToTextIndex',arguments,T,1);return T;}catch(e){this.F('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.aB('removeAllHighlights',arguments);this.Rw();}catch(e){this.F('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.aB('showTextSelection',arguments);this.IV(indexOfFirstCharacter,length);}catch(e){this.F('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.aB('showEmptyTextSelection',arguments);this.yo(textIndex);}catch(e){this.F('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.aB('extendTextSelection',arguments);this.sH(textIndex);}catch(e){this.F('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.aB('initializeViewControllers',arguments);this.asz(showArtContextMenu);}catch(e){this.F('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var T=this.yD();this.ap('get_autoUpdate',arguments,T);return T;}catch(e){this.F('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.aB('set_autoUpdate',arguments);this.QQ(value);}catch(e){this.F('set_autoUpdate',e);throw e;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass('IPCC.Web.UI.PageView',IPCC.Sys.UI.Control);IPCC.Web.UI.ThumbnailView=function(element){var cJ=this;var ao;var J;var uh=0;var lF='';var xa=false;var Gm='';var nR=null;var mF=null;var MH=null;var qE=false;var be=new IPCC.Web.UI.fY();function ge(rG){if(!J){return false;}return J.ge(rG);};this.F=function(eo,hd){if(ge(IPCC.Web.UI.DebugErrorLevel.Production)){J.logException(eo,hd);}};this.aB=function(eo,ez,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=')';this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.tm=function(eo,ez,mT,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.ap=function(eo,ez,mT){if(!ge(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],0);}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kL=function(fS,bQ){if(J){J.hc(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bQ);}};this.hc=function(fS){if(J){J.hc(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.qA=function(){return J.get_debug();};this.xE=function(V){J.set_debug(V);};this.lL=function(){return J.lL();};this.rS=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.DebugErrorLevel);J.rS(V);};function bj(aC,R){be.addHandler(aC,R);};function bV(aC,R){be.removeHandler(aC,R);};this.Hn=function(R){bj('pageOpening',R);};this.EY=function(R){bV('pageOpening',R);};this.Hq=function(R){bj('pageOpened',R);};this.Gn=function(R){bV('pageOpened',R);};this.Rn=function(R){bj('pageClosed',R);};this.xi=function(R){bj('pageOpenFailed',R);};this.xM=function(R){bV('pageOpenFailed',R);};this.Ic=function(R){bj('pageDisplayed',R);};this.DY=function(R){bV('pageDisplayed',R);};this.Oa=function(R){bV('pageClosed',R);};this.yf=function(R){bj('mouseDown',R);};this.Ax=function(R){bV('mouseDown',R);};this.BM=function(R){bj('mouseMove',R);};this.zz=function(R){bV('mouseMove',R);};this.xn=function(R){bj('mouseUp',R);};this.Ai=function(R){bV('mouseUp',R);};this.SB=function(R){bj('contextMenu',R);};this.Om=function(R){bV('contextMenu',R);};this.vR=function(R){bj('markAdded',R);};this.wN=function(R){bV('markAdded',R);};this.CL=function(R){bj('markChanged',R);};this.AL=function(R){bV('markChanged',R);};this.vP=function(R){bj('markRemoved',R);};this.vu=function(R){bV('markRemoved',R);};this.CD=function(R){bj('markReordered',R);};this.zN=function(R){bV('markReordered',R);};this.Nb=function(R){bj('marksLoaded',R);};this.Nn=function(R){bV('marksLoaded',R);};this.akW=function(R){bj('marksSaved',R);};this.apa=function(R){bV('marksSaved',R);};this.CC=function(R){bj('markSelectionChanged',R);};this.An=function(R){bV('markSelectionChanged',R);};this.uK=function(R){bj('textPageReady',R);};this.wu=function(R){bV('textPageReady',R);};this.mZ=function(){return J.get_requireRequestsOptimize();};this.qX=function(V){J.qX(V);};this.raisePropertyChanged=function(aF){if(J){J.ac(aF);}};var by=function(aC,C){try{var R;R=be.getHandler(aC);if(R){R(cJ,C);}}catch(e){cJ.F(aC+'Event',e);}};var hU=function(aC){function oH(ad,C){by(aC,C);};J['add_'+aC](oH);};var EA=function(aC){function oH(ad,C){if(J.CO()){nZ();}};J['add_'+aC](oH);};function nZ(){var pB,fk,hq;if(lF!==''){pB=document.getElementById(lF);if(pB){fk=cJ.sf();hq='{encodedDocumentIdentifier:"'+fk.encodedDocumentIdentifier;hq+='",pageNumber:'+fk.pageNumber.toString();hq+=',selected:'+qE.toString();if(xa){var aO=J.dO();if(aO){hq+=',artPageJson:"'+IPCC.eA.ql(aO.saveToJson())+'"';}}hq+='}';pB.value=hq;}}};var ML=function(){function oH(ad,C){var yY=true;switch(C.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':nZ();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'zf':case 'sF':yY=false;break;case 'Eo':if(J.CO()){nZ();}yY=false;break;}if(yY){by('propertyChanged',C);}};J.jx(oH);};this.vc=function(){if(!J|| !(J.dJ())){return '';}return J.dJ().get_identifier();};this.yi=function(){if(!J|| !(J.dJ())){return '';}return J.dJ().get_encodedIdentifier();};this.kV=function(){if(!J|| !(J.dJ())){return-1;}return J.dJ().ar;};this.VN=function(){if(!J|| !(J.dJ())){return 0;}return J.dJ().cQ;};this.qm=function(){if(!J|| !(J.dJ())){return 0;}return J.dJ().width;};this.qI=function(){if(!J|| !(J.dJ())){return 0;}return J.dJ().height;};function zA(){var bU={};bU.documentIdentifier=cJ.vc();bU.encodedDocumentIdentifier=cJ.yi();bU.pageNumber=cJ.kV();bU.referenceDocumentIdentifier=cJ.vc();bU.referencePageNumber=cJ.kV();bU.selected=cJ.Ks();bU.artPage=cJ.dO();bU.imGearPage=cJ.mA();bU.transientArtPage=cJ.ml();return bU;};this.sf=function(){var bU;if(ao){bU=new IPCC.Web.UI.ThumbnailViewState();bU.documentIdentifier=ao.documentIdentifier;bU.encodedDocumentIdentifier=ao.encodedDocumentIdentifier;bU.pageNumber=ao.pageNumber;bU.referenceDocumentIdentifier=ao.documentIdentifier;bU.referencePageNumber=ao.pageNumber;bU.selected=ao.selected;bU.artPage=ao.artPage;bU.imGearPage=ao.imGearPage;bU.transientArtPage=ao.transientArtPage;}else{bU=zA();}return bU;};this.aqd=function(){return mF;};this.atZ=function(value){mF=value;};var SQ=function(){var ae=J.bu();var aj=J.dJ();var av=J.eQ();var bP=ae.eW();bP.Ww(aj,av);bP.abi(aj,av);bP.iE(aj,av);ae.iu(bP);};this.ak=function(){J.ak();};function adH(){if(MH){MH.remove_pageOpened(Wn);MH=null;}};function Wn(sender,eventArgs){var ao=cJ.sf();if(eventArgs.documentIdentifier!==ao.documentIdentifier||eventArgs.pageNumber!==ao.pageNumber){adH();cJ.IR(false);}};function aeV(){if(!Gm){return;}if(!nR){nR=document.getElementById(Gm).bA;}if(nR){var ahm=cJ.get_imGearPage();if(ahm){nR.set_imGearPage(cJ.get_imGearPage());}}if(!nR){return;}adH();nR.add_pageOpened(Wn);MH=nR;var ao=cJ.sf();if(ao.encodedDocumentIdentifier!==''){nR.openPage({encodedDocumentIdentifier:ao.encodedDocumentIdentifier,pageNumber:ao.pageNumber,viewFitType:mF.viewFitType,viewRotationDegreesClockwise:mF.viewRotationDegreesClockwise,viewZoomFactor:mF.viewZoomFactor,artPage:ao.artPage,imGearPage:cJ.mA()});}};this.Vd=function(gC){var nv=false;if(IPCC.Web.jH.length>0){if(Array.prototype.indexOf){if(IPCC.Web.jH.indexOf(gC)>=0){return true;}}else{if(IPCC.Web.gh(IPCC.Web.jH,gC)>=0){return true;}}}return nv;};this.CN=function(ay){uh++;var QW=uh;var Qv;IPCC.eA.adS(ay);ao=new IPCC.Web.UI.ThumbnailViewState();var G;for(G in ay){if(ay.hasOwnProperty(G)){ao[G]=ay[G];}}if(ay.documentIdentifier===''){this.zt();return;}if(IPCC.Web.UI.ArtPage){if(ao){if(!ao.artPage){var aO=new IPCC.Web.UI.ArtPage();if(ao.artPageJson){aO.loadFromJson(ao.artPageJson);}ao.artPage=aO;}if(this.hX()===true){if(!ao.imGearPage){var cI=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ay.documentIdentifier,imageServicePath:this.mU()});cI.gW(cJ.fG());ao.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ay.pageNumber,ai:cI});ao.imGearPage.gW(cJ.fG());cI.get_pages().addPage(ao.imGearPage);}if(!ao.transientArtPage){ao.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}by('pageOpening',ay);if(qE){aeV();}var aD=new IPCC.eA(ay.encodedDocumentIdentifier,ay.pageNumber,0,0,0,0);function agN(){SQ();if(ay.selected!==undefined){cJ.set_selected(ay.selected);}ao=null;};var oG=function(){if(QW!==uh){return;}var ub=null;if(J.dJ()){ub=zA();}J.vN(aD);if(ay.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ao){if(ao.artPage){J.jR(ao.artPage);J.dO().loadFromJson(aD.OW);}}}else{if(ao){if(ao.artPage){J.jR(ao.artPage);}if(J.hX()===true){if(ao.imGearPage){J.tA(ao.imGearPage);}if(ao.transientArtPage){J.uY(ao.transientArtPage);}}}}agN();nZ();if(ub){by('pageClosed',ub);}nZ();by('pageOpened',ay);};if(ay.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ao){if(!ao.artPageJson){aD.ace(J.mU(),J,oG,Qv);}else{aD.Dr(J.mU(),J,oG);}}}else{aD.Dr(J.mU(),J,oG);}};this.zt=function(){ao=null;J.vN(undefined);cJ.ak();nZ();by('pageClosed',{});};this.zX=function(ur){J.zX(ur);};this.jR=function(V){J.jR(V);};this.dO=function(){return J.dO();};this.ml=function(){return J.ml();};this.uY=function(V){J.uY(V);};this.wf=function(){return J.wf();};this.Re=function(V){J.Re(V);};this.sa=function(V){J.sa(V);};this.kX=function(){return J.kX();};this.GO=function(aH,dP){J.GO(aH,dP);};this.vB=function(yx){J.vB(yx);};this.va=function(){return J.va();};this.Ks=function(){return qE;};this.IR=function(V){if(qE!==V){qE=V;nZ();if(qE){aeV();}this.raisePropertyChanged('selected');}};this.mU=function(){return J.mU();};this.zP=function(V){IPCC.aE.iV(V,'value');J.zP(V);if(!IPCC.Web.ss){if(IPCC.Web.vg===false){IPCC.Web.MU(V);}}};this.HI=function(){return lF;};this.CV=function(V){IPCC.aE.iV(V,'value');lF=V;};this.UW=function(){return xa;};this.RX=function(V){xa=V;};this.aqB=function(){return Gm;};this.att=function(V){if(Gm!==V){Gm=V;nR=null;this.raisePropertyChanged('pageViewClientID');}};this.II=function(V){J.II(V);};this.EV=function(){return J.EV();};this.vK=function(V){J.vK(V);};this.GT=function(){return J.GT();};var ky='';this.lU=function(V){J.lU(V);ky=V;};this.fc=function(){return ky;};function Sk(){SQ();};this.hX=function(){return J.hX();};this.vi=function(V){J.vi(V);};this.cu=function(){return J.cu();};this.mA=function(){return J.mA();};this.tA=function(V){J.tA(V);};this.iQ=function(){return J.iQ();};this.sJ=function(V){J.sJ(V);};this.fG=function(){return J.fG();};this.gW=function(V){J.gW(V);};this.initialize=function(){var aN;J.Wy(this.fc().id);aN=this.fc();aN.bA=this;var G;for(G=aN.childNodes.length-1;G>=0;G--){if(aN.childNodes[G].tagName!=='INPUT'){aN.removeChild(aN.childNodes[G]);}}J.ada();J.bu().set_cursor(IPCC.bM.None);J.bu().set_scrollBars(IPCC.Web.UI.ScrollBars.None);J.bu().set_presentationQuality(100);hU('mouseDown');hU('mouseMove');hU('mouseUp');hU('pageOpenFailed');hU('contextMenu');hU('textPageReady');hU('pageDisplayed');EA('markAdded');EA('markChanged');EA('markRemoved');EA('markReordered');EA('marksLoaded');ML();J.adX(Sk);aN.bA=this;};J=new IPCC.RC();J.WI('ThumbnailView');};IPCC.Web.UI.ThumbnailView.prototype={dispose:function(){this.aB('dispose',arguments);this.zt();},get_debug:function(){try{var T=this.qA();this.ap('get_debug',arguments,T);return T;}catch(e){this.F('get_debug',e);throw e;}},set_debug:function(value){try{this.aB('set_debug',arguments);var lj=this.qA();this.xE(value);if(!lj){this.aB('set_debug',arguments);}}catch(e){this.F('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var T=this.lL();this.ap('get_debugErrorLevel',arguments,T);return T;}catch(e){this.F('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aB('set_debugErrorLevel',arguments);var lj=this.lL();this.rS(value);if(lj<IPCC.Web.UI.DebugErrorLevel.Development){this.aB('set_debugErrorLevel',arguments);}}catch(e){this.F('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var T=this.va();this.ap('get_artServiceOption',arguments,T);return T;}catch(e){this.F('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.aB('set_artServiceOption',arguments);this.vB(value);}catch(e){this.F('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Hn(handler);}catch(e){this.F('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.EY(handler);}catch(e){this.F('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Hq(handler);}catch(e){this.F('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Gn(handler);}catch(e){this.F('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.Rn(handler);}catch(e){this.F('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Oa(handler);}catch(e){this.F('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.xi(handler);}catch(e){this.F('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.xM(handler);}catch(e){this.F('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Ic(handler);}catch(e){this.F('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.DY(handler);}catch(e){this.F('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.yf(handler);}catch(e){this.F('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Ax(handler);}catch(e){this.F('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.BM(handler);}catch(e){this.F('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.zz(handler);}catch(e){this.F('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.xn(handler);}catch(e){this.F('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Ai(handler);}catch(e){this.F('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.SB(handler);}catch(e){this.F('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.Om(handler);}catch(e){this.F('remove_contextMenu',e);throw e;}},writeToLog:function(message){try{this.hc(message);}catch(e){this.F('writeToLog',e);throw e;}},get_documentIdentifier:function(){try{var T=this.vc();this.ap('get_documentIdentifier',arguments,T);return T;}catch(e){this.F('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var T=this.yi();this.ap('get_encodedDocumentIdentifier',arguments,T);return T;}catch(e){this.F('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var T=this.kV();this.ap('get_pageNumber',arguments,T);return T;}catch(e){this.F('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var T=this.VN();this.ap('get_documentPageCount',arguments,T);return T;}catch(e){this.F('get_documentPageCount',e);throw e;}},get_pageWidth:function(){try{var T=this.qm();this.ap('get_pageWidth',arguments,T);return T;}catch(e){this.F('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var T=this.qI();this.ap('get_pageHeight',arguments,T);return T;}catch(e){this.F('get_pageHeight',e);throw e;}},get_currentState:function(){try{var T=this.sf();this.ap('get_currentState',arguments,T);return T;}catch(e){this.F('get_currentState',e);throw e;}},openPage:function(parameters){try{this.aB('openPage',arguments,1);this.CN(parameters);}catch(e){this.F('openPage',e);throw e;}},closePage:function(){try{this.aB('closePage',arguments);this.zt();}catch(e){this.F('closePage',e);throw e;}},saveArtPage:function(onSave){try{this.aB('saveArtPage',arguments);this.zX(onSave);}catch(e){this.F('saveArtPage',e);throw e;}},display:function(){try{this.aB('display',arguments);this.ak();}catch(e){this.F('display',e);throw e;}},get_controlStateElementId:function(){try{var T=this.HI();this.ap('get_controlStateElementId',arguments,T);return T;}catch(e){this.F('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.aB('set_controlStateElementId',arguments);this.CV(value);}catch(e){this.F('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var T=this.UW();this.ap('get_includeArtInPostBack',arguments,T);return T;}catch(e){this.F('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.aB('set_includeArtInPostBack',arguments);this.RX(value);}catch(e){this.F('set_includeArtInPostBack',e);throw e;}},get_pageViewClientID:function(){try{var T=this.aqB();this.ap('get_pageViewClientID',arguments,T);return T;}catch(e){this.F('get_pageViewClientID',e);throw e;}},set_pageViewClientID:function(value){try{this.aB('set_pageViewClientID',arguments);this.att(value);}catch(e){this.F('set_pageViewClientID',e);throw e;}},get_artPage:function(){try{var T=this.dO();this.ap('get_artPage',arguments,T);return T;}catch(e){this.F('get_artPage',e);throw e;}},set_artPage:function(value){try{this.aB('set_artPage',arguments);this.jR(value);}catch(e){this.F('set_artPage',e);throw e;}},get_transientArtPage:function(){try{var T=this.ml();this.ap('get_transientArtPage',arguments,T);return T;}catch(e){this.F('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.aB('set_transientArtPage',arguments);this.uY(value);}catch(e){this.F('set_transientArtPage',e);throw e;}},get_resourcePath:function(){try{var T=this.kX();this.ap('get_resourcePath',arguments,T);return T;}catch(e){this.F('get_resourcePath',e);throw e;}},set_resourcePath:function(V){try{this.aB('set_resourcePath',arguments);this.sa(V);}catch(e){this.F('set_resourcePath',e);throw e;}},get_imageHandlerUrl:function(){try{var T=this.mU();this.ap('get_imageHandlerUrl',arguments,T);return T;}catch(e){this.F('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.aB('set_imageHandlerUrl',arguments);this.zP(value);}catch(e){this.F('set_imageHandlerUrl',e);throw e;}},get_selected:function(){try{var T=this.Ks();this.ap('get_selected',arguments,T);return T;}catch(e){this.F('get_selected',e);throw e;}},set_selected:function(value){try{this.aB('set_selected',arguments);this.IR(value);}catch(e){this.F('set_selected',e);throw e;}},get_textRequired:function(){try{var T=this.hX();this.ap('get_textRequired',arguments,T);return T;}catch(e){this.F('get_textRequired',e);throw e;}},set_textRequired:function(V){try{this.aB('set_textRequired',arguments);this.vi(V);}catch(e){this.F('set_textRequired',e);throw e;}},get_textPage:function(){try{var T=this.cu();this.ap('get_textPage',arguments,T);return T;}catch(e){this.F('get_textPage',e);throw e;}},set_textPage:function(value){try{this.aB('set_textPage',arguments);this.auD(value);}catch(e){this.F('set_textPage',e);throw e;}},get_imGearPage:function(){try{var T=this.mA();this.ap('get_imGearPage',arguments,T);return T;}catch(e){this.F('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.aB('set_imGearPage',arguments);this.tA(value);}catch(e){this.F('set_imGearPage',e);throw e;}},add_textPageReady:function(handler){try{this.uK(handler);}catch(e){this.F('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.wu(handler);}catch(e){this.F('remove_textPageReady',e);throw e;}},get_requireRequestsOptimize:function(){try{var T=this.mZ();this.ap('get_requireRequestsOptimize',arguments,T);return T;}catch(e){this.F('mZ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aB('set_requireRequestsOptimize',arguments);this.qX(value);}catch(e){this.F('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var T=this.iQ();this.ap('get_serviceResponseTimeout',arguments,T);return T;}catch(e){this.F('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aB('set_serviceResponseTimeout',arguments);this.sJ(value);}catch(e){this.F('set_serviceResponseTimeout',e);throw e;}},get_encryption:function(){try{var T=this.fG();this.ap('get_encryption',arguments,T);return T;}catch(e){this.F('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aB('set_encryption',arguments);this.gW(value);}catch(e){this.F('set_encryption',e);throw e;}}};IPCC.Web.UI.ThumbnailView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailView.registerClass('IPCC.Web.UI.ThumbnailView',IPCC.Sys.UI.Control);IPCC.dG=function(hl,hx,je,gy,eL,dV){if(arguments.length===0){hl=gy=1;hx=je=eL=dV=0;}this.afj=function(){return hl*gy-hx*je;};this.avT=function(){return hl===1&&hx===0&&je===0&&gy===1&&eL===0&&dV===0;};this.nG=function(){return hl;};this.pk=function(){return hx;};this.oK=function(){return je;};this.sN=function(){return gy;};this.tF=function(){return eL;};this.ue=function(){return dV;};this.append=function(cw){var Eg=hl*cw.nG()+hx*cw.oK();var El=hl*cw.pk()+hx*cw.sN();var Ep=je*cw.nG()+gy*cw.oK();var Er=je*cw.pk()+gy*cw.sN();var DA=eL*cw.nG()+dV*cw.oK()+cw.tF();var DF=eL*cw.pk()+dV*cw.sN()+cw.ue();hl=Eg;hx=El;je=Ep;gy=Er;eL=DA;dV=DF;};this.equals=function(V){if(hl!==V.nG()){return false;}if(hx!==V.pk()){return false;}if(je!==V.oK()){return false;}if(gy!==V.sN()){return false;}if(eL!==V.tF()){return false;}if(dV!==V.ue()){return false;}return true;};this.wc=function(){if(!this.afe()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var zv=this.afj();var Eg=gy/zv;var El= -hx/zv;var Ep= -je/zv;var Er=hl/zv;var DA=(je*dV-gy*eL)/zv;var DF=(hx*eL-hl*dV)/zv;hl=Eg;hx=El;je=Ep;gy=Er;eL=DA;dV=DF;};this.xS=function(cw){var Eg=cw.nG()*hl+cw.pk()*je;var El=cw.nG()*hx+cw.pk()*gy;var Ep=cw.oK()*hl+cw.sN()*je;var Er=cw.oK()*hx+cw.sN()*gy;var DA=cw.tF()*hl+cw.ue()*je+eL;var DF=cw.tF()*hx+cw.ue()*gy+dV;hl=Eg;hx=El;je=Ep;gy=Er;eL=DA;dV=DF;};this.wx=function(ij,qs,md,mX){eL-=md;dV-=mX;this.scale(ij,qs);eL+=md;dV+=mX;};this.aum=function(){hl=gy=1;hx=je=eL=dV=0;};this.transform=function(au){var bq=au.x*hl+au.y*je+eL;var et=au.y*gy+au.x*hx+dV;return new IPCC.Web.UI.Point(bq,et);};this.nq=function(QV,QD){eL+=QV;dV+=QD;};this.auQ=function(V){if(Math.abs(hl-V.nG())>1e-8){return false;}if(Math.abs(hx-V.pk())>1e-8){return false;}if(Math.abs(je-V.oK())>1e-8){return false;}if(Math.abs(gy-V.sN())>1e-8){return false;}if(Math.abs(eL-V.tF())>1e-8){return false;}if(Math.abs(dV-V.ue())>1e-8){return false;}return true;};this.toString=function(){return '{'+hl.toFixed(6)+', '+hx.toFixed(6)+', '+je.toFixed(6)+', '+gy.toFixed(6)+', '+eL.toFixed(3)+', '+dV.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.dG(hl,hx,je,gy,eL,dV);};this.NB=function(jX){hl=jX.nG();hx=jX.pk();je=jX.oK();gy=jX.sN();eL=jX.tF();dV=jX.ue();};this.Ww=function(aj,av){hl=1;gy=av.ip*aj.gZ/(aj.ip*av.gZ);hx=je=eL=dV=0;};this.RJ=function(bO,aj,av){switch(bO){case IPCC.Web.UI.FitType.FullImage:this.abi(aj,av);break;case IPCC.Web.UI.FitType.FullWidth:this.abT(aj,av);break;case IPCC.Web.UI.FitType.FullHeight:this.aaZ(aj,av);break;case IPCC.Web.UI.FitType.ActualSize:this.abS(aj,av);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aj.rA)){this.abS(aj,av);}else{this.aiv(aj,av);}break;}};this.abT=function(aj,av){var na=this.pz(aj);var yj=av.width-2;if(yj<1){yj=1;}var aT=yj/na.width;this.scale(aT,aT);na=this.pz(aj);if(na.y<0){this.nq(0,-na.y);}};this.aaZ=function(aj,av){var na=this.pz(aj);var yj=av.height-2;if(yj<1){yj=1;}var aT=yj/na.height;this.scale(aT,aT);na=this.pz(aj);if(na.x<0){this.nq(-na.x,0);}};this.abi=function(aj,av){var JJ=this.clone();JJ.abT(aj,av);this.aaZ(aj,av);if(Math.max(Math.abs(hl),Math.abs(hx))>Math.max(Math.abs(JJ.nG()),Math.abs(JJ.pk()))){this.NB(JJ);}};this.abS=function(aj,av){var na=this.pz({x:0,y:0,width:aj.gZ,height:aj.ip});var aT=av.gZ/na.width;this.scale(aT,aT);};this.aiv=function(aj,av){var na=this.pz({x:0,y:0,width:1,height:1});var aT=1/Math.min(na.width,na.height);this.scale(aT,aT);if(Math.abs(hl-1)<0.0001){hl=1;}if(Math.abs(gy-1)<0.0001){gy=1;}};return this;};IPCC.dG.prototype.afe=function(){return Math.abs(this.afj())>1e-14;};IPCC.dG.prototype.rotate=function(xY){this.WE(xY,0,0);};IPCC.dG.prototype.WE=function(xY,md,mX){var GN=xY*Math.PI*2/360;var gP=Math.sin(GN);var fC=Math.cos(GN);var cw=new IPCC.dG(fC,gP,-gP,fC,md*(1-fC)+mX*gP,mX*(1-fC)-md*gP);this.append(cw);};IPCC.dG.prototype.apG=function(xY,md,mX){var GN=xY*Math.PI*2/360;var gP=Math.sin(GN);var fC=Math.cos(GN);var cw=new IPCC.dG(fC,gP,-gP,fC,md*(1-fC)+mX*gP,mX*(1-fC)-md*gP);this.xS(cw);};IPCC.dG.prototype.avF=function(xY){this.apG(xY,0,0);};IPCC.dG.prototype.scale=function(ij,qs){var cw=new IPCC.dG(ij,0,0,qs,0,0);this.append(cw);};IPCC.dG.prototype.avz=function(ij,qs,md,mX){var cw=new IPCC.dG(ij,0,0,qs,md*(1-ij),mX*(1-qs));this.xS(cw);};IPCC.dG.prototype.awI=function(ij,qs){var cw=new IPCC.dG(ij,0,0,qs,0,0);this.xS(cw);};IPCC.dG.prototype.skew=function(nC,og){var cw=new IPCC.dG(1,Math.tan(og*Math.PI*2/360),Math.tan(nC*Math.PI*2/360),1,0,0);this.append(cw);};IPCC.dG.prototype.aye=function(nC,og){var cw=new IPCC.dG(1,Math.tan(og*Math.PI*2/360),Math.tan(nC*Math.PI*2/360),1,0,0);this.xS(cw);};IPCC.dG.prototype.awv=function(QV,QD){var cw=new IPCC.dG(1,0,0,1,QV,QD);this.xS(cw);};IPCC.dG.prototype.rJ=function(h){var gU=this.transform({x:h.x,y:h.y});var jV=gU.x;var nu=gU.x;var ly=gU.y;var lQ=gU.y;gU=this.transform({x:h.x+h.width,y:h.y});jV=Math.min(jV,gU.x);nu=Math.max(nu,gU.x);ly=Math.min(ly,gU.y);lQ=Math.max(lQ,gU.y);gU=this.transform({x:h.x+h.width,y:h.y+h.height});jV=Math.min(jV,gU.x);nu=Math.max(nu,gU.x);ly=Math.min(ly,gU.y);lQ=Math.max(lQ,gU.y);gU=this.transform({x:h.x,y:h.y+h.height});jV=Math.min(jV,gU.x);nu=Math.max(nu,gU.x);ly=Math.min(ly,gU.y);lQ=Math.max(lQ,gU.y);return new IPCC.Web.UI.Rectangle(jV,ly,nu-jV,lQ-ly);};IPCC.dG.prototype.ajg=function(aj,av,dv){var abL=this.clone();abL.wc();var aiz=abL.transform({x:dv.x+dv.width/2,y:dv.y+dv.height/2});var aT=Math.min(av.width/dv.width,av.height/dv.height);aT-=1e-10;var hO=this.xB();if(hO*aT>aj.nY){aT=aj.nY/hO;}if(hO*aT<aj.rc){aT=aj.rc/hO;}this.scale(aT,aT);this.aaQ(av,aiz);};IPCC.dG.prototype.LG=function(aj,av,ci){this.ajg(aj,av,this.rJ(ci));};IPCC.dG.prototype.awl=function(av){this.wx(1,-1,av.width/2,av.height/2);};IPCC.dG.prototype.ail=function(av){this.wx(-1,1,av.width/2,av.height/2);};IPCC.dG.prototype.QS=function(aku,aay){var ZB=this.transform(aku);this.nq(aay.x-ZB.x,aay.y-ZB.y);};IPCC.dG.prototype.aaQ=function(av,dr){var UM=this.transform(dr);this.nq(av.width/2-UM.x,av.height/2-UM.y);};IPCC.dG.prototype.iE=function(aD,av){var bq=0,et=0,end;var lM=this.pz(aD);if(lM.width<av.width){bq=(av.width-lM.width)/2-lM.x;}else{end=lM.x+lM.width;if(end<av.width){bq=av.width-end;}if(lM.x>0){bq= -lM.x;}}if(lM.height<av.height){et=(av.height-lM.height)/2-lM.y;}else{end=lM.y+lM.height;if(end<av.height){et=av.height-end;}if(lM.y>0){et= -lM.y;}}this.nq(bq,et);};IPCC.dG.prototype.pz=function(aD){return this.rJ({x:0,y:0,width:aD.width,height:aD.height});};IPCC.dG.prototype.HF=function(){var gG,xW,fK,wA,XZ,gv;gG=this.transform({x:0,y:0});xW=this.transform({x:0,y:1});fK=this.transform({x:1,y:0});wA=Math.atan2(xW.y-gG.y,xW.x-gG.x);XZ=Math.atan2(fK.y-gG.y,fK.x-gG.x);gv=wA-XZ;if(gv>Math.PI){gv=gv-2*Math.PI;}if(gv< -Math.PI){gv=gv+2*Math.PI;}return gv<0;};IPCC.dG.prototype.FX=function(){var gG,xW,wA;gG=this.transform({x:0,y:0});xW=this.transform({x:0,y:1});wA=Math.atan2(xW.y-gG.y,xW.x-gG.x)-Math.PI/2;if(wA<0){wA=wA+2*Math.PI;}return wA*360/(Math.PI*2);};IPCC.dG.prototype.xB=function(){var gn;var gG,nD;var eh,eT,cX;gG=this.transform({x:0,y:0});nD=this.transform({x:1,y:0});eh=nD.x-gG.x;eT=nD.y-gG.y;gn=eh*eh+eT*eT;nD=this.transform({x:0,y:1});eh=nD.x-gG.x;eT=nD.y-gG.y;cX=Math.min(gn,eh*eh+eT*eT);nD=this.transform({x:1,y:1});eh=nD.x-gG.x;eT=nD.y-gG.y;cX=Math.min(gn,eh*eh+eT*eT);nD=this.transform({x:1,y: -1});eh=nD.x-gG.x;eT=nD.y-gG.y;cX=Math.min(gn,eh*eh+eT*eT);return Math.sqrt(gn);};IPCC.dG.axd=function(){return new IPCC.dG(1,0,0,1,0,0);};IPCC.AH=function(aQ,dg,gZ,ip){this.width=aQ;this.height=dg;this.gZ=gZ;this.ip=ip;return this;};IPCC.AH.prototype=new IPCC.Web.UI.Rectangle(0,0,0,0);IPCC.AH.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gZ+', '+this.ip+')';};IPCC.eA=function(jO,ar,aQ,dg,gZ,ip){this.width=aQ;this.height=dg;this.gZ=gZ;this.ip=ip;this.ar=ar||0;this.cQ=0;this.rA=true;this.OW={};this.Ar=false;var O=this;this.ar=ar;this.get_url=function(gQ,fJ,ay){fJ=fJ||'Image';ay=ay||'';var AS=IPCC.eA.FS(jO);var BJ=false;if(/^[\x00-\x7F]*$/.test(AS)){BJ=true;}if(ay===null||ay===''){if(fJ==='Attributes'){var qV='';if(!IPCC.uR.yW()){qV='&ContentType=png';}if(!BJ){return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=e'+jO+qV;}else{return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=u'+encodeURIComponent(AS)+qV;}}else{if(fJ==='SvgImage'){if(!BJ){return gQ+'/Page/q/'+ar.toString()+'?DocumentID=e'+jO+'&'+ay;}else{return gQ+'/Page/q/'+ar.toString()+'?DocumentID=u'+encodeURIComponent(AS)+'&'+ay;}}if(!BJ){return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=e'+jO+'&'+ay;}else{return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=u'+encodeURIComponent(AS)+'&'+ay;}}}else{if(fJ==='SvgImage'){if(!BJ){return gQ+'/Page/q/'+ar.toString()+'?DocumentID=e'+jO+'&'+ay;}else{return gQ+'/Page/q/'+ar.toString()+'?DocumentID=u'+encodeURIComponent(AS)+'&'+ay;}}if(!BJ){return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=e'+jO+'&'+ay;}else{return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=u'+encodeURIComponent(AS)+'&'+ay;}}};this.get_urlArt=function(gQ,fJ,ay){fJ=fJ||'Art';ay=ay||'';if(ay===null||ay===''){if(fJ==='Art'){return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=e'+jO;}}else{return gQ+'/Page/q/'+ar.toString()+'/'+fJ+'?DocumentID=e'+jO+'&'+ay;}};this.get_identifier=function(){return IPCC.eA.FS(jO);};this.get_encodedIdentifier=function(){return jO;};this.toString=function(){return 'Image("'+jO+'", '+this.ar+', '+this.width+' x '+this.height+', '+this.gZ+', '+this.ip+')';};function ahx(ajx,J){if(J.EV()){O.rA=true;O.Ar=false;return;}var MG=ajx.split(',');var hK=false;for(var k=0;k<MG.length;k++){if(MG[k]==="SVG"||MG[k]==="svg"){if(IPCC.uR.yW()){O.Ar=true;O.rA=false;}else{O.Ar=false;}hK=true;break;}}if(!hK){O.Ar=false;O.rA=true;}if(J){if(J.Kr){J.Kr(O.Ar);}}};this.Dr=function(gQ,J,xw){J.ar=this.ar;var lh=0;var lH=J.mZ();if(lH){if(document.documentMode<9){lH=false;}}var iB=true;if(J.iQ()===0){iB=false;}var oG=function(iZ){try{if(iZ===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}O.width= +(iZ.imageWidth);O.height= +(iZ.imageHeight);O.gZ= +(iZ.imageXResolution);if(O.gZ<=0){O.gZ=72;}O.ip= +(iZ.imageYResolution);if(O.ip<=0){O.ip=72;}O.cQ= +(iZ.pageCount);O.rA=iZ.isRaster!=='false';var lT=aL.getResponseHeader("Accusoft-Data-Encrypted");var aap=false;if(lT==="true"){aap=true;}J.asM(aap);ahx(iZ.contentType,J);if(xw){xw();}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};var aL=new XMLHttpRequest(),DX,lb,ami=function(){DX=null;lb=true;aL.abort();},Ym=function(){lb=false;DX=setTimeout(ami,J.iQ());},ado=function(){if(!DX){return;}clearTimeout(DX);DX=null;};function Lx(){lH=false;if(lh<1){aL.open('GET',O.get_url(gQ,'Attributes'),true);aL.setRequestHeader('Content-Type','application/json');aL.onreadystatechange=kq;lh++;if(iB===true){Ym();}aL.send();}};var asD=function(ha){var aQ;var dg;try{aQ=ha.match(/width=\"([0-9.]+)\"/);dg=ha.match(/height=\"([0-9.]+)\"/);if(aQ&&dg){aQ=Number(aQ[1]);dg=Number(dg[1]);}else{throw "error";}if(isNaN(aQ)||isNaN(dg)){throw "error";}O.width=aQ;O.height=dg;O.gZ=72;O.ip=72;O.Ar=true;O.rA=false;if(J){if(typeof(J.Kr==='function')){J.Kr(O.Ar);}}if(xw){xw();}}catch(e){if(lH){if(lh<1){lH=false;setTimeout(Lx,10);return;}}J.F('openPage',e);if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};function kq(){try{var dp,aq,cS,hJ;var hk;var gD=dp;if(aL.readyState===4){dp=aL.status;if(aL.status===200){aq=null;try{if(iB===true){ado();}if(!lH){if(typeof JSON!=='undefined'){aq=JSON.parse(aL.responseText);}else{aq=IPCC.dh.oA(aL.responseText);}oG(aq,aL.status);}else{var vH;var lT=aL.getResponseHeader("Accusoft-Data-Encrypted");if(lT==='true'&&J.fG()===true){var qK=IPCC.Web.gf.mY.qu(aL.getResponseHeader("Accusoft-Data-SK"));var bz=IPCC.Web.AV(qK,fO);var dB=IPCC.Web.AW(aL);var qa=IPCC.Web.xe(dB,bz,fO);vH=IPCC.Web.gf.BV.kE(qa);}else{vH=aL.responseText;}var Dy;if(vH.length>=1000){Dy=vH.substring(0,1000);}asD(Dy);}}catch(ex){if(lH){lH=false;if(lh<1){setTimeout(Lx,10);return;}}cS="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cS);}}else if((dp<200)||(dp>=300)){if(iB===true){ado();}if(dp===480){lh++;if(aL.statusText&&aL.statusText!==""){cS=cS="PDF file password required, error message from the server: "+aL.statusText;}else{cS="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(dp,cS);}if(dp===403){lh++;if(aL.statusText&&aL.statusText!==""){cS="Expired viewer session ID, error message from the server: "+aL.statusText;}else{cS="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dp,cS);}if(lH){lH=false;if(lh<1){setTimeout(Lx,10);return;}}gD=aL.status;hJ=aL.getResponseHeader('Accusoft-Status-Message');if(hJ){var lg;hk=aL.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(hk)){lg=parseInt(hk,10);}throw new IPCC.Web.UI.ImGearHttpException(gD,hJ,lg);}else if(lb){throw new IPCC.Web.UI.ImGearHttpException(gD,"Client timed out on load");}else{if(aL.statusText&&aL.statusText!==""){cS="Error message from the service: "+aL.statusText;}else{cS="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gD,cS);}}}}catch(e){if(lH){lH=false;if(lh<1){setTimeout(Lx,10);return;}}J.F('openPage',e);if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};var fO=IPCC.Web.mt.Jq(4,IPCC.Web.JF());var ni=IPCC.Web.gf.Cn.kE(fO);if(!lH){aL.open('GET',this.get_url(gQ,'Attributes'),true);aL.setRequestHeader('Content-Type','application/json');}else{var dA;if(J.fG()===true){fO=IPCC.Web.mt.UO(4,IPCC.Web.JF());ni=IPCC.Web.gf.Cn.kE(fO);if(document.documentMode===10||IPCC.bh.xP){dA=this.get_url(gQ,'SvgImage','Scale=1&ContentType=svg'+'&iv='+ni);}else{dA=this.get_url(gQ,'SvgImage','Scale=1&ContentType=svga'+'&iv='+ni);}}else{if(document.documentMode===10||IPCC.bh.xP){dA=this.get_url(gQ,'SvgImage','Scale=1&ContentType=svg');}else{dA=this.get_url(gQ,'SvgImage','Scale=1&ContentType=svga');}}aL.open('GET',dA,true);aL.responseType='text';aL.open('GET',dA,true);}aL.onreadystatechange=kq;if(iB===true){Ym();}aL.send();};this.ace=function(gQ,J,xw,awN){var pw=new XMLHttpRequest();var oG=function(iZ){try{if(iZ===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}O.width= +(iZ.imageWidth);O.height= +(iZ.imageHeight);O.gZ= +(iZ.imageXResolution);if(O.gZ<=0){O.gZ=72;}O.ip= +(iZ.imageYResolution);if(O.ip<=0){O.ip=72;}O.cQ= +(iZ.pageCount);O.rA=iZ.isRaster!=='false';pw.open('GET',O.get_urlArt(gQ,'Art'),true);pw.setRequestHeader('Content-Type','application/json');pw.onreadystatechange=agZ;pw.send();}catch(e){if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}J.F('openPage',e);}};var aks=function(iZ,agn){try{if(iZ===null){throw new IPCC.Web.UI.ImGearException('Unable to load the specified image. Returned annotations JSON from the server is null',{name:'IPCC.Web.UI.ImGearHttpException',statusCode:agn});}O.OW=iZ;if(xw){xw();}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};var aL=new XMLHttpRequest();function kq(){try{var dp,aq,cS,hJ;var hk,gD;if(aL.readyState===4){dp=aL.status;gD=dp;if(aL.status===200){aq=null;try{if(typeof JSON!=='undefined'){aq=JSON.parse(aL.responseText);}else{aq=IPCC.dh.oA(aL.responseText);}oG(aq,dp);}catch(ex){cS="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cS);}}else if((dp<200)||(dp>=300)){gD=aL.status;hJ=aL.getResponseHeader('Accusoft-Status-Message');if(hJ){var lg;hk=aL.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(hk)){lg=parseInt(hk,10);}throw new IPCC.Web.UI.ImGearHttpException(gD,hJ,lg);}else{throw new IPCC.Web.UI.ImGearHttpException(gD,"Unable to load the specified image");}}}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};function agZ(){try{var dp,aq,hJ;var hk,gD;if(pw.readyState===4){dp=pw.status;gD=dp;if(pw.status===200){aq=null;try{aq=pw.responseText;aks(aq,dp);}catch(ex){}}else if((dp<200)||(dp>=300)){gD=pw.status;hJ=pw.getResponseHeader('Accusoft-Status-Message');if(hJ){var lg;hk=pw.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(hk)){lg=parseInt(hk,10);}throw new IPCC.Web.UI.ImGearHttpException(gD,hJ,lg);}else{throw new IPCC.Web.UI.ImGearHttpException(gD,"Unable to obtain the specified annotations data");}}}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};aL.open('GET',this.get_url(gQ,'Attributes'),true);aL.setRequestHeader('Content-Type','application/json');aL.onreadystatechange=kq;aL.send();};return this;};IPCC.eA.prototype=new IPCC.AH(0,0,0,0);IPCC.eA.prototype.clone=function(){var Vh=new IPCC.eA(this.get_encodedIdentifier(),this.ar,this.width,this.height,this.gZ,this.ip);Vh.cQ=this.cQ;Vh.rA=this.rA;return Vh;};IPCC.eA.prototype.equals=function(V){if(this.get_encodedIdentifier()!==V.get_encodedIdentifier()){return false;}if(this.ar!==V.ar){return false;}return true;};IPCC.eA.prototype.nY=8;IPCC.eA.prototype.rc=0.000001;IPCC.eA.adS=function(ay){var Ed=ay.referenceDocumentIdentifier;var adr=IPCC.eA.ql(Ed);var gw=ay.encodedDocumentIdentifier;var jm=ay.documentIdentifier;var ei;if(gw===''){gw=undefined;}if(jm===''){jm=undefined;}if(Ed&&Ed!==''){if(gw===adr){gw=undefined;}if(jm===Ed){jm=undefined;}}if(jm){ei=IPCC.eA.ql(jm);if(gw){if(gw!==ei){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gw=ei;}}else{if(gw){jm=IPCC.eA.FS(gw);}}if(!gw){jm=Ed;gw=adr;}var bb=ay.pageNumber;var acW=ay.referencePageNumber;if(bb===acW){bb=undefined;}if(bb!==0&& !bb){bb=acW;}ay.encodedDocumentIdentifier=gw;ay.documentIdentifier=jm;ay.pageNumber=bb;};IPCC.eA.ql=function(iO){if(!iO||iO===''){return '';}var ll=[];var G;for(G=0;G<iO.length;G++){ll.push(iO.charCodeAt(G)%256);ll.push(Math.floor(iO.charCodeAt(G)/256));}ll.push(0);ll.push(0);var Mg='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var os=[],qJ;for(G=0;G<ll.length-1;G+=3){qJ=ll[G]*0x10000+ll[G+1]*0x100+ll[G+2];os.push(Mg.charAt(Math.floor(qJ/0x40000)));os.push(Mg.charAt(Math.floor(qJ/0x1000)%0x40));os.push(Mg.charAt(Math.floor(qJ/0x40)%0x40));os.push(Mg.charAt(qJ%0x40));}var NK=Math.ceil(iO.length*16/6);while(os.length>NK){os.pop();}if((os.length%4)===3){os.push('1');}else if((os.length%4)===2){os.push('2');}else if((os.length%4)===0){os.push('0');}return os.join('');};IPCC.eA.FS=function(jO){if(!jO||jO===''){return '';}var aet=jO.length-1;var Ny=[],qJ;var nX,ll=[],mO=[];var G;for(G=0;G<aet;G++){nX=jO.charCodeAt(G);if(nX>64&&nX<91){mO.push(nX-65);}else if(nX>96&&nX<123){mO.push(nX-97+26);}else if(nX>47&&nX<58){mO.push(nX-48+52);}else if(nX===45){mO.push(62);}else if(nX===95){mO.push(63);}else{return '';}}mO.push(0);mO.push(0);mO.push(0);for(G=0;G<mO.length-3;G+=4){qJ=mO[G]*0x40000+mO[G+1]*0x1000+mO[G+2]*0x40+mO[G+3];ll.push(Math.floor(qJ/0x10000));ll.push(Math.floor(qJ/0x100)%256);ll.push(qJ%256);}for(G=0;G<ll.length-1;G+=2){Ny.push(String.fromCharCode(ll[G]+ll[G+1]*0x100));}var NK=Math.floor(aet*6/16);while(Ny.length>NK){Ny.pop();}return Ny.join('');};IPCC.pG=function(){this.bn=false;this.J=false;};IPCC.pG.prototype.ku=function(J){J.bu().set_cursor(IPCC.bM.Magnifier);this.J=J;};IPCC.pG.prototype.fj=function(){this.J=false;};IPCC.pG.prototype.af=function(){if(this.bn){this.J.bu().hideMagnifier();this.J.bu().set_cursor(this.iI);this.bn=false;}};IPCC.pG.prototype.pg=function(){this.af();};IPCC.pG.prototype.jl=function(C){this.af();if(C.domEvent.button===0){this.iI=this.J.bu().get_cursor();this.J.bu().set_cursor(IPCC.bM.None);this.bn=true;this.J.bu().showMagnifier(C.windowPoint);this.J.ak();}};IPCC.pG.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){this.J.bu().showMagnifier(C.windowPoint);this.J.ak();}};IPCC.pG.prototype.he=function(){this.af();this.J.ak();};IPCC.pG.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.nc=function(){this.bn=false;this.J=false;};IPCC.nc.prototype.ku=function(J){J.bu().set_cursor(IPCC.bM.RectangleZoom);this.J=J;};IPCC.nc.prototype.fj=function(){this.J=false;};IPCC.nc.prototype.af=function(){if(this.bn){this.J.bu().oC();this.J.bu().set_cursor(this.iI);this.bn=false;this.J.ak();}};IPCC.nc.prototype.pg=function(){this.af();this.J.ak();};IPCC.nc.prototype.jl=function(C){this.af();if(C.domEvent.button===0){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(IPCC.bM.RectangleZoom);this.bn=true;ae.zr(C.constrainedImagePoint);this.qw=C.windowPoint;this.J.ak();}};IPCC.nc.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){var ae=this.J.bu();ae.As(C.constrainedImagePoint);this.J.ak();}};IPCC.nc.prototype.he=function(C){if(this.bn&&C.domEvent.button===0){var ei=C.windowPoint.x-this.qw.x;var gn=ei*ei;ei=C.windowPoint.y-this.qw.y;gn+=ei*ei;if(gn>25){var J=this.J;var ae=J.bu();var bP=ae.eW();var av=J.eQ();var aop=av.width;var anS=av.height;var aj=J.dJ();ae.As(C.constrainedImagePoint);var jb=ae.wM();ae.oC();J.by('userModifiedViewState',{});bP.LG(aj,av,jb);bP.iE(aj,av);ae.iu(bP);J.ak();if(aop!==av.width||anS!==av.height){bP=ae.eW();bP.LG(aj,av,jb);bP.iE(aj,av);ae.iu(bP);}}}this.af();};IPCC.nc.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.nc.prototype.lz=function(){this.af();};IPCC.ps=function(){this.bn=false;this.J=false;};IPCC.ps.prototype.ku=function(J){J.bu().set_cursor(IPCC.bM.HandOpen);this.J=J;};IPCC.ps.prototype.fj=function(){this.J=false;};IPCC.ps.prototype.af=function(){if(this.bn){this.J.bu().set_cursor(this.iI);this.bn=false;}};IPCC.ps.prototype.pg=function(){this.af();};IPCC.ps.prototype.jl=function(C){this.af();if(C.domEvent.button===0){this.iI=this.J.bu().get_cursor();this.J.bu().set_cursor(IPCC.bM.HandClosed);this.bn=true;this.LK=C.imagePoint;}};IPCC.ps.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){var J=this.J;var ae=J.bu();var bP=ae.eW();var av=J.eQ();bP.QS(this.LK,C.windowPoint);bP.iE(J.dJ(),av);J.by('userModifiedViewState',{});ae.iu(bP);J.ak();}};IPCC.ps.prototype.he=function(){this.af();};IPCC.ps.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.ps.prototype.lz=function(){this.af();};IPCC.nA=function(){this.bn=false;this.J=false;};IPCC.nA.prototype.ku=function(J){J.bu().set_cursor(IPCC.bM.Crosshair);this.J=J;};IPCC.nA.prototype.fj=function(){this.J=false;};IPCC.nA.prototype.af=function(){if(this.bn){this.J.oC();this.J.bu().set_cursor(this.iI);this.bn=false;this.J.ak();}};IPCC.nA.prototype.pg=function(){this.af();};IPCC.nA.prototype.jl=function(C){this.af();if(C.domEvent.button===0){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(IPCC.bM.Crosshair);this.bn=true;ae.zr(C.constrainedImagePoint);this.J.ak();}};IPCC.nA.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){var ae=this.J.bu();ae.As(C.constrainedImagePoint);this.J.ak();}};IPCC.nA.prototype.he=function(C){if(C.domEvent.button===0){this.bn=false;}this.af();};IPCC.nA.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.nA.prototype.lz=function(){this.af();};IPCC.cO=function(){this.J=false;this.apR=1.5;};IPCC.cO.prototype.ku=function(J){this.J=J;};IPCC.cO.prototype.fj=function(){this.J=false;};IPCC.cO.prototype.af=function(){};IPCC.cO.prototype.lz=function(C){var ae=this.J.bu();var aj=this.J.dJ();var av=this.J.eQ();var bP=ae.eW();var LY=C.wheelDelta/120;if(C.domEvent.ctrlKey){C.domEvent.preventDefault();var aT=((this.apR-1)/2)+1;if(LY<0){aT=1/aT;}var hO=bP.xB();if(hO*aT>aj.nY){aT=aj.nY/hO;}if(hO*aT<aj.rc){aT=aj.rc/hO;}bP.wx(aT,aT,C.windowPoint.x,C.windowPoint.y);bP.iE(aj,av);this.J.by('userModifiedViewState',{});ae.iu(bP);}else{var adC=bP.transform({x:0,y:0});bP.nq(0,LY*av.ip);bP.iE(aj,av);var adn=bP.transform({x:0,y:0});if(Math.abs(adC.x-adn.x)>0.001||Math.abs(adC.y-adn.y)>0.001){C.domEvent.preventDefault();this.J.by('userModifiedViewState',{});ae.iu(bP);}}this.J.ak();};IPCC.eH=function(bk){this.bn=false;this.J=false;this.bk=bk;switch(this.bk){case IPCC.Web.UI.MarkType.Rectangle:this.az=IPCC.bM.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.az=IPCC.bM.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:this.az=IPCC.bM.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.az=IPCC.bM.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.az=IPCC.bM.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.az=IPCC.bM.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.az=IPCC.bM.AddRectangleMark;break;}};IPCC.eH.prototype.ku=function(J){J.bu().set_cursor(this.az);this.J=J;};IPCC.eH.prototype.fj=function(){this.J=false;};IPCC.eH.prototype.af=function(){if(this.bn){this.K=null;this.J.lV(null);this.J.bu().set_cursor(this.iI);this.bn=false;this.J.ak();}};IPCC.eH.prototype.pg=function(){this.af();};IPCC.eH.prototype.jl=function(C){this.af();if(C.domEvent.button===0){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(this.az);this.bn=true;this.K=new IPCC.Web.UI.Mark(this.bk);this.K.set_rectangle({x:C.imagePoint.x,y:C.imagePoint.y,width:0,height:0});this.J.lV(this.K);this.rj=C.imagePoint;this.qw=C.windowPoint;}};IPCC.eH.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){var oa={x:Math.min(C.imagePoint.x,this.rj.x),y:Math.min(C.imagePoint.y,this.rj.y)};oa.width=Math.max(C.imagePoint.x,this.rj.x)-oa.x;oa.height=Math.max(C.imagePoint.y,this.rj.y)-oa.y;this.K.set_rectangle(oa);this.J.ak();}};IPCC.eH.prototype.he=function(C){if(this.bn&&C.domEvent.button===0){var ei=C.windowPoint.x-this.qw.x;var gn=ei*ei;ei=C.windowPoint.y-this.qw.y;gn+=ei*ei;if(gn>25){var oa={x:Math.min(C.imagePoint.x,this.rj.x),y:Math.min(C.imagePoint.y,this.rj.y)};oa.width=Math.max(C.imagePoint.x,this.rj.x)-oa.x;oa.height=Math.max(C.imagePoint.y,this.rj.y)-oa.y;this.J.lV(null);this.K.set_rectangle(oa);var bI=this.K;var J=this.J;var oV={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.J.dO().addMark(this.K,oV);if(bI.tg()===IPCC.Web.UI.MarkType.Text){J.Qg(bI);}J.ak();}}this.af();};IPCC.eH.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.eH.prototype.lz=function(){this.af();};IPCC.pl=function(){this.bn=false;this.J=false;this.az=IPCC.bM.AddLineMark;};IPCC.pl.prototype.ku=function(J){J.bu().set_cursor(this.az);this.J=J;};IPCC.pl.prototype.fj=function(){this.J=false;};IPCC.pl.prototype.af=function(){if(this.bn){this.K=null;this.J.lV(null);this.J.bu().set_cursor(this.iI);this.bn=false;this.J.ak();}};IPCC.pl.prototype.pg=function(){this.af();};IPCC.pl.prototype.jl=function(C){this.af();if(C.domEvent.button===0){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(this.az);this.bn=true;this.K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.K.get_points().setPoint(0,C.imagePoint);this.K.get_points().setPoint(1,C.imagePoint);this.J.lV(this.K);this.rj=C.imagePoint;this.qw=C.windowPoint;}};IPCC.pl.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){this.K.get_points().setPoint(1,C.imagePoint);this.J.ak();}};IPCC.pl.prototype.he=function(C){if(this.bn&&C.domEvent.button===0){var ei=C.windowPoint.x-this.qw.x;var gn=ei*ei;ei=C.windowPoint.y-this.qw.y;gn+=ei*ei;if(gn>25){var J=this.J;var oV={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.K.get_points().setPoint(1,C.imagePoint);this.J.lV(null);this.J.dO().addMark(this.K,oV);J.ak();}}this.af();};IPCC.pl.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.pl.prototype.lz=function(){this.af();};IPCC.mw=function(){this.bn=false;this.J=false;this.az=IPCC.bM.AddFreehandMark;};IPCC.mw.prototype.ku=function(J){J.bu().set_cursor(this.az);this.J=J;};IPCC.mw.prototype.fj=function(){this.J=false;};IPCC.mw.prototype.af=function(){if(this.bn){this.K=null;this.mf=null;this.J.lV(null);this.J.bu().set_cursor(this.iI);this.bn=false;}};IPCC.mw.prototype.pg=function(){this.af();};IPCC.mw.prototype.jl=function(C){this.af();if(C.domEvent.button===0){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(this.az);this.bn=true;this.K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.K.get_points().addPoint(C.imagePoint);this.mf=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.J.lV(this.K,this.mf);this.K.set_lineWidth(this.mf.ja);this.K.set_lineColor(this.mf.hS);this.K.set_opacity(this.mf.cG);this.rj=C.imagePoint;this.qw=C.windowPoint;this.J.ak();}};IPCC.mw.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){this.K.get_points().addPoint(C.imagePoint);this.J.ak();}};IPCC.mw.prototype.he=function(C){if(this.bn&&C.domEvent.button===0){this.K.get_points().addPoint(C.imagePoint);var Wq=this.K.get_points();var ax=[];var eO=Number.MAX_VALUE,fK=0,_top=Number.MAX_VALUE,eD=0;var G=0;for(G=0;G<Wq.get_length();G++){var qR=Wq.getPoint(G);if(qR.x<eO){eO=qR.x;}if(qR.x>fK){fK=qR.x;}if(qR.y<_top){_top=qR.y;}if(qR.y>eD){eD=qR.y;}ax.push({x:qR.x,y:qR.y});}var xG=3;var rY;var nP=(ax.length<xG)?ax:IPCC.bh.filter(ax,function(bL){if(rY){var bq=bL.x-rY.x,et=bL.y-rY.y,dR=bq*bq+et*et;if(Math.sqrt(dR)<4){return false;}}bL.x=bL.x-eO;bL.y=bL.y-_top;rY=bL;return true;});if(nP.length<xG){nP=[ax[0],ax[ax.length-1]];}var cU='';rY=undefined;if(nP.length<xG){cU+=this.Jo(nP);}else{cU='M'+IPCC.bh.bspline(nP);cU=cU.replace(/\d*\.?\d*/g,function(cn){var EO=cn.indexOf('.');if(cn.length&&EO>0){return cn.substr(0,EO+3);}else if(cn!==""){return cn;}else{return cn;}});}var aQ=fK-eO;var dg=eD-_top;var oV={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.mf.set_rectangle({x:eO,y:_top,width:aQ,height:dg});this.mf.set_pathString(cU);this.mf.set_pathWidth(aQ);this.mf.set_pathHeight(dg);this.J.lV(null);this.J.dO().addMark(this.mf,oV);this.J.ak();}this.af();};IPCC.mw.prototype.Jo=function(hC,Fd){var TM=(Fd&&IPCC.bh.xH)?'m':'M';var UN=(Fd&&IPCC.bh.xH)?'l':'L';return IPCC.bh.map(hC,function(bL,G){if(G===0){return TM+bL.x+','+bL.y;}else{return UN+bL.x+','+bL.y;}}).join('');};IPCC.mw.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.mw.prototype.lz=function(){this.af();};IPCC.ln=function(bk){this.bn=false;this.J=false;this.bk=bk;switch(this.bk){case IPCC.Web.UI.MarkType.Polygon:this.az=IPCC.bM.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.az=IPCC.bM.AddPolylineMark;this.Ue=false;break;}};IPCC.ln.prototype.ku=function(J){J.bu().set_cursor(this.az);this.J=J;};IPCC.ln.prototype.fj=function(){this.J=false;};IPCC.ln.prototype.af=function(){if(this.bn){if(arguments[0]){if(arguments[0]===true){if(this.K&&this.Ue===false){this.J.dO().addMark(this.K);this.Ue=true;this.J.ak();}}}this.K=null;this.J.lV(null);this.J.bu().set_cursor(this.iI);this.bn=false;this.J.ak();}};IPCC.ln.prototype.pg=function(){this.af();};IPCC.ln.prototype.jl=function(C){if(C.domEvent.button===0){if(!this.bn){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(this.az);this.bn=true;this.K=new IPCC.Web.UI.Mark(this.bk);this.K.get_points().addPoint(C.imagePoint);this.J.lV(this.K);}var ax=this.K.get_points();if(ax.get_length()>0){ax.setPoint(ax.get_length()-1,C.imagePoint);}ax.addPoint(C.imagePoint);this.rj=C.imagePoint;this.qw=C.windowPoint;this.J.ak();}else{this.af();}};IPCC.ln.prototype.rW=function(C){if(this.bn&&C.domEvent.button===0){var ax=this.K.get_points(),bp=ax.get_length(),PP,OB;if(bp>2){var Yh=true;while(Yh){bp=ax.get_length();PP=ax.getPoint(bp-1);OB=ax.getPoint(bp-2);if(PP.x===OB.x&&PP.y===OB.y){ax.removePoint(bp-1);}else{Yh=false;}}}if(ax.get_length()>0){ax.setPoint(ax.get_length()-1,C.imagePoint);}this.J.lV(null);var oV={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.J.dO().addMark(this.K,oV);this.Ue=true;this.J.ak();}this.af();};IPCC.ln.prototype.jB=function(C){if(C.domEvent.button!==0){this.af();}if(this.bn){var ax=this.K.get_points();if(ax.get_length()>0){ax.setPoint(ax.get_length()-1,C.imagePoint);}this.J.ak();}};IPCC.ln.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.ln.prototype.lz=function(){this.af();};IPCC.jC=true;IPCC.eB={aeE:1,acv:2,RU:3,acE:4,Yo:5,Eu:6,Kh:7,VR:8,Uv:9,aeZ:10,afn:11,afB:12,acP:13,Zw:14,Wj:15,UU:16};IPCC.aaH=null;IPCC.hw=function(Qy,ani){this.J=false;this.Qy=Qy;var jT=IPCC.Web.UI;var aG=ani;if(!aG||aG===null){aG=IPCC.aaH;}this.aG=aG;var akp={bm:aG.zoomInMenuItem,fA:IPCC.eB.aeE,V:1.25};var ahX={bm:aG.zoomOutMenuItem,fA:IPCC.eB.acv,V:1.25};var alx={bm:aG.fullImageMenuItem,V:jT.FitType.FullImage};var ang={bm:aG.fullWidthMenuItem,V:jT.FitType.FullWidth};var akZ={bm:aG.fullHeightMenuItem,V:jT.FitType.FullHeight};var asR={bm:aG.oneToOneRatioMenuItem,V:jT.FitType.OneToOne};var asW={bm:aG.actualSizeMenuItem,V:jT.FitType.ActualSize};var apF={bm:aG.rotateRightMenuItem,fA:IPCC.eB.RU,V:90};var apU={bm:aG.rotateLeftMenuItem,fA:IPCC.eB.RU,V: -90};var aoA={bm:aG.mirrorHorizontalMenuItem,fA:IPCC.eB.acE};var anO={bm:aG.mirrorVerticalMenuItem,fA:IPCC.eB.Yo};var Qn={bm:aG.panToolMenuItem,V:jT.MouseTool.HandPan};var RN={bm:aG.areaSelectionToolMenuItem,V:jT.MouseTool.Select};var Sg={bm:aG.zoomRectangleToolMenuItem,V:jT.MouseTool.RectangleZoom};var Oq={bm:aG.flyingMagnifierToolMenuItem,V:jT.MouseTool.Magnifier};var aoB={bm:aG.createTextMarkToolMenuItem,V:jT.MouseTool.CreateTextMark};var auL={bm:aG.createLineMarkToolMenuItem,V:jT.MouseTool.CreateLineMark};var anA={bm:aG.createRectangleMarkToolMenuItem,V:jT.MouseTool.CreateRectangleMark};var atO={bm:aG.createEllipseMarkToolMenuItem,V:jT.MouseTool.CreateEllipseMark};var aoF={bm:aG.editMarksToolMenuItem,V:jT.MouseTool.EditMarks};var aoX={bm:aG.createStampMarkToolMenuItem,V:jT.MouseTool.CreateStampMark};var atq={bm:aG.createHighlightMarkToolMenuItem,V:jT.MouseTool.CreateHighlightTextMark};var adA={aQ:55,dC:[{bm:aG.thicknessMenu.item1,V:1},{bm:aG.thicknessMenu.item2,V:2},{bm:aG.thicknessMenu.item3,V:3},{bm:aG.thicknessMenu.item4,V:4},{bm:aG.thicknessMenu.item5,V:5},{bm:aG.thicknessMenu.item6,V:6},{bm:aG.thicknessMenu.item7,V:7},{bm:aG.thicknessMenu.item8,V:8}]};var akR={aQ:145,dC:[{bm:aG.opacityMenu.translucent,V:127},{bm:aG.opacityMenu.opaque,V:255}]};var KC={bm:aG.borderThicknessMenuItem,fA:IPCC.eB.Eu,bY:'lineWidth',mI:adA};var Lh={bm:aG.borderColorMenuItem,fA:IPCC.eB.Kh,bY:'lineColor'};var Ge={bm:aG.fillColorMenuItem,fA:IPCC.eB.Kh,bY:'fillColor'};var abJ={bm:aG.lineThicknessMenuItem,fA:IPCC.eB.Eu,bY:'lineWidth',mI:adA};var abp={bm:aG.lineColorMenuItem,fA:IPCC.eB.Kh,bY:'lineColor'};var ajs={bm:aG.fontMenuItem,fA:IPCC.eB.VR};var Mn={bm:aG.opacityMenuItem,fA:IPCC.eB.Eu,bY:'opacity',mI:akR};var alK={bm:aG.moveToBackMenuItem,fA:IPCC.eB.aeZ};var apP={bm:aG.moveBackwardMenuItem,fA:IPCC.eB.afn};var aqP={bm:aG.moveForwardMenuItem,fA:IPCC.eB.afB};var alX={bm:aG.moveToFrontMenuItem,fA:IPCC.eB.acP};var sk={bm:aG.deleteMarkMenuItem,fA:IPCC.eB.Zw};var arT={aQ:180,dC:[alx,ang,akZ,asR,asW]};var agH={bm:aG.zoomToFitMenuItem,fA:IPCC.eB.Wj,mI:arT};var afV={aQ:200,dC:[apF,apU,aoA,anO]};var agU={bm:aG.orientationMenuItem,mI:afV};var Ld;if(IPCC.bZ){if(IPCC.jC===false){Ld={aQ:180,dC:[Qn,Sg,Oq,RN,null]};}else{Ld={aQ:180,dC:[Qn,Sg,Oq,RN,null,aoF,aoB,auL,anA,atO,aoX,atq]};}}else{Ld={aQ:180,dC:[Qn,Sg,Oq,RN]};}var aoY={bm:aG.mouseToolsMenuItem,fA:IPCC.eB.UU,mI:Ld};var alI={aQ:150,dC:[Ge,KC,Lh,null,Mn]};var aqQ={aQ:150,dC:[Ge,KC,Lh,null,null]};var amE={aQ:150,bm:aG.rectangleMarkPropertiesMenuItem,mI:alI};var arU={aQ:150,bm:aG.rectangleMarkPropertiesMenuItem,mI:aqQ};var agP={aQ:150,dC:[ajs,Ge,KC,Lh,null,null,null,Mn]};var ahk={bm:aG.textMarkPropertiesMenuItem,mI:agP};var agE={aQ:150,dC:[Ge,KC,Lh,null,Mn]};var ahz={bm:aG.polygonMarkPropertiesMenuItem,mI:agE};var agy={aQ:140,dC:[abJ,abp,null,Mn]};var agd={bm:aG.polylineMarkPropertiesMenuItem,mI:agy};var aiT={aQ:140,dC:[abJ,abp,null,null]};var aik={bm:aG.lineMarkPropertiesMenuItem,mI:aiT};var arv={aQ:140,dC:[alX,aqP,apP,alK]};var vD={bm:aG.markOrderingMenuItem,mI:arv};var arq={aQ:150,dC:[Ge]};var XM={bm:aG.stampMarkPropertiesMenuItem,mI:arq};this.ako={aQ:180,dC:[akp,ahX,agH,agU,aoY]};this.agi={aQ:140,dC:[ahk,vD,sk]};this.amo={aQ:140,dC:[amE,vD,sk]};this.asZ={aQ:140,dC:[XM,vD,sk]};this.asx={aQ:140,dC:[null,vD,sk]};this.ard={aQ:140,dC:[arU,vD,sk]};this.aiJ={aQ:140,dC:[ahz,vD,sk]};this.ahC={aQ:140,dC:[agd,vD,sk]};this.aiU={aQ:140,dC:[aik,vD,sk]};this.anI={aQ:140,dC:[XM,null,sk]};};IPCC.hw.prototype.ku=function(J){this.J=J;};IPCC.hw.prototype.fj=function(){this.J=false;};IPCC.hw.prototype.af=function(){};IPCC.hw.prototype.LF=function(C){var gY;if(C.mark&&this.Qy){var Oi=C.mark.ir();switch(C.mark.get_type()){case IPCC.Web.UI.MarkType.Line:gY=this.aiU;break;case IPCC.Web.UI.MarkType.Polyline:gY=this.ahC;break;case IPCC.Web.UI.MarkType.Rectangle:gY=this.amo;break;case IPCC.Web.UI.MarkType.Ellipse:gY=this.ard;break;case IPCC.Web.UI.MarkType.Polygon:gY=this.aiJ;break;case IPCC.Web.UI.MarkType.Text:gY=this.agi;break;case IPCC.Web.UI.MarkType.Stamp:if(Oi===true){gY=this.asx;}else{gY=this.asZ;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(C.mark.jd==='y'){gY=this.anI;}break;}}if(!gY){gY=this.ako;}var uw=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ve=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aaJ=new IPCC.Web.UI.Point(C.domEvent.clientX+uw,C.domEvent.clientY+ve);var O=this;function tL(bK){if(sm){var aA=bK.target;if(aA&&aA===null){return;}var AC,Xb;while(aA&&aA!==document.body&&aA.parentNode!==null){if(aA&&aA!==null){if(aA===sm){Xb=true;}if(!AC&&aA.ImGearCommand){AC=aA.ImGearCommand;}aA=aA.parentNode;}}if(!Xb||AC){IPCC.Web.UI.aW.removeHandler(document.body,'mousedown',tL);IPCC.Web.UI.aW.removeHandler(document.body,'mousemove',abY);document.body.removeChild(sm);sm=null;if(AC){AC.Nz=C;O.anw(AC);}}}};function VW(Fh,yM,xv,Ii){var un=false,G,aA;for(G=0;G<yM.length;G++){if(Fh===yM[G]){un=true;}}if(!un&&Fh.ImGearType==='menu'){Fh.style.display='none';}else{Fh.style.display='block';}aA=Fh.firstChild;while(aA){if(aA.ImGearType==='menuItemHighlight'){if(aA===Ii){aA.style.display='block';}else{aA.style.display='none';}}if(aA.firstChild){VW(aA,yM,xv,Ii);}aA=aA.nextSibling;}};function abY(bK){if(sm){var aA=bK.target;if(aA&&aA===null){return;}var yM=[sm],xv,Ii;while(aA&&aA!==document.body&&aA.parentNode!==null){if(!xv&&aA.ImGearType==='menuItem'){xv=aA;}if(aA.ImGearType==='menu'){yM.push(aA);}aA=aA.parentNode;}if(xv){aA=xv.firstChild;while(aA){if(aA.ImGearType==='menuItemHighlight'){Ii=aA;}else if(aA.ImGearType==='menu'){yM.push(aA);}aA=aA.nextSibling;}}VW(sm,yM,xv,Ii);}};var aX;if(window.innerWidth){aX={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aX={x:uw,y:ve,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aX={x:uw,y:ve,width:document.body.clientWidth,height:document.body.clientHeight};}var sm=this.adL(gY,false,false,aaJ,aaJ,true,aX,document.body,C.mark);VW(sm,[sm],null,null);document.body.appendChild(sm);IPCC.Web.UI.aW.addHandler(document.body,'mousedown',tL);IPCC.Web.UI.aW.addHandler(document.body,'mousemove',abY);};IPCC.hw.prototype.adL=function(gY,fA,bY,Va,Qr,Bi,aX,ale,K){var YD=24,Zu=1;var G,Ti=0;for(G=0;G<gY.dC.length;G++){var amt=gY.dC[G];if(amt){Ti+=YD;}else{Ti+=Zu;}}var Mq;if(Bi){Mq=Qr.x+gY.aQ;if(Mq>aX.x+aX.width){Bi=false;}}if(!Bi){Mq=Va.x-gY.aQ;if(Mq<aX.x){Bi=true;}}var oJ={x:Qr.x,y:Qr.y};if(!Bi){oJ={x:Va.x-gY.aQ-2,y:Va.y-2};}var adz=aX.y+aX.height-Ti-8;if(oJ.y>adz){oJ.y=adz;}if(oJ.y<aX.y+2){oJ.y=aX.y+2;}function fM(iY){var qt=document.createElement('div');var G;for(G in iY){if(iY.hasOwnProperty(G)){qt.style[G]=iY[G];}}return qt;};var GP=fM({zIndex:2,width:gY.aQ+'px',left:oJ.x+'px',top:oJ.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});GP.ImGearType='menu';for(G=0;G<gY.dC.length;G++){var uW=gY.dC[G];var sU;if(uW){sU=fM({position:'relative',height:'24px'});sU.ImGearType='menuItem';var xm=fM({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});sU.appendChild(xm);var Zl=fM({textOverflow:'ellipsis',whiteSpace:'nowrap',width:gY.aQ-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});sU.appendChild(Zl);var ZF=fM({display:'none',position:'absolute',height:'24px',width:gY.aQ+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});ZF.ImGearType='menuItemHighlight';sU.appendChild(ZF);Zl.appendChild(document.createTextNode(uW.bm));var Lb=uW.fA||fA;var Fk=uW.bY||bY;if(Fk){if(Lb===IPCC.eB.Eu){var asS=K['get_'+Fk]();if(asS===uW.V){if(this.J.kX()){xm.style.backgroundImage='url(\''+this.J.kX()+'/MenuIcons.png'+'\')';}else{xm.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}xm.style.backgroundPosition='0px';}}else if(Lb===IPCC.eB.Uv){var aqy=K['get_'+Fk]();if(aqy){if(this.J.kX()){xm.style.backgroundImage='url(\''+this.J.kX()+'/MenuIcons.png'+'\')';}else{xm.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}xm.style.backgroundPosition='24px 0px';}}}if(!uW.mI){sU.ImGearCommand={fA:Lb,bY:Fk,V:uW.V};}else{var aqC={x:aX.x-oJ.x,y:aX.y-oJ.y,width:aX.width,height:aX.height};this.adL(uW.mI,Lb,Fk,{x:0,y: -1},{x:gY.aQ,y: -1},Bi,aqC,sU,K);}oJ.y+=YD;}else{sU=fM({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});oJ.y+=Zu;}GP.appendChild(sU);}ale.appendChild(GP);return GP;};IPCC.hw.prototype.apb=function(K,aF,J){var uw=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ve=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aX;if(window.innerWidth){aX={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aX={x:uw,y:ve,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aX={x:uw,y:ve,width:document.body.clientWidth,height:document.body.clientHeight};}var md=aX.x+aX.width/2;var mX=aX.y+aX.height/2;var jj=document.createElement('div');jj.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mX-85)+'px;left:'+(md-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aG.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aG.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aG.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aG.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aG.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aG.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(jj);var Oc=document.getElementById('ImGearColorRed');var ZY=document.getElementById('ImGearColorGreen');var aar=document.getElementById('ImGearColorBlue');var DP=document.getElementById('ImGearColorOKButton');var IA=document.getElementById('ImGearColorCancelButton');var Ni=K['get_'+aF]();var Lt;if(Ni.length===7&&Ni.charAt(0)==='#'){Lt=parseInt(Ni.slice(1),16);}Oc.value=(Lt>>16);ZY.value=((Lt>>8)&255);aar.value=(Lt&255);function TW(Sv){var V=Math.floor(+(Sv.value));if(!isFinite(V)){V=0;}if(V<0){V=0;}if(V>255){V=255;}return V;};function yT(){IPCC.Web.UI.aW.removeHandler(DP,'click',DR);IPCC.Web.UI.aW.removeHandler(IA,'click',EI);IPCC.Web.UI.aW.removeHandler(document.body,'mousedown',tL);};function DR(){var di=TW(Oc)*65536+TW(ZY)*256+TW(aar);K['set_'+aF]('#'+(0x1000000+di).toString(16).slice(1));yT();document.body.removeChild(jj);jj=null;J.ak();};function EI(){yT();document.body.removeChild(jj);jj=null;};function tL(bK){if(jj){var aA=bK.target;var DK;while(aA!==document.body){if(aA===jj){DK=true;}aA=aA.parentNode;}if(!DK){yT();document.body.removeChild(jj);jj=null;}}};IPCC.Web.UI.aW.addHandler(DP,'click',DR);IPCC.Web.UI.aW.addHandler(IA,'click',EI);IPCC.Web.UI.aW.addHandler(document.body,'mousedown',tL);Oc.focus();};IPCC.hw.prototype.aoV=function(K,J){var uw=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ve=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aX;if(window.innerWidth){aX={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aX={x:uw,y:ve,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aX={x:uw,y:ve,width:document.body.clientWidth,height:document.body.clientHeight};}var md=aX.x+aX.width/2;var mX=aX.y+aX.height/2;var jj=document.createElement('div');jj.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mX-85)+'px;left:'+(md-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aG.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aG.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aG.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aG.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aG.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aG.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aG.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aG.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aG.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(jj);var Np=document.getElementById('ImGearFontFamily');var afo=document.getElementById('ImGearFontSize');var aeB=document.getElementById('ImGearFontItalic');var acX=document.getElementById('ImGearFontBold');var aeU=document.getElementById('ImGearFontUnderline');var abW=document.getElementById('ImGearFontStrikeout');var DP=document.getElementById('ImGearFontOKButton');var IA=document.getElementById('ImGearFontCancelButton');var arD=K.get_fontName();var asl=K.get_fontSize();var sr=K.get_fontStyle();Np.value=arD;afo.value=asl;aeB.checked=sr&IPCC.Web.UI.FontStyle.Italic;acX.checked=sr&IPCC.Web.UI.FontStyle.Bold;aeU.checked=sr&IPCC.Web.UI.FontStyle.Underline;abW.checked=sr&IPCC.Web.UI.FontStyle.Strikeout;function alV(Sv){var V=Math.floor(+(Sv.value));if(!isFinite(V)){V=12;}if(V<0.1){V=0.1;}if(V>288){V=288;}return V;};function yT(){IPCC.Web.UI.aW.removeHandler(DP,'click',DR);IPCC.Web.UI.aW.removeHandler(IA,'click',EI);IPCC.Web.UI.aW.removeHandler(document.body,'mousedown',tL);};function DR(){K.set_fontName(Np.value);var hI=alV(afo);K.set_fontSize(hI);var dn=0;if(aeB.checked){dn|=IPCC.Web.UI.FontStyle.Italic;}if(acX.checked){dn|=IPCC.Web.UI.FontStyle.Bold;}if(aeU.checked){dn|=IPCC.Web.UI.FontStyle.Underline;}if(abW.checked){dn|=IPCC.Web.UI.FontStyle.Strikeout;}K.set_fontStyle(dn);yT();document.body.removeChild(jj);jj=null;J.ak();};function EI(){yT();document.body.removeChild(jj);jj=null;};function tL(bK){if(jj){var aA=bK.target;var DK;while(aA!==document.body){if(aA===jj){DK=true;}aA=aA.parentNode;}if(!DK){yT();document.body.removeChild(jj);jj=null;}}};IPCC.Web.UI.aW.addHandler(DP,'click',DR);IPCC.Web.UI.aW.addHandler(IA,'click',EI);IPCC.Web.UI.aW.addHandler(document.body,'mousedown',tL);Np.focus();};IPCC.hw.prototype.anw=function(C){var K=C.Nz.mark;switch(C.fA){case IPCC.eB.Eu:K['set_'+C.bY](C.V);this.J.ak();break;case IPCC.eB.Kh:this.apb(K,C.bY,this.J);break;case IPCC.eB.VR:this.aoV(K,this.J);break;case IPCC.eB.Uv:K['set_'+C.bY](!K['get_'+C.bY]());this.J.ak();break;case IPCC.eB.aeZ:K.moveToBack();this.J.ak();break;case IPCC.eB.afn:K.moveBackward();this.J.ak();break;case IPCC.eB.afB:K.moveForward();this.J.ak();break;case IPCC.eB.acP:K.moveToFront();this.J.ak();break;case IPCC.eB.Zw:K.removeFromPage();this.J.ak();break;default:this.J.aus(C);break;}};IPCC.dm=function(){this.J=false;this.En=0;this.ata=1;this.WD=2;this.Wh=3;};IPCC.dm.prototype.ku=function(J){this.J=J;this.bU=this.En;};IPCC.dm.prototype.fj=function(){this.J=false;};IPCC.dm.prototype.af=function(){this.bU=this.En;};IPCC.dm.prototype.aeO=function(C){var aua=new Date()-this.anl;if(aua<750){var eh=this.Zi.x-C.windowPoint.x;var eT=this.Zi.y-C.windowPoint.y;var gn=eh*eh+eT*eT;if(gn<2500){return true;}}return false;};IPCC.dm.prototype.Xo=function(C){this.anl=new Date();this.Zi=new IPCC.Web.UI.Point(C.windowPoint.x,C.windowPoint.y);};IPCC.dm.prototype.KN=function(C){var bK=C.domEvent.rawEvent;if(bK.touches.length===1){if(this.bU===this.WD&&this.aeO(C)){this.bU=this.Wh;}else{this.bU=this.ata;}this.Xo(C);this.J.gV('jl',C);}else{this.bU=this.En;this.J.gV('pg',C);}};IPCC.dm.prototype.KT=function(C){var bK=C.domEvent.rawEvent;if(bK.touches.length===1){this.J.gV('jB',C);}};IPCC.dm.prototype.Lw=function(C){var bK=C.domEvent.rawEvent;if(bK.touches.length===0){if(this.aeO(C)){if(this.bU===this.Wh){this.bU=this.En;this.J.gV('he',C);this.J.gV('rW',C);}else{this.Xo(C);this.bU=this.WD;this.J.gV('he',C);}}else{this.bU=this.En;this.J.gV('he',C);}}};IPCC.dm.prototype.Ec=function(C){this.J.gV('pg',C);};IPCC.dQ=function(aaU){this.aaU=aaU;this.VS=0;this.JO=1;this.IU=2;this.VQ=3;this.Tn=4;this.bU=this.VS;this.J=false;this.rR=0;};IPCC.dQ.prototype.ku=function(J){this.J=J;this.ae=J.bu();};IPCC.dQ.prototype.fj=function(){this.J=false;};IPCC.dQ.prototype.af=function(){if(this.bU===this.IU){this.J.bu().hideMagnifier();}this.bU=this.VS;};IPCC.dQ.prototype.KN=function(C){var bK=C.domEvent.rawEvent;switch(this.bU){case this.VS:if(bK.touches.length===1){this.ajh(C);}else if(bK.touches.length===2){this.aci(C);}else if(bK.touches.length===3){this.OK(C);}else{this.af();}break;case this.JO:if(bK.touches.length===2){this.aci(C);}else if(bK.touches.length===3){this.OK(C);}else{this.af();}break;case this.Tn:if(bK.touches.length!==3){this.af();}break;case this.IU:this.af();break;case this.VQ:if(bK.touches.length===3){this.OK(C);}else if(bK.touches.length!==2){this.af();}break;}};IPCC.dQ.prototype.KT=function(C){switch(this.bU){case this.JO:this.rR++;break;case this.IU:this.Yk(C);break;case this.VQ:this.ahQ(C);break;case this.Tn:this.amK(C);break;}};IPCC.dQ.prototype.Lw=function(){this.af();};IPCC.dQ.prototype.Ec=function(){this.af();};IPCC.dQ.prototype.ajh=function(C){this.bU=this.JO;this.rR++;var akh=this.rR;var O=this;function ama(){if(O.bU===this.JO&&akh===O.rR){O.aji(C);}};setTimeout(ama,1000);};IPCC.dQ.prototype.aji=function(C){this.J.gV('pg',C);this.Yk(C);this.bU=this.IU;};IPCC.dQ.prototype.OK=function(C){var bK=C.domEvent.rawEvent;if(bK.touches.length!==3){this.af();return;}var gu=bK.touches[0];var cV={x:gu.screenX,y:gu.screenY};var cw=this.ae.eW();cw.wc();this.KD=cV;this.afW=cV;this.Vf=cw.transform(cV);this.bU=this.Tn;this.avq=this.ae.eW();this.afw=true;this.aem=true;};IPCC.dQ.prototype.amK=function(C){var bK=C.domEvent.rawEvent;if(bK.touches.length!==3){this.af();return;}var gu=bK.touches[0];var cV={x:gu.screenX,y:gu.screenY};var atR=Math.abs(cV.x-this.KD.x);var aue=Math.abs(cV.y-this.KD.y);if(atR>35){this.aem=false;}if(aue>35){this.afw=false;}if(this.afw){cV.y=this.KD.y;}if(this.aem){cV.x=this.KD.x;}this.afW=cV;var bP=this.ae.eW();var av=this.J.eQ();var aj=this.J.dJ();bP.QS(this.Vf,cV);bP.iE(aj,av);this.ae.iu(bP);};IPCC.dQ.prototype.avu=function(){};IPCC.dQ.prototype.aaK=function(C){var bK=C.domEvent.rawEvent;if(bK.touches.length!==2){this.af();return{};}var KL=bK.touches[0];var LT=bK.touches[1];var eh=KL.screenX-LT.screenX;var eT=KL.screenY-LT.screenY;var od=Math.sqrt(eh*eh+eT*eT);var gv=Math.atan2(eh,eT)*180/Math.PI;var au={x:(KL.screenX+LT.screenX)/2,y:(KL.screenY+LT.screenY)/2};return{od:od,gv:gv,YY:au};};IPCC.dQ.prototype.aci=function(C){this.bU=this.VQ;this.apQ=this.aaK(C);this.JP=this.apQ;var cw=this.ae.eW();cw.wc();this.Vf=cw.transform(this.JP.YY);this.Fm=this.JP.gv;};IPCC.dQ.prototype.Yk=function(C){var bK=C.domEvent.rawEvent;var gu=bK.touches[0];var cV={x:gu.screenX,y:gu.screenY};this.ae.showMagnifier(cV);};IPCC.dQ.prototype.ahQ=function(C){var uZ=this.aaK(C);var cX=uZ.od/this.JP.od;var bP=this.ae.eW();var av=this.J.eQ();var aj=this.J.dJ();bP.scale(cX,cX);var AF=this.Fm-uZ.gv;var ZI=this.Fm-uZ.gv-360;var WZ=this.Fm-uZ.gv+360;if(Math.abs(AF)>Math.abs(ZI)){AF=ZI;}if(Math.abs(AF)>Math.abs(WZ)){AF=WZ;}if(AF< -40){bP.rotate(-90);this.Fm=uZ.gv;}else if(AF>40){bP.rotate(90);this.Fm=uZ.gv;}bP.QS(this.Vf,uZ.YY);bP.iE(aj,av);this.ae.iu(bP);this.JP=uZ;};IPCC.dQ.prototype.SQ=function(C){var bP=this.ae.eW();var av=this.J.eQ();var aj=this.J.dJ();bP.RJ(IPCC.Web.UI.FitType.FullImage,aj,av);bP.iE(aj,av);this.ae.iu(bP);};IPCC.dQ.prototype.lz=function(){this.af();};IPCC.oM=function(){this.bn=false;this.J=false;};IPCC.oM.prototype.ku=function(J){J.bu().set_cursor(IPCC.bM.Text);this.J=J;};IPCC.oM.prototype.fj=function(){this.J=false;};IPCC.oM.prototype.af=function(){if(this.bn){this.J.bu().VM();this.J.bu().set_cursor(this.iI);this.bn=false;}};IPCC.oM.prototype.pg=function(){this.af();};IPCC.oM.prototype.jl=function(C){if(C.domEvent.button===0){var ae=this.J.bu();this.iI=ae.get_cursor();ae.set_cursor(IPCC.bM.Text);this.bn=true;var bD=this.J.DV(C.constrainedImagePoint);this.J.nk=bD;if(!bD){return;}this.J.yo(bD);ae.yo(bD);ae.sH(undefined);this.J.ak();}};IPCC.oM.prototype.jB=function(C){var J=this.J;J.amF=true;if(C.domEvent.button!==0){this.af();}if(this.bn){var ae=J.bu();var bD=J.DV(C.constrainedImagePoint);var gO=ae.Hb();if(gO===bD){return;}J.sH(bD);J.ak();}};IPCC.oM.prototype.he=function(C){if(C.domEvent.button===0){this.bn=false;}var J=this.J;var ae=this.J.bu();var dP=ae.fp.length;if(dP===0){this.af();return;}var aH=ae.fp[0].bD;var ct=ae.fp[dP-1].bD;if(J.FZ===true){if(aH>ct){aH=ct;}var G;var jr=IPCC.Ha();this.K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.K.aH=aH;this.K.cz=J.zT();this.K.co=dP;this.K.set_fillColor(J.rZ);this.K.jd='y';this.K.bN=jr;for(G=0;G<ae.fp.length;G++){var eI=ae.fp[G];var AO=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var agp=eI.K.dU();AO.set_fillColor(J.rZ);AO.set_opacity(eI.K.get_opacity());AO.set_rectangle(agp);AO.bN=jr;AO.jd='y';this.J.dO().addMark(AO);}ae.fp=[];if(dP>0){this.J.dO().addMark(this.K);}J.ml().removeAllMarks();}dP=ae.fp.length;var acZ=new IPCC.Web.UI.TextSelectedEventArgs();acZ.text=J.zT();J.by('selectTextMouseToolCompleted',acZ);J.ak();this.af();};IPCC.oM.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.oM.prototype.lz=function(){this.af();};IPCC.RC=function(wO){var ae;var aD;var ig;var av;var bx=this;var yv;var zx='';var _debug=false;var jU=IPCC.Web.UI.DebugErrorLevel.Production;var kO=[];var be=new IPCC.Web.UI.fY();var aO;var mK=null;var zf=false;var sF=false;var PH;var HJ=IPCC.Web.UI.ImGearArtDataServices.None;var IE=false;var ky='';var kU;var aaB=false;var aae=false;var vV=0;var qD=true;var zQ;var eg;var nb=false;var aaM=true,lk=false;var aac=false;this.PN=0.0;this.ge=function(rG){if(!_debug){return false;}return jU>=rG;};this.hc=function(fS,Hs,bQ){IPCC.ed.hc(fS,Hs,bQ,zx,yv);};this.F=function(eo,hd){if(!this.ge(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aY=eo+'() threw an exception ('+hd.name+'), "'+hd.message+'"';aY=aY.replace(/\n/g," ");this.hc(aY,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bx.by('exceptionThrown',{"function_name":eo,"exception":hd,"pageNumber":bx.ar});};this.get_debug=function(){return _debug;};this.set_debug=function(V){var wU= ! !V;if(_debug===wU){return;}_debug=wU;this.ac('debug');};this.lL=function(){return jU;};this.rS=function(V){if(jU===V){return;}jU=V;this.ac('debugErrorLevel');};this.WI=function(V){zx=V;};this.ajE=function(){return zx;};this.Wy=function(V){yv=V;};this.cP=function(atk){this.DZ(false);var G;for(G=kO.length-1;G>=0;G--){if(kO[G]instanceof IPCC.ln){kO[G].af(true);}else{kO[G].af();}if(kO[G]instanceof IPCC.nm){kO[G].fj(true);}else{kO[G].fj();}}kO=atk;ae.set_cursor(IPCC.bM.Default);for(G=0;G<kO.length;G++){kO[G].ku(this);}};this.avx=function(){var G;for(G=0;G<kO.length;G++){kO[G].af();}};this.gV=function(afF,C){var G;for(G=0;G<kO.length;G++){if(C&&C.abq&&C.abq()){return;}if(kO[G][afF]){kO[G][afF](C);}}};this.ars=function(jk,cE){switch(jk){case 'touchstart':ig.Qh&&ig.Qh(cE);break;case 'touchmove':ig.PR&&ig.PR(cE);break;case 'touchend':ig.PJ&&ig.PJ(cE);break;case 'doubleTap':ig.Zd&&ig.Zd(cE);break;}};this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.add_mouseDown=function(R){be.addHandler('mouseDown',R);};this.remove_mouseDown=function(R){be.removeHandler('mouseDown',R);};this.add_mouseMove=function(R){be.addHandler('mouseMove',R);};this.remove_mouseMove=function(R){be.removeHandler('mouseMove',R);};this.add_mouseUp=function(R){be.addHandler('mouseUp',R);};this.remove_mouseUp=function(R){be.removeHandler('mouseUp',R);};this.add_contextMenu=function(R){be.addHandler('contextMenu',R);};this.remove_contextMenu=function(R){be.removeHandler('contextMenu',R);};this.afS=function(R){be.addHandler('contextMenuCommand',R);};this.awQ=function(R){be.removeHandler('contextMenuCommand',R);};this.add_mouseWheel=function(R){be.addHandler('mouseWheel',R);};this.remove_mouseWheel=function(R){be.removeHandler('mouseWheel',R);};this.add_mouseOut=function(R){be.addHandler('mouseOut',R);};this.remove_mouseOut=function(R){be.removeHandler('mouseOut',R);};this.adX=function(R){be.addHandler('resize',R);};this.awo=function(R){be.removeHandler('resize',R);};this.alU=function(R){be.addHandler('userModifiedViewState',R);};this.avn=function(R){be.removeHandler('userModifiedViewState',R);};this.add_scaleChanged=function(R){be.addHandler('scaleChanged',R);};this.remove_scaleChanged=function(R){be.removeHandler('scaleChanged',R);};this.add_markAdded=function(R){be.addHandler('markAdded',R);};this.remove_markAdded=function(R){be.removeHandler('markAdded',R);};this.add_markCreating=function(R){be.addHandler('markCreating',R);};this.remove_markCreating=function(R){be.removeHandler('markCreating',R);};this.add_markChanged=function(R){be.addHandler('markChanged',R);};this.remove_markChanged=function(R){be.removeHandler('markChanged',R);};this.add_inProgressMarkChanged=function(R){be.addHandler('inProgressMarkChanged',R);};this.remove_inProgressMarkChanged=function(R){be.removeHandler('inProgressMarkChanged',R);};this.add_markRemoved=function(R){be.addHandler('markRemoved',R);};this.remove_markRemoved=function(R){be.removeHandler('markRemoved',R);};this.add_markReordered=function(R){be.addHandler('markReordered',R);};this.remove_markReordered=function(R){be.removeHandler('markReordered',R);};this.add_marksLoaded=function(R){be.addHandler('marksLoaded',R);};this.remove_marksLoaded=function(R){be.removeHandler('marksLoaded',R);};this.add_marksSaved=function(R){be.addHandler('marksSaved',R);};this.remove_marksSaved=function(R){be.removeHandler('marksSaved',R);};this.add_markSelectionChanged=function(R){be.addHandler('markSelectionChanged',R);};this.remove_markSelectionChanged=function(R){be.removeHandler('markSelectionChanged',R);};this.add_markTextSelectionChanged=function(R){be.addHandler('markTextSelectionChanged',R);};this.remove_markTextSelectionChanged=function(R){be.removeHandler('markTextSelectionChanged',R);};this.add_pageOpenFailed=function(R){be.addHandler('pageOpenFailed',R);};this.add_pageDisplayed=function(R){be.addHandler('pageDisplayed',R);};this.remove_pageOpenFailed=function(R){be.removeHandler('pageOpenFailed',R);};this.add_textPageReady=function(R){be.addHandler('textPageReady',R);};this.remove_textPageReady=function(R){be.removeHandler('textPageReady',R);};this.add_selectTextMouseToolCompleted=function(R){be.addHandler('selectTextMouseToolCompleted',R);};this.remove_selectTextMouseToolCompleted=function(R){be.removeHandler('selectTextMouseToolCompleted',R);};this.add_exceptionThrown=function(R){be.bj('exceptionThrown',R);};this.remove_exceptionThrown=function(R){be.bV('exceptionThrown',R);};this.add_textExtractionFailed=function(R){be.bj('textExtractionFailed',R);};this.remove_textExtractionFailed=function(R){be.bV('textExtractionFailed',R);};this.ac=function(aF,tO){var R=be.getHandler("propertyChanged");if(R){R(this,new IPCC.nF(aF,tO));}};this.le=function(){var _parent=document.getElementById(yv);return _parent;};this.bu=function(){return ae;};this.awt=function(){return be;};function Lm(ad,C){IE=true;C.pageIndex=bx.ar;bx.by('markAdded',C);bx.gV('ka',C);};function Lc(ad,C){IE=true;C.pageIndex=bx.ar;bx.by('markChanged',C);bx.gV('rs',C);};function afp(ad,C){C=new IPCC.Web.UI.MarkEventArgs();C.mark=mK;C.pageIndex=bx.ar;bx.by('inProgressMarkChanged',C);bx.gV('_onInProgressMarkChanged',C);};function La(ad,C){IE=true;C.pageIndex=bx.ar;bx.by('markRemoved',C);bx.gV('aei',C);};function aky(ad,C){bx.by('textPageReady',C);};function aki(ad,C){bx.by('textExtractionFailed',C);};function LV(ad,C){IE=true;C.pageIndex=bx.ar;bx.by('markReordered',C);bx.gV('aea',C);};function LM(ad,C){C.pageIndex=bx.ar;bx.by('marksLoaded',C);bx.gV('Yt',C);};function Lq(ad,C){C.pageIndex=bx.ar;bx.by('markSelectionChanged',C);bx.gV('Xm',C);};function amV(ad,C){C.pageIndex=bx.ar;bx.by('markTextSelectionChanged',C);};this.auF=function(ad,C){this.gV('_onTextMarkEditCompleted',C);};function Nj(ad,C){C.pageIndex=bx.ar;bx.by('propertyChanged',C);};this.jR=function(V){if(V===aO){return;}if(aO){aO.remove_markAdded(Lm);aO.remove_markChanged(Lc);aO.remove_markRemoved(La);aO.remove_markReordered(LV);aO.remove_marksLoaded(LM);aO.remove_markSelectionChanged(Lq);aO.jK(Nj);aO.Eq(true);}aO=V;if(aO){aO.add_markAdded(Lm);aO.add_markChanged(Lc);aO.add_markRemoved(La);aO.add_markReordered(LV);aO.add_marksLoaded(LM);aO.add_markSelectionChanged(Lq);aO.add_markTextSelectionChanged(amV);aO.jx(Nj);}this.ac('artPage');};this.dO=function(){return aO;};this.ml=function(){return eg;};this.uY=function(V){if(V===eg){return;}if(eg){eg.remove_markAdded(Lm);eg.remove_markChanged(Lc);eg.remove_markRemoved(La);eg.remove_markReordered(LV);eg.remove_marksLoaded(LM);eg.remove_markSelectionChanged(Lq);eg.jK(Nj);}eg=V;if(eg){eg.add_markAdded(Lm);eg.add_markChanged(Lc);eg.add_markRemoved(La);eg.add_markReordered(LV);eg.add_marksLoaded(LM);eg.add_markSelectionChanged(Lq);eg.jx(Nj);}this.ac('transientArtPage');};var hh;this.wf=function(){if(!hh){if(IPCC.Web.UI.Mark){hh=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);hh.set_opacity(100);hh.set_fillColor('#3366CC');hh.set_fillVisible(true);}}return hh;};this.vB=function(V){HJ=V;this.ac('artServiceOption');};this.va=function(){return HJ;};this.lV=function(K,mf){if(mK===K){return;}if(mK){mK.remove_propertyChanged(afp);}if(K&& !mK){var C=new IPCC.Web.UI.MarkEventArgs();C.mark=mf?mf:K;C.pageIndex=this.ar;this.by('markCreating',C);}mK=K;if(mK){mK.add_propertyChanged(afp);}this.ac('inProgressMark');};this.agQ=function(){return mK;};this.vN=function(V){if(V===aD){return;}aD=V;this.AP=false;ae.oC();this.ac('image');};this.dJ=function(){return aD;};this.WR=function(V){if(V===zf){return;}zf=V;this.ac('zf');};this.adB=function(){return zf;};this.Qg=function(K){this.DZ(false);ig.agB(K);sF=true;PH=K;this.ac('sF');};this.GO=function(aH,dP){if(this.hX()&&this.cu().oE()===true){var eJ=this.cu().gz();var G=aH;for(;G<aH+dP;G++){var dk=eJ.iF(G);var oe='#3366CC';var yS='#3366CC';eg.FO(dk.aX,yS,oe,false,G);}}};this.awZ=function(bs){var G;try{var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!hh){hh=bx.wf();}for(G in hh){if(hh.hasOwnProperty(G)){bI[G]=hh[G];}}bI.set_rectangle({x:bs.x,y:bs.y,width:bs.width,height:bs.height});bx.lV(bI);eg.addMark(bI);return bI;}catch(ajH){var aoL=ajH.message;window.console.log(aoL);}};this.DV=function(dr){var ajD;var eJ;var Pp;ajD=bx.cu();eJ=bx.cu().gz();function apI(Pg){var st=Pg.Lf();if((dr.x>=st.x-10&&dr.x<=st.x+st.width+1)&&(dr.y>=st.y-1&&dr.y<=st.y+st.height+1)){return true;}st=undefined;};if(!Pp){for(var G=0;G<eJ.hv();G++){if(apI(eJ.iF(G))){Pp=G;break;}}}return Pp;};this.amF=false;this.yo=function(bD){if(bD===undefined){return;}if(bx.hX()&&bx.cu().oE()===true){var yk=bx.cu().gz().hv();IPCC.aE.mh(bD,'textIndex',0,yk-1);bx.bu().yo(bD);bx.ml().LH();if(bx.yD()===true){bx.ak();}}};this.Rw=function(){var BL=bx.bu().get_transientHighlightMarks();while(BL.length>0){bx.ml().removeMark(BL.pop());}};this.IV=function(sz,dP){if(bx.hX()&&bx.cu().oE()===true){var G=sz;var eJ=this.cu().gz();var ct=sz+dP;if(!hh){hh=bx.wf();}var BL=bx.bu().get_transientHighlightMarks();for(;G<ct;G++){var dk=eJ.iF(G);BL.push(eg.ape(dk.aX,hh,G));}}};this.aws=function(axY,dP){var ae=bx.bu();for(var bF=dP-1;bF>dP;bF--){var eI=ae.fp[bF];eg.removeMark(eI.K);}};this.sH=function(bD){if(bD===undefined){return;}var dk;var ae=bx.bu();var gO=ae.Hb();var aH;var oe='#3366CC';var yS='#3366CC';var cG=100;if(!hh){hh=bx.wf();}cG=hh.get_opacity();if(!cG){cG=100;}oe=hh.get_fillColor();if(oe===undefined){oe='#3366CC';}var eJ=bx.cu().gz();if(gO===undefined){dk=eJ.iF(bD);var K=eg.FO(dk.aX,yS,oe,false,cG,bD);ae.sH(bD,K,dk.iA);return;}else{aH=gO+1;}var dP=Math.abs(bD-aH);var bF;function PF(bH){for(bF=ae.fp.length-1;bF>=0;bF--){var eI=ae.fp[bF];if(eI.bD===bH){eg.removeMark(eI.K);ae.auR(bH);ae.asm(bH);return bF;}}return-1;};function adO(bH,agW){var hK=false;var acg;var Cs;var eI;var LZ;for(bF=ae.fp.length-1;bF>=0;bF--){eI=ae.fp[bF];if(eI.bD<bH){hK=true;Cs=eI.bD;acg=bF;break;}else if(eI.bD>bH){hK=true;Cs=eI.bD;acg=bF;break;}}if(hK===true){var Jz;var XB;if(agW){LZ=Cs+1;dk=eJ.iF(Cs+1);}else{LZ=Cs-1;dk=eJ.iF(Cs-1);}Jz=eg.FO(dk.aX,yS,oe,false,cG,LZ);XB={bD:LZ,K:Jz,iA:dk.iA};ae.fp.splice(bF+1,0,XB);}};var kw,G,Cd;if(gO<bD){for(G=aH;G<aH+dP;G++){kw=PF(G);if(kw>=0){if((kw+1)<(ae.fp.length)){Cd=ae.fp[kw+1];if(Cd){eg.removeMark(Cd.K);}ae.fp.splice(kw,2);}else{ae.fp.splice(kw,1);}}else{if(ae.IQ()!==undefined){if(ae.IQ()===G-1){adO(G,true);}}dk=eJ.iF(G);var Jz=eg.FO(dk.aX,yS,oe,false,cG,G);ae.sH(G,Jz,dk.iA);}}}else if(gO>bD){aH=gO;for(G=aH-1;G>aH-dP;G--){kw=PF(G);if(kw>=0){if((kw+1)<(ae.fp.length)){Cd=ae.fp[kw+1];if(Cd){eg.removeMark(Cd.K);}ae.fp.splice(kw,2);}else{ae.fp.splice(kw,1);}}else{if(ae.IQ()!==undefined){if(ae.IQ()===G+1){adO(G,false);}}dk=eJ.iF(G);var arR=eg.FO(dk.aX,yS,oe,false,cG,G);ae.sH(G,arR,dk.iA);}}}else{kw=PF(bD);if(kw>=0){dk=eJ.iF(bD);ae.fp.splice(kw,1);}}};this.zT=function(){var Wk="";try{var ae=bx.bu();if(bx.bu().zo()){var ajS=bx.cu().gz();if(ae.fp.length>0){var BO=[];for(var G=0;G<ae.fp.length;G++){BO.push(ae.fp[G].bD);}if(BO[0]>BO[1]){BO.reverse();}for(G=0;G<BO.length;G++){Wk+=ajS.iF(BO[G]).akO();}}}return Wk;}catch(e){window.console.log(e.message);}};this.DZ=function(aqV){if(sF){if(aqV){ig.arn();}sF=false;PH=null;this.auF();this.ac('sF');bx.ak();}};this.afE=function(){return sF;};this.Wv=function(){return PH;};this.II=function(V){aae=V;};this.EV=function(){return aae;};this.vK=function(V){if(V===vV){return;}vV=V;this.ac('vV');};this.GT=function(){return vV;};this.Eq=function(V){if(aO){aO.Eq(V);}};this.CO=function(){if(aO){return aO.CO();}return true;};this.ada=function(avZ){var av=ig.YN(this.le());this.auJ(av);};this.auJ=function(V){if(V===av){return;}av=V;this.ac('windowSpace');};this.eQ=function(){return av;};this.ak=function(){ig.ak(aD,ae,av);};this.sa=function(V){kU=V;};this.kX=function(){return kU;};this.cu=function(){return zQ.cu();};var kQ=0;this.mA=function(){return zQ;};this.tA=function(V){if(V===this.mA()){return;}zQ=V;if(zQ){zQ.uK(aky);zQ.yV(aki);}};this.hX=function(){return qD;};this.vi=function(V){qD=V;this.ac('textRequired');};this.mZ=function(){return nb;};this.qX=function(V){if(nb===V){return;}nb=V;this.ac('requireRequestsOptimize');};this.yD=function(){return aaM;};this.QQ=function(V){aaM=V;this.ac('autoUpdate');};this.iQ=function(){return kQ;};this.sJ=function(V){if(kQ===V){return;}if(isNaN(V)){return;}kQ=V;this.ac('serviceResponseTimeout');};var om='';this.UJ=function(fJ,ay){if(fJ!==''){fJ='/'+fJ;}ay=ay||'';if(ay===null||ay===''){if(fJ==='/Attributes'){if(/^[\x00-\x7F]*$/.test(aD.get_identifier())){return om+'/Page/q/'+aD.ar.toString()+fJ+'?DocumentID=u'+encodeURIComponent(aD.get_identifier());}else{return om+'/Page/q/'+aD.ar.toString()+fJ+'?DocumentID=e'+aD.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(aD.get_identifier())){return om+'/Page/q/'+aD.ar.toString()+fJ+'?DocumentID=u'+encodeURIComponent(aD.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return om+'/Page/q/'+aD.ar.toString()+fJ+'?DocumentID=e'+aD.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(aD.get_identifier())){return om+'/Page/q/'+aD.ar.toString()+fJ+'?DocumentID=u'+encodeURIComponent(aD.get_identifier())+'&'+ay;}else{return om+'/Page/q/'+aD.ar.toString()+fJ+'?DocumentID=e'+aD.get_encodedIdentifier()+'&'+ay;}}};this.aqa=function(fJ,ay){fJ=fJ||'Art';ay=ay||'';if(ay===null||ay===''){if(fJ==='Art'){return om+'/Page/q/'+aD.ar.toString()+'/'+fJ+'?DocumentID=e'+aD.get_encodedIdentifier();}}else{return om+'/Page/q/'+aD.ar.toString()+'/'+fJ+'?DocumentID=e'+aD.get_encodedIdentifier()+'&'+ay;}};this.zX=function(ur){if(IE===false){if(ur){ur();}return;}var vO=new XMLHttpRequest();function kq(){if(ur){ur();}};var agS=aO.saveToJson();vO.open('POST',this.aqa('Art'),true);vO.setRequestHeader('Content-Type','application/json');vO.onreadystatechange=function(){if(vO.readyState!==4){return;}if(vO.status!==200&&vO.status!==304){return;}kq(vO);};vO.send(agS);};this.mU=function(){return om;};this.zP=function(V){om=V;this.ac('imageHandlerUrl');if(!IPCC.Web.ss){if(IPCC.Web.vg===false){IPCC.Web.MU(V);}}};this.oW=function(){return aaB;};this.Kr=function(V){aaB=V;};this.JN=function(){return aac;};this.asM=function(V){aac=V;};this.fc=function(){return ky;};this.lU=function(V){ky=V;ky.tabIndex= -1;};this.fG=function(){return lk;};this.gW=function(V){if(typeof V!=="boolean"){return;}if(V===lk){return;}lk=V;};this.aup=function(C){if(sF){this.DZ(true);}else{this.by('mouseDown',C);this.gV('jl',C);}};this.aty=function(C){this.by('mouseMove',C);this.gV('jB',C);};this.atX=function(C){this.by('mouseUp',C);this.gV('he',C);};this.atG=function(C){this.by('mouseWheel',C);this.gV('lz',C);};this.avg=function(C){this.by('mouseDoubleClick',C);this.gV('rW',C);};this.auW=function(C){this.by('contextMenu',C);this.gV('LF',C);};this.aus=function(C){this.by('contextMenuCommand',C);};this.atm=function(C){this.by('mouseOut',C);this.gV('lO',C);};this.anW=function(C){this.by('touchStart',C);this.gV('jl',C);};this.anR=function(C){this.by('touchMove',C);this.gV('jB',C);};this.aoj=function(C){this.by('touchEnd',C);this.gV('he',C);};this.avc=function(C){this.by('touchCancel',C);this.gV('Ec',C);};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(bx,C);}};var adF=function(J,wO){ae=new IPCC.alq();function oH(ad,C){bx.by('propertyChanged',C);};ae.jx(oH);if(IPCC.uR.yW()){ig=new IPCC.adh(J,wO);}else{ig=new IPCC.Ia(J);}if(IPCC.bZ){ig.oP=new IPCC.bZ.bG(J);ig.aiM=new IPCC.bZ.bG(J);}};if(wO===false){adF(this,false);}else{adF(this,true);}return this;};IPCC.uR={yW:function(){var tJ=IPCC.uR;if(tJ.rI===null){
/*@cc_on@if(@_jscript)tJ.rI=document.documentMode>8;@else@*/ tJ.rI=true;/*@end@*/}return tJ.rI;},rI:null};IPCC.bM={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,eU:function(az){switch(az){case IPCC.bM.Default:case IPCC.bM.Magnifier:case IPCC.bM.None:case IPCC.bM.RunMarks:return 'auto';case IPCC.bM.Arrow:case IPCC.bM.EditMarks:return 'default';case IPCC.bM.Crosshair:case IPCC.bM.RectangleZoom:case IPCC.bM.AddRectangleMark:case IPCC.bM.AddEllipseMark:case IPCC.bM.AddLineMark:case IPCC.bM.AddFreehandLineMark:case IPCC.bM.AddPolygonMark:case IPCC.bM.AddPolylineMark:case IPCC.bM.AddTextMark:case IPCC.bM.AddRectangleRedactionMark:case IPCC.bM.AddImageStampMark:case IPCC.bM.AddStampMark:return 'crosshair';case IPCC.bM.Link:return 'pointer';case IPCC.bM.HandOpen:case IPCC.bM.HandClosed:case IPCC.bM.Move:return 'move';case IPCC.bM.ResizeN:return 'n-resize';case IPCC.bM.ResizeE:return 'e-resize';case IPCC.bM.ResizeS:return 's-resize';case IPCC.bM.ResizeW:return 'w-resize';case IPCC.bM.ResizeNW:return 'nw-resize';case IPCC.bM.ResizeNE:return 'ne-resize';case IPCC.bM.ResizeSE:return 'se-resize';case IPCC.bM.ResizeSW:return 'sw-resize';case IPCC.bM.Text:return 'text';}return 'auto';}};IPCC.alq=function(){var cw=new IPCC.dG();var Al=false;var tp;var qN;var JY=false;var Am=new IPCC.AH(200,150,96,96);var rv={x:0,y:0};var Kz=3;var JI=0,JG=0;var io=0.2;var AE=new IPCC.dG();var Iw=0;var BU=0;var zi=false;var To;this.fp=[];var Uc=IPCC.Web.UI.ScrollBars.Auto;var BL=[];this.get_transientHighlightMarks=function(){return BL;};this.get_scrollBars=function(){return Uc;};this.get_overflow=function(){switch(Uc){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(V){Uc=V;this.ac('scrollBars');};var be=new IPCC.Web.UI.fY();this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};var onSelectionChanged=function(ae){var C={};C.selectionIsVisible=Al;C.selectionRectangle=ae.wM();ae.ac('selection');};this.oC=function(){tp={x:0,y:0};qN={x:0,y:0};if(!Al){return;}Al=false;onSelectionChanged(this);};this.showSelection=function(ci){tp.x=ci.x;tp.y=ci.y;qN.x=ci.x+ci.width;qN.y=ci.y+ci.height;Al=true;onSelectionChanged(this);};this.zr=function(dr){tp.x=dr.x;tp.y=dr.y;qN.x=dr.x;qN.y=dr.y;Al=true;onSelectionChanged(this);};this.As=function(dr){qN.x=dr.x;qN.y=dr.y;onSelectionChanged(this);};this.AK=function(){return Al;};this.wM=function(){var h=new IPCC.Web.UI.Rectangle(Math.min(tp.x,qN.x),Math.min(tp.y,qN.y),0,0);h.width=Math.max(tp.x,qN.x)-h.x;h.height=Math.max(tp.y,qN.y)-h.y;return h;};var Eh=function(){if(!JY){AE.aum();return;}AE.NB(cw);AE.nq(-rv.x,-rv.y);AE.scale(Kz,Kz);AE.nq(Am.width/2,Am.height/2);};this.hideMagnifier=function(){JY=false;Eh();this.ac('magnifierIsVisible');};this.showMagnifier=function(cV){rv.x=cV.x;rv.y=cV.y;JY=true;Eh();this.ac('magnifierWindowPosition');this.ac('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return JY;};this.get_magnifierWindowPosition=function(){return{x:rv.x,y:rv.y};};this.get_magnifierMagnification=function(){return Kz;};this.set_magnifierMagnification=function(V){Kz=V;Eh();this.ac('magnifierMagnification');};this.Jx=function(){return JI;};this.Qw=function(V){JI=V;this.ac('magnifierXOffset');};this.Kn=function(){return JG;};this.Ro=function(V){JG=V;this.ac('magnifierYOffset');};this.sg=function(){return{width:Am.width,height:Am.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Am.width=newMagnifierSize.width;Am.height=newMagnifierSize.height;Eh();this.ac('magnifierWindowSize');};this.arY=function(){return AE.clone();};this.eW=function(){return cw.clone();};this.Kx=function(){return io;};this.Ry=function(V){io=V;this.ac('markHandleSize');};this.iu=function(V){if(V===cw||V.auQ(cw)){return;}if(!V.afe()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cw.NB(V);Eh();this.ac('displayedPageRectangle');};var aew='0';this.get_presentationQuality=function(){return aew;};this.set_presentationQuality=function(V){aew=V;this.ac('presentationQuality');};var az=IPCC.bM.Default;this.get_cursor=function(){return az;};this.set_cursor=function(V){if(az!==V&&az!== -1){az=V;this.ac('cursor');}};var IH=IPCC.bM.Default;this.GG=function(){if(IH===IPCC.bM.Default){return az;}return IH;};this.zj=function(V){if(IH!==V){IH=V;this.ac('markCursor');}};this.yo=function(bD){Iw=bD;zi=false;BU=0;};this.IV=function(sz,dP){if(sz!==Iw){Iw=sz;}BU=dP;zi=true;};this.VM=function(){if(zi===true){for(var G=0;G<this.fp.length;G++){this.fp[G].K.set_visible(false);}zi=false;}};this.zo=function(){return zi;};this.sH=function(bD,K,iA){To=bD;if(bD!==undefined){this.fp.push({bD:bD,K:K,iA:iA});zi=true;BU++;}else{this.fp=[];BU=0;}};this.Hb=function(){return To;};this.auR=function(V){if(V===undefined){return;}To=V;};var acm;this.IQ=function(){return acm;};this.asm=function(V){if(V===undefined){return;}acm=V;};this.awy=function(){return Iw;};this.awW=function(){return Iw+BU;};this.atB=function(){return BU;};this.oC();this.hideMagnifier();return this;};IPCC.bG=function(){this.Lv=false;this.TK=false;this.Bc=true;this.NH=false;this.HO=false;this.vt=0;this.vU=0;return this;};IPCC.bG.viewerCounter=0;IPCC.bG.tileCounter=0;IPCC.bG.imageIDCounter=0;IPCC.bG.prototype.acz=function(J){this.uH=IPCC.bG.viewerCounter.toString();IPCC.bG.viewerCounter++;this.J=J;if(IPCC.bZ){this.ot=new IPCC.Web.UI.MarkCollection();}var O=this;function amT(ad,C){O.akl(C);};function vM(ad,C){O.anV(C);};J.jx(amT);J.add_markAdded(vM);J.add_markChanged(vM);J.add_inProgressMarkChanged(vM);J.add_markRemoved(vM);J.add_markReordered(vM);J.add_marksLoaded(vM);J.add_markSelectionChanged(vM);J.add_markTextSelectionChanged(vM);};IPCC.bG.prototype.RK=function(){var fu='igtile'+IPCC.bG.tileCounter.toString();IPCC.bG.tileCounter++;return fu;};IPCC.bG.prototype.ye=function(){this.Lv=true;this.Bc=this.Bc&&this.TK;var O=this;var aiG=function(){if(!O.Lv){return;}O.ak(O.J.dJ(),O.J.bu(),O.J.eQ());O.Bc=true;};window.setTimeout(aiG,0);};IPCC.bG.prototype.akl=function(C){var asy=C.get_propertyName();switch(asy){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.J.bu().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Mf=true;if(this.J.yD()===true){this.ye();}return;case 'displayedPageRectangle':if(this.J.AP===true){this.ye();return;}}if(this.J.yD()===true){this.ye();}};IPCC.bG.prototype.anV=function(C){if(C.mark&& !this.Mf){this.ot.addMark(C.mark);}else{this.Mf=true;}if(this.J.yD()===true){this.ye();}};IPCC.bG.prototype.Sc=function(){this.rm=this.du.clone();this.rm.nq(this.aaI,this.abu);this.rm.iE(this.J.dJ(),this.J.eQ());this.ra=this.rm.clone();this.ra.wc();};IPCC.bG.prototype.ak=function(aD,ae,av){try{this.Lv=false;if(this.Le===true){return;}var aN=this.J.le();if(aN===null){return;}var dY=aN.igElements;try{this.Le=true;if(this.FU===undefined||aD===undefined|| !(this.FU.equals(aD))){if(this.NH){if(this.jM){this.YF(this.jM);var en=dY.kI;IPCC.Web.UI.aW.removeHandler(en,"mousedown",this.Ts);IPCC.Web.UI.aW.removeHandler(en,"mousemove",this.SO);IPCC.Web.UI.aW.removeHandler(en,"mouseup",this.Tz);IPCC.Web.UI.aW.removeHandler(en,"contextmenu",this.SA);IPCC.Web.UI.aW.removeHandler(dY.ea,"blur",this.OZ);}delete this.jM;this.ZE(dY.te);this.ZE(dY.zL);this.NH=false;if(this.Dm!==undefined){this.Dm.unlockAllItems();}if(this.EB!==undefined){this.EB.unlockAllItems();}this.Dm=undefined;this.EB=undefined;aN.igElements.ny.onscroll=null;aN.igElements.ny.onresize=null;}aN.innerHTML='';if(aD===undefined){this.Le=false;this.FU=undefined;this.adM();return;}this.FU=aD.clone();this.Dm=new IPCC.xd();this.Dm.createPyramid(this,this.J);this.EB=new IPCC.xd();this.EB.createPyramid(this,this.J);this.NH=true;this.aur(this.uH);}this.du=ae.eW();var Iq=this.du.pz(aD);this.du.nq(-Iq.x,-Iq.y);this.alj=this.du.clone();this.alj.wc();this.aaI=Math.round(Iq.x);this.abu=Math.round(Iq.y);this.Sc();this.ajn(aD,ae,av);if(aD.ar===0){this.Sc();}}finally{this.Le=false;this.Mf=false;if(this.ot){this.ot.removeAllMarks();}}this.afx(true);}catch(e){this.J.F('display',e);throw e;}};IPCC.bG.prototype.oj=function(vI,wJ,vw){if(vI[wJ]===vw){return;}vI[wJ]=vw;};IPCC.bG.prototype.lp=function(vI,wJ,vw){if(vI.getAttribute(wJ)===vw){return;}vI.setAttribute(wJ,vw);};IPCC.bG.prototype.ff=function(vI,wJ,vw){if(vI.style[wJ]===vw){return;}vI.style[wJ]=vw;};IPCC.bG.prototype.afx=function(ahW){if(this.Le){return;}if(this.Lv&& !this.Bc){return;}if(!ahW){try{this.TK=true;var aN=this.J.le();if(aN){this.vt=aN.igElements.ny.scrollLeft;this.vU=aN.igElements.ny.scrollTop;}this.aij();this.Sc();this.J.bu().iu(this.rm);this.J.by('userModifiedViewState',{});this.J.DZ(false);}finally{this.TK=false;}}};IPCC.bG.prototype.aoc=function(mH,du,RE){var pj=mH.aom(du,RE);if(!this.J.AP&&pj.tilesToRequest.length===0&&(pj.opaqueTiles.length+pj.translucentTiles.length)>0){this.J.AP=true;this.J.by('pageDisplayed',{bb:this.J.ar});}mH.aho(pj);if(this.J.oW()===false){this.aak(pj.tilesToRequest);this.TQ(pj.opaqueTiles,1,du);this.TQ(pj.translucentTiles,pj.opacity,du);}};IPCC.bG.prototype.aur=function(uH){var J=this.J;var aN=J.le();var ae=J.bu();var bx=this;function fM(iY){var qt=document.createElement('div');var G;for(G in iY){if(iY.hasOwnProperty(G)){qt.style[G]=iY[G];}}return qt;};var dY={};aN.igElements=dY;var kh=fM({width:'100%',height:'100%',position:'relative',overflow:ae.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});dY.ny=kh;kh.setAttribute('class','igViewerScroller');kh.onscroll=function(){bx.afx(false);};kh.onresize=function(){var av=J.eQ();av.width=kh.clientWidth;av.height=kh.clientHeight;J.by('resize',{});};var en=fM({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kh.appendChild(en);dY.kI=en;en.setAttribute('class','igViewerGraphics');this.yP=2;this.ym=2;this.vt=0;this.vU=0;var as={};as.mH=this.Dm;as.VP='ig'+uH+'level';dY.te=as;this.WT(as,en,fM);as.oP=this.oP;var lm;if(J.oW()===false){lm=fM({position:'absolute',display:'none',width:(ae.sg().width+4)+'px',height:(ae.sg().height+4)+'px',backgroundColor:'#000000'});}else{lm=fM({position:'absolute',display:'none',width:(ae.sg().width+4)+'px',height:(ae.sg().height+4)+'px',backgroundColor:'#cccccc'});}en.appendChild(lm);dY.lm=lm;lm.setAttribute('class','igMagnifierFrame');var qq=fM({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});dY.qq=qq;lm.appendChild(qq);as={};as.mH=this.EB;as.VP='ig'+uH+'maglevel';dY.zL=as;this.WT(as,qq,fM);as.oP=this.aiM;var JW=document.createTextNode('');dY.JW=JW;var ea=document.createElement('textarea');ea.appendChild(JW);ea.style.position='absolute';ea.style.overflow='auto';ea.style.width='80px';ea.style.height='80px';ea.style.resize='none';ea.style.display='none';kh.appendChild(ea);dY.ea=ea;this.jM={};this.Zc(this.jM);IPCC.Web.UI.aW.addHandler(en,"mousedown",this.Ts);IPCC.Web.UI.aW.addHandler(en,"mousemove",this.SO);IPCC.Web.UI.aW.addHandler(en,"mouseup",this.Tz);IPCC.Web.UI.aW.addHandler(en,"contextmenu",this.SA);IPCC.Web.UI.aW.addHandler(ea,"blur",this.OZ);aN.appendChild(kh);};IPCC.bG.prototype.WT=function(as,gN,fM){var pZ=fM({width:'2px',height:'2px',position:'absolute'});as.gN=gN;gN.appendChild(pZ);as.RY=pZ;pZ.setAttribute('class','igAnchor');this.Wp(as,pZ,as.mH,as.VP);as.vY=fM({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});pZ.appendChild(as.vY);var jb=fM({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jb.style[this.Yl]=this.abx(0.5);pZ.appendChild(jb);as.jb=jb;};IPCC.bG.prototype.ZE=function(as){if(as&&as.HO){as.oP.WO();as.HO=false;}as.gN=null;};IPCC.bG.prototype.ajn=function(aD,ae,av){var J=this.J;var tG=this.rm.pz(aD);var aN=J.le();var ahM=J.ajE();var dY=aN.igElements;var te=dY.te;var zL=dY.zL;var kh=dY.ny;var en=dY.kI;var pZ=te.RY;var lm=dY.lm;var qq=dY.qq;var WN=zL.RY;var Sn=Math.max(0,-tG.x);var SN=Math.max(0,-tG.y);var akE=Math.max(tG.width,av.width);var akr=Math.max(tG.height,av.height);var lK=Math.max(0,tG.x);var mp=Math.max(0,tG.y);var adc=false;var zd=false;if(ae.AK()){zd=ae.wM();}var asJ=this.yP;this.yP=Math.floor(akE-1);if(this.yP<0){this.yP=0;}var ati=this.ym;this.ym=Math.floor(akr-1);if(this.ym<0){this.ym=0;}if(J.oW()===true){if(this.ym===0){this.ym=2;}if(this.yP===0){this.yP=2;}}var ary=this.vt;var asU=this.vU;if(!this.Bc){this.vt=Math.floor(Sn);this.vU=Math.floor(SN);}if(this.Ta){this.ff(pZ,'left',lK+'px');this.ff(pZ,'top',mp+'px');}var du=ae.eW();du.nq(Sn-lK,SN-mp);this.aai(te,ae.eW(),du,aD,av,zd,lK,mp);this.ff(kh,'overflow',ae.get_overflow());if(av.width!==kh.clientWidth||av.height!==kh.clientHeight){av.width=kh.clientWidth;av.height=kh.clientHeight;adc=true;}this.oj(pZ.style,'visibility','visible');if(ae.get_magnifierIsVisible()){var rv=ae.get_magnifierWindowPosition();var xj=ae.sg();var JI=ae.Jx();var JG=ae.Kn();var Od=ae.arY();var asL=Math.round(rv.x-xj.width/2+Sn+JI);var arK=Math.round(rv.y-xj.height/2+SN+JG);var JL=Od.pz(aD);var asb=Math.max(0,-JL.x);var arX=Math.max(0,-JL.y);this.ff(WN,'left',JL.x+'px');this.ff(WN,'top',JL.y+'px');var IG=2;lm.style.width=(xj.width+IG*2)+'px';lm.style.height=(xj.height+IG*2)+'px';qq.style.width=xj.width+'px';qq.style.height=xj.height+'px';qq.style.left=IG+'px';qq.style.top=IG+'px';lm.style.left=asL+'px';lm.style.top=arK+'px';var aeb=Od.clone();aeb.nq(asb,arX);this.aai(zL,Od,aeb,aD,xj,zd,0,0);lm.style.display='block';}else{lm.style.display='none';}if(J.afE()){var zl=J.Wv();var ahU=zl.dU();var fX=this.rm.rJ(ahU);if(fX.width<64){fX.width=64;}if(fX.height<64){fX.height=64;}if(fX.width>av.width){fX.width=av.width;}if(fX.height>av.height){fX.height=av.height;}if(fX.x<0){fX.x=0;}if(fX.y<0){fX.y=0;}if(fX.x+fX.width>av.width){fX.x=av.width-fX.width;}if(fX.y+fX.height>av.height){fX.y=av.height-fX.height;}dY.ea.style.left=this.vt+fX.x+1+'px';dY.ea.style.top=this.vU+fX.y+1+'px';dY.ea.style.width=fX.width-8+'px';dY.ea.style.height=fX.height-8+'px';if(dY.ea.style.display!=='block'){dY.ea.style.display='block';var sr=zl.cq;var pD='';if(sr&IPCC.Web.UI.FontStyle.Italic){dY.ea.style.fontStyle="italic";}if(sr&IPCC.Web.UI.FontStyle.Bold){dY.ea.style.fontWeight="bold";}if(sr&IPCC.Web.UI.FontStyle.Underline){pD+="underline";}if(sr&IPCC.Web.UI.FontStyle.Strikeout){if(sr&IPCC.Web.UI.FontStyle.Underline){pD+=" line-through";}else{pD="line-through";}}var ahR=zl.po+5;dY.ea.style.textDecoration=pD;dY.ea.style.fontSize=ahR+"pt";dY.ea.style.color=zl.pU;dY.ea.style.backgroundColor=zl.ck;dY.ea.style.fontFamily=zl.fP;switch(zl.pf){case IPCC.Web.UI.HorizontalAlignment.Center:dY.ea.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:dY.ea.style.textAlign='right';break;default:dY.ea.style.textAlign='left';break;}dY.ea.focus();}}else{dY.ea.style.display='none';}if(ae.get_cursor()!== -1){var gJ=IPCC.bM.eU(ae.get_cursor());this.oj(en.style,'cursor',gJ);}if(adc){J.by('resize',{});}if(this.yP!==asJ){this.ff(en,'width','100%');}if(this.ym!==ati){this.ff(en,'height','100%');}if(this.vt!==ary){kh.scrollLeft=this.vt;}if(this.vU!==asU){kh.scrollTop=this.vU;}if(ahM==="PageView"&& !this.Bc){ae=J.bu();var bP=ae.eW();var wy=(+bP.xB().toFixed(6));if(J.PN!==wy){J.PN=wy;setTimeout(function(){J.by('scaleChanged',{scaleFactor:wy,pageNumber:J.ar});},1);J.by('scaleChanged',{scaleFactor:wy,pageNumber:J.ar});}}};IPCC.bG.prototype.aai=function(as,rm,du,aj,av,zd,lK,mp){var tG=rm.pz(aj);var lw={};lw.width=Math.max(tG.width,av.width);lw.height=Math.max(tG.height,av.height);this.aip(as,rm,du,aj,av,lK,mp);this.RR(as,du,lw,aj,lK,mp);var ra=rm.clone();ra.wc();var RE=ra.rJ({x:0,y:0,width:av.width,height:av.height});if(this.J.oW()===false){this.aoc(as.mH,du,RE);}else{this.aim(as);}if(zd){var Ap=du.rJ(zd);if(this.Ta){as.jb.style.left=(Ap.x-2)+'px';as.jb.style.top=(Ap.y-2)+'px';}else{as.jb.style.left=(Ap.x-2+lK)+'px';as.jb.style.top=(Ap.y-2+mp)+'px';}as.jb.style.width=Ap.width+'px';as.jb.style.height=Ap.height+'px';as.jb.style.display='block';}else{as.jb.style.display='none';}};IPCC.bG.prototype.aip=function(as,rm,du,aj,av,lK,mp){var aO=this.J.dO();var eg=this.J.ml();var Wx=0;var O=this;if(as.hT){Wx=as.hT.length;}if(!as.oP|| !aO){return;}var mK=this.J.agQ();if(aO.get_markCount()<=0&&Wx<=0&& !mK){var aaX=0;aaX=eg.get_markCount();if(aaX<=0){return;}}if(!as.HO){as.oP.XQ(this.J,as,aj);as.hT=[];as.HO=true;}eg=this.J.ml();var aJ=[];function atf(K){if((O.J.hX()&&O.J.cu().oE()===true)||K.get_type()!==IPCC.Web.UI.MarkType.Highlight){aJ.push(K);}};function amA(K){aJ.push(K);};if(this.J.hX()&&this.J.cu().oE()===true){eg.forEachMark(amA);}aO.forEachMark(atf);if(mK){aJ.push(mK);}var G,hT=as.hT;for(G=0;G<hT.length;G++){while(G<hT.length&&(G>=aJ.length||hT[G].K!==aJ[G])){as.oP.zh(hT[G]);hT.splice(G,1);}if(G<hT.length&&(this.Mf||this.ot.contains(hT[G].K))){as.oP.Lp(hT[G]);}}for(G=hT.length;G<aJ.length;G++){hT[G]={K:aJ[G]};as.oP.XU(hT[G]);}if(this.Ta){as.oP.abN(this.J,as,aJ,du,this.J.adB());}else{var eS=du.clone();eS.nq(lK,mp);as.oP.abN(this.J,as,aJ,eS,this.J.adB());}};IPCC.bG.prototype.RR=function(){};IPCC.bG.prototype.aij=function(){var aN=this.J.le();if(aN){this.aaI=aN.igElements.kI.offsetLeft-this.vt;this.abu=aN.igElements.kI.offsetTop-this.vU;}};IPCC.bG.prototype.qc=function(C,ak){var jL=this.J.le().igElements;var ib=C.domEvent;var hY;if(jL.kI.getBoundingClientRect){hY=jL.kI.getBoundingClientRect();}else{var cT=jL.kI;var uS=document.documentElement;hY={left:uS.clientLeft-uS.scrollLeft,top:uS.clientTop-uS.scrollTop};cT=cT.offsetParent;while(cT){hY.top+=cT.offsetTop-cT.scrollTop;hY.left+=cT.offsetLeft-cT.scrollLeft;cT=cT.offsetParent;}}if(ib.rawEvent.touches){if(ib.rawEvent.touches.length>0){this.Hj=new IPCC.Web.UI.Point(ib.rawEvent.touches[0].clientX-jL.ny.scrollLeft-hY.left,ib.rawEvent.touches[0].clientY-jL.ny.scrollTop-hY.top);}if(!this.Hj){this.Hj=new IPCC.Web.UI.Point(0,0);}C.windowPoint=new IPCC.Web.UI.Point(this.Hj.x,this.Hj.y);ib.button=0;}else{C.windowPoint=new IPCC.Web.UI.Point(ib.clientX-hY.left-jL.ny.scrollLeft,ib.clientY-hY.top-jL.ny.scrollTop);}var Ju=this.ra.transform(C.windowPoint);C.imagePoint=new IPCC.Web.UI.Point(Ju.x,Ju.y);C.constrainedImagePoint=new IPCC.Web.UI.Point(Ju.x,Ju.y);C.constrainedImagePoint.x=Math.min(Math.max(C.constrainedImagePoint.x,0),this.FU.width);C.constrainedImagePoint.y=Math.min(Math.max(C.constrainedImagePoint.y,0),this.FU.height);C.pointLiesWithinImage=(C.constrainedImagePoint.x===C.imagePoint.x&&C.constrainedImagePoint.y===C.imagePoint.y);C.mark=null;try{var ep=ib.target;while(!(ep.ImGearMarkRelation)&&ep.parentNode&&ep!==document.body){ep=ep.parentNode;}if(ep.ImGearMarkRelation){C.mark=ep.ImGearMarkRelation.K;}}catch(bK){}};IPCC.bG.prototype.jl=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;this.qc(C);this.J.aup(C);}catch(ex){this.J.F('mouseDown',ex);}};IPCC.bG.prototype.jB=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;this.qc(C);this.J.aty(C);}catch(ex){this.J.F('mouseMove',ex);}};IPCC.bG.prototype.lz=function(bK){try{var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;this.qc(C);if(!bK.rawEvent.wheelDelta){C.wheelDelta= -bK.rawEvent.detail*120;}else{C.wheelDelta=bK.rawEvent.wheelDelta;}this.J.atG(C);}catch(ex){this.J.F('mouseWheel',ex);}};IPCC.bG.prototype.rW=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;this.qc(C);this.J.avg(C);}catch(ex){this.J.F('mouseDoubleClick',ex);}};IPCC.bG.prototype.he=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;this.qc(C);this.J.atX(C);}catch(ex){this.J.F('mouseUp',ex);}};IPCC.bG.prototype.LF=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;this.qc(C);this.J.auW(C);}catch(ex){this.J.F('contextMenu',ex);}};IPCC.bG.prototype.aba=function(bK){try{this.J.DZ(true);}catch(ex){this.J.F('textAreaBlur',ex);}};IPCC.bG.prototype.agB=function(K){var jL=this.J.le().igElements;jL.ea.value=K.bm;};IPCC.bG.prototype.arn=function(){var J=this.J;var K=J.Wv();if(!K|| !J.afE()){return;}var jL=J.le().igElements;var bm=jL.ea.value;bm=bm.replace(/\r/g,'');K.set_text(bm);};IPCC.xd=function(){this.es=[];return this;};IPCC.xd.prototype.aom=function(cw,ci){var cX=cw.xB();var G,jW,lX;var cG=1;var Js;var xA=[];var wl=[];var xo=[];var CR,HZ;lX=this.es.length;for(G=0;G<this.es.length;G++){if(this.es[G].cX>cX){lX=G;break;}}jW=lX-1;if(jW<0){jW=0;}if(lX>=this.es.length){lX=this.es.length-1;}if(jW!==lX){Js=(cX-this.es[jW].cX)/(this.es[lX].cX-this.es[jW].cX);cG=Js*1.0;if(cG>=0.15){cG=1;jW=lX;}if(cG<=0.15){cG=1;lX=jW;}}wl=this.es[jW].Jp(ci);xo=this.es[lX].Jp(ci);var LC=function(mi){var G;for(G=0;G<mi.length;G++){mi[G].level.pool.Os(mi[G]);}};var VL=function(mi){var YX=[];var G;for(G=0;G<mi.length;G++){if(!mi[G].get_isLockedAndLoaded()){YX.push(mi[G]);}}return YX;};var Xc=function(mi){var acK=[];var G;for(G=0;G<mi.length;G++){if(mi[G].get_isLockedAndLoaded()){acK.push(mi[G]);}}return acK;};if(jW>0&&jW===lX&&this.es[lX].tiles.length>1){jW=lX-1;wl=this.es[jW].Jp(ci);}LC(wl);xA=VL(wl);if(xA.length>0){for(CR=jW-1;CR>=0;CR--){HZ=this.es[CR].Jp(ci);LC(HZ);if(VL(HZ).length<1){break;}}if(CR<0){wl=Xc(wl);}else{jW=CR;wl=HZ;cG=1;}}else{LC(xo);xA=VL(xo);}LC(xo);xo=Xc(xo);if(xA.length>3){xA.splice(3,xA.length-3);}function agT(){var aq;function Qk(Cl){var aq='',G,bQ;if(Cl.length<1){return '';}bQ=Cl[0].level;aq+='level '+bQ.id.toString()+' - ';for(G=0;G<Cl.length;G++){if(G>0){aq+=', ';}aq+='('+(Cl[G].x/bQ.nj).toString()+','+(Cl[G].y/bQ.xV).toString()+')';if(Cl[G].get_isLockedAndLoaded()){aq+='*';}}return aq;};aq='tilesToRequest: '+Qk(this.tilesToRequest)+'<br/>';aq+='opaqueTiles: '+Qk(this.opaqueTiles)+'<br/>';aq+='translucentTiles: '+Qk(this.translucentTiles)+'<br/>';aq+='opacity: '+this.opacity.toString()+'<br/>';aq+='act: '+this.act.toString()+'<br/>';aq+='cw: '+this.cw.toString()+'<br/>';return aq;};return{opaqueTiles:wl,translucentTiles:xo,opacity:cG,tilesToRequest:xA,toString:agT,act:cX,cw:cw.toString()};};IPCC.xd.prototype.aho=function(pj){var CK=[];var pF=[];var G,j;var bQ,tile;for(G=0;G<this.es.length;G++){bQ=this.es[G];for(j=0;j<bQ.tiles.length;j++){tile=bQ.tiles[j];if(tile.poolItem!==undefined){CK.push(tile);}}}var aaw=function(QE,aep){var G,j,PL,Pk;for(G=0;G<aep.length;G++){PL=aep[G];Pk=true;for(j=0;j<QE.length;j++){if(PL===QE[j]){Pk=false;break;}}if(Pk){QE.push(PL);}}};pF=pj.tilesToRequest.concat();aaw(pF,pj.opaqueTiles);aaw(pF,pj.translucentTiles);for(G=CK.length-1;G>=0;G--){var ahh=CK[G];for(j=0;j<pF.length;j++){if(pF[j]===ahh){CK.splice(G,1);break;}}}for(G=0;G<CK.length;G++){CK[G].unlock();}for(G=0;G<pF.length;G++){pF[G].relock();}for(G=0;G<pF.length;G++){if(pF[G].poolItem===undefined){pF[G].lock();}}};IPCC.xd.prototype.unlockAllItems=function(){var G,j,bQ;for(G=0;G<this.es.length;G++){bQ=this.es[G];for(j=0;j<bQ.tiles.length;j++){if(bQ.tiles[j].poolItem!==undefined){bQ.pool.abz(bQ.tiles[j]);}}}};IPCC.xd.prototype.awO=function(){var G;for(G=0;G<this.es.length;G++){this.es[G].pool.anM();}};IPCC.xd.prototype.toString=function(){var aq='',G,j,bQ;for(G=0;G<this.es.length;G++){bQ=this.es[G];aq+='Level '+G.toString()+':   scaleFactor='+bQ.cX.toString()+'  image='+bQ.width.toString()+'x'+bQ.height.toString()+'  tile='+bQ.nj.toString()+'x'+bQ.xV.toString()+'\n';for(j=0;j<bQ.tiles.length;j++){if(j>0){aq+=', ';}aq+='('+bQ.tiles[j].x.toString()+', '+bQ.tiles[j].y.toString()+')';}aq+='\n';}return aq;};IPCC.xd.prototype.createPyramid=function(ig,J){var aoC=6000000;var Yq=5000;var nj=1024;var anU=nj*nj*3*150;var afA=0.5;var apW=2;var aD=J.dJ();var xg=aD.width*aD.height*3;var wP;var bQ;var cX;var G;var x,y;var tile;var vs,wa;this.es=[];if(aD.rA){cX=1.0;wP=xg*cX*cX;while(this.es.length<apW||wP>Yq){bQ=new IPCC.Kl();bQ.cX=cX;this.es.unshift(bQ);cX*=afA;wP=xg*cX*cX;}}else{if(J.oW()===true){xg=aD.width*aD.height;}cX=Math.sqrt(Yq/xg);var apZ=cX*aD.gZ;cX=Math.ceil(apZ)/aD.gZ;wP=xg*cX*cX;if(J.oW()===false){while(wP<anU){bQ=new IPCC.Kl();bQ.cX=cX;this.es.push(bQ);cX/=afA;wP=xg*cX*cX;}}else{bQ=new IPCC.Kl();bQ.cX=1;this.es.push(bQ);}}aD.nY=this.es[this.es.length-1].cX*8;for(G=0;G<this.es.length;G++){bQ=this.es[G];bQ.Mo=85;if(G===this.es.length-1){bQ.Mo=100;}bQ.pyramid=this;bQ.id=G;bQ.pool=new IPCC.YJ();bQ.pool.uiDirector=ig;wP=xg*bQ.cX*bQ.cX;bQ.width=Math.round(aD.width*bQ.cX);bQ.height=Math.round(aD.height*bQ.cX);bQ.nj=bQ.width;bQ.xV=bQ.height;if(G>2&&G>this.es.length-2){bQ.nj=Math.min(nj/2,bQ.width);bQ.xV=Math.min(nj/2,bQ.height);}if(wP>aoC){bQ.nj=Math.min(nj,bQ.width);bQ.xV=Math.min(nj,bQ.height);}bQ.tiles=[];vs=bQ.nj;for(x=0;x<bQ.width;x+=vs){vs=bQ.nj;if(x+vs*1.25>bQ.width){vs=bQ.width-x;}wa=bQ.xV;for(y=0;y<bQ.height;y+=wa){wa=bQ.xV;if(y+wa*1.25>bQ.height){wa=bQ.height-y;}tile=new IPCC.EQ();tile.level=bQ;tile.x=x;tile.y=y;tile.right=tile.x+vs;if(tile.right<bQ.width){tile.right++;}tile.bottom=tile.y+wa;if(tile.bottom<bQ.height){tile.bottom++;}var Ao='jpeg';if(J.oW()===false){if(bQ.Mo>=100){Ao='png';}if(vs!==bQ.width||wa!==bQ.height){tile.url=J.UJ('Tile/'+x.toString()+'/'+y.toString()+'/'+vs.toString()+'/'+wa.toString(),'Scale='+bQ.cX.toString()+'&Quality='+bQ.Mo+'&ContentType='+Ao);}else{tile.url=J.UJ('','Scale='+bQ.cX.toString()+'&Quality='+bQ.Mo+'&ContentType='+Ao);}}else{if(document.documentMode===10||IPCC.bh.xP){Ao='svg';}else{Ao='svga';}tile.url=J.UJ('','Scale='+bQ.cX.toString()+'&ContentType='+Ao);tile.awL=ig.RK();}bQ.tiles.push(tile);}}}};IPCC.Kl=function(){this.cX=1;this.width=0;this.height=0;this.nj=0;this.xV=0;this.pool=undefined;return this;};IPCC.Kl.prototype.Jp=function(ci){if(ci.width<1||ci.height<1){return[];}var jV=Math.floor(ci.x*this.cX);var ly=Math.floor(ci.y*this.cX);var nu=Math.ceil((ci.x+ci.width)*this.cX);var lQ=Math.ceil((ci.y+ci.height)*this.cX);var mi=[];var G,gi;var bp=this.tiles.length;for(G=0;G<bp;G++){gi=this.tiles[G];if(gi.x<=nu&&gi.right>=jV&&gi.y<=lQ&&gi.bottom>=ly){mi.push(gi);}}return mi;};IPCC.EQ=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};IPCC.EQ.prototype.unlock=function(){this.level.pool.abz(this);};IPCC.EQ.prototype.lock=function(){this.level.pool.lockTile(this);};IPCC.EQ.prototype.relock=function(){return this.level.pool.Os(this);};IPCC.EQ.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};IPCC.YJ=function(){this.dC=[];this.parentElementID='';this.lockTile=function(gi){var dK,G,RI,MI;if(this.Os(gi)){return;}RI=0;for(G=this.dC.length-1;G>=0;G--){if(!(this.dC[G].locked)){RI++;MI=G;}}if(RI>4){dK=this.dC[MI];this.uiDirector.Sa(dK);this.dC.splice(MI,1);}dK=new IPCC.apg();dK.pool=this;this.uiDirector.Yy(dK);this.dC.push(dK);dK.locked=true;dK.tile=gi;gi.poolItem=dK;return;};this.Os=function(gi){var dK,G;if(this.locked){return true;}for(G=0;G<this.dC.length;G++){if(this.dC[G].tile===gi){dK=this.dC[G];dK.locked=true;gi.poolItem=dK;return true;}}return false;};this.abz=function(gi){var fL,G;fL=gi.poolItem;if(fL!==undefined&&fL.locked){this.uiDirector.aab(fL);fL.locked=false;gi.poolItem=undefined;for(G=0;G<this.dC.length;G++){if(this.dC[G]===fL){this.dC.splice(G,1);this.dC.push(fL);return;}}}};return this;};IPCC.YJ.prototype.anM=function(){var G;for(G=0;G<this.dC.length;G++){if(!this.dC[G].locked){this.uiDirector.Sa(this.dC[G]);}}};IPCC.apg=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};IPCC.bh={};IPCC.bh.aiy=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();IPCC.bh.xP=(function(){var xP=false;var qk=navigator.userAgent,Vb=((qk.indexOf('Mozilla/5.0')> -1&&qk.indexOf('Android ')> -1&&qk.indexOf('AppleWebKit')> -1)&& !(qk.indexOf('Chrome')> -1)),afP=new RegExp(/AppleWebKit\/([\d.]+)/),aqY=afP.exec(qk),abK=(aqY===null?null:parseFloat(afP.exec(qk)[1]));xP=Vb&&abK!==null&&abK<537;return xP;})();IPCC.bh.awA=(function(){var Zb=false;var qk=navigator.userAgent,Vb=/Android/i.test(qk),ajR=/iPhone|iPad|iPod/i.test(qk),als=/IEMobile/i.test(qk);Zb=(Vb||ajR||als);return Zb;})();IPCC.bh.xH=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();IPCC.bh.KK=(function(){return('ontouchstart'in document.documentElement)||window.navigator.msPointerEnabled;})();IPCC.bh.Ej=(function(){return window.navigator.msPointerEnabled;})();IPCC.bh.ahL=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();IPCC.bh.inArray=function(dH,dK){for(var i=0,l=dH.length;i<l;i++){if(dH[i]===dK){return true;}}return false;};IPCC.bh.forEach=function(eI,kf,cD){var or=[].forEach,ajM=Object.prototype.hasOwnProperty;if(or&&eI.forEach===or){kf&&eI.forEach(kf,cD);}else if(eI.length=== +eI.length){for(var i=0,length=eI.length;i<length;i++){kf&&kf.call(cD,eI[i],i,eI);}}else{for(var bY in eI){if(ajM.call(eI,bY)){kf&&kf.call(cD,eI[bY],bY,eI);}}}};IPCC.bh.map=function(dH,kf,cD){var or=[].map,uB=[];if(or&&dH.map===or){uB=dH.map(kf,cD);}else{IPCC.bh.forEach(dH,function(el,i){uB.push(kf.call(cD,el,i,dH));});}return uB;};IPCC.bh.filter=function(dH,kf,cD){var or=[].filter,uB=[],afz=false;if(or&&dH.filter===or){uB=dH.filter(kf,cD);}else{IPCC.bh.forEach(dH,function(bL,i){afz=kf.call(cD,bL,i,dH);if(afz){uB.push(bL);}});}return uB;};IPCC.bh.reduce=function(dH,kf,ow,cD){var or=[].reduce,cR=0,dP=dH.length;if(or&&typeof or==='function'&&dH.reduce===or){return dH.reduce(kf,ow,cD);}if(arguments.length===2){ow=dH[cR++];}while(cR<dP){ow=kf.call(cD,ow,dH[cR],cR,dH);cR++;}return ow;};IPCC.bh.reduceLeft=function(dH,kf,ow,cD){var uB=dH.reverse();return IPCC.bh.reduce.call(undefined,uB,kf,ow,cD);};IPCC.bh.contains=function(dH,cn){var dP=dH.length;while(dP--){if(dH[dP]===cn){return true;}}return false;};IPCC.bh.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};IPCC.bh.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};IPCC.bh.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};IPCC.bh.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(ax){var aso=IPCC.bh.map(ax,function(bL){return[bL.x,bL.y];});return d3_svg_lineBasis(aso);};})();IPCC.bh.awS=function(cU){if(cU.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var akc=IPCC.bh.filter(cU.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var auA=IPCC.bh.map(akc,function(el){var arz=el.replace(/[a-zA-Z]/g,'|').split('|');return IPCC.bh.map(arz,function(fA){var XI=fA.split(',');return{x: +XI[0],y: +XI[1]};});});return auA;};IPCC.bh.Oj=function(cU,LN){var CZ=document.createTextNode(cU),FD=document.createElement('div');IPCC.bh.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:'12px',fontFamily:LN},function(value,name){FD.style[name]=value;});FD.appendChild(CZ);document.body.appendChild(FD);var BW=FD.getBoundingClientRect(),xI=BW.width||BW.right-BW.left,yz=BW.height||BW.bottom-BW.top;document.body.removeChild(FD);return{width:xI,height:yz};};IPCC.bh.VY=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};IPCC.bh.vr=(IPCC.bh.aiy)?{SVG:function SVG(Rm){var gH=document.createElementNS("http://www.w3.org/2000/svg","svg");gH.setAttribute('viewBox',Rm);return gH;},Path:function Path(pK,op){var cF=document.createElementNS("http://www.w3.org/2000/svg","path");cF.style.fill='none';cF.style.stroke=op.color||'#000000';cF.style.strokeWidth=op.thickness||4;if(pK){cF.setAttribute('d',pK.toString().trim());}return cF;},Rect:function Rect(aQ,dg,dn){var bs=document.createElementNS("http://www.w3.org/2000/svg","rect");bs.setAttribute('width',aQ||0);bs.setAttribute('height',dg||0);if(dn){bs.setAttribute('style',dn);}return bs;}}:{SVG:function(Rm,Ki){var dw=document.createElement("div");dw.style.left="0px";dw.style.top="0px";dw.style.position="relative";dw.baseInit=false;dw.baseX=0;dw.baseY=0;var auO=dw.setAttribute;dw.setAttribute=function(bz,V){if(bz==="width"){this.style.width=V*(+Ki||1);}else if(bz==="height"){this.style.height=V*(+Ki||1);}else if(bz==="x"){this.style.left=V;}else if(bz==="y"){this.style.top=V;}else if(bz==="viewBox"){var oI=V.split(" ");this.style.height= +oI.pop()*(+Ki||1)+'px';this.style.width= +oI.pop()*(+Ki||1)+'px';}else{auO(bz,V);}};dw.setAttribute('viewBox',Rm);dw.setAttribute('data-pcc-mark','signature');return dw;},Path:function(pK,op){var dw=document.createElement("v:shape");dw.style.width=op.width*(+op.multiplier||1);dw.style.height=op.height*(+op.multiplier||1);dw.coordsize=[op.width,op.height].join(', ');dw.style.position="absolute";dw.setAttribute=function(bz,V){if(bz==="d"){var zD=0;var zF=0;V=V.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var Iv=V.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var aef="",hC=[];for(var i=0;i<Iv.length;i++){var fA=Iv[i].substring(0,1);var kK=Iv[i].substring(1,Iv[i].length);kK=kK.split(/[, ]/);for(var j=0;j<kK.length;j++){kK[j]=Math.round(kK[j]);}kK=kK.join();switch(fA){case "M":fA="m";hC=kK.split(/[, ]/);zD=parseInt(hC[0],10);zF=parseInt(hC[1],10);break;case "m":fA="t";hC=kK.split(/[, ]/);hC[0]=parseInt(hC[0],10)+parseInt(zD,10);hC[1]=parseInt(hC[1],10)+parseInt(zF,10);zD=parseInt(hC[0],10);zF=parseInt(hC[1],10);break;case "A":fA="ae";var cE=kK.split(/[, ]+/);cE[0]=parseInt(cE[0],10);cE[1]=parseInt(cE[1],10);cE[2]=parseInt(cE[2],10);cE[3]=parseInt(cE[3],10);cE[4]=parseInt(cE[4],10);cE[5]=parseInt(cE[5],10);kK=cE[4]+" "+cE[5]+" "+cE[2]*2+" "+cE[3]*2+" 0 360";break;case "L":fA="l";hC=kK.split(/[, ]+/);zD=parseInt(hC[0],10);zF=parseInt(hC[1],10);break;case "l":fA="r";hC=kK.split(/[, ]+/);hC[0]=parseInt(hC[0],10)+parseInt(zD,10);hC[1]=parseInt(hC[1],10)+parseInt(zF,10);zD=parseInt(hC[0],10);zF=parseInt(hC[1],10);break;case "c":fA="v";break;case "z":fA="xe";kK="";break;default:fA=fA.toLowerCase();}aef+=fA+kK;}this.path=aef;return;}else if(bz==="stroke"){this.stroked=(V==="none"?0:1);this.strokecolor=V;return;}else if(bz==="stroke-width"){this.strokeweight=parseFloat(V)/1.2+"pt";return;}else if(bz==="fill"){this.filled=(V==="none"?0:1);this.fillcolor=V;return;}};if(pK){dw.setAttribute('d',pK);}dw.setAttribute('stroke-width',op.thickness||4);dw.setAttribute('stroke',op.color||'#000000');dw.filled=0;dw.fillcolor='none';return dw;},Rect:function(aQ,dg){var dw=document.createElement("v:roundrect");dw.rxy=0;dw.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};dw.setAttribute=function(bz,V,agA){if(this.svg2vmlStyle[bz]){this.svg2vmlStyle[bz]["value"]=V;this.svg2vmlStyle[bz]["valueSource"]=(agA||"user");}if(bz==="x"){this.style.left=parseInt(V,10)+'px';return;}else if(bz==="y"){this.style.top=parseInt(V,10)+'px';return;}else if(bz==="stroke"){this.stroked=(V==="none"?0:1);this.strokecolor=V;return;}else if(bz==="stroke-width"){this.strokeweight=parseFloat(V)/1.2+"pt";return;}else if(bz==="fill"){this.filled=(V==="none"?0:1);this.fillcolor=V;return;}else if(bz==="width"||bz==="height"||bz==="rx"||bz==="ry"){if(bz==="width"){this.style.width=parseInt(V,10)+'px';}else if(bz==="height"){this.style.height=parseInt(V,10)+'px';}else if(bz==="rx"||bz==="ry"){if(parseInt(V,10)){this.rxy=parseInt(V,10);}}if(this.rxy!==0){var Fa=parseInt(this.style.width,10);var Jk=parseInt(this.style.height,10);if(!Fa){Fa=0;}if(!Jk){Jk=0;}if(Jk<Fa){Fa=Jk;}var Js=this.rxy/Fa;this.arcsize=Js;}else{this.arcsize=0;}return;}};if(aQ){dw.setAttribute('width',aQ);}if(dg){dw.setAttribute('height',dg);}for(var bz in dw.svg2vmlStyle){if((dw.svg2vmlStyle[bz]["value"])&&(dw.svg2vmlStyle[bz]["valueSource"]==="default")){dw.setAttribute(bz,dw.svg2vmlStyle[bz]["value"],"default");}}return dw;}};IPCC.bh.Vl=function Vl(iV){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(iV);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(iV+' cannot be parsed as an ISO 8601 date.');}};IPCC.bh.Xw=function avN(gd){if(gd.toISOString&&typeof gd.toISOString==='function'){return gd.toISOString();}else if(gd instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return gd.getUTCFullYear()+'-'+pad(gd.getUTCMonth()+1)+'-'+pad(gd.getUTCDate())+'T'+pad(gd.getUTCHours())+':'+pad(gd.getUTCMinutes())+':'+pad(gd.getUTCSeconds())+'.'+(gd.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(gd+' is not a Date object.');}};IPCC.bh.BG=function BG(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};IPCC.bh.ahp=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};IPCC.bh.Yz=function(cn){cn=String(cn).replace(/[^0-9a-f]/gi,"");if(cn.length<6){cn=cn[0]+cn[0]+cn[1]+cn[1]+cn[2]+cn[2];}var Pq=function(cU){return parseInt(cU,16);};var r=Pq(cn.substring(0,2));var g=Pq(cn.substring(2,4));var b=Pq(cn.substring(4,6));return{r:r,g:g,b:b};};IPCC.bh.aqs=function(cn){var Me="";var Jc=function(n){while(n.length<2){n='0'+n;}return n;};var OE=function(n){return Jc(n.toString(16));};Me+=OE(Math.floor(cn.r));Me+=OE(Math.floor(cn.g));Me+=OE(Math.floor(cn.b));return '#'+Me;};IPCC.bh.ass=function(apt,ajc,aof){var DQ=aof,MF=IPCC.bh.Yz(apt),lP=IPCC.bh.Yz(ajc);lP.r=(1-DQ)*lP.r+(MF.r*DQ);lP.g=(1-DQ)*lP.g+(MF.g*DQ);lP.b=(1-DQ)*lP.b+(MF.b*DQ);lP.r=Math.floor(lP.r);lP.g=Math.floor(lP.g);lP.b=Math.floor(lP.b);return IPCC.bh.aqs(lP);};IPCC.bh.adq=function(ahG,uQ){var aiL=IPCC.bh.reduceLeft(ahG,function(ow,di){if(di.opacity===undefined){di.opacity=127;}var amL=di.opacity/255;return IPCC.bh.ass(di.color,ow,amL);},uQ);return aiL;};IPCC.bh.XP=function(gR){if(gR.length===0){return gR;}var cc=gR.slice(0);cc.sort(function(a,b){return a.startIndex-b.startIndex;});var Qm=null;var kF=[];var TN=0,IO=[];var G=cc[0].startIndex;while(cc.length>0){TN=0;IO=null;IO=[];var bF=0;while(bF<cc.length&&cc[bF].startIndex<=G){if(G<=cc[bF].startIndex+cc[bF].length-1){TN++;IO.push(cc[bF]);bF++;}else{cc.splice(bF,1);}}if(TN>0){var Ab=IPCC.bh.adq(IO,'#ffffff');if(Ab===Qm){kF[kF.length-1].endIndex=G;}else{kF.push({startIndex:G,endIndex:G,color:Ab});}Qm=Ab;G++;}else{if(cc.length>0){G=cc[0].startIndex;}Qm=null;}}return kF;};IPCC.bh.DO=function(Rv){return Rv.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617};IPCC.Web.UI.MarkType.registerEnum('IPCC.Web.UI.MarkType',false);IPCC.Web.UI.HighLightType=function(){};IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3};IPCC.Web.UI.HighLightType.registerEnum('IPCC.Web.UI.HighLight',false);IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum('IPCC.Web.UI.LineStyle',false);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum('IPCC.Web.UI.LineHeadType',false);IPCC.Web.UI.CalloutType=function(){};IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum('IPCC.Web.UI.CalloutType',false);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum('IPCC.Web.UI.FontStyle',true);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum('IPCC.Web.UI.VerticalAlignment',false);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum('IPCC.Web.UI.Orientation',false);IPCC.Web.UI.MarkEventArgs=function(){return this;};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass('IPCC.Web.UI.MarkEventArgs');IPCC.Web.UI.MarkCollection=function(){var aJ=[];var be=new IPCC.Web.UI.fY();this.Mt=function(K){if(this.DG(K)=== -1){aJ.push(K);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=K;this.by('markAdded',C);}};this.asH=function(xh){var C=new IPCC.Web.UI.MarkEventArgs();C.length=xh.get_length();var O=this;function lN(K){if(O.DG(K)=== -1){aJ.push(K);}};xh.forEach(lN,{});if(C.length>0){this.by('markAdded',C);}};this.qO=function(mG,cD){var Ef=[].concat(aJ);var G;for(G=0;G<Ef.length;G++){mG.call(cD,Ef[G],G,this);}};this.hv=function(){return aJ.length;};this.FB=function(K){var G=this.DG(K);if(G> -1){aJ.splice(G,1);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=K;this.by('markRemoved',C);}};this.DG=function(K){var G;for(G=0;G<aJ.length;G++){if(aJ[G]===K){return G;}}return-1;};this.vR=function(R){be.addHandler('markAdded',R);};this.wN=function(R){be.removeHandler('markAdded',R);};this.vP=function(R){be.addHandler('markRemoved',R);};this.vu=function(R){be.removeHandler('markRemoved',R);};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(this,C);}};return this;};IPCC.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Mt(mark);},addMarks:function(markCollection){this.asH(markCollection);},forEach:function(method,context){this.qO(method,context);},get_length:function(){return this.hv();},contains:function(mark){return this.DG(mark)> -1;},removeMark:function(mark){this.FB(mark);},removeAllMarks:function(){this.qO(function(K,bH,xh){xh.FB(K);});},add_markAdded:function(handler){this.vR(handler);},remove_markAdded:function(handler){this.wN(handler);},add_markRemoved:function(handler){this.vP(handler);},remove_markRemoved:function(handler){this.vu(handler);}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass('IPCC.Web.UI.MarkCollection');IPCC.Web.UI.are=1;IPCC.Web.UI.Mark=function(type){var bO=type;type=undefined;var aO=null;var h;var ax;var db;var cY=new IPCC.Web.UI.Data();var be=new IPCC.Web.UI.fY();var O=this;var kB;this.fr=function(jh,aF){if((kB&jh)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(aF+' is not a valid property for this type of Mark.');}};if(bO===IPCC.Web.UI.MarkType.SignatureText){this.hS='#000000';this.gr=IPCC.Web.UI.LineStyle.Solid;this.ja=0;}else{this.hS='#000000';this.gr=IPCC.Web.UI.LineStyle.Solid;this.ja=1;}var jq=false;switch(bO){case IPCC.Web.UI.MarkType.Line:jq=true;ax=new IPCC.Web.UI.PointCollection();ax.addPoint({x:0,y:0});ax.addPoint({x:0,y:0});kB=1;break;case IPCC.Web.UI.MarkType.Polyline:jq=true;this.kb=false;ax=new IPCC.Web.UI.PointCollection();kB=2;break;case IPCC.Web.UI.MarkType.Rectangle:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=4;break;case IPCC.Web.UI.MarkType.Ellipse:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=8;break;case IPCC.Web.UI.MarkType.Polygon:ax=new IPCC.Web.UI.PointCollection();kB=16;break;case IPCC.Web.UI.MarkType.Text:this.Ci='#000000';this.xL=false;this.rh=IPCC.Web.UI.LineStyle.Solid;this.Ct=1;this.mB=new IPCC.Web.UI.Point(0,0);this.Iy=IPCC.Web.UI.CalloutType.Triangle;this.Av=false;this.fP='Arial';this.hI=11.5;this.cq=IPCC.Web.UI.FontStyle.Regular;this.gr=IPCC.Web.UI.LineStyle.Solid;h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bm='';this.pf=IPCC.Web.UI.HorizontalAlignment.Left;this.yc=IPCC.Web.UI.VerticalAlignment.Top;this.pU='#000000';this.qU=255;this.wt=IPCC.Web.UI.Orientation.TopLeft;this.cc=[];kB=32;break;case IPCC.Web.UI.MarkType.Stamp:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=128;break;case IPCC.Web.UI.MarkType.Highlight:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bN='';this.jd='n';this.aH=0;this.cz='';this.co=0;this.cG=127;kB=256;break;case IPCC.Web.UI.MarkType.HighlightText:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bN='';this.jd='n';this.aH=0;this.cz='';this.co=0;this.cG=127;kB=512;this.cc=[];break;case IPCC.Web.UI.MarkType.Freehand:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=64;this.ja=4;this.hS='#000000';this.gM=false;this.Pl=1;this.Pj=1;this.pR='';break;case IPCC.Web.UI.MarkType.SignaturePath:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=1024;this.ja=4;this.hS='#000000';this.gM=false;this.Pl=1;this.Pj=1;this.pR='';break;case IPCC.Web.UI.MarkType.SignatureText:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=2048;this.bm='';this.pU='#000000';this.ck='#000000';this.fP="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=4096;this.fP='Arial';this.hI=8;this.cq=IPCC.Web.UI.FontStyle.Regular;this.bm='';this.pf=IPCC.Web.UI.HorizontalAlignment.Center;this.yc=IPCC.Web.UI.VerticalAlignment.Center;this.ck='#000000';this.pU='#ffffff';this.qU=255;this.wt=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.DB=[];this.bN='';this.fi='';this.bm='';this.fP='Arial';this.hI=8;kB=8192;this.cc=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.rz='';this.ja=2;this.cz='';this.bN='';this.jd='n';this.aH=0;this.co=0;kB=1<<14;this.cc=[];this.ki=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:h=new IPCC.Web.UI.Rectangle(0,0,0,0);kB=16384;this.aD='base64 string';this.nT="nT";break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bO);}if(bO!==IPCC.Web.UI.MarkType.SignaturePath&&bO!==IPCC.Web.UI.MarkType.Freehand&&bO!==IPCC.Web.UI.MarkType.SignatureText){if(jq){this.CA=15;this.BS=25;this.nf=IPCC.Web.UI.LineHeadType.None;this.qH='#000000';this.zI=15;this.Aj=25;this.zB=IPCC.Web.UI.LineHeadType.None;}else{this.ck='#c0c0c0';this.uy=true;this.gM=true;if(bO===IPCC.Web.UI.MarkType.Highlight){this.gM=false;this.cG=100;}}}this.asT=IPCC.Web.UI.are++;this.cG=255;this.un=true;this.ab={};this.dE=[];var Oi=false;function agC(ad,C){O.by('commentAdded',C);};function agz(ad,C){O.by('commentRemoved',C);};function Ib(ad,C){O.by('commentChanged',C);};db=new IPCC.Web.UI.Conversation(O);db.add_commentAdded(agC);db.add_commentChanged(Ib);db.add_commentRemoved(agz);this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(this,C);}};function Vn(ad,C){var ade='points';if(bO===IPCC.Web.UI.MarkType.Line){ade=C.index===0?'startPoint':'endPoint';}O.ac(ade,C);};if(ax){ax.add_pointAdded(Vn);ax.add_pointChanged(Vn);ax.add_pointRemoved(Vn);}this.tg=function(){return bO;};this.dO=function(){return aO;};this.jR=function(value){if(aO!==value){aO=value;this.ac('artPage');}};this.ir=function(){return Oi;};this.ko=function(V){Oi=V;};this.Za=function(){var mL=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bO){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return ax.Lf();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:return h.clone();case IPCC.Web.UI.MarkType.Text:var fK=h.x+h.width,eD=h.y+h.height;var acR=h.x+this.mB.x,acy=h.y+this.mB.y;mL.x=Math.min(h.x,Math.min(fK,acR));mL.y=Math.min(h.y,Math.min(eD,acy));mL.width=Math.max(h.x,Math.max(fK,acR))-mL.x;mL.height=Math.max(h.y,Math.max(eD,acy))-mL.y;break;}return mL;};this.dU=function(){return h.clone();};this.vN=function(V){this.Gj(16384,'image','aD',V);};this.dJ=function(){return this.aD;};this.nB=function(){return ax;};this.agI=function(){return db;};this.yF=function(){return cY;};this.Rx=function(V){var jQ;if(!h.equals(V)){h=new IPCC.Web.UI.Rectangle(V.x,V.y,V.width,V.height);if(bO===IPCC.Web.UI.MarkType.Stamp||bO===IPCC.Web.UI.MarkType.SignatureText){if(document.documentMode<9){jQ=0;if(h.width>=h.height){jQ=(h.width/14)/2;}else{jQ=h.width/15;}if(jQ*15>=h.width){jQ=(h.width/15)/2;}this.stampSize=Math.round(jQ);}else{var textFontSize=(h.width/6);if(textFontSize>h.height){textFontSize=(h.height-(h.height/6));}var sv=this.get_text();if(!sv){sv=(bO===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}jQ=sv.length*textFontSize;if(jQ>h.width){textFontSize=((h.width/sv.length));}var JH=Math.round(textFontSize);this.stampSize=JH.toString();}}this.ac('rectangle');}};this.iK=function(){return this.asT;};this.Gr=function(eh,eT){if(eh!==0||eT!==0){switch(bO){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:ax.ahf(eh,eT);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bO===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bN!==undefined){break;}h.x+=eh;h.y+=eT;this.ac('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;}}};this.Rq=function(OH){if(this.cc&&OH!==this.cc){while(this.cc.length>0){this.cc.pop();}if(OH){this.cc=OH.slice(0);}this.by('markTextSelectionChanged',{});}};this.Hh=function(R){if(this.cc){be.addHandler('markTextSelectionChanged',R);}};this.EH=function(R){if(this.cc){be.removeHandler('markTextSelectionChanged',R);}};this.vL=function(R){be.addHandler('commentAdded',R);};this.zp=function(R){be.removeHandler('commentAdded',R);};this.vS=function(R){be.addHandler('commentRemoved',R);};this.zH=function(R){be.removeHandler('commentRemoved',R);};this.rU=function(R){be.addHandler('commentChanged',R);};this.tj=function(R){be.removeHandler('commentChanged',R);};this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};return this;};IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.nB().getPoint(0)+' to '+this.nB().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.nB().hv()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.dU();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.dU();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.dU();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.nB().hv()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bm+'", at '+this.dU();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.dU();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.dU();case IPCC.Web.UI.MarkType.HighlightText:return 'Rectangle Mark at '+this.dU();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.dU();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.dU();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.pR+'", at '+this.dU();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.pR+'", at '+this.dU();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.dU();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.dU();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.dU();}return 'Mark';},mz:function(jh,aF,jF,V){this.fr(jh,aF);if(this[jF]!==V){this[jF]=V;this.ac(aF);}},Fs:function(jh,aF,jF,V){IPCC.aE.di(V,aF);this.mz(jh,aF,jF,V);},Ut:function(jh,aF,jF,V){IPCC.aE.gj(V,aF);this.mz(jh,aF,jF,V);},yO:function(jh,aF,jF,V,uO,vJ){IPCC.aE.kH(V,aF,uO,vJ);this.mz(jh,aF,jF,V);},Uk:function(jh,aF,jF,V,uO,vJ){IPCC.aE.mh(V,aF,uO,vJ);this.mz(jh,aF,jF,V);},Gj:function(jh,aF,jF,V){IPCC.aE.bO(V,aF,'string');this.mz(jh,aF,jF,V);},vy:function(jh,aF,jF,V,il){IPCC.aE.il(V,aF,il);this.mz(jh,aF,jF,V);},auU:function(jh,aF,jF,V,il){IPCC.aE.il(V,aF,il,true);this.mz(jh,aF,jF,V);},asj:function(jh,aF,jF,V){IPCC.aE.au(V,aF);this.mz(jh,aF,jF,V);},get_artPage:function(){return this.dO();},get_boundingRectangle:function(){return this.Za();},get_selected:function(){var aO=this.dO();if(!aO){return false;}var fl=aO.zn();return fl.contains(this);},set_selected:function(value){var aO=this.dO();if(aO){var fl=aO.zn();if(value!==fl.contains(this)){if(value){fl.Mt(this);}else{fl.FB(this);}this.ac('selected');}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fr(32,'calloutLineColor');return this.Ci;},set_calloutLineColor:function(value){this.Fs(32,'calloutLineColor','Ci',value);},get_calloutLineIsDistinct:function(){this.fr(32,'calloutLineIsDistinct');return this.xL;},set_calloutLineIsDistinct:function(value){this.mz(32,'calloutLineIsDistinct','xL',value);},get_calloutLineStyle:function(){this.fr(32,'calloutLineStyle');return this.rh;},set_calloutLineStyle:function(value){this.vy(32,'calloutLineStyle','rh',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fr(32,'calloutLineWidth');return this.Ct;},set_calloutLineWidth:function(value){this.yO(32,'calloutLineWidth','Ct',value,0,50);},get_calloutPoint:function(){this.fr(32,'calloutPoint');return this.mB;},set_calloutPoint:function(value){this.asj(32,'calloutPoint','mB',value);},get_calloutType:function(){this.fr(32,'calloutType');return this.Iy;},set_calloutType:function(value){this.vy(32,'calloutType','Iy',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fr(32,'calloutVisible');return this.Av;},set_calloutVisible:function(value){if(!this.Av&&value&&this.tg()===IPCC.Web.UI.MarkType.Text){if(this.mB.x===0&&this.mB.y===0){var h=this.dU();this.set_calloutPoint({x:h.width,y:h.height*1.5});}}this.mz(32,'calloutVisible','Av',value);},get_endHeadAngle:function(){this.fr(3,'endHeadAngle');return this.CA;},set_endHeadAngle:function(value){this.yO(3,'endHeadAngle','CA',value,0,180);},get_endHeadLength:function(){this.fr(3,'endHeadLength');return this.BS;},set_endHeadLength:function(value){this.yO(3,'endHeadLength','BS',value,0,100);},get_endHeadType:function(){this.fr(3,'endHeadType');return this.nf;},set_endHeadType:function(value){this.vy(3,'endHeadType','nf',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fr(1<<14,'fillColor');return this.rz;},set_href:function(value){this.Gj(1<<14,'href','rz',value);},get_fillColor:function(){this.fr(16380,'fillColor');return this.ck;},set_fillColor:function(value){this.Fs(16380,'fillColor','ck',value);},get_fillVisible:function(){this.fr(16380,'fillVisible');return this.uy;},set_fillVisible:function(value){this.mz(16380,'fillVisible','uy',value);},get_fontName:function(){this.fr(6176+8192,'fontName');return this.fP;},set_fontName:function(value){this.Gj(6176+8192,'fontName','fP',value);if(this.tg()===IPCC.Web.UI.MarkType.SignatureText){var FY=IPCC.bh.Oj(this.bm,this.fP);this.xI=FY.width;this.yz=FY.height;}},get_fontSize:function(){this.fr(32+2048+4096+8192,'fontSize');return this.hI;},set_fontSize:function(value){this.yO(32+2048+4096+8192,'fontSize','hI',value,0.1,288);},get_fontStyle:function(){this.fr(6176,'fontStyle');return this.cq;},set_fontStyle:function(value){this.auU(6176,'fontStyle','cq',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fr(3,'headFillColor');return this.qH;},set_headFillColor:function(value){this.Fs(3,'headFillColor','qH',value);},get_isClosed:function(){this.fr(2,'isClosed');return this.kb;},set_isClosed:function(value){this.mz(2,'isClosed','kb',value);},get_lineColor:function(){return this.hS;},set_lineColor:function(value){this.Fs(13567,'lineColor','hS',value);},get_lineStyle:function(){return this.gr;},set_lineStyle:function(value){this.vy(63,'lineStyle','gr',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.ja;},set_lineWidth:function(value){this.yO(13567,'lineWidth','ja',value,0,50);},get_lineVisible:function(){this.fr(172,'lineVisible');return this.gM;},set_lineVisible:function(value){this.mz(172,'lineVisible','gM',value);},get_opacity:function(){return this.cG;},set_opacity:function(value){this.Uk(895+2048+1024,'opacity','cG',value,0,255);},get_points:function(){this.fr(19,'points');return this.nB();},get_conversation:function(){return this.agI();},get_data:function(){return this.yF();},get_image:function(){this.fr(16384,'image');return this.dJ();},set_image:function(value){this.fr(16384,'image');this.vN(value);},get_rectangle:function(){this.fr(16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.dU();},set_rectangle:function(value){this.fr(16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aE.h(value,'rectangle');this.Rx(value);},get_startHeadAngle:function(){this.fr(3,'startHeadAngle');return this.zI;},set_startHeadAngle:function(value){this.yO(3,'startHeadAngle','zI',value,0,180);},get_startHeadLength:function(){this.fr(3,'startHeadLength');return this.Aj;},set_startHeadLength:function(value){this.yO(3,'startHeadLength','Aj',value,0,100);},get_startHeadType:function(){this.fr(3,'startHeadType');return this.zB;},set_startHeadType:function(value){this.vy(3,'startHeadType','zB',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fr(14496,'text');return this.bm;},set_text:function(value){if(this.bm===value){return;}this.Gj(14496,'text','bm',value);if(this.tg()===IPCC.Web.UI.MarkType.SignatureText){var FY=IPCC.bh.Oj(this.bm,this.fP);this.xI=FY.width;this.yz=FY.height;}if(this.cc){while(this.cc.length>0){this.cc.pop();}}},get_textHorizontalAlignment:function(){this.fr(32+2048,'textHorizontalAlignment');return this.pf;},set_textHorizontalAlignment:function(value){this.vy(32+2048,'textHorizontalAlignment','pf',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fr(32,'textVerticalAlignment');return this.yc;},set_textVerticalAlignment:function(value){this.vy(32,'textVerticalAlignment','yc',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fr(6176,'textColor');return this.pU;},set_textColor:function(value){this.Fs(6176,'textColor','pU',value);},get_textOpacity:function(){this.fr(32,'textOpacity');return this.qU;},set_textOpacity:function(value){this.Uk(32,'textOpacity','qU',value,0,255);},get_textOrientation:function(){this.fr(32,'textOrientation');return this.wt;},set_textOrientation:function(value){this.vy(32,'textOrientation','wt',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.tg();},get_visible:function(){return this.un;},set_visible:function(value){this.mz(63,'visible','un',value);},get_markID:function(){return this.iK();},get_pathString:function(){return this.pR;},set_pathString:function(value){var pR=this.get_pathString();if(pR){this.Lj=true;}this.Gj(1088,'pathString','pR',value);},get_pathWidth:function(){return this.Pl;},set_pathWidth:function(value){this.Ut(1088,'pathWidth','Pl',value);},get_pathHeight:function(){return this.Pj;},set_pathHeight:function(value){this.Ut(1088,'pathHeight','Pj',value);},add_propertyChanged:function(handler){this.jx(handler);},remove_propertyChanged:function(handler){this.jK(handler);},add_markTextSelectionChanged:function(handler){this.Hh(handler);},remove_markTextSelectionChanged:function(handler){this.EH(handler);},move:function(deltaX,deltaY){IPCC.aE.gj(deltaX,'deltaX');IPCC.aE.gj(deltaY,'deltaY');this.Gr(deltaX,deltaY);},moveBackward:function(){if(this.dO()){var index=this.dO().mD(this);var cd=this.dO().afI();if(index>cd){this.dO().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.dO()){var index=this.dO().mD(this);if(index<this.dO().VJ()-1){this.dO().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.dO()){var cd=0;cd=this.dO().afI();this.dO().reorderMark(this,cd);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.dO()){this.dO().reorderMark(this,this.dO().VJ()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.dO()){this.dO().removeMark(this);}},selectText:function(textRanges){this.Rq(textRanges);},apS:function(){var dq={};var O=this;var ax,VE,au,h,G;function cW(aF,KH){dq[KH]=O[aF];};var jq=false;var ih=false;var wK=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jq=true;wK=true;dq.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:jq=true;wK=true;dq.__type='PolyLineMark:#IPCC.Web';cW('kb','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ih=true;dq.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ih=true;dq.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:ih=true;dq.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:wK=true;dq.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:ih=true;dq.__type='TextMark:#IPCC.Web';cW('Ci','clc');cW('xL','clid');cW('rh','cls');cW('Ct','clw');cW('Iy','ct');cW('Av','cv');cW('fP','fn');cW('hI','fs');cW('cq','fst');cW('gr','ls');cW('bm','te');cW('pf','tha');cW('yc','tva');cW('pU','tc');cW('qU','to');cW('wt','tor');au=this.mB;if(au.x!==0||au.y!==0){dq.cp={x:au.x,y:au.y};}break;case IPCC.Web.UI.MarkType.Stamp:ih=true;dq.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:ih=true;dq.__type='HighlightText:#IPCC.Web';break;}if(jq){cW('CA','eha');cW('BS','ehl');cW('nf','eht');cW('qH','hfc');cW('zI','sha');cW('Aj','shl');cW('zB','sht');}else{cW('ck','fc');cW('uy','fv');cW('gM','lv');}if(ih){h=this.get_rectangle();dq.r={x:h.x,y:h.y,width:h.width,height:h.height};}dq.t=this.get_type();cW('hS','lc');cW('gr','ls');cW('ja','lw');cW('cG','o');cW('un','v');if(wK){ax=this.nB();VE=[];for(G=0;G<ax.get_length();G++){au=ax.getPoint(G);VE.push({x:au.x,y:au.y});}dq.p=VE;}return dq;},agh:function(dq){var O=this;var ax,G;function cW(aF,KH){if(dq.hasOwnProperty(KH)){O[aF]=dq[KH];}};var jq=false;var ih=false;var wK=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jq=true;if(dq.p&&dq.p.length===2){ax=this.nB();ax.setPoint(0,new IPCC.Web.UI.Point(dq.p[0].x,dq.p[0].y));ax.setPoint(1,new IPCC.Web.UI.Point(dq.p[1].x,dq.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:jq=true;wK=true;cW('kb','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ih=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:ih=true;break;case IPCC.Web.UI.MarkType.Ellipse:ih=true;break;case IPCC.Web.UI.MarkType.Polygon:wK=true;break;case IPCC.Web.UI.MarkType.Text:ih=true;cW('Ci','clc');cW('xL','clid');cW('rh','cls');cW('Ct','clw');cW('Iy','ct');cW('Av','cv');cW('fP','fn');cW('hI','fs');cW('cq','fst');cW('gr','ls');cW('bm','te');cW('pf','tha');cW('yc','tva');cW('pU','tc');cW('qU','to');cW('wt','tor');if(dq.cp){this.mB=new IPCC.Web.UI.Point(dq.cp.x,dq.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:ih=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:ih=true;break;}if(jq){cW('CA','eha');cW('BS','ehl');cW('nf','eht');cW('qH','hfc');cW('zI','sha');cW('Aj','shl');cW('zB','sht');}else{cW('ck','fc');cW('uy','fv');cW('gM','lv');}if(ih){if(dq.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(dq.r.x,dq.r.y,dq.r.width,dq.r.height));}}dq.t=this.get_type();cW('hS','lc');cW('gr','ls');cW('ja','lw');cW('cG','o');cW('un','v');if(dq.p&&wK){ax=this.nB();for(G=0;G<dq.p.length;G++){ax.addPoint(new IPCC.Web.UI.Point(dq.p[G].x,dq.p[G].y));}}return dq;}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass('IPCC.Web.UI.Mark');IPCC.Web.UI.ArtPage=function(){var aJ=[];var be=new IPCC.Web.UI.fY();var fl=new IPCC.Web.UI.MarkCollection();var O=this;var Eo=true;this.amP=[];function onMarkSelectionChanged(ad,C){var K=C.mark;if((K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bN!==undefined)||K.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fl.remove_markAdded(onMarkSelectionChanged);for(var G=0;G<aJ.length;G++){if(aJ[G].bN===K.bN){aJ[G].set_selected(C.mark.get_selected());if(aJ[G].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){K=aJ[G];}}}fl.add_markAdded(onMarkSelectionChanged);}var fz=new IPCC.Web.UI.MarkEventArgs();fz.mark=K;fz.zIndex=O.mD(K);fz.length=1;O.by('markSelectionChanged',fz);};fl.add_markAdded(onMarkSelectionChanged);fl.add_markRemoved(onMarkSelectionChanged);var agX=fl.addMark;fl.addMark=function(K){if(O.mD(K)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fl.contains(K)){agX.call(fl,K);K.ac('selected');}};var amY=fl.addMarks;fl.addMarks=function(xh){var ot=[];function Pv(K){if(O.mD(K)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fl.contains(K)){ot.push(K);}};xh.forEach(Pv,{});amY.call(fl,xh);var G;for(G=0;G<ot.length;G++){ot[G].ac('selected');}};var auP=fl.removeMark;fl.removeMark=function(K){if(fl.contains(K)){auP.call(fl,K);K.ac('selected');}};var atd=fl.removeAllMarks;fl.removeAllMarks=function(){var ot=[];function Pv(K){if(fl.contains(K)){ot.push(K);}};fl.forEach(Pv,{});atd.call(fl);var G;for(G=0;G<ot.length;G++){ot[G].ac('selected');}};function YO(kd){IPCC.aE.mh(kd,'zIndex',0,aJ.length-1);};this.VJ=function(){return aJ.length;};this.afI=function(){var G=0;for(;G<aJ.length;G++){if(aJ[G].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&aJ[G].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(aJ[G].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&aJ[G].bN!==undefined)){break;}}return G;};this.zn=function(){return fl;};this.Eq=function(V){if(V===Eo){return;}Eo=V;this.ac('Eo');};this.CO=function(){return Eo;};function rs(ad,C){if(C.get_propertyName()==='selected'){return;}var fz=new IPCC.Web.UI.MarkEventArgs();fz.mark=ad;fz.zIndex=O.mD(ad);fz.propertyName=C.aF;fz.length=1;if(fz.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||fz.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){O.ajb(ad);}else if(fz.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(fz.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&fz.mark.bN!=='undefined')){O.aiB(ad);}O.by('markChanged',fz);};function tS(ad){var fz=new IPCC.Web.UI.MarkEventArgs();fz.mark=ad;fz.zIndex=O.mD(ad);fz.length=1;O.by('markTextSelectionChanged',fz);};function Jh(ad,C){var fz=new IPCC.Web.UI.CommentEventArgs();fz.mark=ad;fz.comment=C.comment;fz.index=C.index;O.by('commentAdded',fz);};function GL(ad,C){var fz=new IPCC.Web.UI.CommentEventArgs();fz.mark=ad;fz.comment=C.comment;fz.index=C.index;O.by('commentRemoved',fz);};function JR(ad,C){var fz=new IPCC.Web.UI.CommentEventArgs();fz.mark=ad;fz.comment=C.comment;fz.index=C.index;O.by('commentChanged',fz);};this.Mt=function(K,oV){oV=oV||{};var kd=this.mD(K);if(kd>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(K.dO()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}aJ.push(K);K.jR(this);K.add_propertyChanged(rs);K.add_markTextSelectionChanged(tS);K.vL(Jh);K.vS(GL);K.rU(JR);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=K;if(K.get_type()===IPCC.Web.UI.MarkType.Highlight||K.get_type()===IPCC.Web.UI.MarkType.HighlightText||K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bN!==undefined)){this.Zg(K,0);}else{C.zIndex=aJ.length-1;}C.clientX=oV.clientX;C.clientY=oV.clientY;C.length=1;O.by('markAdded',C);};this.LE=function(mG,cD){var Ef=[].concat(aJ);var G;for(G=0;G<Ef.length;G++){mG.call(cD,Ef[G],G,this);}};this.Lz=function(kd){YO(kd);return aJ[kd];};this.mD=function(K){var G;for(G=0;G<aJ.length;G++){if(aJ[G]===K){return G;}}return-1;};this.aic=function(iZ){var dq;if(typeof JSON!=='undefined'){dq=JSON.parse(iZ);}else{dq=IPCC.dh.oA(iZ,true);}this.LH();var uC=[];var G;var LP=dq.m;if(LP){for(G=0;G<LP.length;G++){var bI=new IPCC.Web.UI.Mark(LP[G].t);bI.agh(LP[G]);bI.jR(this);bI.add_propertyChanged(rs);bI.add_markTextSelectionChanged(tS);uC.push(bI);}}aJ=uC;O.by('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aps=function(){var xk=new Array(36);var bH=0;var G;var bF;for(G=0;G<8;G++){xk[bH++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(G=0;G<3;G++){xk[bH++]=45;for(bF=0;bF<4;bF++){xk[bH++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}xk[bH++]=45;var akF=new Date().getTime();var anh=("0000000"+akF.toString(16).toUpperCase()).substr(-8);for(G=0;G<8;G++){xk[bH++]=anh.charCodeAt(G);}for(G=0;G<4;G++){xk[bH++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,xk);};function Jc(gj,dP){var cU=""+gj;while(cU.length<dP){cU='0'+cU;}return cU;};function aeY(dR){var ma=dR.getTimezoneOffset();ma=((ma<0?'+':'-')+Jc(parseInt(Math.abs(ma/60),10),2)+Jc(Math.abs(ma%60),2));return ma;};var Ze=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];var Yu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.Wr=function(dR){return(Ze[dR.getUTCDay()]+" "+Yu[dR.getUTCMonth()]+" "+dR.getUTCDate()+" "+dR.getUTCHours()+':'+dR.getUTCMinutes()+':'+dR.getUTCSeconds()+" "+"GMT"+aeY(dR)+" "+dR.getUTCFullYear());};this.afQ=function(dR){return(Ze[dR.getUTCDay()]+" "+Yu[dR.getUTCMonth()]+" "+dR.getUTCDate()+" "+dR.getUTCFullYear());};this.agb=function(dR){return(dR.getUTCHours()+':'+dR.getUTCMinutes()+':'+dR.getUTCSeconds()+" "+"GMT"+aeY(dR));};function Ru(kJ){var bq=kJ.firstChild;while(bq.nodeType!==1){bq=bq.nextSibling;}return bq;};function JB(rK,aaC,amJ){var aix=parseFloat(rK.getAttribute(aaC));var aiE=parseFloat(rK.getAttribute(aaC+'PY'));return amJ/(aix/aiE);};function agr(Ma,bg,bd){var Xe=Ma.getAttribute('pageWidth');var Xk=Ma.getAttribute('pageHeight');var KM,Ng,aT,rK,G;if(Xe&&Xk){KM=parseFloat(Xe);Ng=parseFloat(Xk);if(isFinite(KM)&&isFinite(Ng)&&KM>0&&Ng>0){return bg/KM;}}for(G=0;G<Ma.childNodes.length;G++){rK=Ma.childNodes[G];if(rK.nodeName!=='annotation'){continue;}aT=JB(rK,'width',bg);if(isFinite(aT)&&aT>0){return aT;}aT=JB(rK,'height',bd);if(isFinite(aT)&&aT>0){return aT;}aT=JB(rK,'x',bg);if(isFinite(aT)&&aT>0){return aT;}aT=JB(rK,'y',bd);if(isFinite(aT)&&aT>0){return aT;}}return 1;};this.abO=function(lo,bb,bg,bd,Po,stampImages){var O=this;this.LH();if(lo){var iT;if(IPCC.uR.yW()){iT=lo.firstChild;}else{var VF=lo.firstChild.nodeName;if(VF.toLowerCase()==='xml'){iT=lo.firstChild.nextSibling;}else{iT=lo.firstChild;}}var bW=Ru(iT);if(bW.nodeName!=='pages'){throw 'ERROR: pages';}if(bW.hasChildNodes()){var G;for(G=0;G<bW.childNodes.length;G++){var aI=bW.childNodes[G];if(aI.nodeName!=='page'){continue;}var zG=aI.getAttribute('id');var hK=false;var uT;var pW='';var JK=[];var kj;var ou,k=0;var co,cz,aH;if(Po){var WB=aI.getAttribute('pageWidth'),Yp=aI.getAttribute('pageHeight');if(WB){Po.auh(WB);}if(Yp){Po.auo(Yp);}}var nN=[],IK={};if((zG&&parseInt(zG,10))===(bb+1)){hK=true;var uC=[];var bF;var bI;var ih,ej,oy;var wk=1;var We=agr(aI,bg,bd);if(We>0){wk=We;}for(bF=0;bF<aI.childNodes.length;bF++){var bw=aI.childNodes[bF];if(bw.nodeName!=='annotation'){continue;}var iq=parseFloat(bw.getAttribute('width'))*wk;var iC=parseFloat(bw.getAttribute('height'))*wk;var ga=parseFloat(bw.getAttribute('x'))*wk;var gX=parseFloat(bw.getAttribute('y'))*wk;var akP=parseInt(bw.getAttribute('fillColor'),10);var yu=parseInt(akP,10).toString(16);var akX=parseInt(bw.getAttribute('lineColor'),10);var kZ=parseInt(akX,10).toString(16);var akS=bw.getAttribute('stampSize');var Mc=bw.getAttribute('dragDirection');var Ix=parseInt(bw.getAttribute('opacity'),10);if(isNaN(Ix)){Ix=0;}while(yu.length<6){yu='0'+yu;}while(kZ.length<6){kZ='0'+kZ;}if(bw.nodeName==='annotation'){var aaT=bw.getAttribute('label');if(!aaT){aaT='';}var oX=bw.getAttribute('drawType');var kG;switch(oX){case 'imagestamp':case 'imagestamp_redact':var nT=bw.getAttribute('imageStampId');var bk=(oX==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;bI=new IPCC.Web.UI.Mark(bk);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_image(stampImages[nT].base64format);bI.nT=nT;ih=true;break;case 'circle':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});ih=true;bI.set_lineColor('#'+kZ);bI.set_fillVisible(false);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});ih=true;bI.set_fillColor('#'+yu);bI.set_lineColor('#'+kZ);bI.set_fillVisible(true);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'text':case 'text_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fontName('verdana');bI.set_fontSize(10);bI.set_opacity(0);uT=undefined;bI.set_fillColor('#000000');if(oX==='text_redact'){bI.ko(true);}if(oX==='text'){bI.set_fillColor('#'+yu);bI.set_lineColor('#'+kZ);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bI.set_fillVisible(true);bI.set_opacity(Ix);}nN=[];ej=bw.firstChild;while((ej)&&(ej.nodeType!==4)){ej=ej.nextSibling;}if((ej)&&(ej.nodeType===4)){kG=ej.innerText||ej.textContent||ej.data;bI.ab.bm=kG;ou=kG.split("</TEXTFORMAT>");pW='';JK=[];for(k=0;k<ou.length;k++){if(ou[k].match(/<TEXTFORMAT/)){ou[k]=ou[k]+"</TEXTFORMAT>";nN.push(ou[k]);}}for(k=0;k<nN.length;k++){if(nN[k].match(/<P/)){uT=this.XC(nN[k]);JK.push(uT);pW+=uT+" ";if(k===0){kj=this.Wf(nN[k]);WQ(kj,bI);}}pW=pW.replace(/\s+$/g,"");bI.set_text(pW);var akg=this.ast(nN[k]);switch(akg){case 'CENTER':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var ax=bI.nB();if(Mc==='br'){ax.setPoint(1,new IPCC.Web.UI.Point(ga+iq,gX+iC));ax.setPoint(0,new IPCC.Web.UI.Point(ga,gX));}else if(Mc==='bl'){ax.setPoint(1,new IPCC.Web.UI.Point(ga,gX+iC));ax.setPoint(0,new IPCC.Web.UI.Point(ga+iq,gX));}else if(Mc==='tr'){ax.setPoint(1,new IPCC.Web.UI.Point(ga+iq,gX));ax.setPoint(0,new IPCC.Web.UI.Point(ga,gX+iC));}else if(Mc==='tl'){ax.setPoint(1,new IPCC.Web.UI.Point(ga,gX));ax.setPoint(0,new IPCC.Web.UI.Point(ga+iq,gX+iC));}bI.set_lineColor('#'+kZ);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));if(oX==='arrow'){bI.set_headFillColor('#'+kZ);bI.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);bI.set_startHeadAngle(30);bI.set_startHeadLength(35);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fillColor('#'+kZ);if(oX==='stamp_redact'){bI.ko(true);bI.set_fillColor('#000000');}ej=bw.firstChild;while((ej)&&(ej.nodeType!==4)){ej=ej.nextSibling;}if((ej)&&(ej.nodeType===4)){kG=ej.innerText||ej.textContent||ej.data;bI.ab.bm=kG;bI.set_text(kG);}break;case 'highlightText':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fillColor('#'+kZ);bI.bN=bw.getAttribute('highlightGroupID');if(bw.getAttribute('textLength')){bI.co=parseInt(bw.getAttribute('textLength'),10);}bI.cz=bw.getAttribute('selectedText');if(bw.getAttribute('startIndex')){bI.aH=parseInt(bw.getAttribute('startIndex'),10);}bI.jd=bw.getAttribute('isHighlight');bI.set_opacity(100);this.auZ(bI,uC,bw);break;case 'rectangle_filled_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fillColor('#000000');bI.set_lineColor('#'+kZ);bI.set_fillVisible(true);bI.ko(true);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));oy=bw.getAttribute('highlightGroupID');bI.set_text(bw.getAttribute('meta'));if(oy){bI.set_lineWidth(0);bI.bN=oy;var cL=IK[oy];if(!cL){cL=IK[oy]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cL.bN=oy;cL.set_rectangle(bI.get_rectangle());cL.ko(true);cL.set_text(bw.getAttribute('meta'));}else{var Fv=false;var pe=cL.get_rectangle();var eO=pe.x,fK=pe.x+pe.width,_top=pe.y,eD=pe.y+pe.height;if(pe.x>ga){Fv=true;eO=ga;}if(pe.y>gX){Fv=true;_top=gX;}if(pe.x+pe.width<ga+iq){Fv=true;fK=ga+iq;}if(pe.y+pe.height<gX+iC){Fv=true;eD=gX+iC;}if(Fv===true){cL.set_rectangle({x:eO,y:_top,width:fK-eO,height:eD-_top});}}}break;case 'text_selection_redaction':oy=bw.getAttribute('highlightGroupID');bI=IK[oy];if(!bI){bI=IK[oy]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);bI.bN=oy;bI.set_rectangle({x:0,y:0,width:0,height:0});bI.ko(true);bI.set_text(bw.getAttribute('meta'));}co=bw.getAttribute('textLength');if(co){bI.co=parseInt(co,10);}cz=bw.getAttribute('selectedText');if(cz){bI.cz=cz;}aH=bw.getAttribute('startIndex');if(aH){bI.aH=parseInt(aH,10);}break;case 'text_hyperlink_annotation':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);oy=bw.getAttribute('highlightGroupID');bI.bN=oy;var rz=bw.getAttribute('href');if(rz){bI.set_href(rz);}co=bw.getAttribute('textLength');if(co){bI.co=parseInt(co,10);}cz=bw.getAttribute('selectedText');if(cz){bI.cz=cz;}aH=bw.getAttribute('startIndex');if(aH){bI.aH=parseInt(aH,10);}var jd=bw.getAttribute('isHighlight');bI.jd=jd?jd:'n';bI.ki=ajz(bw,wk);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});break;case 'rectangle':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_lineVisible(true);bI.set_lineColor('#'+kZ);bI.set_fillVisible(false);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'rectangle_filled':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fillColor('#'+yu);bI.set_lineColor('#'+kZ);bI.set_fillVisible(true);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fillColor('#'+yu);bI.set_lineColor('#'+kZ);bI.set_fillVisible(true);if(oX==='rectangle_trans_redact'){bI.ko(true);}bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(oX==='freehand'){bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);}bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_pathWidth(parseFloat(bw.getAttribute('pathWidth')));bI.set_pathHeight(parseFloat(bw.getAttribute('pathHeight')));bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bI.set_lineColor('#'+kZ);var uU=bw.firstChild;while((uU)&&(uU.nodeType!==4)){uU=uU.nextSibling;}if((uU)&&(uU.nodeType===4)){kG=uU.innerText||uU.textContent||uU.data;bI.ab.bm=kG;bI.set_pathString(kG);}break;case 'signature_text':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);bI.set_rectangle({x:ga,y:gX,width:iq,height:iC});bI.set_fontSize(10);bI.set_lineWidth=0;bI.set_fillVisible(true);bI.set_opacity(1);uT=undefined;nN=[];ej=bw.firstChild;while((ej)&&(ej.nodeType!==4)){ej=ej.nextSibling;}if((ej)&&(ej.nodeType===4)){kG=ej.innerText||ej.textContent||ej.data;bI.ab.bm=kG;ou=kG.split("</TEXTFORMAT>");for(k=0;k<ou.length;k++){if(ou[k].match(/<TEXTFORMAT/)){ou[k]=ou[k]+"</TEXTFORMAT>";nN.push(ou[k]);}}pW='';JK=[];for(k=0;k<nN.length;k++){if(nN[k].match(/<P/)){uT=this.XC(nN[k]);JK.push(uT);pW+=uT+" ";if(k===0){kj=this.Wf(nN[k]);WQ(kj,bI);}}pW=pW.replace(/\s+$/g,"");bI.set_text(pW);bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);bI.xI=parseFloat(bw.getAttribute('fontWidth'));bI.yz=parseFloat(bw.getAttribute('fontHeight'));}}break;case 'polyline':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);bI.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));bI.set_lineColor('#'+kZ);var uk=bw.firstChild;while((uk)&&(uk.nodeType!==4)){uk=uk.nextSibling;}var Ca;if((uk)&&(uk.nodeType===4)){kG=uk.innerText||uk.textContent||uk.data;if(kG&&kG!=='undefined'){if(typeof JSON!=='undefined'){Ca=JSON.parse(kG);}else{Ca=IPCC.dh.oA(kG,true);}ax=bI.nB();if(Ca){for(G=0;G<Ca.length;G++){ax.addPoint(new IPCC.Web.UI.Point(Ca[G].x*wk,Ca[G].y*wk));}}}}break;default:}if(bI){bI.ab.aeq=bw.getAttribute('nodeId');if(Ix>0&&(oX==='rectangle_trans_redact'|| !bI.ir())&&oX!=='stamp'&&oX!=='text_hyperlink_annotation'){bI.set_opacity(Ix);}bI.ab.JH=akS;bI.ab.awU=oX;bI.ab.ja=bw.getAttribute('lineWidth');bI.ab.ck=bw.getAttribute('fillColor');bI.ab.hS=bw.getAttribute('lineColor');bI.ab.avS=bw.getAttribute('dragDirection');bI.ab.zG=zG;bI.ab.bq=bw.getAttribute('x');bI.ab.et=bw.getAttribute('y');bI.ab.dg=bw.getAttribute('height');bI.ab.aQ=bw.getAttribute('width');bI.ab.auw=bw.getAttribute('x_percent');bI.ab.aqe=bw.getAttribute('y_percent');bI.ab.aoi=bw.getAttribute('height_percent');bI.ab.alJ=bw.getAttribute('width_percent');bI.ab.avE=bw.getAttribute('formUser');bI.ab.awx=bw.getAttribute('created');bI.ab.avj=bw.getAttribute('modified');bI.ab.awa=bw.getAttribute('saveDate');bI.ab.avY=bw.getAttribute('saveTime');bI.ab.op=bw.getAttribute('meta');var xJ=bw.firstChild;while((xJ)&&(xJ.nodeType!==4)){xJ=xJ.nextSibling;}if((xJ)&&(xJ.nodeType===4)){bI.dE.push(xJ.data);}else{bI.dE.push('');}bI.jR(this);bI.add_propertyChanged(rs);bI.add_markTextSelectionChanged(tS);bI.vL(Jh);bI.vS(GL);bI.rU(JR);uC.push(bI);}if(bI){aie(bw,bI);}}}aJ=uC;O.by('marksLoaded',{});}if(hK){anK(lo,bb);break;}}}}};function NT(Zv,cY){for(var i=0;i<Zv.childNodes.length;i++){var Vy=Zv.childNodes[i];if(Vy.nodeName==='kvp'){var bz=Vy.getAttribute("key");var V=Vy.getAttribute("value");cY.set_data(bz,V);}}};function ajd(Jv,db){var fq=new IPCC.Web.UI.Comment(Jv.getAttribute("text"));fq.set_creationTime(Jv.getAttribute("created"));db.addComment(fq);for(var i=0;i<Jv.childNodes.length;i++){var WK=Jv.childNodes[i];if(WK.nodeName==='data'){NT(WK,fq.get_data());}}};function aiq(Wm,db){for(var i=0;i<Wm.childNodes.length;i++){var IT=Wm.childNodes[i];if(IT.nodeName==='comments'){var lv=IT;for(var j=0;j<lv.childNodes.length;j++){var Xg=lv.childNodes[j];if(Xg.nodeName==='comment'){ajd(Xg,db);}}}else if(IT.nodeName==='data'){NT(IT,db.get_data());}}};function aie(abH,K){for(var i=0;i<abH.childNodes.length;i++){var Jb=abH.childNodes[i];if(Jb.nodeName==='conversation'){aiq(Jb,K.get_conversation());}else if(Jb.nodeName==='data'){NT(Jb,K.get_data());}}};function ajz(qj,xc){var kW=null,Ac;for(var i=0;i<qj.childNodes.length;i++){Ac=qj.childNodes[i];if(Ac.nodeName==='line-rectangles'){if(!kW){kW=ahZ(Ac,xc);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return kW;};function ahZ(qj,xc){var kW=[],Ac;for(var i=0;i<qj.childNodes.length;i++){Ac=qj.childNodes[i];if(Ac.nodeName==='rectangle'){kW.push(ajl(Ac,xc));}}return kW;};function ajl(qj,xc){var bq=parseFloat(qj.getAttribute("x"))*xc;var et=parseFloat(qj.getAttribute("y"))*xc;var aQ=parseFloat(qj.getAttribute("width"))*xc;var dg=parseFloat(qj.getAttribute("height"))*xc;return new IPCC.Web.UI.Rectangle(bq,et,aQ,dg);};this.auZ=function(OJ,uC,bw){var G=parseInt(OJ.aH,10);var ct=G+parseInt(OJ.co,10);for(;G<ct;G++){var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bI.set_rectangle({x:0,y:0,width:0,height:0});bI.set_fillColor(OJ.get_fillColor());bI.bN=bw.getAttribute('highlightGroupID');bI.jd=bw.getAttribute('isHighlight');bI.set_opacity(100);bI.ab.bq=bw.getAttribute('x');bI.ab.et=bw.getAttribute('y');bI.ab.dg=bw.getAttribute('height');bI.ab.aQ=bw.getAttribute('width');bI.ab.auw=bw.getAttribute('x_percent');bI.ab.aqe=bw.getAttribute('y_percent');bI.ab.aoi=bw.getAttribute('height_percent');bI.ab.alJ=bw.getAttribute('width_percent');bI.dE.push('');bI.aH=G;bI.jR(this);bI.add_propertyChanged(rs);bI.add_markTextSelectionChanged(tS);uC.push(bI);}};this.FO=function(bs,yS,oe,gM,cG,bH){var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bI.set_rectangle({x:bs.x,y:bs.y,width:bs.width,height:bs.height});bI.set_fillColor(oe);bI.set_fillVisible(true);bI.aH=bH;bI.co=1;if(cG){bI.set_opacity(cG);}else{bI.set_opacity(127);}O.addMark(bI);return bI;};this.ape=function(bs,PE,bH){var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bI.set_rectangle({x:bs.x,y:bs.y,width:bs.width,height:bs.height});bI.set_fillColor(PE.get_fillColor());bI.set_fillVisible(true);bI.aH=bH;bI.co=1;if(PE.get_opacity()){bI.set_opacity(PE.get_opacity());}else{bI.set_opacity(127);}O.addMark(bI);return bI;};function WQ(kj,bI){for(var cb=0;cb<kj.length;cb++){var dC=kj[cb].attribs;var hK=false;if(kj[cb].attribs.length>1&& !hK&&kj[cb].GH==='font'){hK=true;for(var bF=0;bF<dC.length;bF++){if(dC[bF].bY==="FACE"){bI.set_fontName(dC[bF].V);}else if(dC[bF].bY==="SIZE"){var sC=parseFloat(dC[bF].V);bI.set_fontSize(sC);}else if(dC[bF].bY==="COLOR"){var XE=dC[bF].V;if(bI.get_type()===IPCC.Web.UI.MarkType.SignatureText){bI.set_fillColor(XE);}else{bI.set_textColor(XE);}}}var kR=false;if(kj[cb+1]){if(kj[cb+1].tagName==='font'){break;}else{var wF=kj[cb+1].GH;if(wF==='b'||wF==='i'||wF==='u'||wF==='s'){if(wF==='b'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(wF==='i'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(wF==='u'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(wF==='s'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kR=true;}}if(kj[cb+2]){var ahj=kj[cb+2].GH;kR=Sy(bI,kR,ahj);}if(kj[cb+3]){var ags=kj[cb+3].GH;kR=Sy(bI,kR,ags);}if(kj[cb+4]){var ahn=kj[cb+4].GH;kR=Sy(bI,kR,ahn);}if(hK){break;}}}}};function Sy(K,aas,vk){var kR=aas;var bI=K;if(aas){if(vk==='b'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kR=true;}else if(vk==='i'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kR=true;}else if(vk==='u'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kR=true;}else if(vk==='s'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kR=true;}}else{if(vk==='b'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kR=true;}else if(vk==='i'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kR=true;}else if(vk==='u'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kR=true;}else if(vk==='s'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kR=true;}}return kR;};function Bn(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var XN=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,adZ=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,anf=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var asa=Bn("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var Mb=Bn("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aon=Bn("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var ahP=Bn("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var alH=Bn("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var arJ=Bn("script,style");this.abv=function(html,handler){var bH,xb,rM,kA=[],tN=html;function parseEndTag(tag,tagName){var ud;if(!tagName){ud=0;}else{for(ud=kA.length-1;ud>=0;ud--){if(kA[ud]===tagName){break;}}}if(ud>=0){for(var i=kA.length-1;i>=ud;i--){if(handler.end){handler.end(kA[i]);}}kA.length=ud;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(Mb[tagName]){while(kA.last()&&aon[kA.last()]){parseEndTag("",kA.last());}}if(ahP[tagName]&&kA.last()===tagName){parseEndTag("",tagName);}unary=asa[tagName]|| ! !unary;if(!unary){kA.push(tagName);}if(handler.start){var attrs=[];rest.replace(anf,function(rM,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:alH[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};kA.last=function(){return this[this.length-1];};function aru(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){xb=true;if(!kA.last()|| !arJ[kA.last()]){if(html.indexOf("<!--")===0){bH=html.indexOf("-->");if(bH>=0){if(handler.comment){handler.comment(html.substring(4,bH));}html=html.substring(bH+3);xb=false;}}else if(html.indexOf("</")===0){rM=html.match(adZ);if(rM){html=html.substring(rM[0].length);rM[0].replace(adZ,parseEndTag);xb=false;}}else if(html.indexOf("<")===0){rM=html.match(XN);if(rM){html=html.substring(rM[0].length);rM[0].replace(XN,parseStartTag);xb=false;}}if(xb){bH=html.indexOf("<");var text=bH<0?html:html.substring(0,bH);text=text.replace(/&gt;/g,'>').replace(/&lt;/g,'<');html=bH<0?"":html.substring(bH);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+kA.last()+"[^>]*>"),aru);parseEndTag("",kA.last());}if(html===tN){throw " Parse Error in annotation Html Text: "+html;}tN=html;}parseEndTag();};this.XC=function(html){var results="";this.abv(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.Wf=function(html){var gg=[];this.abv(html,{start:function(tag,attrs){var ei;ei=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var ww={};ww.GH=tag;ww.attribs=[];if(tag==='b'){ww.awm=true;}else if(tag==='i'){ww.aww=true;}else if(tag==='u'){ww.avp=true;}else if(tag==='s'){ww.awD=true;}else{for(var i=0;i<attrs.length;i++){var wS={};wS.bY=attrs[i].name;wS.V=attrs[i].value;ww.attribs.push(wS);}}gg.push(ww);}},end:function(){},chars:function(){},comment:function(){}});return gg;};this.ast=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];switch(alignment){case 'CENTER':return alignment;case 'RIGHT':return alignment;default:return 'LEFT';}};function anK(lo,ajj){var lB=lo.getElementsByTagName("highlights")[0];if(lB.hasChildNodes()){var jG;var dM;for(var G=0;G<lB.childNodes.length;G++){jG=lB.childNodes[G];if(jG.nodeType===1){dM=jG.getAttribute('page');if(dM&&parseInt(dM,10)===ajj+1){var jD=new IPCC.Web.UI.aqK();jD.anJ=jG.nodeName;switch(jD.anJ){case 'tag':jD.NA=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jD.NA=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jD.NA=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jD.NA=IPCC.Web.UI.HighLightType.Redaction;break;default:jD.NA=undefined;}if(jG.childNodes[0].data){jD.dE.push(jG.childNodes[0].data);}jD.ab.fu=jG.getAttribute('id');jD.ab.awJ=jG.getAttribute('userid');jD.ab.avU=jG.getAttribute('mode');jD.ab.di=jG.getAttribute('color');jD.ab.awb=jG.getAttribute('occurence');jD.ab.bw=jG.getAttribute('annotation');jD.ab.aI=jG.getAttribute('page');jD.ab.awu=jG.getAttribute('documentname');jD.ab.awh=jG.getAttribute('tooltip');jD.ab.avo=jG.getAttribute('allowdelete');jD.ab.iw=jG.getAttribute('start');jD.ab.ayr=jG.getAttribute('end');O.amP.push(jD);}}}}};this.LH=function(){if(aJ.length<1){return;}var C=new IPCC.Web.UI.MarkEventArgs();C.length=aJ.length;fl.removeAllMarks();var G;for(G=0;G<aJ.length;G++){aJ[G].remove_propertyChanged(rs);aJ[G].remove_markTextSelectionChanged(tS);aJ[G].jR(null);}aJ=[];C.zIndex=0;O.by('markRemoved',C);};this.FB=function(K){var kd=this.mD(K);var uE=K.bN;if(kd>=0){K.remove_propertyChanged(rs);K.remove_markTextSelectionChanged(tS);K.jR(null);aJ.splice(kd,1);fl.removeMark(K);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=K;C.zIndex=kd;C.length=1;O.by('markRemoved',C);if(uE){this.aqv(uE);}}};this.ajb=function(oY){var rq=aJ.length;var uE=oY.bN;while(rq--){var K=aJ[rq];if(K.bN===uE){K.set_fillColor(oY.get_fillColor());}}};this.aiB=function(oY){var rq=aJ.length;var uE=oY.bN;if(!uE){oY.set_text(oY.get_text());return;}while(rq--){var K=aJ[rq];if(K.bN===uE){if(K.get_text()!==oY.get_text()){K.set_text(oY.get_text());}if(K.get_fontName()!==oY.get_fontName()){K.set_fontName(oY.get_fontName());}if(K.get_fontSize()!==oY.get_fontSize()){K.set_fontSize(oY.get_fontSize());}}}};this.aqv=function(uE){var rq=aJ.length;while(rq--){var K=aJ[rq];if(K.bN===uE){var kd=this.mD(K);fl.removeMark(K);aJ.splice(rq,1);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=K;C.zIndex=kd;C.length=1;}}};this.Zg=function(K,kd){var KA=this.mD(K);if(KA<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(KA===kd){return;}YO(kd);aJ.splice(KA,1);aJ.splice(kd,0,K);if(K.get_type()===IPCC.Web.UI.MarkType.Highlight||K.get_type()===IPCC.Web.UI.MarkType.HighlightText||K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bN!==undefined)){return;}var C=new IPCC.Web.UI.MarkEventArgs();C.mark=K;C.zIndex=kd;C.oldZIndex=KA;C.length=1;O.by('markReordered',C);};function apC(kW,cr,de){if(!kW){return undefined;}var kD={fD:'line-rectangles',dE:[],ab:{}};IPCC.bh.forEach(kW,function(h){kD.dE.push({fD:'rectangle',dE:[],ab:{x:h.x,y:h.y,height:h.height,width:h.width}});});return kD;};function SH(cY){if(!cY){return undefined;}var Gk=cY.get_dataKeys();if(Gk.length===0){return undefined;}var kD={fD:'data',dE:[],ab:{}};IPCC.bh.forEach(Gk,function(bz){var V=cY.get_data(bz);kD.dE.push({fD:'kvp',dE:[],ab:{key:bz,value:V}});});return kD;};function ahq(fq){if(!fq){return undefined;}var xr={fD:'comment',dE:[],ab:{}};xr.ab.text=fq.get_text();xr.ab.created=fq.get_creationTime();var kD=SH(fq.get_data());if(kD){xr.dE.push(kD);}return xr;};function agj(db){if(!db||db.get_length()===0){return undefined;}var RA={fD:'conversation',dE:[],ab:{}};var ZQ={fD:'comments',dE:[],ab:{}};RA.dE.push(ZQ);db.forEach(function(fq){var xr=ahq(fq);if(xr){ZQ.dE.push(xr);}});var kD=SH(db.get_data());if(kD){RA.dE.push(kD);}return RA;};this.apJ=function(bb,cr,de,ah){var iT={fD:'documentAnnotations',dE:[],ab:{}};var bW={fD:'pages',dE:[],ab:{}};iT.dE.push(bW);var lB={fD:'highlights',dE:[],ab:{}};iT.dE.push(lB);var tE={},rk=[];var aI={fD:'page',dE:[],ab:{id:(bb+1).toString(),pageWidth:cr,pageHeight:de}};bW.dE.push(aI);ah=ah||{};var adJ=(ah.includeAnnotations!==undefined)? ! !ah.includeAnnotations:true,adN=(ah.includeRedactions!==undefined)? ! !ah.includeRedactions:true,YL=(ah.includeSignatures!==undefined)? ! !ah.includeSignatures:false;var G;var jq=false;var mP;var ia;var oz,Mp,KR,bm;for(G=0;G<aJ.length;G++){if(adJ===false&&adN===false&&YL===false){break;}var K=aJ[G];var bk=K.get_type();if(adJ===false){if(bk===IPCC.Web.UI.MarkType.Rectangle||bk===IPCC.Web.UI.MarkType.Ellipse||bk===IPCC.Web.UI.MarkType.Line||bk===IPCC.Web.UI.MarkType.Text||bk===IPCC.Web.UI.MarkType.Stamp||bk===IPCC.Web.UI.MarkType.Highlight||bk===IPCC.Web.UI.MarkType.HighlightText||bk===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bk===IPCC.Web.UI.MarkType.Freehand||bk===IPCC.Web.UI.MarkType.ImageStampAnnotation||bk===IPCC.Web.UI.MarkType.Polyline){if(K.ir()===false){continue;}}}if(adN===false){if(K.ir()===true){continue;}if(bk===IPCC.Web.UI.MarkType.RectangleRedaction||bk===IPCC.Web.UI.MarkType.TextSelectionRedaction||bk===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(YL===false){if(bk===IPCC.Web.UI.MarkType.SignaturePath||bk===IPCC.Web.UI.MarkType.SignatureText||bk===IPCC.Web.UI.MarkType.SignatureImage){continue;}}var bv={fD:'annotation',dE:[],ab:{}};if(!K.ab.aeq){bv.ab.nodeId=O.aps();}else{bv.ab.nodeId=K.ab.aeq;}var aax,Hl="",uf="";if(K.get_lineColor()){aax=K.get_lineColor().replace(/#/,"");Hl=parseInt(aax,16);uf=Hl.toString();bv.ab.lineColor=uf;}bv.ab.stampSize='122';var HT={};HT[IPCC.Web.UI.MarkType.Stamp]=true;HT[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;HT[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bk===IPCC.Web.UI.MarkType.Rectangle&&K.get_opacity()<255|| !K.ir())&&HT[bk]!==true){bv.ab.opacity=K.get_opacity();}if(K.get_conversation().get_length()>0){bv.dE.push(agj(K.get_conversation()));}var kD=SH(K.get_data());if(kD){bv.dE.push(kD);}jq=false;switch(bk){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:ia=K.get_fillColor();if(ia){mP=ia.replace(/#/,"");bv.ab.fillColor=parseInt(mP,16).toString();}else{bv.ab.fillColor=uf;}if(K.get_fillVisible()){if(K.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(K.get_opacity()===255){if(K.ir()===true){bv.ab.drawType='rectangle_filled_redact';if(K.bN){bv.ab.highlightGroupID=K.bN;}}else{bv.ab.drawType='rectangle_filled';}}else{if(K.ir()===true){bv.ab.drawType='rectangle_trans_redact';}else{bv.ab.drawType='rectangle_trans';}}}else{if(K.get_opacity()===255){bv.ab.drawType='circle_filled';if(K.ir()){bv.ab.drawType='circle_filled_redact';}}else{bv.ab.drawType='circle_trans';if(K.ir()){bv.ab.drawType='circle_trans_redact';}}}}else{if(K.get_type()===IPCC.Web.UI.MarkType.Rectangle){bv.ab.drawType='rectangle';bv.ab.fillColor=uf;}else{bv.ab.drawType='circle';bv.ab.fillColor=uf;}}bv.ab.dragDirection='br';var h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bv.ab.lineWidth=K.get_lineWidth();jq=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bv.ab.highlightGroupID=K.bN;bv.ab.drawType='text_selection_redaction';if(K.cz&&K.cz.length>0){bv.ab.startIndex=K.aH;bv.ab.selectedText=K.cz;bv.ab.textLength=K.co;}break;case IPCC.Web.UI.MarkType.Text:var wG=K.get_rectangle();bv.ab.x=wG.x;bv.ab.y=wG.y;bv.ab.x_percent=wG.x/cr;bv.ab.y_percent=wG.y/de;bv.ab.height_percent=wG.height/de;bv.ab.width_percent=wG.width/cr;bv.ab.height=wG.height;bv.ab.width=wG.width;ia=K.get_fillColor();if(K.ir()===true){bv.ab.drawType='text_redact';}else{bv.ab.drawType='text';bv.ab.opacity=K.get_opacity();}if(ia){mP=ia.replace(/#/,"");bv.ab.fillColor=parseInt(mP,16).toString();}else{bv.ab.fillColor='16776960';}var ca='';ca="<TEXTFORMAT LEADING=\"2\">";switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:ca+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:ca+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:ca+="<P ALIGN=\"right\" ";break;}ca+=">";ca+="<FONT ";Mp=K.get_fontName();ca+="FACE="+"\""+Mp+"\" ";KR=K.get_fontSize().toString();ca+="SIZE= \""+KR+"\" ";oz="\""+K.get_textColor()+"\" ";ca+="COLOR="+oz+" ";ca+="LETTERSPACING=\"0\" ";ca+="KERNING=\"0\" ";ca+=">";var cq=K.get_fontStyle();if(cq&IPCC.Web.UI.FontStyle.Bold){ca+="<B>";}if(cq&IPCC.Web.UI.FontStyle.Italic){ca+="<I>";}if(cq&IPCC.Web.UI.FontStyle.Underline){ca+="<U>";}if(cq&IPCC.Web.UI.FontStyle.Strikeout){ca+="<S>";}bm=K.get_text();bm=bm.replace(/>/g,'&gt;').replace(/</g,'&lt;');ca+=bm;if(cq&IPCC.Web.UI.FontStyle.Strikeout){ca+="</S>";}if(cq&IPCC.Web.UI.FontStyle.Underline){ca+="</U>";}if(cq&IPCC.Web.UI.FontStyle.Italic){ca+="</I>";}if(cq&IPCC.Web.UI.FontStyle.Bold){ca+="</B>";}ca+="</FONT>";ca+="</P>";ca+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;bv.ab.drawType='highlight';bv.ab.highlightGroupID=K.bN;bv.ab.isHighlight=K.jd;ia=K.get_fillColor();if(ia){mP=ia.replace(/#/,"");bv.ab.fillColor=parseInt(mP,16).toString();bv.ab.lineColor=parseInt(mP,16).toString();}else{bv.ab.fillColor=uf;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.height=h.height;bv.ab.width=h.width;bv.ab.drawType='text_hyperlink_annotation';bv.ab.href=K.rz;bv.ab.startIndex=K.aH;bv.ab.selectedText=K.cz;bv.ab.textLength=K.co;bv.ab.highlightGroupID=K.bN;bv.ab.isHighlight=K.jd;bv.dE.push(apC(K.ki,cr,de));break;case IPCC.Web.UI.MarkType.HighlightText:h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;bv.ab.drawType='highlightText';bv.ab.startIndex=K.aH;bv.ab.selectedText=K.cz;bv.ab.textLength=K.co;bv.ab.highlightGroupID=K.bN;bv.ab.isHighlight=K.jd;ia=K.get_fillColor();if(ia){mP=ia.replace(/#/,"");bv.ab.fillColor=parseInt(mP,16).toString();bv.ab.lineColor=parseInt(mP,16).toString();}else{bv.ab.fillColor=uf;}break;case IPCC.Web.UI.MarkType.RectangleRedaction:h=K.get_rectangle();bv.ab.drawType='rectangle_filled_redact';bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;bv.ab.meta=K.get_text();bv.ab.stampSize=K.get_fontSize();if(K.bN){bv.ab.highlightGroupID=K.bN;}break;case IPCC.Web.UI.MarkType.Stamp:ia=K.get_fillColor();if(ia){mP=ia.replace(/#/,"");bv.ab.fillColor=parseInt(mP,16).toString();bv.ab.lineColor=parseInt(mP,16).toString();}else{bv.ab.fillColor=uf;}h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;if(K.ir()===true){bv.ab.drawType='stamp_redact';}else{bv.ab.drawType='stamp';}bm=K.get_text();bv.ab.stampSize=K.stampSize;bv.dE.push('<![CDATA['+bm+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(K.get_type()===IPCC.Web.UI.MarkType.Freehand){bv.ab.drawType='freehand';}else{bv.ab.drawType='signature_path';}ca=K.get_pathString();bv.ab.pathWidth=K.get_pathWidth();bv.ab.pathHeight=K.get_pathHeight();h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;break;case IPCC.Web.UI.MarkType.SignatureText:ia=K.get_fillColor();var ck;if(ia){mP=ia.replace(/#/,"");bv.ab.fillColor="";bv.ab.lineColor="";ck=parseInt(mP,16).toString();}else{bv.ab.fillColor="";ck=uf;}h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.height=h.height;bv.ab.width=h.width;bv.ab.opacity=0;bv.ab.drawType='signature_text';bm=K.get_text();bv.ab.stampSize=K.stampSize;bv.ab.fontWidth=K.xI;bv.ab.fontHeight=K.yz;ca='';ca="<TEXTFORMAT LEADING=\"2\">";ca+="<P ALIGN=\"center\" ";ca+=">";ca+="<FONT ";Mp=K.get_fontName();ca+="FACE="+"\""+Mp+"\" ";KR=K.stampSize.toString();ca+="SIZE= \""+KR+"\" ";oz="\""+K.get_fillColor()+"\" ";ca+="COLOR="+oz+" ";ca+="LETTERSPACING=\"0\" ";ca+="KERNING=\"0\" ";ca+=">";bm=K.get_text();ca+=bm;ca+="</FONT>";ca+="</P>";ca+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bv.ab.drawType=(bk===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';h=K.get_rectangle();bv.ab.x=h.x;bv.ab.y=h.y;bv.ab.height=h.height;bv.ab.width=h.width;bv.ab.lineWidth=K.get_lineWidth();bv.ab.x_percent=h.x/cr;bv.ab.y_percent=h.y/de;bv.ab.height_percent=h.height/de;bv.ab.width_percent=h.width/cr;bv.ab.imageStampId=K.nT;tE[K.nT]={fD:'stampImage',dE:[],ab:{imageStampId:K.nT,base64format:K.dJ()}};break;}if(jq){bv.ab.lineWidth=K.get_lineWidth();var bs=K.get_boundingRectangle();bv.ab.x=bs.x;bv.ab.y=bs.y;bv.ab.x_percent=bs.x/cr;bv.ab.y_percent=bs.y/de;bv.ab.height_percent=bs.height/de;bv.ab.width_percent=bs.width/cr;bv.ab.height=bs.height;bv.ab.width=bs.width;if(bk===IPCC.Web.UI.MarkType.Line){if(K.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bv.ab.drawType='line';}else{bv.ab.drawType='arrow';}}else{bv.ab.drawType='polyline';}bv.ab.lineWidth=K.get_lineWidth();var ax=K.get_points();if(bk===IPCC.Web.UI.MarkType.Line){if((ax.getPoint(0).x<ax.getPoint(1).x)&&(ax.getPoint(0).y>ax.getPoint(1).y)){bv.ab.dragDirection='tr';}else if((ax.getPoint(0).x>ax.getPoint(1).x)&&(ax.getPoint(0).y>ax.getPoint(1).y)){bv.ab.dragDirection='tl';}else if((ax.getPoint(0).x>ax.getPoint(1).x)&&(ax.getPoint(0).y<ax.getPoint(1).y)){bv.ab.dragDirection='bl';}else if((ax.getPoint(0).x<ax.getPoint(1).x)&&(ax.getPoint(0).y<ax.getPoint(1).y)){bv.ab.dragDirection='br';}else{bv.ab.dragDirection='br';}}else{var adl=[];var bp=ax.get_length(),au;if(bp>1){for(var bF=0;bF<ax.get_length();bF++){au=ax.getPoint(bF);adl.push({x:au.x,y:au.y});}ca=IPCC.dh.TG(adl);}}if(Hl){bv.ab.fillColor=Hl;}else{bv.ab.fillColor="";}}else{bv.ab.lineWidth=K.get_lineWidth();bv.ab.dragDirection='br';}if(K.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bv.ab.meta='';}bv.ab.label='';var dR=new Date();bv.ab.saveDate=O.afQ(dR);bv.ab.saveTime=O.agb(dR);bv.ab.uuid='';bv.ab.formUser='';bv.ab.created=O.Wr(dR);bv.ab.modified=O.Wr(dR);if(K.get_type()===IPCC.Web.UI.MarkType.Text||K.get_type()===IPCC.Web.UI.MarkType.Freehand||K.get_type()===IPCC.Web.UI.MarkType.SignaturePath||K.get_type()===IPCC.Web.UI.MarkType.SignatureText||K.get_type()===IPCC.Web.UI.MarkType.Polyline){bv.dE.push('<![CDATA['+ca+']]>');}else{bv.dE.push('');}if(K.get_type()!==IPCC.Web.UI.MarkType.Highlight){aI.dE.push(bv);}}for(var GA in tE){if(tE.hasOwnProperty(GA)){rk.push(tE[GA]);}}return{iT:iT,rk:rk};};this.aqh=function(){var dq={m:[]};var G;for(G=0;G<aJ.length;G++){dq.m.push(aJ[G].apS());}O.by('marksSaved',{});var abw="";abw=IPCC.dh.TG(dq);return abw;};this.vR=function(R){be.addHandler('markAdded',R);};this.wN=function(R){be.removeHandler('markAdded',R);};this.CL=function(R){be.addHandler('markChanged',R);};this.AL=function(R){be.removeHandler('markChanged',R);};this.vP=function(R){be.addHandler('markRemoved',R);};this.vu=function(R){be.removeHandler('markRemoved',R);};this.CD=function(R){be.addHandler('markReordered',R);};this.zN=function(R){be.removeHandler('markReordered',R);};this.Nb=function(R){be.addHandler('marksLoaded',R);};this.Nn=function(R){be.removeHandler('marksLoaded',R);};this.akW=function(R){be.addHandler('marksSaved',R);};this.apa=function(R){be.removeHandler('marksSaved',R);};this.CC=function(R){be.addHandler('markSelectionChanged',R);};this.An=function(R){be.removeHandler('markSelectionChanged',R);};this.Hh=function(R){be.addHandler('markTextSelectionChanged',R);};this.EH=function(R){be.removeHandler('markTextSelectionChanged',R);};this.vL=function(R){be.addHandler('commentAdded',R);};this.zp=function(R){be.removeHandler('commentAdded',R);};this.vS=function(R){be.addHandler('commentRemoved',R);};this.zH=function(R){be.removeHandler('commentRemoved',R);};this.rU=function(R){be.addHandler('commentChanged',R);};this.tj=function(R){be.removeHandler('commentChanged',R);};this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(this,C);}};this.ac=function(aF){var R=be.getHandler("propertyChanged");if(R){R(this,new IPCC.nF(aF));}};return this;};IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.VJ();},get_selectedMarks:function(){return this.zn();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Mt(mark,mouseLocation);},forEachMark:function(method,context){this.LE(method,context);},getMark:function(zIndex){return this.Lz(zIndex);},getZIndexOfMark:function(mark){return this.mD(mark);},loadFromJson:function(json){this.aic(json);},removeAllMarks:function(){this.LH();},removeMark:function(mark){this.FB(mark);},reorderMark:function(mark,zIndex){this.Zg(mark,zIndex);},saveToJson:function(){return this.aqh();},add_markAdded:function(handler){this.vR(handler);},remove_markAdded:function(handler){this.wN(handler);},add_markChanged:function(handler){this.CL(handler);},remove_markChanged:function(handler){this.AL(handler);},add_markRemoved:function(handler){this.vP(handler);},remove_markRemoved:function(handler){this.vu(handler);},add_markReordered:function(handler){this.CD(handler);},remove_markReordered:function(handler){this.zN(handler);},add_marksLoaded:function(handler){this.Nb(handler);},remove_marksLoaded:function(handler){this.Nn(handler);},add_markSelectionChanged:function(handler){this.CC(handler);},remove_markSelectionChanged:function(handler){this.An(handler);},add_markTextSelectionChanged:function(handler){this.Hh(handler);},remove_markTextSelectionChanged:function(handler){this.EH(handler);},add_commentAdded:function(handler){this.vL(handler);},remove_commentAdded:function(handler){this.zp(handler);},add_commentRemoved:function(handler){this.vS(handler);},remove_commentRemoved:function(handler){this.zH(handler);},add_commentChanged:function(handler){this.rU(handler);},remove_commentChanged:function(handler){this.tj(handler);}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass('IPCC.Web.UI.ArtPage');IPCC.Web.UI.aqK=function(){this.fD=undefined;this.dE=[];this.ab={};};IPCC.GF=function(){};IPCC.GF.prototype.ku=function(J){this.J=J;this.ae=J.bu();this.iI=this.ae.get_cursor();this.ae.set_cursor(IPCC.bM.RunMarks);this.ae.zj(IPCC.bM.Link);};IPCC.GF.prototype.fj=function(){this.ae.set_cursor(this.iI);this.ae.zj(IPCC.bM.Default);this.J=false;};IPCC.GF.prototype.af=function(){};IPCC.nm=function(){this.bn=false;this.J=false;};IPCC.nm.prototype.ku=function(J){this.J=J;this.J.WR(true);this.ae=J.bu();this.iI=this.ae.get_cursor();this.ae.set_cursor(IPCC.bM.EditMarks);this.ae.zj(IPCC.bM.Move);};IPCC.nm.prototype.fj=function(){this.ae.set_cursor(this.iI);this.ae.zj(IPCC.bM.Default);if(arguments[0]){if(arguments[0]===true){this.J=false;return;}}this.J.WR(false);this.J=false;};IPCC.nm.prototype.af=function(){if(this.bn){this.ae.set_cursor(IPCC.bM.EditMarks);this.ae.zj(IPCC.bM.Move);this.J.Eq(true);this.ae.oC();this.bn=false;this.J.ak();}};IPCC.nm.prototype.rW=function(C){this.af();var K=C.mark;if(K&&K.tg()===IPCC.Web.UI.MarkType.Text){this.J.Qg(K);this.J.ak();}};IPCC.nm.prototype.jl=function(C){this.af();var ib=C.domEvent;if(ib.button===0){var ep=ib.target;this.cs=ep.ImGearMarkHandle;if(this.cs){this.sY=this.cs.bO;this.mg=this.cs.bH;}else{this.sY=null;this.mg=null;}while(!(ep.ImGearMarkRelation)&&ep.parentNode&&ep!==document.body){ep=ep.parentNode;}this.H=ep.ImGearMarkRelation;if(this.H){this.K=this.H.K;}else{this.K=null;}this.bn=true;this.LK=C.imagePoint;this.BD=C.imagePoint;var K=this.K;if(!K){if(!ib.shiftKey){this.J.dO().zn().removeAllMarks();}this.ae.zr(C.imagePoint);}else{var hg,h;switch(this.sY){case IPCC.bZ.bG.prototype.Nt:this.jn=K.dU();this.Tg=Math.abs(this.jn.width);this.Eb=Math.abs(this.jn.height);hg={x:this.jn.x,y:this.jn.y};this.Mh={x:this.jn.x+this.jn.width,y:this.jn.y+this.jn.height};if(this.mg>0&&this.mg<3){hg.x+=this.jn.width;this.Mh.x-=this.jn.width;}if(this.mg>1){hg.y+=this.jn.height;this.Mh.y-=this.jn.height;}this.awR=hg;break;case IPCC.bZ.bG.prototype.My:h=K.dU();this.jn=h;hg={x:h.x+h.width/2,y:h.y+h.height/2};switch(this.mg){case 0:this.yp=h.y+h.height;hg.y=h.y;break;case 1:this.yp=h.x;hg.x=h.x+h.width;break;case 2:this.yp=h.y;hg.y=h.y+h.height;break;case 3:this.yp=h.x+h.width;hg.x=h.x;break;}break;case IPCC.bZ.bG.prototype.Ey:this.ax=K.nB();if(this.mg<0||this.mg>this.ax.hv()){this.af();}hg=this.ax.getPoint(this.mg);break;case IPCC.bZ.bG.prototype.QG:break;case IPCC.bZ.bG.prototype.Qx:h=K.dU();hg={x:h.x+K.mB.x,y:h.y+K.mB.y};break;default:var wz=K.get_selected();if(ib.ctrlKey||ib.shiftKey){wz= !wz;K.set_selected(wz);}else{if(!wz){wz=true;this.J.dO().zn().removeAllMarks();if(K.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var G=0;G<this.J.dO().get_markCount();G++){var Qj=this.J.dO().getMark(G);if(Qj.tg()===608&&Qj.bN===K.bN){Qj.set_selected(wz);}}}else{K.set_selected(wz);}}}if(!wz){this.af();}break;}if(this.bn&&hg){this.aqJ=hg.x-this.LK.x;this.aqA=hg.y-this.LK.y;if(this.cs){this.ae.set_cursor(this.cs.az);this.ae.zj(this.cs.az);}}}if(this.bn){this.J.Eq(false);}}this.J.ak();};IPCC.nm.prototype.jB=function(C){var ib=C.domEvent;var BD;function ali(aow){aow.Gr(C.imagePoint.x-BD.x,C.imagePoint.y-BD.y);};if(ib.button!==0){this.af();}if(this.bn){var K=this.K;if(!K){this.ae.As(C.imagePoint);}else{var hg={x:C.imagePoint.x+this.aqJ,y:C.imagePoint.y+this.aqA};var h;switch(this.sY){case IPCC.bZ.bG.prototype.Nt:var oU={x:hg.x,y:hg.y};var la={x:this.Mh.x,y:this.Mh.y};if(ib.ctrlKey){la.x=this.jn.x+this.jn.width/2;la.y=this.jn.y+this.jn.height/2;}if(ib.shiftKey){var qC=Math.abs(oU.x-la.x);var sd=Math.abs(oU.y-la.y);if(qC*this.Eb<sd*this.Tg){if(this.Eb>0.001){qC=sd*this.Tg/this.Eb;}}else{if(this.Eb>0.001){sd=qC*this.Eb/this.Tg;}}if(oU.x<la.x){qC= -qC;}if(oU.y<la.y){sd= -sd;}oU.x=la.x+qC;oU.y=la.y+sd;}if(ib.ctrlKey){la={x:la.x-(oU.x-la.x),y:la.y-(oU.y-la.y)};}h={};h.x=Math.min(la.x,oU.x);h.width=Math.max(la.x,oU.x)-h.x;h.y=Math.min(la.y,oU.y);h.height=Math.max(la.y,oU.y)-h.y;K.set_rectangle(h);break;case IPCC.bZ.bG.prototype.My:h=K.dU();var CE;if(this.mg&1){if(ib.ctrlKey){CE=this.jn.x+this.jn.width/2;h.width=Math.abs(hg.x-CE)*2;h.x=CE-h.width/2;}else{h.x=Math.min(hg.x,this.yp);h.width=Math.max(hg.x,this.yp)-h.x;}}else{if(ib.ctrlKey){CE=this.jn.y+this.jn.height/2;h.height=Math.abs(hg.y-CE)*2;h.y=CE-h.height/2;}else{h.y=Math.min(hg.y,this.yp);h.height=Math.max(hg.y,this.yp)-h.y;}}K.set_rectangle(h);break;case IPCC.bZ.bG.prototype.Ey:this.ax=K.nB();hg=this.ax.setPoint(this.mg,hg);break;case IPCC.bZ.bG.prototype.QG:break;case IPCC.bZ.bG.prototype.Qx:h=K.dU();K.set_calloutPoint({x:hg.x-h.x,y:hg.y-h.y});break;default:BD=this.BD;this.BD=C.imagePoint;this.J.dO().zn().qO(ali);break;}}this.J.ak();}};IPCC.nm.prototype.he=function(){function alb(K){var Gi=K.Za();if(YE.contains(Gi)&&YE.contains({x:Gi.x+Gi.width,y:Gi.y+Gi.height})){K.set_selected(true);}};if(this.bn){if(!this.K){var YE=this.ae.wM();this.J.dO().LE(alb);this.ae.oC();}this.af();}};IPCC.nm.prototype.lO=function(C){var av=this.J.eQ();if(C.windowPoint.x<=0||C.windowPoint.x>=av.width-2){this.af();}if(C.windowPoint.y<=0||C.windowPoint.y>=av.height-2){this.af();}};IPCC.nm.prototype.lz=function(){this.af();};IPCC.Web.UI.Comment=function(text){var be=new IPCC.Web.UI.fY();var cY=new IPCC.Web.UI.Data();this.US=IPCC.bh.Xw(new Date());this.bm=text;this.atH=function(bm){if(bm===this.bm){return;}this.bm=bm;var C=new IPCC.Web.UI.CommentEventArgs();C.comment=this;C.length=1;this.by('commentChanged',C);};this.auK=function(){return this.bm;};this.auu=function(alO){this.US=alO;};this.ajB=function(){return this.US;};this.rU=function(R){be.addHandler('commentChanged',R);};this.tj=function(R){be.removeHandler('commentChanged',R);};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(this,C);}};this.yF=function(){return cY;};return this;};IPCC.Web.UI.Comment.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.rU(handler);},remove_commentChanged:function(handler){this.tj(handler);},get_text:function(){return this.auK();},set_text:function(text){this.atH(text);},get_creationTime:function(){return this.ajB();},set_creationTime:function(isoTimeString){this.auu(isoTimeString);},get_data:function(){return this.yF();}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Comment.registerClass('IPCC.Web.UI.Comment');IPCC.Web.UI.Conversation=function(anm){var lv=[];var be=new IPCC.Web.UI.fY();var cY=new IPCC.Web.UI.Data();var K=anm;var O=this;function Ib(ad,C){O.by('commentChanged',C);};this.Ys=function(fq){fq.add_commentChanged(Ib);lv.push(fq);var C=new IPCC.Web.UI.CommentEventArgs();C.comment=fq;C.length=1;C.index=lv.length-1;this.by('commentAdded',C);};this.aqx=function(fq){var TI= -1;IPCC.bh.forEach(lv,function(el,idx){if(el===fq){TI=idx;}});if(TI=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var Zj=lv.splice(TI,1)[0];Zj.tj(Ib);var C=new IPCC.Web.UI.CommentEventArgs();C.comment=Zj;C.length=1;this.by('commentRemoved',C);};this.qO=function(mG,cD){var G;for(G=0;G<lv.length;G++){mG.call(cD,lv[G],G,this);}};this.hv=function(){return lv.length;};this.vL=function(R){be.addHandler('commentAdded',R);};this.zp=function(R){be.removeHandler('commentAdded',R);};this.rU=function(R){be.addHandler('commentChanged',R);};this.tj=function(R){be.removeHandler('commentChanged',R);};this.vS=function(R){be.addHandler('commentRemoved',R);};this.zH=function(R){be.removeHandler('commentRemoved',R);};this.yF=function(){return cY;};this.arF=function(){return K;};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(this,C);}};return this;};IPCC.Web.UI.Conversation.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Ys(comment);},removeCommentInstance:function(comment){this.aqx(comment);},forEach:function(method,context){this.qO(method,context);},get_length:function(){return this.hv();},add_commentAdded:function(handler){this.vL(handler);},remove_commentAdded:function(handler){this.zp(handler);},add_commentChanged:function(handler){this.rU(handler);},remove_commentChanged:function(handler){this.tj(handler);},add_commentRemoved:function(handler){this.vS(handler);},remove_commentRemoved:function(handler){this.zH(handler);},get_data:function(){return this.yF();},get_mark:function(){return this.arF();}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass('IPCC.Web.UI.Conversation');IPCC.Web.UI.Data=function(){this.cY={};this.yF=function(key){if(typeof key==='undefined'){return IPCC.bh.extend({},this.cY);}else if(typeof key==='string'){return this.cY[key];}else{throw new IPCC.Web.UI.IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.atN=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.cY[key]=value;}else if(typeof value==='undefined'){delete this.cY[key];}else{throw new IPCC.Web.UI.IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.akA=function(){var keys=[];IPCC.bh.forEach(this.cY,function(value,key){keys.push(key);});return keys;};return this;};IPCC.Web.UI.Data.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.yF(key);},set_data:function(key,value){return this.atN(key,value);},get_dataKeys:function(){return this.akA();}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass('IPCC.Web.UI.Data');IPCC.bZ={};IPCC.Ia=function(J){var bx=this;this.Yl='filter';this.abx=function(cG){return 'progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(cG*100)+');';};this.Ta=true;this.RR=function(as,du,lw,aj,lK,mp){if(as.HO){as.oP.Vo(du,lw,aj,as.hT);}};this.adM=function(){};this.acz(J);this.YN=function(aa){return new IPCC.AH(aa.clientWidth,aa.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI);};this.Ts=function(bK){bx.jl(bK);};this.Zt=function(bK){bx.rW(bK);};this.SO=function(bK){bx.jB(bK);};this.Af=function(bK){bx.lz(bK);};this.Tz=function(bK){bx.he(bK);};this.Qh=function(bK){bK.returnValue=false;bx.jl(bK);};this.PR=function(bK){bK.returnValue=false;bx.jB(bK);};this.PJ=function(bK){bK.returnValue=false;bx.he(bK);};this.SA=function(bK){bx.LF(bK);};this.OZ=function(bK){bx.aba(bK);};this.Zc=function(){var en=J.le().igElements.kI;IPCC.Web.UI.aW.addHandler(en,"mousewheel",this.Af);IPCC.Web.UI.aW.addHandler(en,"dblclick",this.Zt);};this.YF=function(){var en=J.le().igElements.kI;IPCC.Web.UI.aW.removeHandler(en,"mousewheel",this.Af);IPCC.Web.UI.aW.removeHandler(en,"dblclick",this.Zt);};this.Wp=function(as,gN,mH,uH){var G,bQ,aa;for(G=0;G<mH.es.length;G++){bQ=mH.es[G];aa=document.createElement('div');bQ.pool.parentElementID=uH+G.toString();aa.id=bQ.pool.parentElementID;aa.style.width='0px';aa.style.height='0px';aa.setAttribute('tabindex','-1');gN.appendChild(aa);}};this.Yy=function(fL){var Mw=this.RK();var Be=fL.pool;var gN=document.getElementById(Be.parentElementID);var aa;aa=document.createElement('img');aa.id=Mw;if(J.bu().get_presentationQuality()>49){aa.style.msInterpolationMode='bicubic';}else{aa.style.msInterpolationMode='nearest-neighbor';}aa.style.position='absolute';aa.style.display='none';aa.setAttribute('tabindex','-1');aa.setAttribute('hidefocus','true');gN.appendChild(aa);fL.elementID=Mw;aa.poolItem=fL;};this.aab=function(fL){var aa=document.getElementById(fL.elementID);this.oj(aa.style,'display','none');};this.Sa=function(fL){var aa=document.getElementById(fL.elementID);if(aa===null){fL.elementID='';return;}aa.src='';aa.parentElement.removeChild(aa);fL.elementID='';};var Bq=function(bK){try{IPCC.Web.UI.aW.removeHandler(bK.target,'load',Bq);bK.target.onabort=null;bK.target.onerror=null;var fL=bK.target.poolItem;fL.loaded=true;bx.ye();}catch(ex){J.F('downloadImage',ex);var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}};var asV=function(){try{var bK=window.event;IPCC.Web.UI.aW.removeHandler(bK.srcElement,'load',Bq);bK.srcElement.onabort=null;bK.srcElement.onerror=null;var fL=bK.srcElement.poolItem;fL.loaded=false;var mj='An image download was aborted by the user';if(typeof(J.le)==='function'){mj+='Div Id = '+J.le().id;}throw new IPCC.Web.UI.ImGearException(mj,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){J.F('downloadImage',ex);var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}};var asf=function(){try{var bK=window.event;IPCC.Web.UI.aW.removeHandler(bK.srcElement,'load',Bq);bK.srcElement.onabort=null;bK.srcElement.onerror=null;var fL=bK.srcElement.poolItem;fL.loaded=false;var mj='An image failed to load. Error status ';if(typeof(J.le)==='function'){mj+='Div Id = '+J.le().id;}throw new IPCC.Web.UI.ImGearException(mj,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){J.F('downloadImage',ex);var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}};this.Wb=function(aa,dA,qV){var iB=true;var lh=0;if(J.iQ()===0){iB=false;}var aL=new XMLHttpRequest(),hB,lb=false;if(J.JN()&&J.fG()===true){var fO=IPCC.Web.mt.Jq(4);var ni=IPCC.Web.gf.Cn.kE(fO);var Ox=dA+'&iv='+ni;aL.open('GET',Ox,true);aL.responseType='text';}else{aL.open('GET',dA,true);aL.responseType='text';}function kq(){var aR;try{var dp,aq,cS,hJ;var hk;var gD=dp;if(aL.readyState===4){dp=aL.status;if(aL.status===200){aq=null;try{if(iB===true){if(hB){clearTimeout(hB);}}var lT=aL.getResponseHeader("Accusoft-Data-Encrypted");if(lT==='true'){var qK=IPCC.Web.gf.mY.qu(aL.getResponseHeader("Accusoft-Data-SK"));var bz=IPCC.Web.AV(qK,fO);var dB=IPCC.Web.AW(aL);var qa=IPCC.Web.xe(dB,bz,fO);var OV=IPCC.Web.gf.mY.kE(qa,0,0);aa.setAttribute('src','data:'+qV+';base64,'+OV);}else{aa.setAttribute('src',dA);}}catch(ex){cS="Image error, Error message = "+ex.message;aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);throw new IPCC.Web.UI.ImGearArgumentException(null,cS);}}else if((dp<200)||(dp>=300)){if(iB===true){if(hB){clearTimeout(hB);}}gD=aL.status;if(dp===403){lh++;if(aL.statusText&&aL.statusText!==""){cS="Expired viewer session ID, error message from the server: "+aL.statusText;}else{cS="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dp,cS);}hJ=aL.getResponseHeader('Accusoft-Status-Message');if(hJ){var lg;hk=aL.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(hk)){lg=parseInt(hk,10);}throw new IPCC.Web.UI.ImGearHttpException(gD,hJ,lg);}else if(lb){throw new IPCC.Web.UI.ImGearHttpException(gD,"Client Image load timeout");}else{if(aL.statusText&&aL.statusText!==""){cS=aL.statusText;}else{cS="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gD,cS);}}}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};aL.onreadystatechange=kq;if(iB===true){hB=setTimeout(function(){lb=true;aL.abort();},J.iQ());}aL.send();};this.aak=function(jJ){var G;for(G=0;G<jJ.length;G++){var aa=document.getElementById(jJ[G].poolItem.elementID);aa.style.visibility='hidden';IPCC.Web.UI.aW.addHandler(aa,'load',Bq);aa.onabort=asV;aa.onerror=asf;if(J.JN()&&J.fG()===true){this.Wb(aa,jJ[G].url,'image/png');}else{aa.setAttribute('src',jJ[G].url);}}};this.Ty=function(gT,aiR,QJ,rQ){var ld=document.getElementById(gT.poolItem.elementID);if(QJ){this.oj(ld,'width',Math.round(rQ.height));this.oj(ld,'height',Math.round(rQ.width));}else{this.oj(ld,'width',Math.round(rQ.width));this.oj(ld,'height',Math.round(rQ.height));}this.oj(ld.style,'left',rQ.x.toString());this.oj(ld.style,'top',rQ.y.toString());this.oj(ld.style,'filter',aiR);this.oj(ld.style,'visibility','visible');this.oj(ld.style,'display','block');};this.TQ=function(jJ,cG,du){var G;if(jJ.length<1){return;}var Cw='';if(cG<1){Cw='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(cG*100).toString()+')';}var eS=du.clone();var yq=1/jJ[0].level.cX;var BY=IPCC.dG(yq,0,0,yq,0,0);eS.xS(BY);var mx=eS.HF();if(mx){BY=new IPCC.dG(-1,0,0,1,0,0);eS.append(BY);}var qY=Math.round(eS.FX()/90);BY=new IPCC.dG(1,0,0,1,0,0);BY.rotate(qY*90);eS.xS(BY);var Wz='';if(mx||qY!==0){Wz+='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(mx?'1':'0')+', rotation='+qY.toString()+')';}var QJ=(qY===1||qY===3);var gi,Bp,rQ;for(G=0;G<jJ.length;G++){gi=jJ[G];yq=1/gi.level.cX;Bp={x:gi.x*yq,y:gi.y*yq};Bp.width=gi.right*yq-Bp.x;Bp.height=gi.bottom*yq-Bp.y;rQ=du.rJ(Bp);this.Ty(jJ[G],Cw+Wz,QJ,rQ);}};};IPCC.Ia.prototype=new IPCC.bG();IPCC.bZ.Ia=function(){};IPCC.bZ.Ia.prototype={XQ:function(J,as,aj){this.J=J;this.ae=J.bu();this.as=as;this.cr=aj.width;this.de=aj.height;this.AU=aj.gZ;this.aqm=aj.ip;if(!document.namespaces.igvml){document.namespaces.add('igvml','urn:schemas-microsoft-com:vml');var style=document.createStyleSheet();style.addRule('igvml\\:group','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:oval','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:rect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:polyline','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:shape','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:skew','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:stroke','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textpath','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:roundrect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textbox','behavior: url(#default#VML); display:inline-block;');}as.oO=document.createElement('div');as.RY.insertBefore(as.oO,as.vY);},Jg:function(H){var fn='vmltextmark-'+H.K.iK();var kl=document.createElement('div');kl.style.position='absolute';kl.style.top=kl.style.left='0';kl.style.width=kl.style.height='100%';kl.style.background='blue';kl.style['filter']="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";kl.setAttribute('data-pcc-mark',fn);return kl;},XU:function(H){H.oq=[];H.js=[];var fn='vmlmark-'+H.K.iK();switch(H.K.get_type()){case IPCC.Web.UI.MarkType.Rectangle:H.bo=this.aU('rect');if(H.K.ir()&&H.K.get_opacity()===255){IPCC.Web.UI.aW.addHandler(H.bo,"mouseover",function(){H.bo.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(127/2.55)+')';});IPCC.Web.UI.aW.addHandler(H.bo,"mouseout",function(){H.bo.style.filter='';});}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:fn="texthyperlinkannotation-"+H.K.iK();H.bo=this.aU('group');H.bo.setAttribute('data-pcc-mark',fn);this.ff(H.bo,{width:this.cr*100+'px',height:this.de*100+'px'});H.gK=this.aU('group');H.bo.appendChild(H.gK);this.ff(H.gK,{width:this.cr*100+'px',height:this.de*100+'px'});H.Ah=this.aU('shape');H.oq.push(H.Ah);this.ff(H.Ah,{cursor:IPCC.bM.eU(IPCC.bM.Link)});H.HN=this.aU('stroke');this.bC(H.HN,{on:'true'});H.Ah.appendChild(H.HN);H.HN.imgearUnstyled=true;H.bo.appendChild(H.Ah);H.wV=this.aU('shape');H.oq.push(H.wV);this.ff(H.wV,{cursor:IPCC.bM.eU(IPCC.bM.Link)});H.Db=this.aU('stroke');H.js.push(H.Db);this.bC(H.Db,{on:'true'});H.wV.appendChild(H.Db);H.Db.imgearUnstyled=true;H.bo.appendChild(H.wV);IPCC.Web.UI.aW.addHandler(H.bo,"mouseover",function(){H.wV.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.bZ.bG.vz(true,H.K.get_selected())*100+")";});IPCC.Web.UI.aW.addHandler(H.bo,"mouseout",function(){H.wV.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.bZ.bG.vz(false,H.K.get_selected())*100+")";});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:H.bo=this.aU('shape');H.gI=document.createElement('img');H.gI.setAttribute('data-pcc-mark',fn);H.gI.setAttribute("src",H.K.get_image());H.gI.setAttribute("class",'pcc-image-stamp-img');H.gI.removeAttribute('height');H.gI.removeAttribute('width');var kl=this.Jg(H);kl.setAttribute('data-pcc-mark',fn);H.bo.appendChild(H.gI);H.bo.appendChild(kl);break;case IPCC.Web.UI.MarkType.RectangleRedaction:H.bo=this.aU('group');this.ff(H.bo,{width:this.cr*100+'px',height:this.de*100+'px'});H.ho=this.aU('rect');H.bo.appendChild(H.ho);H.kY=this.aU('shape');H.qF=document.createTextNode('');H.Je=document.createElement('div');H.Je.setAttribute('class','pcc-valign-mid');H.sI=document.createElement('div');H.sI.setAttribute('class','pcc-cell-content');H.sI.style.height='1px';H.sI.style.width='1px';H.ce=document.createElement('div');H.ce.style.position='absolute';H.ce.style.overflow='hidden';H.ce.style.display='table';if(document.documentMode>=8){H.ce.style.whiteSpace='pre-wrap';}H.sI.appendChild(H.qF);H.ce.appendChild(H.Je);H.Je.appendChild(H.sI);H.NP=H.kY;fn='vmltextmark-'+H.K.iK();H.kY.setAttribute('data-pcc-mark',fn);H.ce.setAttribute('data-pcc-mark',fn);H.Je.setAttribute('data-pcc-mark',fn);H.sI.setAttribute('data-pcc-mark',fn);IPCC.Web.UI.aW.addHandler(H.ce,"mouseover",function(){H.ce.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";H.ce.style.color='#000000';});IPCC.Web.UI.aW.addHandler(H.ce,"mouseout",function(){H.ce.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";H.ce.style.color='#ffffff';});break;case IPCC.Web.UI.MarkType.Ellipse:H.bo=this.aU('oval');break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:H.bo=this.aU('group');this.ff(H.bo,{width:this.cr*100+'px',height:this.de*100+'px'});H.bo.setAttribute('data-pcc-mark',fn);H.gL=this.aU('shape');this.bC(H.gL,{filled:'f'});H.oq.push(H.gL);H.xq=this.aU('stroke');H.js.push(H.xq);this.bC(H.xq,{on:'true'});H.gL.appendChild(H.xq);H.uo=this.aU('shape');H.oq.push(H.uo);H.FP=this.aU('stroke');H.js.push(H.FP);this.bC(H.FP,{on:'true'});H.uo.appendChild(H.FP);H.FP.imgearUnstyled=true;H.su=this.aU('shape');H.oq.push(H.su);H.FH=this.aU('stroke');H.js.push(H.FH);this.bC(H.FH,{on:'true'});H.su.appendChild(H.FH);H.FH.imgearUnstyled=true;H.bo.appendChild(H.gL);H.bo.appendChild(H.uo);H.bo.appendChild(H.su);break;case IPCC.Web.UI.MarkType.Polygon:H.bo=this.aU('shape');H.oq.push(H.bo);break;case IPCC.Web.UI.MarkType.Text:H.bo=this.aU('group');this.ff(H.bo,{width:this.cr*100+'px',height:this.de*100+'px'});H.kY=this.aU('shape');H.oq.push(H.kY);H.GR=this.aU('stroke');H.js.push(H.GR);H.kY.appendChild(H.GR);H.bo.appendChild(H.kY);H.GR.imgearUnstyled=true;H.gL=this.aU('shape');this.bC(H.gL,{filled:'f'});H.oq.push(H.gL);H.xq=this.aU('stroke');H.js.push(H.xq);this.bC(H.xq,{on:'true'});H.gL.appendChild(H.xq);H.bo.appendChild(H.gL);H.nQ=this.aU('shape');this.bC(H.nQ,{filled:'f'});H.oq.push(H.nQ);H.wr=this.aU('stroke');H.js.push(H.wr);this.bC(H.wr,{on:'true'});H.nQ.appendChild(H.wr);H.bo.appendChild(H.nQ);H.wr.imgearUnstyled=true;H.qF=document.createTextNode('');H.ce=document.createElement('div');H.ce.style.position='absolute';H.ce.style.overflow='hidden';if(document.documentMode>=8){H.ce.style.whiteSpace='pre-wrap';}H.ce.appendChild(H.qF);H.NP=H.kY;fn='vmltextmark-'+H.K.iK();H.kY.setAttribute('data-pcc-mark',fn);H.GR.setAttribute('data-pcc-mark',fn);H.gL.setAttribute('data-pcc-mark',fn);H.nQ.setAttribute('data-pcc-mark',fn);H.wr.setAttribute('data-pcc-mark',fn);H.ce.setAttribute('data-pcc-mark',fn);break;case IPCC.Web.UI.MarkType.Highlight:H.bo=this.aU('rect');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:H.bo=this.aU('group');H.gK=H.bo;this.ff(H.bo,{width:this.cr*100+'px',height:this.de*100+'px'});break;case IPCC.Web.UI.MarkType.Stamp:H.bo=this.aU('roundrect');H.Aq=document.createTextNode('');H.gA=document.createElement('div');var hV=H.K.bm;H.K.uy=false;H.K.hS=H.K.ck;var ef={};ef.color=H.K.ck;ef.fontFamily="Arial";this.ff(H.gA,ef);if(!hV){hV=H.K.dE[0];H.K.bm=hV;if(!hV){hV="APPROVED";}}kl=this.Jg(H);kl.setAttribute('data-pcc-mark',fn);H.Aq.data=hV;H.gA.appendChild(H.Aq);H.bo.appendChild(H.gA);H.bo.appendChild(kl);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var K=H.K;var pN=K.get_pathWidth();var pM=K.get_pathHeight();var pR=K.get_pathString();var cF=IPCC.bh.vr.Path(pR,{width:pN,height:pM,multiplier:100,thickness:(K.Ea>0)?K.Ea:K.get_lineWidth(),color:K.get_lineColor()});H.bo=cF;var ahA=this.Jg(H);H.bo.appendChild(ahA);break;case IPCC.Web.UI.MarkType.SignatureText:H.bo=this.aU('rect');H.Aq=document.createTextNode('');H.gA=document.createElement('div');H.gA.setAttribute('data-pcc-mark',fn);var Jl=H.K.bm;H.K.uy=false;H.K.hS="none";H.K.cG=255;var Go={};Go.color=H.K.ck;Go.fontFamily=H.K.get_fontName();this.ff(H.gA,Go);if(Go.fontFamily){H.gA.style.fontFamily='"'+Go.fontFamily+'", cursive';}if(!Jl){Jl=H.K.dE[0];H.K.bm=Jl;}var asd=this.Jg(H);H.Aq.data=Jl;H.gA.appendChild(H.Aq);H.bo.appendChild(H.gA);H.bo.appendChild(asd);break;}if(!H.NP&&H.bo){H.NP=H.bo;}if(H.bo&&H.bo.tagName!=='group'){H.CJ=this.aU('stroke');H.js.push(H.CJ);this.bC(H.CJ,{on:'true'});H.bo.appendChild(H.CJ);}var bF;for(bF=0;bF<H.oq.length;bF++){this.bC(H.oq[bF],{coordorigin:'0,0',coordsize:this.cr*100+','+this.de*100});this.ff(H.oq[bF],{width:this.cr*100+'px',height:this.de*100+'px'});}for(bF=0;bF<H.js.length;bF++){this.bC(H.js[bF],{joinstyle:'miter'});}H.pA=this.aU('group');this.Lp(H);this.ff(H.pA,{left:'0px',top:'0px',width:'300px',height:'300px',position:'absolute'});this.bC(H.pA,{coordorigin:'0,0',coordsize:this.cr*100+','+this.de*100});H.pA.ImGearMarkRelation=H;H.pA.setAttribute('data-pcc-mark','vmlmark-'+H.K.iK());if(H.bo){H.pA.appendChild(H.bo);}this.as.oO.appendChild(H.pA);if(H.ce){H.ce.ImGearMarkRelation=H;this.as.oO.appendChild(H.ce);}},ke:function(arQ,jv,kb){var cF=this.SD(jv,kb);this.bC(arQ,{path:cF});},SD:function(jv,kb){var cF='m';if(jv.length<1){cF='';}else{cF='m'+Math.round(jv[0].x*100)+','+Math.round(jv[0].y*100);var G;for(G=1;G<jv.length;G++){if(G>1){cF+=',';}else{cF+='l';}cF+=Math.round(jv[G].x*100)+','+Math.round(jv[G].y*100);}if(kb&&jv.length>2){cF+='x';}cF+='e';}return cF;},atc:function(kW,AJ){var cF='';IPCC.bh.forEach(kW,function(h){var nh=this.asN(h,AJ);cF=cF+this.SD(nh,false)+", ";},this);return cF;},asE:function(kW){var cF='';IPCC.bh.forEach(kW,function(h){var nh=this.asp(h);cF=cF+this.SD(nh,true)+", ";},this);return cF;},asp:function(h){var nh=[];nh.push({x:h.x,y:h.y});nh.push({x:h.x+h.width,y:h.y});nh.push({x:h.x+h.width,y:h.y+h.height});nh.push({x:h.x,y:h.y+h.height});return nh;},asN:function(h,AJ){AJ=AJ||0;var nh=[];nh.push({x:h.x,y:h.y+h.height+AJ});nh.push({x:h.x+h.width,y:h.y+h.height+AJ});return nh;},DC:function(fI,iR,sp,pm,pu,ze,nK,amQ){var cd=this.WM(fI,iR,sp,pm,pu);var dn={display:'block'},ab={fillcolor:ze,filled:false},sB={color:ze};switch(pu){case IPCC.Web.UI.LineHeadType.None:dn.display='none';break;case IPCC.Web.UI.LineHeadType.Pointer:this.ke(nK,[cd.sq,fI,cd.qy],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.ke(nK,[cd.sq,fI,cd.qy],true);ab.filled=true;break;case IPCC.Web.UI.LineHeadType.Open:this.ke(nK,[cd.sq,fI,cd.qy],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:ab.filled=true;this.ke(nK,[cd.sq,fI,cd.qy,cd.wi],true);break;}if(pu!==IPCC.Web.UI.LineHeadType.None){this.ff(nK,dn);this.bC(nK,ab);this.bC(amQ,sB);}return cd;},Rf:function(H){var K=H.K;var fo,GI,EZ,oB;fo=this.Ft(K);if(fo.length<2||K.kb){this.ff(H.uo,{display:'none'});this.ff(H.su,{display:'none'});}else{K.qH=K.hS;oB=this.Kw(fo,true);GI=this.DC(oB.fI,oB.iR,K.zI,K.Aj,K.zB,K.qH,H.uo,H.FP);oB=this.Kw(fo,false);EZ=this.DC(oB.fI,oB.iR,K.CA,K.BS,K.nf,K.qH,H.su,H.FH);fo[0]=GI.wi;fo[fo.length-1]=EZ.wi;}this.ke(H.gL,fo,K.kb);},QT:function(H){var mq=this.XK(H);this.ke(H.kY,mq.Ps,true);var HQ={},Hy={};var K=H.K;if(mq.LO){Hy.on=false;}else{Hy.color=K.hS;Hy.dashstyle=this.wq(K.gr);Hy.on=true;}if(mq.HL){this.ke(H.gL,mq.HL,false);H.gL.style.visibility='visible';}else{H.gL.style.visibility='hidden';}if(mq.BH){this.ke(H.nQ,mq.BH,false);H.nQ.style.visibility='visible';}else{H.nQ.style.visibility='hidden';}if(K.xL){HQ.color=K.Ci;HQ.dashstyle=this.wq(K.rh);H.wr.imgearCalloutSized=true;}else{HQ.color=K.hS;HQ.dashstyle=this.wq(K.gr);H.wr.imgearCalloutSized=false;}this.bC(H.wr,HQ);this.bC(H.GR,Hy);},aiS:function(H,du,cX){var K=H.K;var h=K.dU();var hs=1;if(K.gM){hs+=K.ja/2;}h.width-=2*hs;h.height-=2*hs;h.x+=hs;h.y+=hs;h=du.rJ(h);var SK=h.x,Tu=h.y;var eS=new IPCC.dG(1,0,0,1,0,0);switch(K.wt){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:eS.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:eS.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:eS.rotate(180);eS.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:eS.scale(-1,1);eS.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:eS.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:eS.scale(-1,1);eS.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:eS.rotate(270);break;}eS.append(du);var ef={};var po=K.hI*this.AU/72*cX;ef.fontSize=Math.round(po)+'px';var mx=eS.HF();var cZ=eS.FX();if(mx){cZ=(360-cZ)%360;}var qY=Math.round(cZ/90);var yE='';if(mx||qY){yE='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(mx?'1':'0')+', rotation='+qY.toString()+');';}if(K.qU<255){yE+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(K.qU/255*100)+');';}H.gA.style.filter=yE;var ei;if((cZ>45&&cZ<135)||(cZ>225&&cZ<315)){ei=h.width;h.width=h.height;h.height=ei;}ef.left=SK+'px';ef.top=Tu+'px';ef.width=h.width+'px';ef.height=h.height+'px';H.gA.style.textAlign='center';H.gA.style.width=h.width+'px';H.gA.style.height=h.height+'px';H.gA.style.lineHeight=H.gA.style.height;H.gA.style.fontSize=Math.round(po)+'px';},ajm:function(H,du,cX){var K=H.K;var h=K.dU();var hs=1;if(K.gM){hs+=K.ja/2;}h.width-=2*hs;h.height-=2*hs;h.x+=hs;h.y+=hs;h=du.rJ(h);var SK=h.x,Tu=h.y;var eS=new IPCC.dG(1,0,0,1,0,0);switch(K.wt){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:eS.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:eS.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:eS.rotate(180);eS.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:eS.scale(-1,1);eS.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:eS.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:eS.scale(-1,1);eS.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:eS.rotate(270);break;}eS.append(du);var ef={};var po=K.hI*this.AU/72*cX;K.po=po;ef.fontSize=Math.round(po)+'px';var mx=eS.HF();var cZ=eS.FX();if(mx){cZ=(360-cZ)%360;}var qY=Math.round(cZ/90);var yE='';if(mx||qY){yE='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(mx?'1':'0')+', rotation='+qY.toString()+');';}if(K.qU<255){yE+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(K.qU/255*100)+');';}H.ce.style.filter=yE;var ei;if((cZ>45&&cZ<135)||(cZ>225&&cZ<315)){ei=h.width;h.width=h.height;h.height=ei;}ef.left=SK+'px';ef.top=Tu+'px';ef.width=h.width+'px';ef.height=h.height+'px';this.ff(H.ce,ef);if(H.sI!==undefined){H.sI.style.width=h.width+'px';}},DN:function(H){var K=H.K;var agl={},ef={};if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){ef.backgroundColor='#000000';}else{ef.backgroundColor='transparent';}ef.color=K.pU;ef.fontFamily=K.fP;if(K.cq&IPCC.Web.UI.FontStyle.Italic){ef.fontStyle='italic';}else{ef.fontStyle='';}if(K.cq&IPCC.Web.UI.FontStyle.Bold){ef.fontWeight='bold';}else{ef.fontWeight='';}if((K.cq&IPCC.Web.UI.FontStyle.Underline)&&(K.cq&IPCC.Web.UI.FontStyle.Strikeout)){ef.textDecoration='underline line-through';}else if(K.cq&IPCC.Web.UI.FontStyle.Underline){ef.textDecoration='underline';}else if(K.cq&IPCC.Web.UI.FontStyle.Strikeout){ef.textDecoration='line-through';}else{ef.textDecoration='';}switch(K.pf){case IPCC.Web.UI.HorizontalAlignment.Center:ef.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:ef.textAlign='right';break;default:ef.textAlign='left';break;}if(document.documentMode<8){var ajf=K.bm.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br/>');H.ce.innerHTML=ajf;}else{this.abg(H);}this.bC(H.ce,agl);this.ff(H.ce,ef);if(H.K.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(K.ck==="#000000"){K.ck='#ffffff';}if(K.ir()===true){K.ck='white';}else{K.set_opacity(K.cG);}}},Lp:function(H){var K=H.K;if(!K){return;}var bo=H.bo;var G,h,fo,dn={},ab={},sT={},sB={},gM=true,Bh,ti,acU,Ov,He,OG;var jq=false;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jq=true;this.Rf(H);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Highlight:h=K.get_rectangle();if(h.x===0&&h.y===0){var eJ=this.J.cu().gz();if(eJ.hv()>0){var dk=eJ.iF(K.aH);h=dk.aX;}K.jd='y';}dn.left=h.x*100+'px';dn.top=h.y*100+'px';dn.width=h.width*100+'px';dn.height=h.height*100+'px';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Rg(H);dn={display:'block',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.bZ.bG.acu(false,H.K.get_selected())*100+")",color:"blue"};ab={fillcolor:IPCC.bZ.bG.wC(H.K.get_selected()),filled:true};sB={color:IPCC.bZ.bG.wC(H.K.get_selected())};var ajA={filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.bZ.bG.vz(false,H.K.get_selected())*100+")",weight:0};this.ff(H.Ah,dn);this.bC(H.Ah,ab);this.bC(H.HN,sB);this.ff(H.wV,ajA);this.bC(H.Db,sB);this.Do(H);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:h=K.get_rectangle();dn.left=h.x*100+'px';dn.top=h.y*100+'px';dn.width=h.width*100+'px';dn.height=h.height*100+'px';H.gI.src=H.K.aD;var FL=H.bo.getBoundingClientRect();var jt=H.gI.getBoundingClientRect();if(jt.bottom!==undefined&&FL.bottom!==undefined){var Gy=FL.bottom-FL.top;var aqF=FL.right-FL.left;var de=jt.bottom-jt.top;var cr=jt.right-jt.left;H.gI.style['position']='relative';if(Gy===de&&aqF===cr){H.gI.style['max-height']='100%';H.gI.style['height']='auto';H.gI.style['max-width']='100%';H.gI.style['width']='auto';H.gI.style['top']='0';}else if(Gy<=de){H.gI.style['max-height']='100%';H.gI.style['height']='100%';H.gI.style['max-width']='available';H.gI.style['width']='auto';H.gI.style['top']='0';}else{H.gI.style['max-height']='available';H.gI.style['height']='auto';H.gI.style['max-width']='100%';H.gI.style['width']='100%';H.gI.style['top']='';}if(Gy>de){var amy=100*((Gy/2-de/2)/Gy);H.gI.style.top=amy+'%';}}break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.DN(H);setTimeout(function(){Bh=H.ce.cloneNode(true);Bh.style.visibility='hidden';document.body.appendChild(Bh);ti=Bh.getElementsByTagName('div');acU=ti[0];Ov=ti[1];Ov.style.height='inherit';He=Ov.getBoundingClientRect();OG=acU.getBoundingClientRect();if(He.top!==0){if(He.top===OG.top&&He.bottom===OG.bottom&&H.ce.style.height!==''){H.sI.style.height=H.ce.style.height;}else{H.sI.style.height='inherit';}}document.body.removeChild(Bh);Bh=undefined;},0);break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Do(H);return;case IPCC.Web.UI.MarkType.Ellipse:h=K.get_rectangle();dn.left=h.x*100+'px';dn.top=h.y*100+'px';dn.width=h.width*100+'px';dn.height=h.height*100+'px';break;case IPCC.Web.UI.MarkType.Polygon:fo=this.Ft(K);this.ke(bo,fo,true);break;case IPCC.Web.UI.MarkType.Text:this.QT(H);this.DN(H);break;case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:h=K.get_rectangle();dn.left=h.x*100+'px';dn.top=h.y*100+'px';dn.width=h.width*100+'px';dn.height=h.height*100+'px';var hV=K.get_text();if(!hV){if(K.get_type()===IPCC.Web.UI.MarkType.Stamp){hV="APPROVED";}else{hV="";}}H.Aq.data=hV;var Tm=this.agJ(h.width,h.height);H.gA.style.textAlign='center';H.gA.style.fontSize=Tm+'px';var SC;if(K.get_type()===IPCC.Web.UI.MarkType.SignatureText){var OX=12*h.width/(K.xI||1),Pf=12*h.height/(K.yz||1);SC=Math.min(OX,Pf)/2;}K.hI=SC||Tm;K.stampSize=Math.floor(SC||Tm);H.gA.style.width=h.width/3.25;H.gA.style.height=h.height/3.25;H.gA.style.lineHeight=H.gA.style.height;if(K.get_type()===IPCC.Web.UI.MarkType.Stamp){H.K.hS=H.K.ck;}else{K.gM=false;}var ef={};ef.color=H.K.ck;this.ff(H.gA,ef);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:try{bo.setAttribute('stroke',K.get_lineColor());if(K.Lj===true){K.Lj=false;bo.setAttribute("d",K.get_pathString());var pN=K.get_pathWidth();var pM=K.get_pathHeight();bo.setAttribute('width',pN*100);bo.setAttribute('height',pM*100);bo.coordsize=[pN,pM].join(', ');}var Gv;var Gd;var PM;var PU;var Sr=K.get_pathWidth()/K.get_pathHeight();h=K.get_rectangle();var apm=h.width/h.height;if(apm>Sr){Gd=h.height;Gv=h.height*Sr;PM=h.x-(Gv-h.width)/2;PU=h.y;K.Ea=K.ja*Gv/K.get_pathWidth();}else{Gv=h.width;Gd=h.width/Sr;PU=h.y-(Gd-h.height)/2;PM=h.x;K.Ea=K.ja*Gd/K.get_pathHeight();}dn.left=PM*100+'px';dn.top=PU*100+'px';dn.width=Gv*100+'px';dn.height=Gd*100+'px';}catch(e){}break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',K.get_type());}if(K.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&K.get_type()!==IPCC.Web.UI.MarkType.Freehand){if(jq){sT.filled=false;}else{if(K.uy){sT.fillColor=K.ck;sT.filled=true;}else{sT.filled=false;}gM=K.gM;}if(gM){sB.color=K.get_lineColor();sB.dashstyle=this.wq(K.gr);sB.on=true;}else{sB.on=false;}}var Cw='';switch(K.tg()){case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;default:if(K.cG<255){Cw='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(K.cG/2.55)+')';}var BI=bo.firstChild;if(BI&&BI.nodeName==='shape'){while(BI){BI.style.filter=Cw;BI=BI.nextSibling;}}else{bo.style.filter=Cw;}break;}if(K.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&K.get_type()!==IPCC.Web.UI.MarkType.Freehand){if(K.un){dn.visibility='visible';if(H.ce){H.ce.style.visibility='visible';}}else{dn.visibility='hidden';if(H.ce){H.ce.style.visibility='hidden';}}dn.cursor=IPCC.bM.eU(this.ae.GG());if(H.ce){H.ce.style.cursor=IPCC.bM.eU(this.ae.GG());}this.ff(bo,dn);this.bC(H.NP,sT);this.bC(bo,ab);for(G=0;G<H.js.length;G++){if(!H.js[G].imgearUnstyled){this.bC(H.js[G],sB);}}}else{this.ff(bo,dn);}},Do:function(H){var K=H.K,G,dn={},sT={};var gK=H.gK;while(gK.firstChild){gK.removeChild(gK.firstChild);}var nM;for(G=0;G<K.cc.length;G++){for(var bF=0;bF<K.cc[G].length;bF++){var EN=this.J.cu().gz();if(EN.hv()>0){var Tf=EN.iF(K.cc[G].startIndex+bF);nM=Tf.aX;}var bs=this.aU('rect');dn.left=nM.x*100+'px';dn.top=nM.y*100+'px';dn.width=nM.width*100+'px';dn.height=nM.height*100+'px';dn.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(K.cc[G].opacity/2.55)+')';this.ff(bs,dn);sT.fillColor=K.cc[G].color;sT.filled=true;this.bC(bs,sT);var CJ=this.aU('stroke');this.bC(CJ,{on:'f'});bs.appendChild(CJ);gK.appendChild(bs);}}},Rg:function(H){var K=H.K;if(K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(!H.aH|| !H.co||H.aH!==K.aH||H.co!==K.co){var cF=this.asE(K.ki);this.bC(H.Ah,{path:cF});cF=this.atc(K.ki,K.ja/ -2);this.bC(H.wV,{path:cF});H.aH=K.aH;H.co=K.co;}}},agJ:function(Dj,ans){var jQ=0;if(Dj>=ans){jQ=(Dj/14)/2;}else{jQ=Dj/15;}if(jQ*15>=Dj){jQ=(Dj/15)/2;}return jQ;},wq:function(gr){switch(gr){case IPCC.Web.UI.LineStyle.Dash:return 'dash';case IPCC.Web.UI.LineStyle.Dot:return 'dot';case IPCC.Web.UI.LineStyle.DashDot:return 'dashdot';case IPCC.Web.UI.LineStyle.DashDotDot:return 'shortdashdotdot';default:break;}return 'solid';},zh:function(H){this.as.oO.removeChild(H.pA);if(H.ce){this.as.oO.removeChild(H.ce);}delete H.pA;},Vo:function(du,lw,aj,hT){var lx=du.transform({x:0,y:0});var jg=du.transform({x:1,y:0});var nn=lx.x-jg.x;var Fz=nn*nn;nn=lx.y-jg.y;Fz+=nn*nn;var cX=Math.sqrt(Fz);var xs={width:aj.width*cX+'px',height:aj.height*cX+'px'};var mx=du.HF();if(mx){xs.flip='x';}else{xs.flip='';}var cZ=du.FX();if((cZ>45&&cZ<135)||(cZ>225&&cZ<315)){xs.left=(aj.height-aj.width)*cX/2+'px';xs.top=(aj.width-aj.height)*cX/2+'px';}else{xs.left='0px';xs.top='0px';}var G,bF,H;for(G=0;G<hT.length;G++){H=hT[G];this.bC(H.pA,{rotation:mx? -cZ:cZ});this.ff(H.pA,xs);for(bF=0;bF<H.js.length;bF++){if(H.js[bF].imgearCalloutSized){this.bC(H.js[bF],{weight:H.K.Ct*cX});}else{if(H.K.get_type()!==IPCC.Web.UI.MarkType.SignaturePath){this.bC(H.js[bF],{weight:H.K.ja*cX});}else{this.bC(H.js[bF],{weight:(H.K.Ea>0)?H.K.Ea:H.K.ja*cX});}}}if(H.ce){this.ajm(H,du,cX);}if(H.gA){this.aiS(H,du,cX);}}},WO:function(){this.as=undefined;},aU:function(bO){return document.createElement('igvml:'+bO);},ff:function(bo,iY){var G;for(G in iY){if(iY.hasOwnProperty(G)){if(bo.style[G]!==iY[G]){bo.style[G]=iY[G];}}}},bC:function(bo,ab){var G;if(document.documentMode===8){for(G in ab){if(ab.hasOwnProperty(G)){var val=ab[G];var str=val.toString();if(bo[G]!==str){bo[G]=str;}}}}else{for(G in ab){if(ab.hasOwnProperty(G)){if(ab[G]){bo.setAttribute(G,ab[G].toString());}}}}}};IPCC.adh=function(J,wO){var bx=this;this.Yl='opacity';this.abx=function(cG){return cG.toString();};var Xp=function Xp(as,du,lw,aj,lK,mp){var hQ;if(this.J.oW()===true){as.Gw.setAttribute('width',lw.width);as.Gw.setAttribute('height',lw.height);as.uQ.setAttribute('width',lw.width);as.uQ.setAttribute('height',lw.height);hQ=du.nG().toString()+','+du.pk().toString()+','+du.oK().toString()+','+du.sN().toString()+','+(du.tF()+lK).toString()+','+(du.ue()+mp).toString();this.lp(as.FQ,'transform','matrix('+hQ+')');}else{as.Gw.setAttribute('width',lw.width);as.Gw.setAttribute('height',lw.height);as.uQ.setAttribute('width',lw.width);as.uQ.setAttribute('height',lw.height);hQ=du.nG().toString()+','+du.pk().toString()+','+du.oK().toString()+','+du.sN().toString()+','+(du.tF()+lK).toString()+','+(du.ue()+mp).toString();this.lp(as.FQ,'transform','matrix('+hQ+')');}};var VD,Vp;this.RR=function(as,du,lw,aj,lK,mp){if(as.VP.match('maglevel')){Xp.apply(this,arguments);return;}var aX=as.gN.parentElement.getBoundingClientRect();var ij=aX.width/aj.width;var Zo=function(val){return Math.abs(val)<1.0e-14;};var eL=0,dV=0;var afO=function(){var nC=du.pk();if(Zo(nC)){nC=0;}var og=du.oK();if(Zo(og)){og=0;}var anT=du.nG();var cZ=(nC>=0&&og<0)?90:(nC<0&&og>=0)?270:(anT<0)?180:(nC>=0&&og>=0)?0:0;switch(cZ){case 90:eL=aX.width;break;case 180:eL=aX.width;dV=aX.height;break;case 270:dV=aX.height;break;}return cZ*(Math.PI/180);};var cZ=afO();if(parseInt(cZ,10)===1||parseInt(cZ,10)===4){ij=aX.height/aj.width;}if(ij===VD&&cZ===Vp){return;}else{VD=ij;Vp=cZ;}var fC=1,gP=0;if(cZ!==0){fC=Math.cos(cZ);gP=Math.sin(cZ);}var bP={ij:fC*ij,qs:fC*ij,nC:gP*ij,og:gP* -1*ij,eL:eL,dV:dV};var alh=new IPCC.dG(bP.ij,bP.nC,bP.og,bP.qs,bP.eL,bP.dV);du.NB(alh);J.bu().iu(du);var hQ='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';hQ=hQ.replace('{scaleX}',bP.ij).replace('{scaleY}',bP.qs).replace('{skewX}',bP.nC).replace('{skewY}',bP.og).replace('{moveX}',bP.eL).replace('{moveY}',bP.dV);this.lp(as.FQ,'transform',hQ);};this.adM=function(){VD=undefined;Vp=undefined;};this.acz(J);this.YN=function(aa){var av=new IPCC.AH(aa.clientWidth,aa.clientHeight,96,96);return av;};this.Qh=function(bK){bK.preventDefault();bx.jl(bK);};this.PR=function(bK){bK.preventDefault();bx.jB(bK);};this.PJ=function(bK){bK.preventDefault();bx.he(bK);};this.Ts=function(bK){bx.jl(bK);};this.Zd=function(bK){bx.rW(bK);};this.SO=function(bK){bx.jB(bK);};this.Af=function(bK){bx.lz(bK);};this.Ob=0;this.Tz=function(bK){if(bK.rawEvent.detail>1){if(window.navigator.msPointerEnabled){var Sj=false;if(! !(navigator.userAgent.match('6.1'))&&document.documentMode===11){Sj=true;}if(!this.Ob){if(bK.target instanceof SVGPolylineElement&&Sj===true){bx.rW(bK);}else{bx.he(bK);}this.Ob=bK.rawEvent.timeStamp;return;}var abI=500;if(Sj){abI=8000;}if(bK.rawEvent.timeStamp-this.Ob>abI){bx.he(bK);}else{bx.rW(bK);}this.Ob=bK.rawEvent.timeStamp;}else{bx.rW(bK);}}else{bx.he(bK);}};this.SA=function(bK){bx.LF(bK);};this.OZ=function(bK){bx.aba(bK);};this.lO=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;bx.qc(C);J.atm(C);}catch(ex){J.F('mouseOut',ex);}};this.KN=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;bx.qc(C);J.anW(C);}catch(ex){J.F('touchStart',ex);}};this.KT=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;bx.qc(C);J.anR(C);}catch(ex){J.F('touchMove',ex);}};this.Lw=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;bx.qc(C);J.aoj(C);}catch(ex){J.F('touchEnd',ex);}};this.Ec=function(bK){try{bK.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;bx.qc(C);J.avc(C);}catch(ex){J.F('touchCancel',ex);}};this.Yv=function(bK){try{bK.preventDefault();}catch(ex){J.F('dragStart',ex);}};this.Zc=function(){var en=J.le().igElements.kI;IPCC.Web.UI.aW.addHandler(en,"mousewheel",this.Af);IPCC.Web.UI.aW.addHandler(en,"DOMMouseScroll",this.Af);if(wO){IPCC.Web.UI.aW.addHandler(en,"touchstart",this.KN);IPCC.Web.UI.aW.addHandler(en,"touchmove",this.KT);IPCC.Web.UI.aW.addHandler(en,"touchend",this.Lw);IPCC.Web.UI.aW.addHandler(en,"touchcancel",this.Ec);}IPCC.Web.UI.aW.addHandler(en,"mouseout",this.lO);IPCC.Web.UI.aW.addHandler(en,"dragstart",this.Yv);};this.YF=function(){var en=J.le().igElements.kI;IPCC.Web.UI.aW.removeHandler(en,"DOMMouseScroll",this.Af);IPCC.Web.UI.aW.removeHandler(en,"mouseout",this.lO);if(wO){IPCC.Web.UI.aW.removeHandler(en,"touchstart",this.KN);IPCC.Web.UI.aW.removeHandler(en,"touchmove",this.KT);IPCC.Web.UI.aW.removeHandler(en,"touchend",this.Lw);IPCC.Web.UI.aW.removeHandler(en,"touchcancel",this.Ec);}IPCC.Web.UI.aW.removeHandler(en,"dragstart",this.Yv);};this.Wp=function(as,gN,mH,uH){var G,bQ,aa,Vw;var JV=function(bO,fu,ab){var aa=document.createElementNS('http://www.w3.org/2000/svg',bO);var G;if(fu){aa.setAttribute('id',fu);}for(G in ab){if(ab.hasOwnProperty(G)){aa.setAttribute(G,ab[G]);}}return aa;};var gH=JV('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});as.uQ=JV('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});gH.appendChild(as.uQ);var Oy=JV('g',null,{});as.FQ=Oy;gH.appendChild(Oy);var bp;if(J.oW()===false){bp=mH.es.length;}else{bp=1;}for(G=0;G<bp;G++){bQ=mH.es[G];bQ.pool.parentElementID=uH+G.toString();Vw=1/bQ.cX;aa=JV('g',bQ.pool.parentElementID,{transform:'matrix('+Vw.toString()+',0,0,'+Vw.toString()+',0,0)'});Oy.appendChild(aa);}as.Gw=gH;gN.appendChild(gH);};this.Yy=function(fL){var Mw=this.RK();fL.elementID=Mw;};this.aab=function(fL){var aa=document.getElementById(fL.elementID);this.lp(aa,'display','none');};this.Sa=function(fL){var aa=document.getElementById(fL.elementID);if(aa===null){fL.elementID='';return;}aa.setAttributeNS('http://www.w3.org/1999/xlink','href','');aa.parentNode.removeChild(aa);fL.elementID='';};var Bq=function(bK){try{bK.target.onload=undefined;bK.target.onerror=undefined;bK.target.onabort=undefined;var fL=bK.target.poolItem;fL.loaded=true;bx.ye();}catch(ex){J.F('downloadImage',ex);}};var abj=function(bK){try{bK.target.onload=undefined;bK.target.onerror=undefined;bK.target.onabort=undefined;bK.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');bK.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){J.F('downloadImage',ex);var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}};this.aak=function(jJ){var G;var bp=jJ.length;if(J.oW()===false){bp=jJ.length;}else{bp=1;}for(G=0;G<bp;G++){var gT=jJ[G];var aa=document.getElementById(gT.poolItem.elementID);if(aa===null){var fL=gT.poolItem;var Be=fL.pool;var gN=document.getElementById(Be.parentElementID);aa=document.createElementNS('http://www.w3.org/2000/svg','image');this.lp(aa,'id',fL.elementID);this.lp(aa,'externalResourcesRequired','true');aa.poolItem=fL;aa.onload=Bq;aa.onerror=abj;aa.onabort=abj;if(document.documentMode>8){fL.loaded=true;}if(J.JN()&&J.fG()===true){this.Wb(aa,gT.url,'image/png');}else{aa.setAttributeNS('http://www.w3.org/1999/xlink','href',gT.url);}gN.appendChild(aa);this.lp(aa,'display','block');var aQ=gT.right-gT.x;var dg=gT.bottom-gT.y;this.lp(aa,'x',gT.x);this.lp(aa,'y',gT.y);this.lp(aa,'width',aQ);this.lp(aa,'height',dg);}this.lp(aa,'display','block');}if(document.documentMode>8&&jJ.length>0){bx.ye();}};this.Wb=function(aa,dA,qV){var iB=true;var lh=0;if(J.iQ()===0){iB=false;}var aL=new XMLHttpRequest(),hB,lb=false;if(J.JN()&&J.fG()===true){var fO=IPCC.Web.mt.Jq(4);var ni=IPCC.Web.gf.Cn.kE(fO);var Ox=dA+'&iv='+ni;aL.open('GET',Ox,true);aL.responseType='text';}else{aL.open('GET',dA,true);aL.responseType='text';}function kq(){var aR;try{var dp,aq,cS,hJ;var hk;var gD=dp;if(aL.readyState===4){dp=aL.status;if(aL.status===200){aq=null;try{if(iB===true){if(hB){clearTimeout(hB);}}var lT=aL.getResponseHeader("Accusoft-Data-Encrypted");if(lT==='true'&&J.fG()===true){var qK=IPCC.Web.gf.mY.qu(aL.getResponseHeader("Accusoft-Data-SK"));var bz=IPCC.Web.AV(qK,fO);var dB=IPCC.Web.AW(aL);var qa=IPCC.Web.xe(dB,bz,fO);var OV=IPCC.Web.gf.mY.kE(qa,0,0);aa.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+qV+';base64,'+OV);}else{aa.setAttributeNS('http://www.w3.org/1999/xlink','href',dA);}}catch(ex){cS="Image error, Error message = "+ex.message;aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);throw new IPCC.Web.UI.ImGearArgumentException(null,cS);}}else if((dp<200)||(dp>=300)){if(iB===true){if(hB){clearTimeout(hB);}}gD=aL.status;if(dp===403){lh++;if(aL.statusText&&aL.statusText!==""){cS="Expired viewer session ID, error message from the server: "+aL.statusText;}else{cS="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dp,cS);}hJ=aL.getResponseHeader('Accusoft-Status-Message');if(hJ){var lg;hk=aL.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(hk)){lg=parseInt(hk,10);}throw new IPCC.Web.UI.ImGearHttpException(gD,hJ,lg);}else if(lb){throw new IPCC.Web.UI.ImGearHttpException(gD,"Client Image load timeout");}else{if(aL.statusText&&aL.statusText!==""){cS=aL.statusText;}else{cS="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gD,cS);}}}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};aL.onreadystatechange=kq;if(iB===true){hB=setTimeout(function(){lb=true;aL.abort();},J.iQ());}aL.send();};this.aim=function(as){var lh=0;var gT=as.mH.es[0].tiles[0];if(!gT){return;}var Be=gT.level.pool;var gN=document.getElementById(Be.parentElementID);var iB=true;if(J.iQ()===0){iB=false;}var vV=J.GT();if(as.Gx){if(vV===2){delete as.Gx;if(gN.childNodes.length>0){gN.removeChild(gN.childNodes[0]);}}else if(vV===1){if(gN.childNodes.length>0){gN.removeChild(gN.childNodes[0]);}}else{if(gN.childNodes.length===0){gN.appendChild(as.aiZ);}}J.AP=true;return;}if(vV>0){return;}var aL=new XMLHttpRequest(),hB,lb=false;function kq(){try{var dp,aq,cS,hJ;var hk;var gD=dp;var aR;if(aL.readyState===4){dp=aL.status;if(aL.status===200){if(iB===true){if(hB){clearTimeout(hB);}}aq=null;try{var vH;var lT=aL.getResponseHeader("Accusoft-Data-Encrypted");if(lT==='true'&&J.fG()===true){var qK=IPCC.Web.gf.mY.qu(aL.getResponseHeader("Accusoft-Data-SK"));var bz=IPCC.Web.AV(qK,fO);var dB=IPCC.Web.AW(aL);var qa=IPCC.Web.xe(dB,bz,fO);vH=IPCC.Web.gf.BV.kE(qa);}else{vH=aL.responseText;}akH(vH);}catch(ex){cS="SVG image error, Error message = "+ex.message;aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=ex;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);throw new IPCC.Web.UI.ImGearArgumentException(null,cS);}}else if((dp<200)||(dp>=300)){if(iB===true){if(hB){clearTimeout(hB);}}gD=aL.status;if(dp===480){lh++;if(aL.statusText&&aL.statusText!==""){cS=cS="PDF file password required, error message from the server: "+aL.statusText;}else{cS="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(dp,cS);}if(dp===403){lh++;if(aL.statusText&&aL.statusText!==""){cS="Expired viewer session ID, error message from the server: "+aL.statusText;}else{cS="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dp,cS);}hJ=aL.getResponseHeader('Accusoft-Status-Message');if(hJ){var lg;hk=aL.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(hk)){lg=parseInt(hk,10);}throw new IPCC.Web.UI.ImGearHttpException(gD,hJ,lg);}else if(lb){throw new IPCC.Web.UI.ImGearHttpException(gD,"Client SVG load timeout");}else{if(aL.statusText&&aL.statusText!==""){cS=aL.statusText;}else{cS="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gD,cS);}}}}catch(e){J.F('openPage',e);if(typeof(J.by)==='function'){aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=J.ar;J.by('pageOpenFailed',aR);}}};var alm=function(){J.AP=true;J.by('pageDisplayed',{bb:J.ar});};var akH=function(ha){var rR=Be.parentElementID.toString();ha=ha.replace(/href="#/g,'href="#'+rR);ha=ha.replace(/="url\(#/g,'="url(#'+rR);ha=ha.replace(/fill:url\(#/g,'fill:url(#'+rR);ha=ha.replace(/ id="/g,' id="'+rR);ha=ha.replace(/<use([^>]+)\/>/g,' <use$1></use>');var So=document.createElement('div');So.innerHTML=ha;var oh=So.querySelectorAll('style');IPCC.bh.forEach(oh,function(bL){var ZT=(bL.styleSheet)?bL.styleSheet.cssText:bL.textContent;if(bL.styleSheet){bL.styleSheet.cssText=ZT;}else{bL.appendChild(document.createTextNode(ZT));}});var kJ=null;var ED=So.firstChild;while(ED!==null){if(ED.nodeName==='svg'){kJ=ED;break;}ED=ED.nextSibling;}if(kJ===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!as.Gx){as.aiZ=kJ;gN.appendChild(kJ);as.Gx=true;if(!J.AP&&as.Gx){setTimeout(alm,1);}}};var dA;var fO,ni;J.AP=false;if(J.fG()===true){fO=IPCC.Web.mt.UO(4,IPCC.Web.JF());ni=IPCC.Web.gf.Cn.kE(fO);dA=gT.url+'&iv='+ni;}else{dA=gT.url;}aL.open('GET',dA,true);aL.responseType='text';if(document.documentMode===10||IPCC.bh.xP){aL.setRequestHeader('Content-Type','svg');}else{aL.setRequestHeader('Content-Type','svga');}aL.onreadystatechange=kq;if(iB===true){hB=setTimeout(function(){lb=true;aL.abort();},J.iQ());}aL.send();};this.Ty=function(gT,cG){if(!gT){return;}var ld=document.getElementById(gT.poolItem.elementID);this.lp(ld,'x',gT.x);this.lp(ld,'y',gT.y);this.lp(ld,'width',gT.right-gT.x);this.lp(ld,'height',gT.bottom-gT.y);this.lp(ld,'opacity',cG);this.lp(ld,'display','block');};this.TQ=function(jJ,cG,du){var G;if(J.oW()===false){for(G=0;G<jJ.length;G++){this.Ty(jJ[G],cG);}}};return this;};IPCC.adh.prototype=new IPCC.bG();IPCC.bZ.acJ=function(){};IPCC.bZ.CF=1;IPCC.bZ.acJ.prototype={XQ:function(J,as,aj){this.J=J;this.ae=J.bu();this.as=as;this.cr=aj.width;this.de=aj.height;this.AU=aj.gZ;this.aqm=aj.ip;as.oO=this.aU('g');this.bC(as.oO,{'fill-opacity':1});as.FQ.appendChild(as.oO);},XU:function(H){var fn='',h;switch(H.K.get_type()){case IPCC.Web.UI.MarkType.Rectangle:H.bo=this.aU('rect');if(H.K.ir()&&H.K.get_opacity()===255){H.bo.addEventListener("mouseover",function(C){if(H.K.get_selected()===false&&H.bo&&(C.which===0||C.buttons===0)){H.bo.style.opacity=127/255;}},false);H.bo.addEventListener("mouseout",function(C){if(H.bo&&(C.which===0||C.buttons===0)){H.bo.style.opacity=H.K.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:fn="texthyperlinkannotation-"+H.K.iK();H.bo=this.aU('g');H.bo.style.cursor=IPCC.bM.eU(IPCC.bM.Link);H.gK=this.aU('g');H.bo.appendChild(H.gK);H.qL=this.aU('g');H.qL.style.opacity=IPCC.bZ.bG.acu();H.qL.style.fill=IPCC.bZ.bG.wC(H.K.get_selected());H.qL.setAttribute('data-pcc-mark',fn);H.bo.appendChild(H.qL);H.lc=this.aU('g');H.lc.style.stroke=IPCC.bZ.bG.wC(H.K.get_selected());H.lc.style.opacity=IPCC.bZ.bG.vz(false);H.lc.setAttribute('data-pcc-mark',fn);H.bo.appendChild(H.lc);H.bo.addEventListener("mouseover",function(C){if(H.lc){H.lc.style.opacity=IPCC.bZ.bG.vz(true,H.K.get_selected());}},false);H.bo.addEventListener("mouseout",function(C){if(H.lc){H.lc.style.opacity=IPCC.bZ.bG.vz(false,H.K.get_selected());}},false);break;case IPCC.Web.UI.MarkType.RectangleRedaction:fn="textmark-"+H.K.iK();H.bo=this.aU('g');H.ho=this.aU('rect');H.hy=this.aU('g');H.hy.setAttribute('data-pcc-mark',fn);H.qF=document.createTextNode('');if(document.documentMode>8){H.eG=this.aU('text');H.eG.setAttribute('data-pcc-mark',fn);H.eG.appendChild(H.qF);H.TE=0;H.xt=this.aU('clipPath');H.Cf=this.aU('rect');H.hy.appendChild(H.xt);H.xt.appendChild(H.Cf);H.hy.appendChild(H.eG);H.CS="PCC"+IPCC.bZ.CF;IPCC.bZ.CF++;this.bC(H.xt,{id:H.CS,clipPathUnits:"userSpaceOnUse"});h=H.K.get_rectangle();this.bC(H.Cf,{x:0,y:0,width:h.width,height:h.height,"data-pcc-mark":fn});var YQ=function(C){if(H.K.get_selected()===false&&H.ho&&(C.which===0||C.buttons===0)){H.bo.style.opacity=0.5;H.eG.style.opacity=0;}};H.bo.addEventListener("mouseover",function(C){YQ(C);},false);H.hy.addEventListener("mouseover",function(C){YQ(C);},false);H.bo.addEventListener("mouseout",function(C){if(H.ho&&(C.which===0||C.buttons===0)){H.bo.style.opacity=1;H.eG.style.opacity=1;}},false);}else{H.ce=document.createElement('div');this.bC(H.ce,{"data-pcc-mark":fn});H.ce.appendChild(H.qF);H.pp=document.createElement('body');this.bC(H.pp,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":fn});H.pp.appendChild(H.ce);H.BF=this.aU('foreignObject');H.BF.appendChild(H.pp);H.hy.appendChild(H.BF);H.pp.addEventListener("mouseover",function(C){if(H.K.get_selected()===false&&H.ho&&(C.which===0||C.buttons===0)){H.ho.style.opacity=0.5;H.ce.style.opacity=0;}},false);H.pp.addEventListener("mouseout",function(C){if(H.ho&&(C.which===0||C.buttons===0)){H.ho.style.opacity=1;H.ce.style.opacity=1;}},false);}H.bo.appendChild(H.ho);break;case IPCC.Web.UI.MarkType.Ellipse:H.bo=this.aU('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:H.bo=this.aU('rect');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:H.bo=this.aU('g');H.gK=H.bo;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:H.bo=this.aU('g');H.gL=this.aU('polyline');H.uo=this.aU('path');H.su=this.aU('path');H.bo.appendChild(H.gL);H.bo.appendChild(H.uo);H.bo.appendChild(H.su);break;case IPCC.Web.UI.MarkType.Polygon:H.bo=this.aU('polygon');break;case IPCC.Web.UI.MarkType.Text:fn="textmark-"+H.K.iK();H.bo=this.aU('g');H.kY=this.aU('polygon');H.gL=this.aU('path');H.nQ=this.aU('path');H.hy=this.aU('g');H.bo.appendChild(H.kY);H.bo.appendChild(H.gL);H.bo.appendChild(H.nQ);this.bC(H.kY,{style:'stroke:none;'});H.hy.setAttribute('data-pcc-mark',fn);H.qF=document.createTextNode('');if(document.documentMode>8){H.eG=this.aU('text');H.eG.setAttribute('data-pcc-mark',fn);H.eG.appendChild(H.qF);H.TE=0;H.xt=this.aU('clipPath');H.Cf=this.aU('rect');H.hy.appendChild(H.xt);H.xt.appendChild(H.Cf);H.abt=this.aU('g');H.hy.appendChild(H.abt);H.hy.appendChild(H.eG);H.CS="PCC"+IPCC.bZ.CF;IPCC.bZ.CF++;this.bC(H.xt,{id:H.CS,clipPathUnits:"userSpaceOnUse"});h=H.K.get_rectangle();this.bC(H.Cf,{x:0,y:0,width:h.width,height:h.height,"data-pcc-mark":fn});}else{H.ce=document.createElement('div');H.ce.appendChild(H.qF);H.pp=document.createElement('body');this.bC(H.pp,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":fn});H.pp.appendChild(H.ce);H.BF=this.aU('foreignObject');H.BF.appendChild(H.pp);H.hy.appendChild(H.BF);}H.kY.setAttribute('data-pcc-mark',fn);break;case IPCC.Web.UI.MarkType.Stamp:H.bo=this.aU('g');H.rE=this.aU('rect');H.rE.style='fill:rgba(255, 255, 255, 0);stroke:none;';H.ho=this.aU('rect');H.Qo=this.Zy(H);H.bo.appendChild(H.rE);H.bo.appendChild(H.ho);H.bo.appendChild(H.Qo);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:H.bo=this.aU('g');H.rE=this.aU('rect');H.rE.style='fill:rgba(255, 255, 255, 0);stroke:none;';H.ho=this.aU('rect');H.adi=this.ava(H);H.adi.setAttribute('data-pcc-mark',"mark-"+H.K.iK());H.bo.appendChild(H.rE);H.bo.appendChild(H.ho);H.bo.appendChild(H.adi);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var K=H.K;var XA=K.dU();var aQ=XA.width;var dg=XA.height;var pN=K.get_pathWidth();var pM=K.get_pathHeight();var pR=K.get_pathString();var cF=IPCC.bh.vr.Path(pR,{width:aQ,height:dg,multiplier:100,thickness:K.get_lineWidth(),color:K.get_lineColor()});var gH=IPCC.bh.vr.SVG('0 0 '+pN+' '+pM,100);var bs=IPCC.bh.vr.Rect(pN,pM,'fill:rgba(255, 255, 255, 0);stroke:none;');gH.appendChild(bs);gH.appendChild(cF);H.bo=gH;H.agL=cF;H.aeK=bs;break;case IPCC.Web.UI.MarkType.SignatureText:H.bo=this.aU('g');H.ho=this.aU('rect');H.ho.style='fill:rgba(255, 255, 255, 0);stroke:none;';H.Qo=this.Zy(H);H.bo.appendChild(H.ho);H.bo.appendChild(H.Qo);H.K.gM=false;break;}H.bo.ImGearMarkRelation=H;H.bo.setAttribute('data-pcc-mark',"mark-"+H.K.iK());this.as.oO.appendChild(H.bo);if(H.hy){H.hy.ImGearMarkRelation=H;this.as.oO.appendChild(H.hy);}this.Lp(H);},Zy:function(H){var K=H.K;var hV=K.bm;if(!hV){hV=K.dE[0];K.bm=hV;if(!hV){if(K.get_type()===IPCC.Web.UI.MarkType.Stamp){hV="APPROVED";}else{hV="";}}}var h=K.dU();H.eG=this.aU('text');H.CS="PCC"+IPCC.bZ.CF;IPCC.bZ.CF++;var CZ=document.createTextNode(hV);H.eG.setAttribute("x",h.x+(h.width/2));H.eG.setAttribute("y",h.y+(h.height/2));H.eG.setAttribute("font-size","22px");H.eG.setAttribute("text-anchor","middle");H.eG.appendChild(CZ);return H.eG;},ava:function(H){var K=H.K;H.gI=document.createElementNS('http://www.w3.org/2000/svg','svg');H.wo=document.createElementNS('http://www.w3.org/2000/svg','image');H.wo.setAttribute('id','childimg');H.wo.setAttributeNS('http://www.w3.org/1999/xlink','href',K.get_image());H.gI.appendChild(H.wo);return H.gI;},aux:function(H,pf){var K=H.K;var h=K.dU();var bm=K.bm.trim().replace(/ {2,}/g,' ');var Et,ee,kP,VC;var yd=H.eG;var wg=[];var bp=yd.childNodes.length;if(bp>1){var ant=yd.parentNode;var UY=this.aU('text');UY.setAttribute('data-pcc-mark',H.hy.getAttribute('data-pcc-mark'));ant.replaceChild(UY,yd);H.eG=UY;H.eG.appendChild(H.qF);H.hy.appendChild(H.eG);yd={};yd=H.eG;}var NU=2;if(pf){switch(pf){case IPCC.Web.UI.HorizontalAlignment.Center:NU=h.width/2;break;case IPCC.Web.UI.HorizontalAlignment.Right:NU=h.width-8.4;break;}}var ST=0;ST=h.height;var acC;var Xa=0;var dN=this.AU/72;var Xt=0;var Nc=K.hI*dN;var dg=h.height;var Un=0;var sO=0;var Uj=bm.split('\n');for(var G=0;G<Uj.length;G++){var xK='';var aaW=2;if(Uj[G].length>0){kP=Uj[G].split(' ');VC=kP[0];ee=this.aU('tspan');if(G>0){ee.setAttributeNS(null,"x",NU);ee.setAttributeNS(null,"dy",Nc*(Un+1));}Et=window.document.createTextNode(kP[0]);ee.appendChild(Et);yd.appendChild(ee);for(var bF=1;bF<kP.length;bF++){if(kP[bF].length>VC.length){VC=kP[bF];}bp=ee.firstChild.data.length;var KX=kP[bF];if(kP[bF].length>0){if(ee.firstChild.data[ee.firstChild.data.length-1]!==' '){ee.firstChild.data+=" "+kP[bF];}else{ee.firstChild.data+=kP[bF];}}if(ee.firstChild.data[ee.firstChild.data.length-1]!==' '&&bF!==kP.length-1){ee.firstChild.data+=' ';KX+=' ';}xK=xK+KX;acC=xK.length*(K.hI*dN);try{Xa=ee.getComputedTextLength();}catch(e){}var Xz=Xa*dN;if(Xz===0){Xt=acC;}else{Xt=Xz;}var TE=ee.firstChild.data.length*(K.hI/2);if(TE>=h.width){aaW++;xK='';ee.firstChild.data=ee.firstChild.data.slice(0,bp);xK=xK+KX;if(xK.length>1){if(ee.firstChild.data[ee.firstChild.data.length-1]!==' '){ee.firstChild.data+=' ';bp+=1;}wg.push({aH:sO,ZM:ee});sO+=bp;ee=this.aU('tspan');ee.setAttributeNS(null,"x",NU);ee.setAttributeNS(null,"dy",Nc);if(bF===kP.length-1){Et=window.document.createTextNode(kP[bF]);}else{Et=window.document.createTextNode(KX);}ee.appendChild(Et);yd.appendChild(ee);}}ST=Nc*aaW;if(ST>=dg){break;}}if(ee.firstChild.data.length>0){wg.push({aH:sO,ZM:ee});}sO+=ee.firstChild.data.length+1;Un=0;}else{Un++;}}return wg;},amx:function(kF,ee,gK,sO){if(kF.length>0){var afL=ee.getNumberOfChars();if(kF[0].aH>sO+afL){return;}for(var G=Math.max(kF[0].aH-sO,0);G<afL;G++){var h=ee.getExtentOfChar(G);var bs=this.aU('rect');this.bC(bs,{x:h.x,y:h.y,width:h.width,height:h.height,fill:kF[0].Ab});gK.appendChild(bs);if(kF[0].ct===G+sO){kF.shift();if(kF.length===0){return;}G=kF[0].aH-sO-1;}}}},ke:function(aa,jv,kb){var cF='M',G;for(G=0;G<jv.length;G++){if(G>0){cF+=' L';}cF+=jv[G].x+','+jv[G].y;}if(kb){cF+='Z';}this.bC(aa,{d:cF});},SX:function(aa,jv,kb){var HS='',G;for(G=0;G<jv.length;G++){if(G>0){HS+=' ';}HS+=jv[G].x+','+jv[G].y;}if(kb&&jv.length>2){HS+=' '+jv[0].x+','+jv[0].y;}this.bC(aa,{points:HS});},DC:function(fI,iR,sp,pm,pu,ze,nK){var cd=this.WM(fI,iR,sp,pm,pu);var dn='';dn+='stroke:'+ze+';';switch(pu){case IPCC.Web.UI.LineHeadType.None:dn='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.ke(nK,[cd.sq,fI,cd.qy],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.ke(nK,[cd.sq,fI,cd.qy],true);dn+='fill:'+ze+';';break;case IPCC.Web.UI.LineHeadType.Open:this.ke(nK,[cd.sq,fI,cd.qy],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.ke(nK,[cd.sq,fI,cd.qy,cd.wi],true);dn+='fill:'+ze+';';break;}this.bC(nK,{style:dn});return cd;},Rf:function(H){var K=H.K;var ax,fo,G,GI,EZ,gr='',oB;ax=K.get_points();fo=[];for(G=0;G<ax.get_length();G++){fo.push(ax.getPoint(G));}if(fo.length<2||K.kb){this.bC(H.uo,{style:'display:none;'});this.bC(H.su,{style:'display:none;'});}else{K.qH=K.hS;oB=this.Kw(fo,true);GI=this.DC(oB.fI,oB.iR,K.zI,K.Aj,K.zB,K.qH,H.uo);oB=this.Kw(fo,false);EZ=this.DC(oB.fI,oB.iR,K.CA,K.BS,K.nf,K.qH,H.su);fo[0]=GI.wi;fo[fo.length-1]=EZ.wi;}this.SX(H.gL,fo,K.kb);var vn=this.wq(K.gr);if(vn!==''){gr+='stroke-dasharray:'+vn+';';}this.bC(H.gL,{style:gr});},QT:function(H){var mq=this.XK(H);this.SX(H.kY,mq.Ps,false);var abb='',gr='fill:none;',rh='fill:none;';if(mq.LO){abb='stroke:none;';}if(mq.HL){this.ke(H.gL,mq.HL,false);}else{gr+='display:none;';}if(mq.BH){this.ke(H.nQ,mq.BH,false);}else{rh+='display:none;';}var K=H.K;if(K.xL){rh+='stroke:'+K.Ci+';stroke-width:'+K.Ct+';';var vn=this.wq(K.rh);if(vn!==''){rh+='stroke-dasharray:'+vn+';';}}this.bC(H.gL,{style:gr});this.bC(H.nQ,{style:rh});this.bC(H.kY,{style:abb});},DN:function(H){var K=H.K,CW;if(!K){return;}var h=K.dU();var po=K.hI*this.AU/72;K.po=po;var ru=h.width,ox=h.height,Ga=false,ei;var hQ,eh=0,eT=0;var hs=1;if(K.gM){hs+=K.ja/2;}switch(K.wt){case IPCC.Web.UI.Orientation.TopLeft:hQ='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:hQ='-1,0,0,1';eh=ru-hs;break;case IPCC.Web.UI.Orientation.BottomRight:hQ='-1,0,0,-1';eh=ru-hs;eT=ox-hs;break;case IPCC.Web.UI.Orientation.BottomLeft:hQ='1,0,0,-1';eT=ox-hs;break;case IPCC.Web.UI.Orientation.LeftTop:hQ='0,1,1,0';Ga=true;break;case IPCC.Web.UI.Orientation.RightTop:hQ='0,1,-1,0';eh=ru-hs;Ga=true;break;case IPCC.Web.UI.Orientation.RightBottom:hQ='0,-1,-1,0';eh=ru-hs;eT=ox-hs;Ga=true;break;case IPCC.Web.UI.Orientation.LeftBottom:hQ='0,-1,1,0';eT=ox-hs;Ga=true;break;}if(K.ck==="#c0c0c0"){K.ck='#ffffff';}if(K.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(K.ir()===true){K.ck='#ffffff';}else{K.set_opacity(K.cG);}}if(Ga){ei=ru;ru=ox;ox=ei;}ru-=2*hs;ox-=2*hs;if(ru<0){ru=0;}if(ox<0){ox=0;}var ME='normal';var cq='normal';var mv='';var pD;mv+='word-wrap:break-word;background-color:transparent;';var yH=0;if(K.pU.length===7&&K.pU.charAt(0)==='#'){yH=parseInt(K.pU.slice(1),16);}var cG=Math.min(1,Math.max(0,K.qU/255));if(document.documentMode>8){cq='normal';if(K.cq&IPCC.Web.UI.FontStyle.Italic){cq='italic';}ME='normal';if(K.cq&IPCC.Web.UI.FontStyle.Bold){ME='bold';}pD='none';if((K.cq&IPCC.Web.UI.FontStyle.Underline)&&(K.cq&IPCC.Web.UI.FontStyle.Strikeout)){pD='underline line-through';}else if(K.cq&IPCC.Web.UI.FontStyle.Underline){pD='underline';}else if(K.cq&IPCC.Web.UI.FontStyle.Strikeout){pD='line-through';}}else{mv+='color:rgba('+(yH>>16)+','+((yH>>8)&255)+','+(yH&255)+','+cG+');';mv+='font-family:'+K.fP+';';mv+='font-size:'+po+'px;';if(K.cq&IPCC.Web.UI.FontStyle.Italic){mv+='font-style:italic;';}if(K.cq&IPCC.Web.UI.FontStyle.Bold){mv+='font-weight:bold;';}if((K.cq&IPCC.Web.UI.FontStyle.Underline)&&(K.cq&IPCC.Web.UI.FontStyle.Strikeout)){mv+='text-decoration:underline line-through;';}else if(K.cq&IPCC.Web.UI.FontStyle.Underline){mv+='text-decoration:underline;';}else if(K.cq&IPCC.Web.UI.FontStyle.Strikeout){mv+='text-decoration:line-through;';}}var Cg={x:2,anchor:'start'};switch(K.pf){case IPCC.Web.UI.HorizontalAlignment.Left:mv+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:mv+='text-align:center;';Cg.x=(h.width/2)-3;Cg.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:mv+='text-align:right;';Cg.x=h.width-8;Cg.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'){switch(K.yc){case IPCC.Web.UI.VerticalAlignment.Center:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.bC(H.pp,{style:'display:table; width: 100%'});mv+='display: table-cell; white-space: normal; vertical-align: middle; height:'+ox+'px';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.bC(H.ce,{style:mv});this.bC(H.hy,{transform:'matrix('+hQ+','+(eh+h.x+hs)+','+(eT+h.y+hs)+')'});this.bC(H.BF,{x:0,y:0,width:ru,height:ox});this.abg(H);}else{var wg=this.aux(H,K.pf);var aeW=wg.length;switch(K.yc){case IPCC.Web.UI.VerticalAlignment.Center:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){CW=(h.height/2)+(K.hI/4);if(aeW>1){CW-=(aeW-1)*(K.hI/2);}if(CW<0){CW=K.hI;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.bC(H.Cf,{x:0,y:0,width:h.width-5,height:h.height-5});var agF="url(#"+H.CS+")";var Qd={x:Cg.x,y:(this.AU/72)*K.hI,width:h.width,height:h.height,'font-family':K.fP,'font-size':po,fill:'rgba('+(yH>>16)+', '+((yH>>8)&255)+', '+(yH&255)+', '+cG+')','font-weight':ME,'font-style':cq,'text-decoration':pD,'text-anchor':Cg.anchor};if(typeof CW!=='undefined'){delete Qd.y;Qd.dy=CW;}this.bC(H.eG,Qd);H.eG.style.opacity=cG;this.bC(H.hy,{transform:'matrix('+hQ+','+(eh+h.x+hs)+','+(eT+h.y+hs)+')','clip-path':agF});var gK=H.abt;while(gK&&gK.firstChild){gK.removeChild(gK.firstChild);}if(K.cc){var kF=this.WH(K.cc);for(var G=0;G<wg.length;G++){this.amx(kF,wg[G].ZM,gK,wg[G].aH);}}}},Rg:function(H){var K=H.K;if(K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(!H.aH|| !H.co||H.aH!==K.aH||H.co!==K.co){while(H.qL.firstChild){H.qL.removeChild(H.qL.firstChild);}while(H.lc.firstChild){H.lc.removeChild(H.lc.firstChild);}IPCC.bh.forEach(H.K.ki,function(jA){var adP=this.aU('rect');H.qL.appendChild(adP);this.bC(adP,{x:jA.x,y:jA.y,width:jA.width,height:jA.height});var aaL=this.aU('line');this.bC(aaL,{x1:jA.x,y1:jA.y+jA.height-1,x2:jA.x+jA.width,y2:jA.y+jA.height-1,"stroke-width":2});H.lc.appendChild(aaL);},this);H.aH=K.aH;H.co=K.co;}}},Lp:function(H){var K=H.K;if(!K){return;}var bo=H.bo;var h,dn='',ax,gM=true;var jq=false;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jq=true;this.Rf(H);break;case IPCC.Web.UI.MarkType.Rectangle:h=K.get_rectangle();this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Rg(H);if(H.K.get_selected()){H.qL.style.fill=IPCC.bZ.bG.wC(true);H.lc.style.stroke=IPCC.bZ.bG.wC(true);H.lc.style.opacity=IPCC.bZ.bG.vz(false,H.K.get_selected());}else{H.qL.style.fill=IPCC.bZ.bG.wC(false);H.lc.style.stroke=IPCC.bZ.bG.wC(false);H.lc.style.opacity=IPCC.bZ.bG.vz(false,H.K.get_selected());}this.Do(H);break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof H.ho!=='undefined'&&typeof H.ce!=='undefined'){H.ho.style.opacity=1;H.ce.style.opacity=1;}h=K.get_rectangle();this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});this.bC(H.ho,{x:h.x,y:h.y,width:h.width,height:h.height});this.DN(H);break;case IPCC.Web.UI.MarkType.Ellipse:h=K.get_rectangle();this.bC(bo,{cx:h.x+h.width/2,cy:h.y+h.height/2,rx:h.width/2,ry:h.height/2});break;case IPCC.Web.UI.MarkType.Polygon:ax=this.Ft(K);this.SX(bo,ax,false);dn+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.QT(H);this.DN(H);if(typeof document.documentMode==='undefined'){H.pp.style.cursor=IPCC.bM.eU(this.ae.GG());}break;case IPCC.Web.UI.MarkType.Stamp:h=K.get_rectangle();this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});this.bC(H.rE,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});H.rE.style.opacity=1;this.bC(H.ho,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':K.ck,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(h.width/6);if(textFontSize>h.height){textFontSize=(h.height-(h.height/6));}var sv=H.K.get_text();if(!sv){sv='APPROVED';}H.eG.childNodes[0].data=sv;var jQ=sv.length*textFontSize;if(jQ>h.width){textFontSize=((h.width/sv.length));}var JH=Math.round(textFontSize);K.stampSize=JH.toString();this.bC(H.eG,{x:h.x+(h.width/2),y:h.y+(h.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':K.ck,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:h=K.get_rectangle();this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});this.bC(H.rE,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});H.rE.style.opacity=1;this.bC(H.ho,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':K.ck,'stroke-width':'0','fill':'none'});H.wo.setAttribute('height',h.height);H.wo.setAttribute('width',h.width);H.wo.setAttribute('x',h.x);H.wo.setAttribute('y',h.y);H.wo.setAttributeNS('http://www.w3.org/1999/xlink','href',K.get_image());break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Do(H);break;case IPCC.Web.UI.MarkType.Highlight:h=K.get_rectangle();if(h.x===0&&h.y===0){var eJ=this.J.cu().gz();if(eJ.hv()>0){var dk=eJ.iF(K.aH);h=dk.aX;}K.jd='y';}this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:h=K.get_rectangle();this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});var Im=H.agL;if(K.Lj===true){K.Lj=false;Im.setAttribute("d",K.get_pathString());var pN=K.get_pathWidth();var pM=K.get_pathHeight();bo.setAttribute('viewBox','0 0 '+pN+' '+pM);H.aeK.setAttribute('width',pN);H.aeK.setAttribute('height',pM);}Im.style.stroke=K.get_lineColor();Im.style.strokeWidth=K.get_lineWidth()+'px';Im.style.opacity=K.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:h=K.get_rectangle();this.bC(bo,{x:h.x,y:h.y,width:h.width,height:h.height});this.bC(H.ho,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});H.ho.style.opacity=1;var agm=H.K.get_text()||"";H.eG.childNodes[0].data=agm;var OX=12*h.width/(K.xI||1),Pf=12*h.height/(K.yz||1),TL=Math.min(OX,Pf);var asK=Math.floor(TL);K.stampSize=asK.toString();this.bC(H.eG,{x:h.x+(h.width/2),y:h.y+(h.height/2+(TL/3)),'font-size':TL,'stroke':"none",'fill':K.get_fillColor(),'font-family':K.get_fontName()});break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',K.get_type());}if(K.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&K.get_type()!==IPCC.Web.UI.MarkType.Freehand&&K.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&K.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&K.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&K.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(jq){dn+='fill:none;';}else{if(K.uy){dn+='fill:'+K.ck+';';}else{dn+='fill:none;';}gM=K.gM;var vn=this.wq(K.gr);if(vn!==''){dn+='stroke-dasharray:'+vn+';';}}if(gM){dn+='stroke:'+K.get_lineColor()+';';dn+='stroke-width:'+K.ja+';';}else{dn+='stroke:none;';}if(K.get_type()===IPCC.Web.UI.MarkType.SignatureText){dn+='opacity:'+1+';';}else{dn+='opacity:'+(K.cG/255)+';';}if(!K.un){dn+='display:none;';if(H.hy){H.hy.style.display='none';}}else{if(H.hy){H.hy.style.display='block';}}dn+='cursor:'+IPCC.bM.eU(this.ae.GG())+';';this.bC(bo,{style:dn});}},Do:function(H){var K=H.K;var h=K.get_rectangle();if(h.x===0&&h.y===0){return;}var gK=H.gK;while(gK.firstChild){gK.removeChild(gK.firstChild);}var nM;for(var G=0;G<K.cc.length;G++){for(var bF=0;bF<K.cc[G].length;bF++){var EN=this.J.cu().gz();if(EN.hv()>0){var Tf=EN.iF(K.cc[G].startIndex+bF);nM=Tf.aX;}var bs=this.aU('rect');this.bC(bs,{x:nM.x,y:nM.y,width:nM.width,height:nM.height,fill:K.cc[G].color});bs.style.opacity=(K.cc[G].opacity)?(K.cc[G].opacity)/255.0:0.5;gK.appendChild(bs);}}},wq:function(gr){switch(gr){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},zh:function(H){this.as.oO.removeChild(H.bo);if(H.hy){this.as.oO.removeChild(H.hy);}delete H.bo;},Vo:function(){},WO:function(){this.as=undefined;},aU:function(bO){return document.createElementNS('http://www.w3.org/2000/svg',bO);},bC:function(bo,ab){var G;for(G in ab){if(ab.hasOwnProperty(G)){bo.setAttribute(G,ab[G].toString());}}}};IPCC.bZ.uR={yW:function(){var tJ=IPCC.bZ.uR;if(tJ.rI===null){
/*@cc_on@if(@_jscript)tJ.rI=document.documentMode>8;@else@*/ tJ.rI=true;/*@end@*/}return tJ.rI;},rI:null};if(IPCC.uR.yW()){IPCC.bZ.bG=IPCC.bZ.acJ;}else{IPCC.bZ.bG=IPCC.bZ.Ia;}IPCC.bZ.bG.vz=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};IPCC.bZ.bG.acu=function(){return 31/255;};IPCC.bZ.bG.wC=function(isSelected){return isSelected?"purple":"blue";};IPCC.bZ.bG.prototype.WM=function(fI,iR,sp,pm,pu){var cd={fI:fI,iR:iR,sp:sp,pm:pm,pu:pu};if(fI.x===iR.x&&fI.y===iR.y){cd.pu=IPCC.Web.UI.LineHeadType.None;}var Is=Math.atan2(fI.x-iR.x,-(fI.y-iR.y))+Math.PI/2;sp*=Math.PI/180;var gv=Is+sp;cd.sq={x:fI.x+Math.cos(gv)*pm,y:fI.y+Math.sin(gv)*pm};gv=Is-sp;cd.qy={x:fI.x+Math.cos(gv)*pm,y:fI.y+Math.sin(gv)*pm};switch(cd.pu){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cd.wi={x:(cd.sq.x+cd.qy.x)/2,y:(cd.sq.y+cd.qy.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cd.wi={x:fI.x+Math.cos(Is)*pm/2,y:fI.y+Math.sin(Is)*pm/2};break;default:cd.wi=fI;break;}return cd;};IPCC.bZ.bG.prototype.XK=function(H){var K=H.K;var h=K.get_rectangle();var Hz={x:K.mB.x+h.x+0.00001,y:K.mB.y+h.y+0.00001};var aq={};var gk=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}];if(!K.Av){aq.Ps=gk;aq.LO= !K.gM;return aq;}var G,ZN=[];for(G=0;G<4;G++){ZN.push({x:(gk[G].x+gk[(G+3)%4].x)/2,y:(gk[G].y+gk[(G+3)%4].y)/2,aqL:true});}for(G=3;G>=0;G--){gk.splice(G,0,ZN[G]);}function aeo(Il){var nn,Fz;nn=(Hz.x-(gk[Il].x+gk[(Il+1)%8].x)/2)*h.height;Fz=nn*nn;nn=(Hz.y-(gk[Il].y+gk[(Il+1)%8].y)/2)*h.width;return Fz+nn*nn;};var VZ=0,adD=aeo(0),gn;for(G=1;G<8;G++){gn=aeo(G);if(gn<adD){adD=gn;VZ=G;}}gk=gk.slice(VZ+1).concat(gk.slice(0,VZ+1));var zU=gk[0],zZ=gk[7];for(G=gk.length-1;G>=0;G--){if(gk[G].aqL){gk.splice(G,1);}}switch(K.Iy){case IPCC.Web.UI.CalloutType.Triangle:gk.splice(0,0,{x:(zU.x*3+zZ.x)/4,y:(zU.y*3+zZ.y)/4});gk.push({x:(zU.x+zZ.x*3)/4,y:(zU.y+zZ.y*3)/4});if(K.xL){aq.LO=true;aq.HL=[].concat(gk);aq.BH=[gk[0],Hz,gk[gk.length-1]];}gk.push(Hz);break;default:case IPCC.Web.UI.CalloutType.Line:aq.BH=[{x:(zU.x+zZ.x)/2,y:(zU.y+zZ.y)/2},Hz];break;}aq.Ps=gk;if(!K.gM){aq.LO=true;delete aq.HL;delete aq.BH;}return aq;};IPCC.bZ.bG.prototype.Ft=function(K){var ax=K.get_points();var fo=[],G;for(G=0;G<ax.get_length();G++){fo.push(ax.getPoint(G));}return fo;};IPCC.bZ.bG.prototype.Kw=function(fo,ajt){var bH=0,Jd=1,afi=fo.length-2,fI,iR;if(!ajt){bH=fo.length-1;Jd= -1;}fI=fo[bH];bH+=Jd;iR=fo[bH];bH+=Jd;while(fI.x===iR.x&&fI.y===iR.y&&afi>0){iR=fo[bH];bH+=Jd;afi--;}return{fI:fI,iR:iR};};IPCC.bZ.bG.prototype.abN=function(J,as,aJ,jS,zf){if(!as.jI){as.jI=[];}var jI=as.jI;if(aJ.length<1&&jI.length<1){if(as.vY.firstChild){as.vY.innerHTML='';}return;}var aO=J.dO();var fl=aO.zn();var av=J.eQ();this.io=J.bu().Kx()*av.gZ;if(this.io>24){this.io=40;if(J.kX()){this.DS=J.kX()+'/ArtMarkHandles40.png';}else{this.DS='<%=WebResource("IPCC.Web.UI.ArtMarkHandles40.png")%>';}}else{this.io=12;if(J.kX()){this.DS=J.kX()+'/ArtMarkHandles.png';}else{this.DS='<%=WebResource("IPCC.Web.UI.ArtMarkHandles.png")%>';}}var G,EU=[];for(G=0;G<aJ.length;G++){if(fl.DG(aJ[G])>=0){EU.push(aJ[G]);}}for(G=0;G<jI.length;G++){while(G<jI.length&&(G>=EU.length||jI[G].K!==EU[G])){as.vY.removeChild(jI[G].fU);jI.splice(G,1);}if(G<jI.length){this.abE(jI[G],jS);}}for(G=jI.length;G<EU.length;G++){jI[G]={K:EU[G]};this.auX(as.vY,jI[G]);this.abE(jI[G],jS);}};IPCC.bZ.bG.prototype.yX=function(fU,avf,pI,sY,aiC,az){var cj=[],G,cs;for(G=0;G<avf;G++){cs={bo:document.createElement('div')};cs.bo.style.position='absolute';cs.bo.style.width=pI+'px';cs.bo.style.height=pI+'px';cs.bo.ImGearMarkHandle=cs;cs.az=az;cs.bO=sY;cs.bH=aiC+G;fU.appendChild(cs.bo);cs.bo.setAttribute('data-pcc-mark','handle-'+fU.ImGearMarkRelation.K.iK());cj.push(cs);}return cj;};IPCC.bZ.bG.prototype.aiw=function(bB){var G;for(G=0;G<bB.cj.length;G++){var cs=bB.cj[G];cs.bo.style.cursor=IPCC.bM.eU(cs.az);}};IPCC.bZ.bG.prototype.auX=function(vY,bB){bB.fU=document.createElement('div');bB.fU.style.width='0px';bB.fU.style.height='0px';bB.fU.style.left='0px';bB.fU.style.top='0px';bB.fU.style.zIndex='1';var G,K=bB.K,cs;bB.fU.ImGearMarkRelation=bB;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bB.cj=this.yX(bB.fU,2,this.io,this.QG,0,IPCC.bM.Move);bB.cj=bB.cj.concat(this.yX(bB.fU,2,this.io,this.Ey,0,IPCC.bM.Move));break;case IPCC.Web.UI.MarkType.Polygon:bB.cj=[];break;case IPCC.Web.UI.MarkType.Freehand:bB.cj=[];bB.fg=document.createElement('div');bB.fg.style.border='1px solid gray';bB.fg.style.position='absolute';bB.fU.appendChild(bB.fg);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bN!==undefined){bB.cj=[];bB.fg=document.createElement('div');bB.fg.style.border='2px solid red';bB.fg.style.position='absolute';bB.fU.appendChild(bB.fg);break;}bB.fg=document.createElement('div');bB.fg.style.border='1px solid gray';bB.fg.style.position='absolute';bB.fU.appendChild(bB.fg);bB.cj=this.yX(bB.fU,4,this.io,this.Nt,0,-1);bB.cj=bB.cj.concat(this.yX(bB.fU,4,this.io,this.My,0,-1));for(G=4;G<8;G++){cs=bB.cj[G];cs.auG=bB.cj[G-4];cs.aui=bB.cj[(G+1)%4];}if(K.get_type()===IPCC.Web.UI.MarkType.Text){bB.cj=bB.cj.concat(this.yX(bB.fU,1,this.io,this.Qx,0,IPCC.bM.Move));}break;}if(K.tg()===IPCC.Web.UI.MarkType.Text){var mb=document.createElement('div');mb.className='pccEditMarkButton';mb.setAttribute('data-pcc-mark','edit-'+K.iK());mb.onclick=function(bJ){bJ=bJ||{};bJ.stopPropagation?bJ.stopPropagation():bJ.cancelBubble=true;bJ.preventDefault?bJ.preventDefault():bJ.returnValue=false;var qb;var ix=bB.fU;while(ix&&(ix.parentNode||ix.ownerSVGElement)){if(ix.parentNode.id&&ix.parentNode.id.indexOf("__pViewId")!== -1){qb=ix.parentNode;}ix=ix.ownerSVGElement||ix.parentNode;}qb&&qb.bA.aqu(bJ,K);};bB.fU.appendChild(mb);var alf={bo:mb};bB.cj.push(alf);}vY.appendChild(bB.fU);};IPCC.bZ.bG.prototype.Nt=0;IPCC.bZ.bG.prototype.My=1;IPCC.bZ.bG.prototype.Ey=2;IPCC.bZ.bG.prototype.QG=3;IPCC.bZ.bG.prototype.Qx=4;IPCC.bZ.bG.prototype.Su=function(cs,air,jS,pI,mg){cs.au=jS.transform(air);cs.bo.style.left=(cs.au.x-pI/2)+'px';cs.bo.style.top=(cs.au.y-pI/2)+'px';cs.bo.style.display='block';cs.bo.style.background='transparent url(\''+this.DS+'\') no-repeat scroll -'+pI*mg+'px 0px';cs.bo.style.zIndex='1';};IPCC.bZ.bG.prototype.Xn=function(cs,pI,mg){cs.bo.style.left=(cs.au.x-pI/2)+'px';cs.bo.style.top=(cs.au.y-pI/2)+'px';cs.bo.style.display='block';cs.bo.style.background='transparent url(\''+this.DS+'\') no-repeat scroll -'+pI*mg+'px 0px';cs.bo.style.zIndex='1';};IPCC.bZ.bG.prototype.KQ=function(cs){cs.bo.style.display='none';};IPCC.bZ.bG.prototype.abE=function(bB,jS){bB.fU.style.cursor=IPCC.bM.eU(this.ae.GG());var G,K=bB.K,cj=bB.cj,cs;var fo,h,lx,jg,sY,dv;var gn,Bg,eh,eT,JS;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:fo=this.Ft(K);Bg=fo.length+2-cj.length;if(Bg>0){bB.cj=bB.cj.concat(this.yX(bB.fU,Bg,this.io,this.Ey,cj.length-2,IPCC.bM.Move));cj=bB.cj;}for(G=0;G<fo.length;G++){this.Su(cj[G+2],fo[G],jS,this.io,4);}for(G=fo.length+2;G<cj.length;G++){this.KQ(cj[G+2]);}break;case IPCC.Web.UI.MarkType.Polygon:fo=this.Ft(K);Bg=fo.length-cj.length;if(Bg>0){bB.cj=bB.cj.concat(this.yX(bB.fU,Bg,this.io,this.Ey,cj.length,IPCC.bM.Move));cj=bB.cj;}for(G=0;G<fo.length;G++){this.Su(cj[G],fo[G],jS,this.io,4);}for(G=fo.length;G<cj.length;G++){this.KQ(cj[G]);}break;case IPCC.Web.UI.MarkType.Freehand:h=K.dU();lx=jS.transform({x:h.x,y:h.y});jg=jS.transform({x:h.x+h.width,y:h.y+h.height});dv={x:Math.min(lx.x,jg.x),y:Math.min(lx.y,jg.y)};dv.width=Math.max(lx.x,jg.x)-dv.x;dv.height=Math.max(lx.y,jg.y)-dv.y;bB.fg.style.left=dv.x+'px';bB.fg.style.top=dv.y+'px';bB.fg.style.width=dv.width+'px';bB.fg.style.height=dv.height+'px';bB.fg.setAttribute('data-pcc-mark','outline-'+K.iK());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bN!==undefined){h=K.dU();lx=jS.transform({x:h.x,y:h.y});jg=jS.transform({x:h.x+h.width,y:h.y+h.height});dv={x:Math.min(lx.x,jg.x),y:Math.min(lx.y,jg.y)};dv.width=Math.max(lx.x,jg.x)-dv.x;dv.height=Math.max(lx.y,jg.y)-dv.y;bB.fg.style.left=dv.x+'px';bB.fg.style.top=dv.y+'px';bB.fg.style.width=dv.width+'px';bB.fg.style.height=dv.height+'px';bB.fg.setAttribute('data-pcc-mark','outline-'+K.iK());break;}h=K.dU();cj[0].au=jS.transform({x:h.x,y:h.y});cj[1].au=jS.transform({x:h.x+h.width,y:h.y});cj[2].au=jS.transform({x:h.x+h.width,y:h.y+h.height});cj[3].au=jS.transform({x:h.x,y:h.y+h.height});dv={x:Math.min(cj[0].au.x,cj[2].au.x),y:Math.min(cj[0].au.y,cj[2].au.y)};dv.width=Math.max(cj[0].au.x,cj[2].au.x)-dv.x;dv.height=Math.max(cj[0].au.y,cj[2].au.y)-dv.y;JS={x:dv.x+dv.width/2,y:dv.y+dv.height/2};for(G=0;G<4;G++){cs=cj[G];sY=(cs.au.x<JS.x)?((cs.au.y<JS.y)?0:2):((cs.au.y<JS.y)?1:3);this.Xn(cs,this.io,sY);switch(sY){case 0:cs.az=IPCC.bM.ResizeNW;break;case 1:cs.az=IPCC.bM.ResizeNE;break;case 2:cs.az=IPCC.bM.ResizeSW;break;case 3:cs.az=IPCC.bM.ResizeSE;break;}}bB.fg.style.left=dv.x+'px';bB.fg.style.top=dv.y+'px';bB.fg.style.width=dv.width+'px';bB.fg.style.height=dv.height+'px';bB.fg.setAttribute('data-pcc-mark','outline-'+K.iK());var atM=dv.x+dv.width/4;var ano=dv.x+dv.width*3/4;var asv=dv.y+dv.height/4;var amz=dv.y+dv.height*3/4;for(G=4;G<8;G++){cs=cj[G];lx=cs.auG.au;jg=cs.aui.au;eh=lx.x-jg.x;eT=lx.y-jg.y;gn=eh*eh+eT*eT;if(gn<this.io*this.io*5){this.KQ(cs);}else{cs.au={x:(lx.x+jg.x)/2,y:(lx.y+jg.y)/2};this.Xn(cs,this.io,5);if(cs.au.x<atM){cs.az=IPCC.bM.ResizeW;}else if(cs.au.x>ano){cs.az=IPCC.bM.ResizeE;}else if(cs.au.y<asv){cs.az=IPCC.bM.ResizeN;}else if(cs.au.y>amz){cs.az=IPCC.bM.ResizeS;}}}if(K.get_type()===IPCC.Web.UI.MarkType.Text){if(K.Av){this.Su(cj[8],{x:h.x+K.mB.x,y:h.y+K.mB.y},jS,this.io,6);}else{this.KQ(cj[8]);}}break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:return;}if(K.get_type()===IPCC.Web.UI.MarkType.Text){var vX=cj[cj.length-1];if(vX.bo.className.match(/pcc/)){var PK=bB.fg.clientHeight;var PB=bB.fg.clientWidth;var afJ=bB.fg.offsetTop;var afb=bB.fg.offsetLeft;var adb=vX.bo.clientHeight;var Pi=vX.bo.clientWidth;vX.bo.style.position='absolute';if(PK>adb+10&&PB>Pi+10){vX.bo.style.top=(PK-adb)/2+afJ+'px';vX.bo.style.left=(PB-Pi)/2+afb+'px';}else{vX.bo.style.top=PK+afJ+10+'px';vX.bo.style.left=(PB-Pi)/2+afb+'px';}}}this.aiw(bB);};IPCC.bZ.bG.prototype.WH=function(gR,uQ){var aoT=IPCC.bh.XP(gR,uQ||'#ffffff'),aoq=IPCC.bh.map(aoT,function(bL){return{aH:bL.startIndex,ct:bL.endIndex,Ab:bL.color};});return aoq;};IPCC.bZ.bG.prototype.abg=function(H){var K=H.K;if(K.cc){var kF=this.WH(K.cc);var Bk=K.bm;var Fw='';for(var G=kF.length-1;G>=0;G--){var TA=kF[G];var aH=TA.aH;var ct=TA.ct;var di=TA.Ab;var cz=IPCC.bh.DO(Bk.substr(aH,ct-aH+1));var agK=IPCC.bh.DO(Bk.substr(ct+1,Bk.length-ct+1));Bk=Bk.substr(0,aH);Fw="<span style='background-color:"+di+";'>"+cz+'</span>'+agK+Fw;}Fw=IPCC.bh.DO(Bk)+Fw;H.ce.innerHTML=Fw;}else{H.qF.data=K.bm;}};IPCC.Web.UI.ImGearTextCharacter=function(bq,et,aQ,dg,rd,amk){this.aX=new IPCC.Web.UI.Rectangle(bq,et,aQ,dg);this.iA=rd;this.GD=amk;this.akO=function(){return rd;};this.Lf=function(){var agM=new IPCC.Web.UI.Rectangle(this.aX.x,this.aX.y,this.aX.width,this.aX.height);return agM;};this.avl=function(){return this.GD;};};IPCC.Web.UI.ImGearTextCharacterCollection=function(){var kx=[];this.Zh=function(kt){kx.push(new IPCC.Web.UI.ImGearTextCharacter(kt.aX.x,kt.aX.y,kt.aX.width,kt.aX.height,kt.iA,kt.GD));};this.axb=function(ain){function lN(kt){kx.push(kt);};ain.forEach(lN,{});};this.avr=function(bH,abD){var bF;var bp=kx.length;if(bH>kx.length||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH,'index of theText Character Collection is out of range');}for(bF=0;bF<bp;bF++){if(kx[bF]===abD){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bm Character instance in a kt collection).');}}kx.splice(bH,0,abD);};this.ari=function(YG,ZL){IPCC.bh.forEach(kx,function(iA){iA.aX.width=iA.aX.width*YG;iA.aX.height=iA.aX.height*ZL;iA.aX.x=iA.aX.x*YG;iA.aX.y=iA.aX.y*ZL;});};this.qO=function(mG,cD){var TX=[].concat(kx);var G;for(G=0;G<TX.length;G++){mG.call(cD,new IPCC.Web.UI.ImGearTextCharacter(TX[G].x,TX[G].y),G,this);}};function jN(bH){if(bH>kx.length-1||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH);}};this.iF=function(bH){jN(bH);var sb=kx[bH];return new IPCC.Web.UI.ImGearTextCharacter(sb.aX.x,sb.aX.y,sb.aX.width,sb.aX.height,sb.iA,sb.GD);};this.ayM=function(bH,kt){jN(bH);var Cq=kx[bH];if(Cq.aX.x===kt.aX.x&&Cq.aX.y===kt.y&&Cq.aX.width===kt.aX.width&&Cq.aX.height===kt.aX.height&&Cq.iA===kt.iA&&Cq.GD===kt.GD){return;}kx[bH]=kt;};this.hv=function(){return kx.length;};this.awq=function(bH){jN(bH);kx.splice(bH,1);};this.awg=function(){if(kx.length<1){return;}kx=[];};return this;};IPCC.Web.UI.ImGearTextPage=function(){var aiQ=new IPCC.Web.UI.ImGearTextCharacterCollection();var Um=false;var acs=false;var QU="";var si=new IPCC.Web.UI.ImGearTextSectionCollection();this.gz=function(){return aiQ;};this.oE=function(){return Um;};this.Jm=function(V){acs=true;if(V===Um){return;}if((V===true)||(V===false)){Um=V;}};this.zV=function(){return acs;};this.Cx=function(){return QU;};this.aqO=function(V){if(V===QU){return;}QU=V;};this.Sx=function(){return si;};};IPCC.Web.UI.ImGearTextSection=function(){var h=null;var aH=0;var ct=0;this.dU=function(){return h;};this.Rx=function(V){h=V;};this.Yx=function(){return aH;};this.atQ=function(V){aH=V;};this.afq=function(){return ct;};this.atx=function(V){ct=V;};};IPCC.Web.UI.ImGearTextSectionCollection=function(){var si=[];this.ZW=function(gs){si.push(gs);};function jN(bH){if(bH>si.length-1||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH);}};this.age=function(bH){jN(bH);return si[bH];};this.hv=function(){return si.length;};return this;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.ImGearThumbnailLayout=function(){};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum('IPCC.Web.UI.ImGearThumbnailLayout',false);IPCC.Web.UI.ImGearThumbnailSelectionMode=function(){};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailSelectionMode.prototype={Single:1,Multiple:2};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum('IPCC.Web.UI.ImGearThumbnailSelectionMode',false);IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');IPCC.Web.UI.ImGearPage=function(ay){this.ai=undefined;var bb=0;var bg=0,afy=0,aeI=0;var bd=0,aec=0,aft=0;var BC='';var qE=false;var O=this;var be=new IPCC.Web.UI.fY();this.dS=undefined;this.awG=undefined;this.gq={sh:0,ahe:false,rO:1000,Sd:false};var gb=new IPCC.Web.UI.ImGearTextPage();var kQ=0;var lk=false;var Hi=false,Kk=0,Jj=0;function Yc(o){return!isNaN(o-0);};if(ay.pageNumber!==undefined){if(Yc(ay.pageNumber)){bb=ay.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}if(ay.caption!==undefined){IPCC.aE.bO(ay.caption,'caption','string');BC=ay.caption;}var Dy;if(ay.Dy!==undefined){if(ay.textData.text&&ay.textData.rectangles){Dy=ay.textData;}}if(ay.selected!==undefined){qE=ay.selected;}this.kV=function(){return bb;};this.ayu=function(V){if(Yc(ay.pageNumber)){bb=V;}};this.qm=function(){return bg;};function Xq(){var ahF=gb.gz();var oQ=bg/Kk,qM=bd/Jj;ahF.ari(oQ,qM);};this.Kv=function(V){bg=V;if(Hi&&bg&&bg!==Kk&&bd&&bd!==Jj){Xq();Hi=false;}};this.qI=function(){return bd;};this.Jw=function(V){bd=V;if(Hi&&bg&&bg!==Kk&&bd&&bd!==Jj){Xq();Hi=false;}};this.awd=function(){return afy;};this.auh=function(V){afy=V;};this.avX=function(){return aec;};this.auo=function(V){aec=V;};this.awM=function(){return aeI;};this.ayx=function(V){aeI=V;};this.avW=function(){return aft;};this.ayZ=function(V){aft=V;};this.Ks=function(){return qE;};this.IR=function(V){if(qE!==V){qE=V;this.ac('selected');}};this.Uo=function(){return BC;};this.Rk=function(V){IPCC.aE.iV(V,'caption');BC=V;this.ac('caption');};this.ahO=function(){return this.ai;};this.cu=function(){return gb;};this.iQ=function(){return kQ;};this.sJ=function(V){if(kQ===V){return;}if(isNaN(V)){return;}kQ=V;this.ac('serviceResponseTimeout');};this.fG=function(){return lk;};this.gW=function(V){lk=V;};this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.uK=function(R){be.addHandler('textPageReady',R);};this.wu=function(R){be.removeHandler('textPageReady',R);};this.yV=function(R){be.bj('textExtractionFailed',R);};this.zE=function(R){be.bV('textExtractionFailed',R);};this.aao=function(gE){if(gb.gz().hv()>0){return;}else if(gE.errorCode==="1"||gE.errorCode===1){var Kg=new IPCC.Web.UI.ImGearException(gE.errorDescription,{name:'Text Extraction'});var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=Kg;aR.pageNumber=O.get_pageNumber();O.by('textExtractionFailed',aR);return;}var ZU=gb.gz();var wR=false;var Ow;function DO(Rv){return Rv.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};var qM=1;var oQ=1;if(document.documentMode<9){if(gE.height&&gE.height>0&&bd>0){if(gE.height!==bd){qM=bd/gE.height;}}if(gE.width&&gE.width>0&&bg>0){if(gE.width!==bg){oQ=bg/gE.width;}}}var gs;var aeR= -1;var qn;var eu,rd;for(var G=0;G<gE.rectangles.length;G++){eu=gE.rectangles[G];rd=DO(gE.text[G]);wR=false;if(eu[2]===0){rd="\n";wR=true;if(G>0){Ow=gE.rectangles[G-1];eu[2]=Ow[2];}}if(document.documentMode<9){if(oQ===1&&qM===1){qn=new IPCC.Web.UI.ImGearTextCharacter(eu[0]*oQ,eu[1]*qM,eu[2]*oQ,eu[3]*qM,rd,wR);Hi=true;Kk=gE.width;Jj=gE.height;}else{qn=new IPCC.Web.UI.ImGearTextCharacter(eu[0]*oQ,eu[1]*qM,eu[2]*oQ,eu[3]*qM,rd,wR);}}else{qn=new IPCC.Web.UI.ImGearTextCharacter(eu[0],eu[1],eu[2],eu[3],rd,wR);}if(qn){ZU.Zh(qn);}if(gs===undefined||aeR!==eu[1]||eu[0]<gs.dU().x){if(gs){gb.Sx().ZW(gs);}gs=new IPCC.Web.UI.ImGearTextSection();gs.Rx(new IPCC.Web.UI.Rectangle(eu[0],eu[1],eu[2],eu[3]));gs.atQ(G);}else{if(eu[0]+eu[2]-gs.dU().x>gs.dU().width){gs.dU().width=eu[0]+eu[2]-gs.dU().x;}}gs.atx(G);aeR=eu[1];}if(gs){gb.Sx().ZW(gs);}if(gb.gz().hv()>0){Ow=gE.rectangles[G-1];eu[0]=eu[0]+eu[2];rd="\n";wR=true;qn=undefined;if(document.documentMode<9){if(oQ&&qM){qn=new IPCC.Web.UI.ImGearTextCharacter(eu[0]*oQ,eu[1]*qM,eu[2]*oQ,eu[3]*qM,rd,wR);}}else{qn=new IPCC.Web.UI.ImGearTextCharacter(eu[0],eu[1],eu[2],eu[3],rd,wR);}if(qn){ZU.Zh(qn);}}gb.aqO(gE.text);if(gE.text.length>0){gb.Jm(true);O.by('textPageReady',{pageNumber:O.kV(),containsText:true});}else{gb.Jm(false);O.by('textPageReady',{pageNumber:O.kV(),containsText:false});}};this.agO=function(){O.HH();};this.HH=function(){if(!O.ai){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(gb.zV()){return;}var KJ=true;if(O.iQ()===0){KJ=false;}var fF,hB,lb=false;if(window.XMLHttpRequest){fF=new XMLHttpRequest();}function Ln(bm){if(bm.pages){var ar;if(bm.pages.length>0){if(bm.pages[0].number!==O.kV()){for(var G=0;G<bm.pages.length;G++){if(bm.pages[G].number===O.kV()){ar=G;break;}}if(!ar){O.gq.Sd=false;return;}}else{ar=0;}var gE=bm.pages[ar];O.gq.Sd=true;if(bm.pages[ar].text&&bm.pages[ar].text.length>0){gb.Jm(true);}else{gb.Jm(false);}O.gq.rO=1000;setTimeout(function(){O.aao(gE);},10);return;}}var nI=O.gq.rO;if(!O.gq.Sd){if(O.gq.sh<6){if(O.gq.sh<2){nI=nI+1000;}else{nI=nI+3000;}O.gq.sh++;O.gq.rO=nI;setTimeout(O.agO,nI);}else{O.gq.ahe=true;}}};function Te(){var fO=O.ai.fO;try{var dp;var aq;if(fF.readyState===0||fF.readyState===4){dp=fF.status;if(fF.status===200){if(KJ===true){if(hB){clearTimeout(hB);}}aq=null;var ha;var lT=fF.getResponseHeader("Accusoft-Data-Encrypted");if(lT==='true'){var qK=IPCC.Web.gf.mY.qu(fF.getResponseHeader("Accusoft-Data-SK"));var bz=IPCC.Web.AV(qK,fO);var dB=IPCC.Web.AW(fF);var qa=IPCC.Web.xe(dB,bz,fO);ha=IPCC.Web.gf.BV.kE(qa);}else{ha=fF.responseText;}if(typeof JSON!=='undefined'){aq=JSON.parse(ha);}else{aq=IPCC.dh.oA(ha);}Ln(aq);}else if((dp<200)||(dp>=300)){if(KJ===true){if(hB){clearTimeout(hB);}}if(lb){throw new IPCC.Web.UI.ImGearHttpException(dp,"Text extraction timeout");}else{if(fF.statusText){throw new IPCC.Web.UI.ImGearHttpException(dp,"Unable to obtain text, Error from the service = "+fF.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(dp,"Unable to obtain text from the service");}}}}}catch(e){var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;aR.pageNumber=O.get_pageNumber();O.by('textExtractionFailed',aR);return;}};var aH=O.get_pageNumber();var iO=O.ai.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(iO))){iO='e'+O.ai.get_encodedDocumentIdentifier();}else{iO='u'+encodeURIComponent(iO);}var gQ=O.ai.mR;var ni=O.ai.ni;if(O.fG()){fF.open('GET',gQ+'/Document/q/'+aH.toString()+'-'+aH.toString()+'/Text?DocumentID='+iO+'&iv='+ni,true);}else{fF.open('GET',gQ+'/Document/q/'+aH.toString()+'-'+aH.toString()+'/Text?DocumentID='+iO,true);}fF.responseType='text';fF.setRequestHeader("accept","application/json");fF.onreadystatechange=Te;if(KJ===true){hB=setTimeout(function(){lb=true;fF.abort();},O.iQ());}fF.send();};this.cu=function(){return gb;};this.auD=function(V){if(typeof V.oE!=='function'){return;}gb=V;};this.Ra=function(yN,xU){var O=this;if(O.qm()>0||O.qI()>0){yN(O.qm(),O.qI());}else{var qh=IPCC.eA.ql(O.ai.get_documentIdentifier());if(!qh||qh===""){xU("Invalid encoded Identifier");}var aL=new XMLHttpRequest();var aq;var kq=function(){if(aL.readyState===4){var vm=aL.status;if(vm===200){if(typeof JSON!=='undefined'){aq=JSON.parse(aL.responseText);}else{aq=IPCC.dh.oA(aL.responseText);}if(aq.imageWidth&&aq.imageHeight){yN(aq.imageWidth,aq.imageHeight);}else{xU("Unable to obtain document information from the server");}}else if((vm<200)||(vm>=300)){xU("Unable to obtain document information from the server");}}};var qV='';if(!IPCC.uR.yW()){qV='&ContentType=png';}var dA;if(!(/^[\x00-\x7F]*$/.test(qh))){dA=O.ai.mR+'/Page/q/'+(O.get_pageNumber())+'/Attributes?DocumentID=e'+qh+qV;}else{dA=O.ai.mR+'/Page/q/'+(O.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(O.ai.get_documentIdentifier())+qV;}aL.open('GET',dA,true);aL.setRequestHeader('Content-Type','application/json');aL.onreadystatechange=kq;aL.send();}};this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){try{R(O,C);}catch(e){IPCC.ed.MZ('event raise, ImGearPage, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){var T=this.kV();return T;},get_pageWidth:function(){var T=this.qm();return T;},get_pageHeight:function(){var T=this.qI();return T;},get_textPage:function(){var T=this.cu();return T;},get_selected:function(){var T=this.Ks();return T;},set_selected:function(value){this.IR(value);},get_caption:function(){var T=this.Uo();return T;},set_caption:function(value){this.Rk(value);},get_encryption:function(){var T=this.fG();return T;},set_encryption:function(value){this.gW(value);},get_document:function(){var T=this.ahO();return T;},add_propertyChanged:function(handler){this.jx(handler);},remove_propertyChanged:function(handler){this.jK(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Ra(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass('IPCC.Web.UI.ImGearPage');IPCC.Web.UI.ImGearPageEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass('IPCC.Web.UI.ImGearPageEventArgs');IPCC.Web.UI.ImGearPageCollection=function(){var O=this;var bW=[];var be=new IPCC.Web.UI.fY();this.ack=false;this.acV=true;this.ai=undefined;this.Wi=function(aI){this.WG(bW.length,aI);};function jN(bH){if(bH>bW.length-1||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH,'page index is out of range in the page collection');}};this.WG=function(bH,aI){var bF;var bp=bW.length;if(bH>bW.length||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH,'index of the page Collection is out of range');}if(O.acV&&O.ack){if(bp>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bF=0;bF<bp;bF++){if(bW[bF]===aI){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(O.ai){if(!aI.ai){aI.ai=O.ai;}}aI.add_propertyChanged(xR);bW.splice(bH,0,aI);var C=new IPCC.Web.UI.ImGearPageEventArgs();C.imGearPage=aI;C.length=1;O.by('pageAdded',C);};this.nr=function(bH){jN(bH);var gU=bW[bH];return gU;};this.atA=function(bH,aI){jN(bH);var Vi=bW[bH];if(Vi===aI){return;}bW[bH]=aI;var C=new IPCC.Web.UI.ImGearPageEventArgs();C.imGearPage=aI;C.length=1;this.by('pageAdded',C);Vi.remove_propertyChanged(xR);var yr=new IPCC.Web.UI.ImGearPageEventArgs();yr.imGearPage=Vi;yr.length=1;this.by('pageRemoved',yr);};this.hv=function(){return bW.length;};this.qO=function(mG,cD){var aaa=[].concat(bW);var G;for(G=0;G<aaa.length;G++){mG.call(cD,aaa[G],G,this);}};this.ZS=function(bH){jN(bH);var C=new IPCC.Web.UI.ImGearPageEventArgs();C.imGearPage=bW[bH];bW[bH].remove_propertyChanged(xR);C.length=1;bW.splice(bH,1);O.by('pageRemoved',C);};this.asA=function(aI){var dP=bW.length;for(var G=0;G<dP;G++){if(aI===bW[G]){return G;}}return-1;};this.aro=function(){var G=0;while(bW.length>0){this.ZS(G);}};function xR(ad,C){var yr=new IPCC.Web.UI.ImGearPageEventArgs();yr.imGearPage=ad;yr.length=1;O.by('pageChanged',yr);};this.Ir=function(R){be.addHandler('pageAdded',R);};this.Ek=function(R){be.removeHandler('pageAdded',R);};this.Ho=function(R){be.addHandler('pageChanged',R);};this.Es=function(R){be.removeHandler('pageChanged',R);};this.HE=function(R){be.addHandler('pageRemoved',R);};this.GJ=function(R){be.removeHandler('pageRemoved',R);};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){try{R(O,C);}catch(e){IPCC.ed.MZ('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(page){this.Wi(page);},insertPage:function(index,page){this.WG(index,page);},forEach:function(method,context){this.qO(method,context);},getPage:function(index){return this.nr(index);},setPage:function(index,page){this.atA(index,page);},get_length:function(){return this.hv();},removePage:function(index){this.ZS(index);},removeAllPages:function(){this.aro();},add_pageAdded:function(handler){this.Ir(handler);},remove_pageAdded:function(handler){this.Ek(handler);},add_pageChanged:function(handler){this.Ho(handler);},remove_pageChanged:function(handler){this.Es(handler);},add_pageRemoved:function(handler){this.HE(handler);},remove_pageRemoved:function(handler){this.GJ(handler);}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass('IPCC.Web.UI.ImGearPageCollection');IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');IPCC.Web.UI.ImGearDocument=function(ay){var jm='';var gw='';var O=this;this.bW=new IPCC.Web.UI.ImGearPageCollection();this.nx=undefined;this.bW.ai=this;var LX=false;this.mR=undefined;var cQ=0;var Ly=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var BC;var be=new IPCC.Web.UI.fY();this.fO=IPCC.Web.mt.UO(4,IPCC.Web.JF());this.ni=IPCC.Web.gf.Cn.kE(this.fO);var By=[];var jP=0;var kz=[];var Cj=[];var gq={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Qe=false;this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){try{R(O,C);}catch(e){IPCC.ed.MZ('raise event error in ImGearDocument, error: '+e.message);IPCC.ed.hc(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Gh(ad,C){if(C.length>0){O.by('pageAdded',C);}};function CY(ad,C){if(C.length>0){O.by('pageRemoved',C);}};function xR(ad,C){O.by('pageChanged',C);};this.bW.add_pageAdded(Gh);this.bW.add_pageRemoved(CY);this.bW.add_pageChanged(xR);function aln(){function akB(eo,hd){var aY=eo+'() threw an exception ';if(hd.name){aY+='( '+hd.name+" ";}else{aY+=".";}if(hd.message){aY+="  exception message = "+hd.message;}if(hd.statusCode){aY+="  exception statusCode = "+hd.statusCode;}aY=aY.replace(/\n/g," ");IPCC.ed.hc(aY,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.F=akB;this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){R(O,C);}};};if(arguments.length===0){var aY="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',aY);}if(arguments.length>0){if(ay.documentIdentifier!==undefined){jm=ay.documentIdentifier;gw=IPCC.eA.ql(jm);}if(ay.encodedDocumentIdentifier!==undefined){var nn=ay.encodedDocumentIdentifier;if(ay.documentIdentifier!==undefined){gw=IPCC.eA.ql(jm);if(nn!==gw){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{jm=IPCC.eA.FS(ay.encodedDocumentIdentifier);}}if(ay.imageServicePath!==undefined){this.mR=ay.imageServicePath;if(!IPCC.Web.ss){IPCC.Web.MU(this.mR);}}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sV;if(ay.includeAllPages!==undefined){LX=ay.includeAllPages;if(LX===true){var alS=new aln();var OR=0;O.aD=new IPCC.eA(gw,0,0,0,0,0);var oG=function(){cQ=O.aD.cQ;Ly=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;OR<cQ;OR++){var aS=new IPCC.Web.UI.ImGearPage({pageNumber:OR,ai:O});aS.ai=O;O.bW.addPage(aS);}};Ly=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.aD.Dr(this.mR,alS,oG);}catch(e){Ly=IPCC.Web.UI.ImGearPageCountStatus.Failed;var aR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();aR.exception=e;O.by('pageOpenFailed',aR);throw e;}}}else if(ay.pages!==undefined){if(ay.pages.length>0){var G=0;for(G=0;G<ay.pages.length;G++){var ds=ay.pages[G];ds.document=this;this.bW.addPage(ds);}}}else if(ay.pageNumber!==undefined){if(ay.pageRangeCount!==undefined){var rH=ay.pageRangeCount;if(rH>0){var k;for(k=ay.pageNumber;k<=rH;k++){sV=new IPCC.Web.UI.ImGearPage(k);sV.ai=O;this.bW.addPage(sV);}}else if(rH===0){sV=new IPCC.Web.UI.ImgearPage({pageNumber:ay.pageNumber,ai:O});sV.ai=O;O.bW.addPage(sV);}}else{if(ay.selected){sV=new IPCC.Web.UI.ImGearPage({pageNumber:ay.pageNumber,ai:O,selected:true});}else{sV=new IPCC.Web.UI.ImGearPage({pageNumber:ay.pageNumber,ai:O});}sV.ai=O;O.bW.addPage(sV);}}}this.vc=function(){return jm;};this.yi=function(){return gw;};this.arl=function(){return this.bW;};this.arp=function(){return cQ;};this.aos=function(){return Ly;};this.agV=function(){return LX;};this.atn=function(V){LX=V;this.ac('includeAllPages');};var lk=false;this.fG=function(){return lk;};this.gW=function(V){lk=V;};this.Ir=function(R){be.addHandler('pageAdded',R);};this.Ek=function(R){be.removeHandler('pageAdded',R);};this.HE=function(R){be.addHandler('pageRemoved',R);};this.GJ=function(R){be.removeHandler('pageRemoved',R);};this.xi=function(R){be.addHandler('pageOpenFailed',R);};this.xM=function(R){be.removeHandler('pageOpenFailed',R);};this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.Ho=function(R){be.addHandler('pageChanged',R);};this.Es=function(R){be.removeHandler('pageChanged',R);};this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};this.Uo=function(){return BC;};this.Rk=function(V){BC=V;this.ac('caption');};this.apB=function(R){be.addHandler('textPagesReceived',R);};this.arj=function(R){be.removeHandler('textPagesReceived',R);};this.arf=function(){return Cj.length;};this.aqW=function(){return By.length;};this.atI=function(){return gq;};this.WY=function(){return Qe;};this.aub=function(V){Qe=V;};this.agf=function(hu){if(gq.stopRequests===true){var C={};C.error=0;C.textPagesReceived=QM(hu);if(C.textPagesReceived.length===0){if(jP>0&&jP<hu){for(var cb=jP;cb<hu;cb++){C.textPagesReceived.push(cb);}}}C.length=2;O.by('textPagesReceived',C);return;}var ji=true;var Gl=false;for(var G=0;G<jP;G++){if(Array.prototype.indexOf){if(By.indexOf(G)<0){ji=false;Gl=true;break;}}else{if(IPCC.Web.gh(By,G)<0){Gl=true;break;}}}if(Gl){O.EW(G,undefined,hu);}else if(jP<hu){for(var bF=0;bF<hu;bF++){if(Array.prototype.indexOf){if(kz.indexOf(bF)<0){ji=false;break;}}else{if(IPCC.Web.gh(kz,bF)<0){ji=false;break;}}}if(!ji){Gl=true;O.EW(bF,undefined,hu);}else{O.EW(jP,undefined,hu);}}else{Gl=false;}};function QM(hu){var NR=[],cb;if(kz.length>0){var ji=true;for(cb=0;cb<hu;cb++){ji=true;if(Array.prototype.indexOf){if(kz.indexOf(cb)<0){ji=false;}}else{if(IPCC.Web.gh(kz,cb)<0){ji=false;}}if(!ji){kz.push(cb);Cj.push(cb);NR.push(cb);}}}else{for(cb=0;cb<hu;cb++){kz.push(cb);Cj.push(cb);NR.push(cb);}}return NR;};this.EW=function(XY,afm,hu){Qe=true;var aH;if(!isNaN(XY)){aH=XY;}else{aH=0;}var AY;if(!isNaN(hu)){AY=hu;}var ct;if(!isNaN(afm)){ct=afm;}else if(!isNaN(AY)){ct=AY-1;}else{AY=hu;if(!isNaN(AY)){ct=AY-1;}}if(isNaN(ct)){ct=aH+1;}if(ct-aH>9){ct=aH+9;}var fF;if(window.XMLHttpRequest){fF=new XMLHttpRequest();}function Ln(bm){var Uu=jP;var OU=[];var ji=true;for(var aI=0;aI<bm.pages.length;aI++){if(Array.prototype.indexOf){if(By.indexOf(bm.pages[aI].number)<0){ji=false;}}else{if(IPCC.Web.gh(By,bm.pages[aI].number)<0){ji=false;}}if(!ji){By.push(bm.pages[aI].number);if(O.bW.nr(bm.pages[aI].number).cu().zV()===false){O.bW.nr(bm.pages[aI].number).aao(bm.pages[aI]);}jP++;OU.push(bm.pages[aI].number);kz.push(bm.pages[aI].number);if(!bm.pages[aI].text){Cj.push(bm.pages[aI].number);}}}var C={};if(bm.hasOwnProperty("errorCode")){C.error=0;O.pageExtractionFailed=true;C.textPagesReceived=OU;C.length=2;for(var xz=gq.startPage;xz<gq.lastPage+1;xz++){ji=true;if(Array.prototype.indexOf){if(kz.indexOf(xz)<0){ji=false;}}else{if(IPCC.Web.gh(kz,xz)<0){ji=false;}}if(!ji){kz.push(xz);Cj.push(xz);C.textPagesReceived.push(xz);}}O.by('textPagesReceived',C);gq.stopRequests=true;return;}if(jP>Uu){C.textPagesReceived=OU;C.length=2;C.error=0;}var nI=gq.lastTimeout;if(gq.startPage===aH&&gq.lastPage===ct&&jP===Uu){if(gq.requestCount<25){nI=nI+1000;gq.requestCount++;}else{C.error=0;C.textPagesReceived=[];C.length=2;ji=true;var cb;for(cb=gq.startPage;cb<gq.lastPage+1;cb++){ji=true;if(Array.prototype.indexOf){if(kz.indexOf(cb)<0){ji=false;}}else{if(IPCC.Web.gh(kz,cb)<0){ji=false;}}if(!ji){kz.push(cb);Cj.push(cb);C.textPagesReceived.push(cb);}}if(C.textPagesReceived.length===0){if(jP>0&&jP<hu){for(cb=jP;cb<hu;cb++){C.textPagesReceived.push(cb);}}}gq.stopRequests=true;O.by('textPagesReceived',C);return;}}else{nI=1000;gq.requestCount=0;}gq.lastTimeout=nI;gq.startPage=aH;gq.lastPage=ct;setTimeout(function(){O.agf(hu);},nI);if(jP>Uu){O.by('textPagesReceived',C);}};function Te(){var C={};try{var dp;var aq=null;var ha;if(fF.readyState===0||fF.readyState===4){dp=fF.status;if(fF.status===200){var lT=fF.getResponseHeader("Accusoft-Data-Encrypted");if(lT==='true'){var qK=IPCC.Web.gf.mY.qu(fF.getResponseHeader("Accusoft-Data-SK"));var bz=IPCC.Web.AV(qK,O.fO);var dB=IPCC.Web.AW(fF);var qa=IPCC.Web.xe(dB,bz,O.fO);ha=IPCC.Web.gf.BV.kE(qa);}else{ha=fF.responseText;}if(typeof JSON!=='undefined'){aq=JSON.parse(ha);}else{aq=IPCC.dh.oA(ha);}Ln(aq);}else if((dp<200)||(dp>=300)){if(fF.responseText){if(typeof JSON!=='undefined'){aq=JSON.parse(fF.responseText);}else{aq=IPCC.dh.oA(fF.responseText);}if(aq.hasOwnProperty("errorCode")){C.error=0;if(jP>0){if(aq.pages){if(aq.pages.length>0){Ln(aq);return;}}}else{C.error= -1;}if(kz.length===0){C.error= -1;}O.pageExtractionFailed=true;C.textPagesReceived=[];C.length=2;C.textPagesReceived=QM(hu);O.by('textPagesReceived',C);return;}else{throw new IPCC.Web.UI.ImGearHttpException(dp,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(dp,"Unable to obtain text");}}}}catch(e){C.error= -1;QM(hu);C.textPagesReceived=[];C.length=2;O.by('textPagesReceived',C);return;}};var iO=jm;var gQ=O.mR;if(!(/^[\x00-\x7F]*$/.test(iO))){iO='e'+gw;}else{iO='u'+iO;}if(O.fG()){fF.open('GET',gQ+'/Document/q/'+aH.toString()+'-'+ct.toString()+'/Text?DocumentID='+iO+'&iv='+O.ni,true);}else{fF.open('GET',gQ+'/Document/q/'+aH.toString()+'-'+ct.toString()+'/Text?DocumentID='+iO,true);}fF.responseType='text';fF.setRequestHeader("accept","application/json");fF.onreadystatechange=Te;fF.send();};return this;};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(jm){var gw;if(jm!==undefined){gw=IPCC.eA.ql(jm);}return gw;};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(gw){var YC;if(gw!==undefined){YC=IPCC.eA.FS(gw);}return YC;};IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){var T=this.vc();return T;},get_encodedDocumentIdentifier:function(){var T=this.yi();return T;},get_pages:function(){return this.arl();},get_pageCountStatus:function(){var r=this.aos();return r;},set_pageCountStatus:function(value){this.ayR(value);},get_pageCount:function(){var r=this.arp();return r;},get_includeAllPages:function(){try{var T=this.agV();return T;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.atn(value);}catch(e){throw e;}},get_caption:function(){var T=this.Uo();return T;},set_caption:function(value){this.Rk(value);},get_encryption:function(){var T=this.fG();return T;},set_encryption:function(value){this.gW(value);},add_pageChanged:function(handler){this.Ho(handler);},remove_pageChanged:function(handler){this.Es(handler);},add_pageRemoved:function(handler){this.HE(handler);},remove_pageRemoved:function(handler){this.GJ(handler);},add_pageAdded:function(handler){this.Ir(handler);},remove_pageAdded:function(handler){this.Ek(handler);},add_pageOpenFailed:function(handler){this.xi(handler);},remove_pageOpenFailed:function(handler){this.xM(handler);},get_textRequestInfo:function(){try{var T=this.atI();return T;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var T=this.aqW();return T;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var T=this.arf();return T;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.apB(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.arj(handler);}catch(e){this.F('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.jx(handler);},remove_propertyChanged:function(handler){this.jK(handler);}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass('IPCC.Web.UI.ImGearDocument');IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');IPCC.Web.UI.ImGearDocumentCollection=function(){var hW=[];var be=new IPCC.Web.UI.fY();var O=this;function auc(ad,C){if(C){var Kf=new IPCC.Web.UI.ImGearDocumentEventArgs();Kf.document=ad;Kf.propertyName=C.get_propertyName();Kf.length=2;O.by('documentChanged',Kf);}};this.DM=function(apz){this.XL(hW.length,apz);};this.XL=function(bH,ai){var bF;var bp=hW.length;if(bH>hW.length||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH,'document index is out of range');}for(bF=0;bF<bp;bF++){if(hW[bF]===ai){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var Zs=be.getHandler('pageAdded');if(Zs){ai.add_pageAdded(Zs);}var abh=be.getHandler('pageRemoved');if(abh){ai.add_pageRemoved(abh);}var YH=be.getHandler('pageChanged');if(YH){ai.add_pageChanged(YH);}ai.add_propertyChanged(auc);hW.splice(bH,0,ai);var C=new IPCC.Web.UI.ImGearDocumentEventArgs();C.imGearDocument=ai;C.index=bH;C.length=1;this.by('documentAdded',C);};function jN(bH){if(bH>hW.length-1||(bH<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bH,'document index is out of range');}};this.asX=function(bH){jN(bH);return hW[bH];};this.hv=function(){return hW.length;};this.avy=function(mG,cD){var abl=[].concat(hW);var G;for(G=0;G<abl.length;G++){mG.call(cD,abl[G],G,this);}};this.ZR=function(bH){jN(bH);var C=new IPCC.Web.UI.ImGearDocumentEventArgs();C.imGearDocument=hW[bH];C.length=1;hW[bH].get_pages().removeAllPages();hW.splice(bH,1);this.by('documentRemoved',C);};this.apM=function(){var G=0;while(hW.length>0){this.ZR(G);}};this.ajG=function(R){be.addHandler('documentAdded',R);};this.aox=function(R){be.removeHandler('documentAdded',R);};this.ajW=function(R){be.addHandler('documentRemoved',R);};this.aot=function(R){be.removeHandler('documentRemoved',R);};this.ajY=function(R){be.addHandler('documentChanged',R);};this.aoa=function(R){be.removeHandler('documentChanged',R);};this.Ir=function(R){be.addHandler('pageAdded',R);};this.Ek=function(R){be.removeHandler('pageAdded',R);for(var bF=0;bF<hW.length;bF++){hW[bF].remove_pageAdded(R);}};this.Ho=function(R){be.addHandler('pageChanged',R);};this.Es=function(R){be.removeHandler('pageChanged',R);for(var bF=0;bF<hW.length;bF++){hW[bF].remove_pageChanged(R);}};this.HE=function(R){be.addHandler('pageRemoved',R);};this.GJ=function(R){be.removeHandler('pageRemoved',R);for(var bF=0;bF<hW.length;bF++){hW[bF].remove_pageRemoved(R);}};this.by=function(aC,C){var R=be.getHandler(aC);if(R!==null){try{R(O,C);}catch(e){IPCC.ed.MZ('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(imGearDocument){this.DM(imGearDocument);},insertDocument:function(index,imGearDocument){this.XL(index,imGearDocument);},forEach:function(method,context){this.qO(method,context);},getDocument:function(index){return this.asX(index);},get_length:function(){return this.hv();},removeDocument:function(imGearDocument){this.ZR(imGearDocument);},removeAllDocuments:function(){this.apM();},add_documentAdded:function(handler){this.ajG(handler);},remove_documentAdded:function(handler){this.aox(handler);},add_documentRemoved:function(handler){this.ajW(handler);},remove_documentRemoved:function(handler){this.aot(handler);},add_documentChanged:function(handler){this.ajY(handler);},remove_documentChanged:function(handler){this.aoa(handler);},add_pageAdded:function(handler){this.Ir(handler);},remove_pageAdded:function(handler){this.Ek(handler);},add_pageRemoved:function(handler){this.HE(handler);},remove_pageRemoved:function(handler){this.GJ(handler);},add_pageChanged:function(handler){this.Ho(handler);},remove_pageChanged:function(handler){this.Es(handler);}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass('IPCC.Web.UI.ImGearDocumentCollection');IPCC.Web.UI.ii=function(ay){this.ba=undefined;var be=new IPCC.Web.UI.fY();this.dS=undefined;this.ks=undefined;this.vT=undefined;this.vG=undefined;this.fZ=undefined;this.fd=undefined;this.aO=undefined;this.yQ=false;this.Bx=0;this.anH=undefined;this.hn=false;this.hb=false;if(arguments.length>0){if(ay.page!==undefined){this.ba=ay.page;}}this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};return this;};IPCC.Web.UI.avA=function(){this.fV=new IPCC.Web.UI.ImGearPageCollection();this.avK=0;return this;};IPCC.Web.UI.Thumbnailcounter=1;IPCC.Web.UI.ImGearThumbnailList=function(element){var O=this;var lF='';var HJ=IPCC.Web.UI.ImGearArtDataServices.None;var tw='';var nR=null;var Nv=null;var alc;var bS=[];var mR='';var kr=true;var uI;var be=new IPCC.Web.UI.fY();var jU=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var RD=IPCC.Web.UI.ImGearThumbnailSelectionMode.Single;var iX='';var mN='';var qB=0;var qW=IPCC.Web.UI.ImGearThumbnailLayout.VerticalScrollDirection;var BB=140;var rF=124;var us='gray';var Mk=4;var wZ=4;var MW=2;var MQ='#000000';var ic=false;var wB="";var ahN=false;this.hM=new IPCC.Web.UI.ImGearDocumentCollection();var fV=new IPCC.Web.UI.ImGearPageCollection();var PW='#FFDA6A';fV.ack=true;var Ba=0;var wh=10;var Nm=0;var acr=false;var MN=0;var PO;function ge(rG){if(!_debug){return false;}return jU>=rG;};this.F=function(eo,hd){if(!ge(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aY=eo+'() threw an exception ('+hd.name+'), "'+hd.message+'"';aY=aY.replace(/\n/g," ");IPCC.ed.hc(aY,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.get_igelement().id);};this.aB=function(eo,ez,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=')';this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.tm=function(eo,ez,mT,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.ap=function(eo,ez,mT){if(!ge(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],0);}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kL=function(fS,bQ){IPCC.ed.hc(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bQ,'ImGearThumbnailList',this.fc().id);};this.hc=function(fS){IPCC.ed.hc(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.fc().id);};this.qA=function(){return _debug;};this.xE=function(V){var wU= ! !V;if(_debug===wU){return;}_debug=wU;this.ac('debug');};this.lL=function(){return jU;};this.rS=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.DebugErrorLevel);if(jU===V){return;}jU=V;this.ac('debugErrorLevel');};function bj(aC,R){be.addHandler(aC,R);};function bV(aC,R){be.removeHandler(aC,R);};this.jx=function(R){be.addHandler('propertyChanged',R);};this.jK=function(R){be.removeHandler('propertyChanged',R);};this.avD=function(R){bj('thumbnailSelectionChanged',R);};this.avL=function(R){bV('thumbnailSelectionChanged',R);};this.aio=function(R){bj('pageSelectionChanged',R);};this.apH=function(R){bV('pageSelectionChanged',R);};this.alk=function(R){bj('pageAddFailed',R);};this.ark=function(R){bV('pageAddFailed',R);};var ky;this.fc=function(){return ky;};this.lU=function(V){ky=V;};this.qZ=0;this.CG=0;this.by=function(aC,C){try{var R=be.getHandler(aC);if(R!==null){R(O,C);}}catch(e){O.F(aC+'Event',e);}};function nZ(){var pB,hq;if(lF!==''){pB=document.getElementById(lF);if(pB){var Dv=fV.get_length();var G=0;if(Dv>0){hq="{\"selectedPages\":[";for(G=0;G<Dv;G++){if(fV.getPage(G)){var aeP=fV.getPage(G).ai.get_encodedDocumentIdentifier();var agg=fV.getPage(G).get_pageNumber();if(aeP){if(agg>=0){if(G>0){hq+=",";}hq+='{\"encodedDocumentIdentifier\":"'+aeP;hq+='",\"pageNumber\":\"'+agg.toString()+"\"";hq+="}";}}}}hq+=']}';}pB.value=hq;}}};this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};this.avO=function(zy){if(IPCC.Web.UI.Thumbnailcounter===undefined||IPCC.Web.UI.Thumbnailcounter===null){IPCC.Web.UI.Thumbnailcounter=1;}var fu=zy+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;return fu;};this.avP=function(akL){var fu=akL+'_'+'_tViewId';return fu;};this.Qu=function(){if(qB===undefined||qB===null){qB=1;}var fu=(this.fc().id.toString())+'_'+qB.toString();qB++;return fu;};this.Vd=function(gC){if(IPCC.Web.jH.length>0){if(Array.prototype.indexOf){if(IPCC.Web.jH.indexOf(gC)>=0){return true;}}else{if(IPCC.Web.jH.awC(gC)>=0){return true;}}}};function AA(){for(var k=0;k<bS.length;k++){if(bS[k]){if(bS[k].fZ){bS[k].fZ=false;if(bS[k].ba){bS[k].ba.set_selected(false);for(var dj=0;dj<fV.get_length();dj++){if(fV.getPage(dj)===bS[k].ba){fV.removePage(dj);}}}if(kr===true){document.getElementById(bS[k].dS).style.backgroundColor=us;}else{document.getElementById(bS[k].dS).className='imGearTNItem';}}}}};function nV(Kd,aA,bf){if(bf){if(bf.ba){if(Kd===true){if(aA){aA.className='imGearTNSelected';}bf.ba.set_selected(true);bf.fZ=true;}else{if(aA){aA.className='imGearTNItem';}bf.ba.set_selected(false);bf.fZ=false;}}}};function pa(Kd,aA,bf){if(bf){if(bf.ba){if(Kd===true){if(aA){aA.style.backgroundColor=PW;}bf.ba.set_selected(true);bf.fZ=true;}else{if(aA){aA.style.backgroundColor=us;}bf.ba.set_selected(false);bf.fZ=false;}}}};function afc(Kd,aA,bf,mE){if(kr===true){if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(mE){document.getElementById(mE.dS).style.backgroundColor=us;}pa(true,aA,bf);fV.removeAllPages();}else if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){pa(false,aA,bf);}}else{if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(mE){document.getElementById(mE.dS).className='imGearTNItem';}nV(true,aA,bf);fV.removeAllPages();}else if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){nV(true,aA,bf);}}};var ft=0;var anP=1;var aoK=50;function UD(){IW();};function IW(){var G,ii,da,mk,xZ;var qe,qf,YK,YI;var jz,oc,lE,tC;var yC=[];var KB,MY,Md,NL;if(mN===''){return;}qe=mN.scrollTop;qf=mN.scrollLeft;YK=qe+mN.clientHeight;YI=qf+mN.clientWidth;for(G=0;G<bS.length;G++){ii=bS[G];if(ii&&ii.ks){da=document.getElementById(ii.dS);jz=da.offsetTop;oc=da.offsetLeft;lE=jz+da.offsetHeight;tC=oc+da.offsetWidth;KB=qe-lE;MY=qf-tC;Md=jz-YK;NL=oc-YI;if(KB>=0){yC.push({ii:ii,Ui:true,od:KB});}else if(Md<0&&MY>=0){yC.push({ii:ii,Ui:true,od:MY});}else if(Md>=0){yC.push({ii:ii,Ui:false,od:Md});}else if(KB<0&&NL>=0){yC.push({ii:ii,Ui:false,od:NL});}else{mk=document.getElementById(ii.ks);if(mk){xZ=mk.bA;xZ.vK(0);}}}}yC.sort(function(a,b){return a.od-b.od;});for(G=0;G<yC.length;G++){ii=yC[G].ii;mk=document.getElementById(ii.ks);if(mk){xZ=mk.bA;if(xZ){if(G<anP){xZ.vK(0);}else if(G<aoK){xZ.vK(1);}else{xZ.vK(2);}}}}};function zb(sender,eventArgs){if(eventArgs){if(eventArgs.domEvent.button!==0){return;}}else if(sender.button!==0){return;}var uu;var KO="";var aA,k;if(sender.id&&sender.id!==null){uu=sender.id.split('_');if(uu!==undefined){if(O.fc().id===uu[0]){KO=sender.id;aA=sender;}}}else{if(sender.target){if(sender.target.tagName==="DIV"){if(sender.target.firstChild!==null){if(sender.target.firstChild.tagName==="DIV"){aA=sender.target;}}}if(!aA){if(sender.target.parentNode){if(sender.target.parentNode.id!==undefined&&sender.target.parentNode.id!==""){uu=sender.target.parentNode.id.split('_');if(uu!==undefined){if(O.fc().id===uu[0]){KO=sender.target.parentNode.id;aA=sender.target.parentNode;}else{return;}}else{return;}}else{if(sender.target.parentNode.parentNode){if(sender.target.parentNode.parentNode.id!==undefined&&sender.target.parentNode.parentNode.id!==""){uu=sender.target.parentNode.parentNode.id.split('_');if(uu!==undefined){if(O.fc().id===uu[0]){KO=sender.target.parentNode.parentNode.id;aA=sender.target.parentNode.parentNode;}else{return;}}else{return;}}}}}}}else{var ZG=sender.fc();KO=ZG.parentNode.id;aA=ZG.parentNode;}}var mE;if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(k=0;k<bS.length;k++){if(bS[k].fZ===true){if(bS[k].ba){bS[k].ba.set_selected(false);}if(kr===true){document.getElementById(bS[k].dS).style.backgroundColor=us;}else{document.getElementById(bS[k].dS).className='imGearTNItem';}bS[k].fZ=false;mE=bS[k];break;}}}if(aA!==undefined){var tX;var jf;var ZZ=false;for(k=0;k<bS.length;k++){tX=undefined;if(bS[k].ba){tX=document.getElementById(bS[k].dS);if(tX===aA){ZZ=true;jf=bS[k];break;}}}if(ZZ===true){if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===false){AA();}}else if(sender.ctrlKey){if(sender.ctrlKey===false){AA();}}else{AA();}}if(kr===true){if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(mE){document.getElementById(mE.dS).style.backgroundColor=us;}pa(true,aA,jf);fV.removeAllPages();}else if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(jf.fZ===true){pa(false,aA,jf);}else{pa(true,aA,jf);}}else{pa(true,aA,jf);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(jf.fZ===true){pa(false,aA,jf);}else{pa(true,aA,jf);}}else{pa(true,aA,jf);}}else{pa(true,aA,jf);}}}else{if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(mE){document.getElementById(mE.dS).className='imGearTNItem';}nV(true,aA,jf);fV.removeAllPages();}else if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(jf.fZ===true){nV(false,aA,jf);}else{nV(true,aA,jf);}}else{nV(true,aA,jf);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(jf.fZ===true){nV(false,aA,jf);}else{nV(true,aA,jf);}}else{nV(true,aA,jf);}}else{nV(true,aA,jf);}}}nZ();AB(jf);}}};function akQ(avk,rn,atj){function R(sender,evnt){zb(sender,evnt);};IPCC.Web.UI.aW.addHandler(atj,"mouseDown",R);rn.add_mouseDown(R);};function abd(rn,ty){function apc(sender,evnt){akq(ty);O.scrollToSelectedThumbnail();IW();ty.ba.Kv(rn.get_pageWidth());ty.ba.Jw(rn.get_pageHeight());};rn.add_pageOpened(apc);};function Dz(rn,ty){function TF(sender,evnt){var dM=evnt.pageNumber;var zy=evnt.documentIdentifier;function aaA(dM){var cQ=O.hM.getDocument(0).cQ;if(!cQ){setTimeout(function(){aaA(dM);},2000);return;}Nm++;if(Nm===1){if(cQ<30){wh=Math.floor((cQ)/3)+1;}else{wh=10;}}function aag(){var bb=Ba;var adv=wh;Ba+=wh;if(Ba+wh>cQ){wh=cQ-Ba;}setTimeout(function(){O.hM.getDocument(0).EW(bb,bb+adv-1,bb+adv);},50);};if(Nm===Ba+wh){if(Ba===0){if(O.hM.getDocument(0).WY()===true){acr=true;}else{O.hM.getDocument(0).aub(true);aag();}}else{aag();}}};if(acr===false){aaA(dM);}ty.ba.Kv(rn.get_pageWidth());ty.ba.Jw(rn.get_pageHeight());for(var k=0;k<bS.length;k++){if(bS[k].ba.get_pageNumber()===dM&&bS[k].ba.ai.get_documentIdentifier()===zy){bS[k].hb=false;bS[k].hn=true;var cl;if(bS[k].fd===false){if(bS[k].ks){cl=document.getElementById(bS[k].ks).bA;}if(cl){cl.display();bS[k].fd=true;}}if(ft>0){ft=ft-1;}break;}}IW();if(ft===0){setTimeout(function(){lf();},60);}};rn.add_pageOpened(TF);if(ft===0&&bS.length>1){if(ft===0){setTimeout(function(){lf();},100);}}};function lf(){var nU;var cn=aug();if(cn>0){nU=cn;}else{nU=atF(0);}if(nU&&nU>0){if(nU<bS.length){asI(bS[nU]);}}};function atF(ajk){var Us;for(var dj=ajk;dj<bS.length;dj++){if(bS[dj].hb===false){if(bS[dj].hn===false){Us=dj;break;}}}if(Us){return Us;}else{return-1;}};function aug(){var XJ=document.getElementById(uI);var bf=bS[0];var bL=document.getElementById(bf.dS);var Fj;if(bS.length>1){var akI=bS[1];var auI=document.getElementById(akI.dS);Fj=auI.offsetHeight+(bL.offsetTop*2);}else{Fj=bL.clientHeight+bL.clientTop+(bL.offsetTop*2);}var iM;if(Fj>0){var vE=Math.ceil(XJ.offsetHeight/Fj);var Au=Math.ceil(XJ.scrollTop/Fj);var QC=Au+vE+2;Au=Au-1;if(Au<0){Au=0;}if(QC>=bS.length){QC=bS.length-1;}for(var k=Au;k<=QC;k++){if(bS[k].hb===false){if(bS[k].hn===false){iM=k;break;}}}}if(iM){return iM;}else{return(-1);}};function EE(rn,ty){function aor(sender,evnt){O.by('pageAddFailed',evnt);};rn.add_pageOpenFailed(aor);};function fM(iY){var qt=document.createElement('div');var G;for(G in iY){if(iY.hasOwnProperty(G)){qt.style[G]=iY[G];}}return qt;};function afC(){var Cc=O.fc().id;var aN=document.getElementById(Cc);var Lk;if(iX===''){mN=fM({width:aN.clientWidth+'px',height:aN.clientHeight+'px',position:'relative',margin:'0px',border:'1px solid #000000',overflow:'auto'});if(kr===true){if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){Lk=rF;iX=fM({width:Lk+'px',margin:'4px'});mN.style.overflowY='hidden';O.qZ=1;if(Lk>0){O.CG=aN.clientWidth/Lk;}}else{iX=fM({width:aN.clientWidth+'px',height:aN.clientHeight+'px',position:'relative',margin:'4px'});mN.style.overflowX='hidden';O.qZ=1;if(rF>0){O.CG=aN.clientWidth/rF;}O.qZ=aN.clientHeight/BB;}}else{iX=fM({width:aN.clientWidth+'px',height:aN.clientHeight+'px',position:'relative',margin:'4px'});if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){mN.style.overflowY='hidden';}else{mN.style.overflowX='hidden';}}mN.onscroll=UD;iX.setAttribute('id',Cc+'_ListContainer');mN.setAttribute('id',Cc+'_ListWrapper');uI=Cc+'_ListWrapper';mN.appendChild(iX);aN.appendChild(mN);}};function FE(aI){var sl;var adR='';var kT='';var vA='';var tf="";var G;if(wB!==""){if(wB.indexOf('{')!== -1){sl=wB.split('{');if(sl.length>0){for(G=0;G<sl.length;G++){kT='';vA=sl[G];tf="";if(sl[G].indexOf('DC')!== -1){kT=aI.ai.get_caption();if(kT!==undefined){tf=vA.replace(/DC\}/,aI.ai.get_caption());}else{kT=aI.ai.get_documentIdentifier();tf=vA.replace(/DC\}/,aI.ai.get_documentIdentifier());}}else if(sl[G].indexOf('PC')!== -1){kT=aI.get_caption();if(kT!==undefined&&kT!==""&&kT!==null){tf=vA.replace(/PC\}/,aI.get_caption());}else{tf=vA.replace(/PC\}/,'Page');}}else if(sl[G].indexOf('P#')!== -1){var Gt=aI.ai.get_pages();var k=Gt.asA(aI);var dN=k;if(typeof(dN)==='number'){kT=(k+1).toString();}else if(dN){var gC=parseInt(dN,10);gC++;kT=gC.toString();}if(kT!==null){tf=vA.replace(/P#\}/,kT);}}else if(sl[G].indexOf('PN')!== -1){kT=(aI.get_pageNumber()+1).toString();if(kT!==null){tf=vA.replace(/PN\}/,kT);}}else if(sl[G].indexOf('PP')!== -1){kT=aI.ai.get_pages().get_length().toString();if(kT!==null){tf=vA.replace(/PP\}/,kT);}}adR+=tf;}}}}return adR;};function adK(ay){var aI=ay;var Cp=aI.get_pageNumber();var da;var mk;var aN=document.getElementById(O.fc().id);var cI=null;var nJ;var pn=[];var G=0;var bF=0;var bp=O.get_documents().get_length();for(bF=0;bF<bp;bF++){cI=O.get_documents().getDocument(bF);if(cI!==null){nJ=cI.nx;if(nJ===aI.ai.nx){break;}}}for(var dj=0;dj<bS.length;dj++){if(bS[dj].ai){cI=bS[dj].ai;if(dj===0){pn[G]=cI;G++;continue;}else if(bS[dj-1].ai!==cI){pn[G]=cI;G++;continue;}}}for(dj=bS.length-1;dj>=0;dj--){if(bS[dj].ba){if(bS[dj].ba===aI){return;}}}var re=true;var ew;var vb;var aS;var wm;for(dj=0;dj<bS.length;dj++){ew=bS[dj];if(ew.Bx===1){if(aI.ai.nx===ew.vG){da=document.getElementById(ew.dS);ew.Bx=0;vb=ew.dS;re=false;aS=ew;break;}}}var hK=false;for(dj=bS.length-1;dj>=0;dj--){if(bS[dj].ba){if(bS[dj].ba.ai===aI.ai){hK=true;break;}}}if(iX===''){afC();}if(kr===false){if(re){da=document.createElement('div');da.className='imGearTNItem';da.style.styleFloat='left';}wm=document.createElement('div');wm.className='imGearTNItemCaption';}if(kr===true){if(re){da=da=fM({width:rF+'px',height:BB+'px',styleFloat:'left',overflow:'hidden',border:MW+'px solid '+MQ,marginRight:wZ+'px',marginTop:Mk+'px'});da.style.cssFloat='left';da.style.backgroundColor=us;}wm=fM({width:rF+'px',height:'30px',overflow:'hidden',padding:'1px',position:'relative',margin:'2px'});}if(re===true){vb=aI.ai.nx+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;da.setAttribute('id',vb);}var Og=vb+'_'+'_tViewId';if(kr===false){mk=document.createElement('div');mk.className='imGearTNImage';}else{mk=fM({width:(rF-4)+'px',height:(BB-40)+'px',overflow:'hidden',padding:'1px'});}mk.setAttribute('id',Og);var Uq=document.createElement("p");if(kr===true){Uq.style.cssText="font-family:arial,sans-serif;font-size:10pt;text-align: center;color:#000099;";}var oT="";if(wB!==undefined&&wB!==null&&wB!==""){oT=FE(aI);Uq.innerHTML=oT;wm.appendChild(Uq);}IPCC.Web.UI.aW.addHandler(wm,"mousedown",zb);IPCC.Web.UI.aW.addHandler(da,"mousedown",zb);da.appendChild(wm);da.appendChild(mk);if(re===true){aS=new IPCC.Web.UI.ii({page:aI});}aI.dS=vb;aS.ks=Og;aS.dS=vb;aS.ba=aI;aS.vG=nJ;aS.fZ=false;aS.fd=false;aS.vT=wm;aS.aO=undefined;aS.yQ=false;aS.ai=aI.ai;aS.hn=false;aS.dM=Cp;var HB;var cT;if(re){if(bS.length===0){iX.appendChild(da);bS.push(aS);}else{for(dj=0;dj<bS.length;dj++){ew=bS[dj];if(ew.vG===nJ){if(ew.ba){var Ss=ew.ba.get_pageNumber();if(Cp<Ss){bS.splice(dj,0,aS);cT=document.getElementById(ew.dS);iX.insertBefore(da,cT);HB=true;break;}}}}if(!HB){iX.appendChild(da);bS.push(aS);}}}var LB=false;if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var ob=da.clientWidth*(bS.length+1);if(kr===true){ob=da.clientWidth*(bS.length+1);ob+=((2*wZ)*(bS.length+1));iX.style.width=ob+'px';iX.style.height=(da.clientHeight+(2*wZ))+'px';}else{ob=da.clientWidth*(bS.length+1);iX.style.width=ob+'px';iX.style.height=da.clientHeight+'px';if(O.qZ===0){if(da.clientWidth>0){O.qZ=aN.width/da.clientWidth;}}if(this.CG===0){if(da.clientHeight>0){O.qZ=aN.height/da.clientHeight;}}}if((aN.clientWidth+(da.clientWidth*4))>ob){LB=true;}}else{if(aN.clientWidth>0){var BQ=aN.clientWidth/(da.clientWidth+(da.clientLeft*2));var vE=aN.clientHeight/(da.clientHeight+(da.clientTop*2));O.qZ=vE;O.CG=BQ;if(bS.length<(BQ*vE)){LB=true;}}}var it;it=new IPCC.Web.UI.ThumbnailView(document.getElementById(Og));if(it){it.lU(document.getElementById(Og));it.gW(O.fG());it.initialize();it.set_imageHandlerUrl(aI.ai.mR);it.set_selected(false);it.set_pageViewClientID(tw);if(O.mZ()){it.qX(true);}}if(it){if(kU){it.set_resourcePath(kU);}EE(it,aS);it.gW(O.fG());var mF=it.aqd();if(!mF){mF=new IPCC.Web.UI.PageViewState();}mF.viewFitType=Nv;mF.viewRotationDegreesClockwise=MN;mF.viewZoomFactor=PO;mF.encryption=O.fG();it.atZ(mF);}var aqi=O.get_artServiceOption();akQ(zb,it,da);var Dv=fV.get_length();if(Dv>0){for(G=0;G<Dv;G++){for(dj=0;dj<bS.length;dj++){ew=bS[dj];if(ew.ba){if(ew.ba.ai.get_documentIdentifier()===fV.getPage(G).ai.get_documentIdentifier()){if(fV.getPage(G).get_pageNumber===aI.get_pageNumber()){abd(it,aS);break;}}}}}}else{if(aI.get_selected()){abd(it,aS);}}Dz(it,aS);if(bS.length<2){it.gW(O.fG());it.openPage({encodedDocumentIdentifier:aI.ai.get_encodedDocumentIdentifier(),pageNumber:aI.get_pageNumber(),artServiceOption:aqi,imGearPage:aI});aS.hb=true;ft++;}var Gt=aI.ai.get_pages();if(Gt.get_length()>1){for(var fv=0;fv<bS.length;fv++){var ec=bS[fv];if(ec.ba){if(aI.ai===ec.ba.ai){oT=FE(ec.ba);var eG=ec.vT.firstChild;if(!eG.igPreviousCaption||eG.igPreviousCaption!==oT){eG.innerHTML=oT;eG.igPreviousCaption=oT;}}}}}mk.bA=it;return da;};function agq(aeN){var vb=aeN.nx+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;var da;var cI;var pn=[];var Cc=O.fc().id;var aN=document.getElementById(Cc);var nJ,bF;var bp=O.get_documents().get_length();for(bF=0;bF<bp;bF++){cI=O.get_documents().getDocument(bF);if(cI){nJ=cI.nx;if(nJ===aeN.nx){break;}}}var G=0;for(var dj=0;dj<bS.length;dj++){if(bS[dj].ai){cI=bS[dj].ai;if(dj===0){pn[G]=cI;G++;continue;}else if(bS[dj-1].ai!==cI){pn[G]=cI;G++;continue;}}}if(iX===''){afC();}if(kr===false){da=document.createElement('div');da.className='imGearTNItem';da.style.styleFloat='left';}else if(kr===true){da=da=fM({width:rF+'px',height:BB+'px',styleFloat:'left',overflow:'hidden',border:MW+'px solid '+MQ,marginRight:wZ+'px',marginTop:Mk+'px'});da.style.cssFloat='left';da.style.backgroundColor=us;}da.setAttribute('id',vb);var aS=new IPCC.Web.UI.ii();aS.dS=vb;aS.vG=nJ;aS.fZ=false;aS.fd=false;aS.aO=undefined;aS.yQ=false;aS.Bx=1;aS.ai=cI;aS.hn=false;var Uh;bp=O.get_documents().get_length();for(bF=0;bF<bp;bF++){cI=O.get_documents().getDocument(bF);if(pn[bF]){if(cI===pn[bF]){continue;}else{if(bF+1<bp){var apL=O.get_documents().getDocument(bF+1);if(apL===pn[bF]){Uh=bF;break;}}}}}if(Uh){var rH=0;for(G=0;G<Uh;G++){if(O.get_documents().getDocument(G).get_pages()){rH+=O.get_documents().getDocument(G).get_pages().get_length();}}var amh=bS[rH];var cT=document.getElementById(amh.dS);iX.insertBefore(da,cT);bS.splice(rH,0,aS);}else{iX.appendChild(da);bS.push(aS);}if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var ob=da.clientWidth*(bS.length+1);if(kr===true){ob=da.clientWidth*(bS.length+1);ob+=((2*wZ)*(bS.length+1));iX.style.width=ob+'px';iX.style.height=(da.clientHeight+(2*wZ))+'px';}else{ob=da.clientWidth*(bS.length+1);iX.style.width=ob+'px';iX.style.height=da.clientHeight+'px';if(this.qZ===0){if(da.clientWidth>0){O.qZ=aN.width/da.clientWidth;}}if(O.CG===0){if(da.clientHeight>0){O.qZ=aN.height/da.clientHeight;}}}}else{if(aN.clientWidth>0){var BQ=aN.clientWidth/(da.clientWidth+(da.clientLeft*2));var vE=aN.clientHeight/(da.clientHeight+(da.clientTop*2));O.qZ=vE;O.CG=BQ;}}return da;};function Gh(ad,C){var aI=C.imGearPage;adK(aI);};function anv(ay){var aI=ay.imGearPage;var cl;var tX,k;for(k=0;k<bS.length;k++){tX=undefined;if(bS[k].ba){if(bS[k].ba===aI){tX=document.getElementById(bS[k].dS);if(tX){if(bS[k].fd===true){cl=document.getElementById(bS[k].ks).bA;if(cl.get_selected()){cl.set_selected(false);if(O.get_pageViewClientId()){var pgView=document.getElementById(O.get_pageViewClientId()).bA;pgView.closePage();}}cl.remove_mouseDown(zb);if(cl.get_currentState().documentIdentifier){cl.dispose();}bS[k].fd=false;}if(bS[k].vT){IPCC.Web.UI.aW.removeHandler(tX.vT,"mousedown",zb);}tX.style.display='none';bS.splice(k,1);var Gt=aI.ai.get_pages();if(Gt.get_length()>=1){for(var fv=0;fv<bS.length;fv++){var ec=bS[fv];if(aI.ai===ec.ba.ai){if(ec.ba){var oT=FE(ec.ba);ec.vT.firstChild.innerHTML=oT;}}}}break;}}}}};function CY(ad,C){anv(C);};function xR(ad,C){if(C){for(var fv=0;fv<bS.length;fv++){var ec=bS[fv];if(C.imGearPage===ec.ba){if(ec.ba){var mE;if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(var k=0;k<bS.length;k++){if(bS[k].fZ===true){if(bS[k].ba){bS[k].ba.set_selected(false);}bS[k].fZ=false;mE=bS[k];break;}}}var oT=FE(ec.ba);ec.vT.firstChild.innerHTML=oT;var cl;var aA=document.getElementById(ec.dS);if(ec.ba.get_selected()&& !ec.fZ){cl=document.getElementById(ec.ks).bA;if(cl){cl.set_imGearPage(ec.ba);cl.set_selected(true);O.by('pageSelectionChanged',{});afc(true,aA,ec,mE);}}else if(!ec.ba.get_selected()&&ec.fZ){cl=document.getElementById(ec.ks).bA;if(cl){cl.set_selected(false);O.by('pageSelectionChanged',{});afc(false,aA,ec,mE);}}break;}}}}};function auH(ad,C){if(C){if(C.propertyName==='caption'){for(var fv=0;fv<bS.length;fv++){var ec=bS[fv];if(ec.ba){if(ec.ba.ai){if(C.imGearDocument){if(C.imGearDocument===ec.ba.ai){var oT=FE(ec.ba);ec.vT.firstChild.innerHTML=oT;}}}}}}}};function DM(ay){if(O.Mi()===false){return null;}if((tw!==null)&&(tw!=='')){nR=document.getElementById(tw).bA;}var cI=ay.imGearDocument;var Oe=O.Qu();cI.nx=Oe;if(cI.get_includeAllPages()===false){var bW=cI.get_pages();var bp=bW.get_length();if(bp>0){for(var k=0;k<bp;k++){if(!bW.getPage(k).ai){bW.getPage(k).ai=cI;}}bW.forEach(adK);}}else{agq(cI);}};function Vu(ad,C){DM(C);};function AB(Qb){var k,aA;for(k=0;k<bS.length;k++){if(bS[k]===Qb){aA=document.getElementById(bS[k].dS);if(kr===true){pa(true,aA,bS[k]);}else{nV(true,aA,bS[k]);}if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cl;if(O.get_pageViewClientId()){cl=document.getElementById(bS[k].ks).bA;if(bS[k].hn===false||fV.get_length()===0){if(O.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bS[k].ba){if(bS[k].yQ===true){if(bS[k].aO){cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),artPage:bS[k].aO,imGearPage:bS[k].ba});}}else{cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),imageServiceOption:O.get_artServiceOption(),imGearPage:bS[k].ba});}}}else{if(bS[k].hb===false){if(bS[k].hn===false){bS[k].aO=cl.get_artPage();if(bS[k].ba){if(bS[k].aO){cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),artPage:bS[k].aO,imGearPage:bS[k].ba});bS[k].hb=true;ft++;}else{cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),imGearPage:bS[k].ba});bS[k].hb=true;ft++;}}}}}}if(cl){cl.set_selected(true);O.by('pageSelectionChanged',{});}}if(bS[k].ba){if(fV.get_length()>0){fV.removeAllPages();}}}if(bS[k].ba){fV.addPage(bS[k].ba);}break;}}nZ();};function asI(bf){var aA;var cl;if(ft>0){if(bf.ks){cl=document.getElementById(bf.ks).bA;}if(cl){cl.display();bf.fd=true;}return;}aA=document.getElementById(bf.dS);cl=document.getElementById(bf.ks).bA;if(bf.hn===false){if(O.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bf.ba){if(bf.yQ===true){if(bf.aO){cl.openPage({encodedDocumentIdentifier:bf.ba.ai.get_encodedDocumentIdentifier(),pageNumber:bf.ba.get_pageNumber(),artPage:bf.aO,imaGearPage:bf.ba});}}else{cl.openPage({encodedDocumentIdentifier:bf.ba.ai.get_encodedDocumentIdentifier(),pageNumber:bf.ba.get_pageNumber(),imageServiceOption:O.get_artServiceOption(),imaGearPage:bf.ba});}bf.hb=true;ft++;}}else{bf.aO=cl.get_artPage();if(bf.ba){if(bf.aO){cl.openPage({encodedDocumentIdentifier:bf.ba.ai.get_encodedDocumentIdentifier(),pageNumber:bf.ba.get_pageNumber(),artPage:bf.aO,imaGearPage:bf.ba});}else{cl.openPage({encodedDocumentIdentifier:bf.ba.ai.get_encodedDocumentIdentifier(),pageNumber:bf.ba.get_pageNumber(),imaGearPage:bf.ba});}bf.hb=true;ft++;}}}nZ();};function akq(Qb){var k,aA;var bf;for(k=0;k<bS.length;k++){bf=bS[k];if(bf===Qb){aA=document.getElementById(bf.dS);if(kr===true){pa(true,aA,bf);}else{nV(true,aA,bf);}if(O.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cl;if(O.get_pageViewClientId()){cl=document.getElementById(bf.ks).bA;if(cl){cl.set_selected(true);}}if(bf.ba){if(fV.get_length()>0){fV.removeAllPages();}}}if(bf.ba){fV.addPage(bf.ba);bf.fZ=true;}break;}}nZ();};this.ak=function(){var k,aA;var ew=bS[0];if(ew&&ew.ba){var bW=ew.ba.ai.get_pages();var Xd=bW.get_length();var bp=10;if(Xd<10){bp=Xd;}if(bS.length>10&&bp>10){bp=9;}bp=bS.length;for(k=0;k<bp;k++){if(bS[k].ba){aA=document.getElementById(bS[k].dS);var cl;cl=document.getElementById(bS[k].ks).bA;if(bS[k].fd===false){if(O.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bS[k].yQ===true){if(bS[k].aO){if(bS[k].hn===false){cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),artPage:bS[k].aO,imaGearPage:bS[k].ba});ft++;bS[k].hb=true;}}}else{if(bS[k].hn===false){cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),imageServiceOption:O.get_artServiceOption(),imaGearPage:bS[k].ba});ft++;bS[k].hb=true;}}}else{if(bS[k].imageDataRequested===false){if(bS[k].hn===false){if(ft===0){cl.openPage({encodedDocumentIdentifier:bS[k].ba.ai.get_encodedDocumentIdentifier(),pageNumber:bS[k].ba.get_pageNumber(),imaGearPage:bS[k].ba});bS[k].hb=true;}}}}}if(cl){cl.display();if(bS[k].fZ===true){cl.set_selected(true);}}}}IW();}};this.anB=function(){var bf=bS[0];AA();AB(bf);};this.aoU=function(){var bf=bS[bS.length-1];AA();AB(bf);};this.aob=function(){var bf;var pd;for(var k=0;k<bS.length;k++){pd=bS[k];if(pd.fZ===true){bf=pd;break;}}if(!bf){bf=bS[0];}else{if(k<=bS.length-1&&k>0){k--;bf=bS[k];AA();AB(bf);}}};this.api=function(){var bf;var tN;var k=bS.length-1;for(k;k>=0;k--){tN=bS[k];if(tN.fZ===true){bf=tN;break;}}if(!bf){bf=bS[0];}else{if(k<=bS.length-2&&k>=0){k++;bf=bS[k];AA();AB(bf);}}};this.aoI=function(){var cT=document.getElementById(uI);if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cT.scrollLeft=0;}else{cT.scrollTop=0;}};this.anZ=function(){var cT=document.getElementById(uI);if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cT.scrollLeft=cT.scrollWidth;}else{cT.scrollTop=cT.scrollHeight;}};this.anr=function(){var bf;var pd;var k;for(k=0;k<bS.length;k++){pd=bS[k];if(pd.fZ===true){bf=pd;if(bf.hn===false){AB(bf);}break;}}var Yw;var aoP;var bL;var cT=document.getElementById(uI);if(!bf){return;}if(bf.dS){if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){Yw=cT.scrollWidth;bL=document.getElementById(bf.dS);aoP=k*bL.clientWidth;cT.scrollLeft=bL.offsetLeft;}else{Yw=cT.scrollHeight;bL=document.getElementById(bf.dS);cT.scrollTop=bL.offsetTop;}}};this.aok=function(){var bf=bS[0];var bL=document.getElementById(bf.dS);var cT=document.getElementById(uI);var lC;if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){lC=cT.scrollLeft+bL.clientWidth+bL.clientLeft;cT.scrollLeft=lC;}else{lC=cT.scrollTop;cT.scrollTop=lC+bL.clientHeight+bL.clientTop;}};this.anb=function(){var bf=bS[0];var bL=document.getElementById(bf.dS);var cT=document.getElementById(uI);var lC;if(qW===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){lC=cT.scrollLeft;lC=lC-(bL.clientWidth+bL.clientLeft);if(lC>0){cT.scrollLeft=lC;}else{cT.scrollLeft=0;}}else{lC=cT.scrollTop-(bL.clientHeight+bL.clientTop);if(lC>0){cT.scrollTop=lC;}else{cT.scrollTop=0;}}};function alo(ty){var cl;cl=document.getElementById(ty.ks).bA;if(cl){cl.saveArtPage();}};this.aqU=function(aer){var bf;for(var k=0;k<bS.length;k++){bf=bS[k];alo(bf);}if(aer){aer();}};this.aiN=function(){if(O.hM.get_length()>0){O.hM.removeAllDocuments();}bS=[];};this.axc=function(){return mR;};this.avJ=function(V){IPCC.aE.iV(V,'value');mR=V;this.ac('imageServicePath');};this.HI=function(){return lF;};this.CV=function(V){IPCC.aE.iV(V,'value');lF=V;};this.YB=function(){return tw;};this.aqw=function(){return kr;};this.atC=function(V){kr=V;this.ac('useDefaultStyling');};this.auV=function(){return MQ;};this.atp=function(V){MQ=V;this.ac('thumbnailBorderColor');};this.aut=function(){return MW;};this.avb=function(V){MW=V;this.ac('thumbnailBorderWidth');};this.vB=function(yx){if(yx!==IPCC.Web.UI.ImGearArtDataServices.None&&yx!==IPCC.Web.UI.ImGearArtDataServices.ArtDataService){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearArtDataServices enumeration.');}HJ=yx;};this.va=function(){return HJ;};this.Vv=function(){return this.hM;};this.axV=function(){return wB;};this.ato=function(V){IPCC.aE.iV(V,'value');wB=V;this.ac('thumbnailCaptionFormat');};this.YB=function(){return tw;};this.auM=function(V){if(tw!==V){tw=V;nR=null;this.ac('pageViewClientId');}};this.asw=function(){return qW;};this.auY=function(V){qW=V;this.ac('thumbnailsLayout');};this.anL=function(){return RD;};this.atE=function(V){if(V!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&V!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearThumbnailSelectionMode enumeration.');}RD=V;if(RD===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){fV.acV=false;}this.ac('selectionMode');};this.Mi=function(){return ic;};this.Du=function(V){ic=V;this.ac('enabled');};this.aqR=function(){return rF;};this.aul=function(V){rF=V;this.ac('thumbnailWidth');};this.arN=function(){return BB;};this.auE=function(V){BB=V;this.ac('thumbnailHeight');};this.auj=function(){return us;};this.auN=function(V){us=V;this.ac('thumbnailBackgroundColor');};this.asQ=function(){return PW;};this.auq=function(V){PW=V;this.ac('thumbnailSelectedBackgroundColor');};this.Vg=function(){return wZ;};this.atJ=function(V){wZ=V;this.ac('xSpacing');};this.ash=function(){return Mk;};this.ats=function(V){Mk=V;this.ac('ySpacing');};this.aiK=function(){return ahN;};this.aou=function(){return fV;};var kU;this.sa=function(V){kU=V;};this.kX=function(){return kU;};this.hF=function(OQ){for(var fv=0;fv<bS.length;fv++){var ec=bS[fv];if(OQ===ec.ba){var cl=document.getElementById(ec.ks).bA;if(cl){return(cl.get_artPage());}}}return null;};this.atu=function(V){Nv=V;};this.apX=function(){return Nv;};this.atD=function(V){MN=V;};this.aoM=function(){return MN;};this.auv=function(V){PO=V;};this.aqD=function(){return PO;};var nb=false;this.mZ=function(){return nb;};this.qX=function(V){if(nb===V){return;}nb=V;this.ac('requireRequestsOptimize');};var lk=false;this.fG=function(){return lk;};this.gW=function(V){if(typeof V!=="boolean"){return;}if(V===lk){return;}lk=V;};this.initialize=function(){alc=this.fc().id;var aN=this.fc();var G;for(G=aN.childNodes.length-1;G>=0;G--){if(aN.childNodes[G].tagName!=='INPUT'){aN.removeChild(aN.childNodes[G]);}}this.hM.add_documentAdded(Vu);this.hM.add_pageAdded(Gh);this.hM.add_pageRemoved(CY);this.hM.add_pageChanged(xR);this.hM.add_documentChanged(auH);this.Du(true);aN.bA=this;};};IPCC.Web.UI.ImGearThumbnailList.prototype={dispose:function(){this.aB('dispose',arguments);this.aiN();this.Du(false);},get_debug:function(){try{var T=this.qA();this.ap('get_debug',arguments,T);return T;}catch(e){this.F('get_debug',e);throw e;}},set_debug:function(value){try{this.aB('set_debug',arguments);var lj=this.qA();this.xE(value);if(!lj){this.aB('set_debug',arguments);}}catch(e){this.F('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var T=this.lL();this.ap('get_debugErrorLevel',arguments,T);return T;}catch(e){this.F('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aB('set_debugErrorLevel',arguments);var lj=this.lL();this.rS(value);if(lj<IPCC.Web.UI.DebugErrorLevel.Development){this.aB('set_debugErrorLevel',arguments);}}catch(e){this.F('set_debugErrorLevel',e);throw e;}},add_pageSelectionChanged:function(handler){try{this.aio(handler);}catch(e){this.F('add_pageSelectionChanged',e);throw e;}},remove_pageSelectionChanged:function(handler){try{this.apH(handler);}catch(e){this.F('remove_pageSelectionChanged',e);throw e;}},add_pageAddFailed:function(handler){try{this.alk(handler);}catch(e){this.F('add_pageAddFailed',e);throw e;}},remove_pageAddFailed:function(handler){try{this.ark(handler);}catch(e){this.F('remove_pageAddFailed',e);throw e;}},add_mouseDown:function(handler){try{this.yf(handler);}catch(e){this.F('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Ax(handler);}catch(e){this.F('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.BM(handler);}catch(e){this.F('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.zz(handler);}catch(e){this.F('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.xn(handler);}catch(e){this.F('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Ai(handler);}catch(e){this.F('remove_mouseUp',e);throw e;}},add_propertyChanged:function(handler){try{this.add_propertyChanged(handler);}catch(e){this.F('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.jK(handler);}catch(e){this.F('remove_propertyChanged',e);throw e;}},writeToLog:function(message){try{this.hc(message);}catch(e){this.F('writeToLog',e);throw e;}},get_documents:function(){return this.Vv();},get_controlStateElementId:function(){try{var T=this.HI();this.ap('get_controlStateElementId',arguments,T);return T;}catch(e){this.F('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.aB('set_controlStateElementId',arguments);this.CV(value);}catch(e){this.F('set_controlStateElementId',e);throw e;}},get_useDefaultStyling:function(){try{var T=this.aqw();this.ap('get_get_useDefaultStyling',arguments,T);return T;}catch(e){this.F('get_useDefaultStyling',e);throw e;}},set_useDefaultStyling:function(value){try{this.aB('set_useDefaultStyling',arguments);this.atC(value);}catch(e){this.F('set_useDefaultStyling',e);throw e;}},get_selectedPages:function(){try{var T=this.aou();this.ap('get_currentSelectedPages',arguments,T);return T;}catch(e){this.F('get_currentSelectedPages',e);throw e;}},get_artDataChanged:function(){try{var T=this.aiK();this.ap('get_artDataChanged',arguments,T);return T;}catch(e){this.F('get_artDataChanged',e);throw e;}},get_xSpacing:function(){try{var T=this.Vg();this.ap('get_xSpacing',arguments,T);return T;}catch(e){this.F('get_xSpacing',e);throw e;}},set_xSpacing:function(value){try{this.aB('set_xSpacing',arguments);this.atJ(value);}catch(e){this.F('set_xSpacing',e);throw e;}},get_ySpacing:function(){try{var T=this.ash();this.ap('get_ySpacing',arguments,T);return T;}catch(e){this.F('get_ySpacing',e);throw e;}},set_ySpacing:function(value){try{this.aB('set_ySpacing',arguments);this.ats(value);}catch(e){this.F('set_ySpacing',e);throw e;}},get_thumbnailHeight:function(){try{var T=this.arN();this.ap('get_thumbnailHeight',arguments,T);return T;}catch(e){this.F('get_thumbnailHeight',e);throw e;}},set_thumbnailHeight:function(value){try{this.aB('set_thumbnailHeight',arguments);this.auE(value);}catch(e){this.F('set_thumbnailHeight',e);throw e;}},get_thumbnailWidth:function(){try{var T=this.aqR();this.ap('get_thumbnailWidth',arguments,T);return T;}catch(e){this.F('get_thumbnailWidth',e);throw e;}},set_thumbnailWidth:function(value){try{this.aB('set_thumbnailWidth',arguments);this.aul(value);}catch(e){this.F('set_thumbnailWidth',e);throw e;}},get_thumbnailBackgroundColor:function(){try{var T=this.auj();this.ap('get_thumbnailBackgroundColor',arguments,T);return T;}catch(e){this.F('get_thumbnailBackgroundColor',e);throw e;}},set_thumbnailBackgroundColor:function(value){try{this.aB('set_thumbnailBackgroundColor',arguments);this.auN(value);}catch(e){this.F('set_thumbnailBackgroundColor',e);throw e;}},get_thumbnailSelectedBackgroundColor:function(){try{var T=this.asQ();this.ap('get_thumbnailSelectedBackgroundColor',arguments,T);return T;}catch(e){this.F('get_thumbnailSelectedBackgroundColor',e);throw e;}},set_thumbnailSelectedBackgroundColor:function(value){try{this.aB('set_thumbnailSelectedBackgroundColor',arguments);this.auq(value);}catch(e){this.F('set_thumbnailSelectedBackgroundColor',e);throw e;}},get_thumbnailBorderWidth:function(){try{var T=this.aut();this.ap('get_thumbnailBorderWidth',arguments,T);return T;}catch(e){this.F('get_thumbnailBorderWidth',e);throw e;}},set_thumbnailBorderWidth:function(value){try{this.aB('set_thumbnailBorderWidth',arguments);this.avb(value);}catch(e){this.F('set_thumbnailBorderWidth',e);throw e;}},get_thumbnailBorderColor:function(){try{var T=this.auV();this.ap('get_thumbnailBorderColor',arguments,T);return T;}catch(e){this.F('get_thumbnailBorderColor',e);throw e;}},set_thumbnailBorderColor:function(value){try{this.aB('set_thumbnailBorderColor',arguments);this.atp(value);}catch(e){this.F('set_thumbnailBorderColor',e);throw e;}},get_resourcePath:function(){try{var T=this.kX();this.ap('get_resourcePath',arguments,T);return T;}catch(e){this.F('get_resourcePath',e);throw e;}},set_resourcePath:function(V){try{this.aB('set_resourcePath',arguments);this.sa(V);}catch(e){this.F('set_resourcePath',e);throw e;}},get_pageViewClientId:function(){try{var T=this.YB();this.ap('get_pageViewClientId',arguments,T);return T;}catch(e){this.F('get_pageViewClientId',e);throw e;}},set_pageViewClientId:function(value){try{this.aB('set_pageViewClientId',arguments);this.auM(value);}catch(e){this.F('set_pageViewClientId',e);throw e;}},get_selectionMode:function(){try{var T=this.anL();this.ap('selectionMode',arguments,T);return T;}catch(e){this.F('get_selectionMode',e);throw e;}},set_selectionMode:function(value){try{this.aB('set_selectionMode',arguments);this.atE(value);}catch(e){this.F('set_selectionMode',e);throw e;}},get_layout:function(){try{var T=this.asw();this.ap('getthumbnailsLayout',arguments,T);return T;}catch(e){this.F('get_thumbnailsLayout',e);throw e;}},set_layout:function(value){try{this.aB('set_thumbnailsLayout',arguments);this.auY(value);}catch(e){this.F('set_thumbnailsLayout',e);throw e;}},get_enabled:function(){try{var T=this.Mi();this.ap('get_enabled',arguments,T);return T;}catch(e){this.F('get_enabled',e);throw e;}},get_thumbnailCaptionFormat:function(){try{var T=this.Vg();this.ap('get_thumbnailCaptionFormat',arguments,T);return T;}catch(e){this.F('get_thumbnailCaptionFormat',e);throw e;}},set_thumbnailCaptionFormat:function(value){try{this.aB('set_thumbnailCaptionFormat',arguments);this.ato(value);}catch(e){this.F('set_thumbnailCaptionFormat',e);throw e;}},get_artServiceOption:function(){try{var T=this.va();this.ap('get_artServiceOption',arguments,T);return T;}catch(e){this.F('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.aB('set_artServiceOption',arguments);this.vB(value);}catch(e){this.F('set_artServiceOption',e);throw e;}},selectPreviousThumbnail:function(){try{this.aB('selectPreviousThumbnail',arguments,1);this.aob();}catch(e){this.F('selectPreviousThumbnail',e);throw e;}},selectNextThumbnail:function(){try{this.aB('selectNextThumbnail',arguments,1);this.api();}catch(e){this.F('selectNextThumbnail',e);throw e;}},selectFirstThumbnail:function(){try{this.aB('selectFirstThumbnail',arguments,1);this.anB();}catch(e){this.F('selectFirstThumbnail',e);throw e;}},selectLastThumbnail:function(){try{this.aB('selectLastThumbnail',arguments,1);this.aoU();}catch(e){this.F('selectLastThumbnail',e);throw e;}},scrollToNextBand:function(){try{this.aB('scrollToNextBand',arguments,1);this.aok();}catch(e){this.F('scrollToNextBand',e);throw e;}},scrollToPreviousBand:function(){try{this.aB('scrollToPreviousBand',arguments,1);this.anb();}catch(e){this.F('scrollToPreviousBand',e);throw e;}},scrollToFirstThumbnail:function(){try{this.aB('scrollToFirst',arguments,1);this.aoI();}catch(e){this.F('scrollToFirst',e);throw e;}},scrollToLastThumbnail:function(){try{this.aB('scrollToFirst',arguments,1);this.anZ();}catch(e){this.F('scrollToFirst',e);throw e;}},scrollToSelectedThumbnail:function(){try{this.aB('ScrollToSelectedThumbnail',arguments,1);this.anr();}catch(e){this.F('ScrollToSelectedThumbnail',e);throw e;}},saveArtData:function(onComplete){try{this.aB('saveArtData',arguments,1);this.aqU(onComplete);}catch(e){this.F('saveArtData',e);throw e;}},getArtPage:function(page){try{var T=this.hF(page);this.tm('getArtPage',arguments,T,1);return T;}catch(e){this.F('getArtPage',e);throw e;}},display:function(){try{this.aB('display',arguments,1);this.ak();}catch(e){this.F('display',e);throw e;}},get_requireRequestsOptimize:function(){try{var T=this.mZ();this.ap('get_requireRequestsOptimize',arguments,T);return T;}catch(e){this.F('mZ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aB('set_requireRequestsOptimize',arguments);this.qX(value);}catch(e){this.F('set_requireRequestsOptimize',e);throw e;}},get_pageViewFitType:function(){try{var T=this.apX();this.ap('get_pageViewFitType',arguments,T);return T;}catch(e){this.F('get_pageViewFitType',e);throw e;}},set_pageViewFitType:function(value){try{this.aB('set_pageViewFitType',arguments);this.atu(value);}catch(e){this.F('set_pageViewFitType',e);throw e;}},get_pageViewRotationDegreesClockwise:function(){try{var T=this.aoM();this.ap('get_pageViewRotationDegreesClockwise',arguments,T);return T;}catch(e){this.F('get_pageViewRotationDegreesClockwise',e);throw e;}},set_pageViewRotationDegreesClockwise:function(value){try{this.aB('set_pageViewRotationDegreesClockwise',arguments);this.atD(value);}catch(e){this.F('set_pageViewRotationDegreesClockwise',e);throw e;}},get_pageViewZoomFactor:function(){try{var T=this.aqD();this.ap('get_pageViewZoomFactor',arguments,T);return T;}catch(e){this.F('get_pageViewZoomFactor',e);throw e;}},set_pageViewZoomFactor:function(value){try{this.aB('set_pageViewZoomFactor',arguments);this.auv(value);}catch(e){this.F('set_pageViewZoomFactor',e);throw e;}},get_encryption:function(){try{var T=this.fG();this.ap('get_encryption',arguments,T);return T;}catch(e){this.F('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aB('set_encryption',arguments);this.gW(value);}catch(e){this.F('set_encryption',e);throw e;}}};IPCC.Web.UI.ImGearThumbnailList.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearThumbnailList.registerClass('IPCC.Web.UI.ImGearThumbnailList',IPCC.Sys.UI.Control);IPCC.Type.registerNamespace('IPCC');IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum('IPCC.PageLayout',false);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2};IPCC.ViewMode.registerEnum('IPCC.ViewMode',false);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FitToWidth:0,ShrinkToWidth:1};IPCC.FitType.registerEnum('IPCC.FitType',false);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.ScaleTrigger.registerEnum('IPCC.ScaleTrigger',false);IPCC.PageEventArgs=function(){return this;};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass('IPCC.PageEventArgs');IPCC.ExceptionEventArgs=function(){return this;};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass('IPCC.ExceptionEventArgs');IPCC.OpenPageEventArgs=function(){return this;};IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass('IPCC.OpenPageEventArgs');IPCC.Pagecounter=1;IPCC.PageList=function(element){var O=this;var Dc=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var ahu=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var be=new IPCC.Web.UI.fY();var bE=[];var uI;var an='';var yK='';var aK='';var iH='';var kk='';var qB=0;this.hM=new IPCC.Web.UI.ImGearDocumentCollection();var Lu=[];this.awT=0;this.awe={x:0,y:0};var ft=0;var Cu=0;var jU=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var ic=false;var cK=0;var dW=0;var oD=0;var iP=0;var rC=false;var cC=[];var mQ=[];var Fr='';var aV=1;var cf=IPCC.Web.UI.MouseTool.None;var xf=false;var qD=true;var az=IPCC.bM.None;var ik;var fb=0;var hi=0;var fT=0;var iL=15;var lA=0;var iy=15;var uV=0;var sQ=0;var yI=0;var tP=0;var Ya=0;var eN=0;var gl=0;var ju=1;var yb=0;var xC=0;var eE=IPCC.PageLayout.VerticalScrollDirection;var bX=IPCC.ViewMode.Document;var lq=null;var VU=null;var Ka=0;var pb=0;var wE=0;var iW=null;var CX=0;var Hw='';var Bb='';var kS=[];var fW=3;var vd=0;var zR=0.5;var Aw=true;var QZ;var nb=true;var kQ;var kn=0;var hD=0;var cz={};var dF={};var sy=false;var me=function(){return null;};var hG=null;function ge(rG){if(!_debug){return false;}return jU>=rG;};this.F=function(eo,hd){if(!ge(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aY=eo+'() threw an exception ('+hd.name+'), "'+hd.message+'"';aY=aY.replace(/\n/g," ");IPCC.ed.hc(aY,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.fc().id);var lJ=new IPCC.ExceptionEventArgs();lJ.functionName=eo;lJ.exception=hd;this.by('exceptionThrown',lJ);};this.aB=function(eo,ez,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=')';this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.tm=function(eo,ez,mT,ht){if(!ge(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],(ht?ht:0));}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Development);};this.ap=function(eo,ez,mT){if(!ge(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aY=eo+'(';var G;for(G=0;G<ez.length;G++){if(G>0){aY+=', ';}aY+=IPCC.ed.ie(ez[G],0);}aY+=') = ';aY+=IPCC.ed.ie(mT,1);this.kL(aY,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kL=function(fS,bQ){IPCC.ed.hc(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bQ,'PageList',this.fc().id);};this.hc=function(fS){IPCC.ed.hc(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.fc().id);};this.qA=function(){return _debug;};this.xE=function(V){var wU= ! !V;if(_debug===wU){return;}_debug=wU;var G=0;for(G=0;G<cC.length;G++){var al;if(bE[cC[G]].bc){al=document.getElementById(bE[cC[G]].bc).bA;}if(al){al.set_debug(_debug);}}this.ac('debug');};this.lL=function(){return jU;};this.rS=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.DebugErrorLevel);if(jU===V){return;}jU=V;var G=0;for(G=0;G<cC.length;G++){var al;if(bE[cC[G]].bc){al=document.getElementById(bE[cC[G]].bc).bA;}if(al){al.set_debugErrorLevel(jU);}}this.ac('debugErrorLevel');};function bj(aC,R){be.addHandler(aC,R);};function bV(aC,R){be.removeHandler(aC,R);};this.yf=function(R){bj('mouseDown',R);};this.Ax=function(R){bV('mouseDown',R);};this.BM=function(R){bj('mouseMove',R);};this.zz=function(R){bV('mouseMove',R);};this.xn=function(R){bj('mouseUp',R);};this.Ai=function(R){bV('mouseUp',R);};this.QN=function(R){bj('selectTextMouseToolCompleted',R);};this.Na=function(R){bV('selectTextMouseToolCompleted',R);};this.uK=function(R){bj('textPageReady',R);};this.wu=function(R){bV('textPageReady',R);};this.Hn=function(R){bj('pageOpening',R);};this.EY=function(R){bV('pageOpening',R);};this.Hq=function(R){bj('pageOpened',R);};this.Gn=function(R){bV('pageOpened',R);};this.xi=function(R){bj('pageOpenFailed',R);};this.xM=function(R){bV('pageOpenFailed',R);};this.Ic=function(R){bj('pageDisplayed',R);};this.DY=function(R){bV('pageDisplayed',R);};this.jx=function(R){bj('propertyChanged',R);};this.jK=function(R){bV('propertyChanged',R);};this.Qp=function(R){bj('exceptionThrown',R);};this.Nu=function(R){bV('exceptionThrown',R);};this.yV=function(R){bj('textExtractionFailed',R);};this.zE=function(R){bV('textExtractionFailed',R);};this.vR=function(R){bj('markAdded',R);};this.wN=function(R){bV('markAdded',R);};this.Pb=function(R){bj('markCreating',R);};this.Mz=function(R){bV('markCreating',R);};this.CL=function(R){bj('markChanged',R);};this.AL=function(R){bV('markChanged',R);};this.CD=function(R){bj('markReordered',R);};this.zN=function(R){bV('markReordered',R);};this.CC=function(R){bj('markSelectionChanged',R);};this.An=function(R){bV('markSelectionChanged',R);};this.Hh=function(R){bj('markTextSelectionChanged',R);};this.EH=function(R){bV('markTextSelectionChanged',R);};this.vP=function(R){bj('markRemoved',R);};this.vu=function(R){bV('markRemoved',R);};this.vL=function(R){bj('commentAdded',R);};this.zp=function(R){bV('commentAdded',R);};this.vS=function(R){bj('commentRemoved',R);};this.zH=function(R){bV('commentRemoved',R);};this.rU=function(R){bj('commentChanged',R);};this.tj=function(R){bV('commentChanged',R);};this.RO=function(R){bj('scaleChanged',R);};this.NX=function(R){bV('scaleChanged',R);};this.sf=function(){var bA=document.getElementById(bE[cK].bc).bA;if(bA){return bA.get_currentState();}else{return null;}};this.aeQ=function(){return bE[cK].ba;};this.DU=function(aT,wL,OT,hz){hz=hz||IPCC.ScaleTrigger.Zoom;qz(aV*aT,OT,undefined,undefined,undefined,wL,hz);};this.anc=function(aT,bq,et,Bl,hz){hz=hz||IPCC.ScaleTrigger.Zoom;if(aV*aT<8){qz(aV*aT,false,bq,et,Bl,undefined,hz);}else{qz(8,false,bq,et,Bl);}};this.Qt=function(aT,hz){hz=hz||IPCC.ScaleTrigger.Zoom;qz(aV/aT,false,undefined,undefined,undefined,undefined,hz);};this.ahc=function(){return Rh();};this.ajZ=function(nl,hz){if(O.wb&&typeof O.wb==='function'){O.wb();}var vp;var kp;var Fp;var LQ;var bg;var bd;hz=hz||IPCC.ScaleTrigger.Fit;if(nl===IPCC.FitType.FitToWidth){if(bX===IPCC.ViewMode.Document){var Rz=1;if(eE===IPCC.PageLayout.VerticalScrollDirection){Rz=(an.clientWidth-iH.clientWidth-(iL+iy+sQ+tP))/(eN/aV);}else{Rz=(an.clientHeight-(fT+lA+uV+yI))/(gl/aV);}qz(Rz,true,undefined,undefined,undefined,undefined,hz,nl);}else if(bX===IPCC.ViewMode.SinglePage){if(kc(bE[cK].gm)===true){bg=bE[cK].bd;bd=bE[cK].bg;}else{bg=bE[cK].bg;bd=bE[cK].bd;}vp=yb/bg;kp=xC/bd;if(kp<vp){vp=kp;}Fp=bg*vp/ju;LQ=(an.offsetWidth-IPCC.Web.GS()-(iL+iy+sQ+tP))/Fp;qz(LQ,true,undefined,undefined,undefined,undefined,hz,nl);}else{afG(hz,nl);}wY(true);}else if(nl===IPCC.FitType.ShrinkToWidth){var auk=an.clientWidth-iH.clientWidth;var aml=20;var Vm=auk-aml;if(bX===IPCC.ViewMode.SinglePage){if(kc(bE[cK].gm)===true){bg=bE[cK].bd;bd=bE[cK].bg;}else{bg=bE[cK].bg;bd=bE[cK].bd;}vp=yb/bg;kp=xC/bd;if(kp<vp){vp=kp;}Fp=bg*vp/ju;LQ=(an.offsetWidth-IPCC.Web.GS()-(iL+iy+sQ+tP))/Fp;if(Vm<Fp*aV){qz(LQ,true,undefined,undefined,undefined,undefined,hz,nl);}}else{if(Vm<eN){O.DU(Vm/eN,undefined,true);}}}};this.anQ=function(){var G=0;for(G=0;G<bE.length;G++){O.ak(G);}wY();lf(true);};this.ak=function(ar){var ag;if(bE[ar].bc){ag=document.getElementById(bE[ar].bc);}O.ya(ag,ar);};this.ya=function(ag,ar){if(iW!==null){return;}if(ag&&ag.bA&&ag.bA.hH()===true){var al=ag.bA;al.display();bE[ar].fd=true;var vv=false;for(var bF=0;bF<cC.length;bF++){if(cC[bF]===ar){vv=true;}}if(vv===false){cC.push(ar);}if(bX===IPCC.ViewMode.SinglePage){var mC= -1;if(Array.prototype.indexOf){mC=kS.indexOf(ar);}else{mC=IPCC.Web.gh(kS,ar);}if(mC!== -1){kS.splice(mC,1);}}}};this.Vd=function(gC){var nv=false;if(IPCC.Web.jH.length>0){if(Array.prototype.indexOf){if(IPCC.Web.jH.indexOf(gC)>=0){return true;}}else{if(IPCC.Web.gh(IPCC.Web.jH,gC)>=0){return true;}}}return nv;};var ky='';this.lU=function(V){ky=V;};this.fc=function(){return ky;};this.by=function(aC,C){try{var R=be.getHandler(aC);if(R!==null){R(O,C);}}catch(e){O.F(aC+'Event',e);}};this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};this.ajU=function(R){be.addHandler('currentPageChanged',R);};this.aqE=function(R){be.removeHandler('currentPageChanged',R);};this.acp=function(){return aK.style.cursor||'auto';};this.auC=function(V){aK.style.cursor=V||'auto';};this.TU=function(){return cf;};this.FT=function(V){IPCC.aE.il(V,'value',IPCC.Web.UI.MouseTool);var oS=false;if(cf!==V){ik=null;cf=V;switch(cf){case IPCC.Web.UI.MouseTool.HandPan:az=IPCC.bM.HandOpen;aK.style.cursor=IPCC.bM.eU(az);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:az=IPCC.bM.Text;aK.style.cursor=IPCC.bM.eU(az);break;case IPCC.Web.UI.MouseTool.None:az=IPCC.bM.None;aK.style.cursor=IPCC.bM.eU(az);break;case IPCC.Web.UI.MouseTool.Magnifier:az=IPCC.bM.Magnifier;aK.style.cursor=IPCC.bM.eU(az);break;case IPCC.Web.UI.MouseTool.RectangleZoom:az=IPCC.bM.RectangleZoom;aK.style.cursor=IPCC.bM.eU(az);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:az=IPCC.bM.AddRectangleMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:az=IPCC.bM.AddRectangleRedactionMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:az=IPCC.bM.AddEllipseMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:az=IPCC.bM.AddLineMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.pl()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:az=IPCC.bM.AddStampMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:az=IPCC.bM.AddImageStampMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:az=IPCC.bM.AddImageStampMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:az=IPCC.bM.AddTextMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:az=IPCC.bM.AddFreehandLineMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.mw()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:az=IPCC.bM.AddPolylineMark;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.ln(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:az=IPCC.bM.EditMarks;aK.style.cursor=IPCC.bM.eU(az);oS=true;ik=function(){return[new IPCC.nm(IPCC.Web.UI.MarkType.Text)];};break;default:az=IPCC.bM.None;aK.style.cursor=IPCC.bM.eU(az);break;}var G=0;for(G=0;G<bE.length;G++){var al;if(bE[G].bc){var ag=document.getElementById(bE[G].bc);if(ag){al=ag.bA;}}if(al){if(oS===true){al.Gc(ik());}else{al.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}}this.ac('mouseTool');}};this.akf=function(){return xf;};this.aoh=function(bool){xf= ! !bool;};this.hX=function(){return qD;};this.vi=function(V){if(qD!==V){qD=V;var G=0;for(G=0;G<cC.length;G++){var al;if(bE[cC[G]].bc){al=document.getElementById(bE[cC[G]].bc).bA;}if(al){al.set_textRequired(qD);}}this.ac('textRequired');}};this.amm=function(){return fW;};this.atz=function(V){if(V<0){V=0;}if(fW!==V){fW=V;this.ac('maxPrefetch');}};this.aja=function(){return Aw;};this.atK=function(V){if(Aw!==V){Aw=V;this.ac('displayPagesWhenScrolling');}};this.aoo=function(){return vd;};this.auf=function(V){if(V<0){V=0;}if(vd!==V){vd=V;this.ac('maxOutOfViewDisplay');}};this.aoN=function(){return zR;};this.atT=function(V){if(V<0){V=0;}if(zR!==V){zR=V;this.ac('scrollDisplayThreshold');}};this.apE=function(){return eE;};this.aun=function(V){if(eE===V){return;}eE=V;if(an===''||an.clientHeight<=0||bX===IPCC.ViewMode.SinglePage){this.ac('pageLayout');return;}var xu=cK;var Nx=bX;if(bX===IPCC.ViewMode.EqualWidthPages){O.Rc(IPCC.ViewMode.Document);}an.scrollLeft=0;an.scrollTop=0;var G=0;var ag;if(eE===IPCC.PageLayout.VerticalScrollDirection){if(kk){kk.setAttribute('style','font-size:11px;color:#888;text-align:center;cursor:pointer;white-space:nowrap;display:table-caption;caption-side:bottom;line-height:50px;');}yK.insertBefore(iH,kk);for(G=0;G<bE.length;G++){ag=document.getElementById(bE[G].bc);ag.style.display='block';if(fb>0){ag.style.margin=fT+'px auto '+lA+'px auto';}}aK.style.margin='0px '+iL+'px 0px '+iy+'px';an.scrollLeft=(eN-an.clientWidth)/2+iL+sQ;}else{if(kk){kk.setAttribute('style','font-size:11px;color:#888;text-align:center;cursor:pointer;white-space:nowrap;line-height:50px;');}yK.removeChild(iH);for(G=0;G<bE.length;G++){ag=document.getElementById(bE[G].bc);ag.style.display='inline-block';if(fb>0){ag.style.margin=fT+'px '+iL+'px '+lA+'px '+iy+'px';}}aK.style.margin='0px';an.scrollTop=(gl-an.clientHeight)/2+fT+uV;}if(Nx===IPCC.ViewMode.EqualWidthPages){O.Rc(IPCC.ViewMode.EqualWidthPages);}this.ro(xu);lf(true);this.ac('layout');};this.arm=function(){return bX;};this.Rc=function(V,hz){hz=hz||IPCC.ScaleTrigger.ViewMode;if(bX===V){return;}bX=V;if(an===''||an.clientHeight<=0){this.ac('viewMode');return;}var xu=cK;this.ro(xu);if(bX===IPCC.ViewMode.Document){var tn=1;var bg=fb;var bd=hi;if(kc(mV)===true){bg=hi;bd=fb;}if(eE===IPCC.PageLayout.VerticalScrollDirection){tn=(an.clientWidth-(iL+iy+sQ+tP))/bg;}else{tn=(an.clientHeight-(fT+lA+uV+yI))/bd;}qz(tn,true,undefined,undefined,undefined,undefined,hz);}else{afG(hz);}this.ro(xu);this.ac('viewMode');zm(dF,true);mu(dF,true);};var mV=0;this.arb=function(){return mV;};this.atU=function(V){if(mV!==V){mV=V;var G=0;for(G=0;G<bE.length;G++){if(bE[G].It===0){bE[G].gm=mV;}}this.ac('pageRotation');}};this.abV=function(bb){var dM;if(arguments.length>0){if(!isNaN(bb)){dM=bb;}else{dM=cK;}}else{dM=cK;}for(var G=0;G<bE.length;G++){if(dM===G){return bE[G].gm;}}return 0;};var lk=false;this.fG=function(){return lk;};this.gW=function(V){if(typeof V!=="boolean"){return;}if(V===lk){return;}lk=V;};this.ajP=function(){return QZ;};this.auT=function(V,stampImages){if(QZ!==V){QZ=V;var G=0;for(G=0;G<bE.length;G++){if(bE[G].bg>0){bE[G].aO.abO(V,G,bE[G].bg,bE[G].bd,null,stampImages);bE[G].Ak=false;}else{bE[G].aO.abO(V,G,fb,hi,null,stampImages);bE[G].Ak=true;}}this.ac('annotationXmlDom');}};var kU;this.sa=function(V){kU=V;};this.kX=function(){return kU;};this.arB=function(V){if(Fr!==V){Fr=V;this.ac('loadingContent');}};this.agt=function(){return Fr;};this.alv=function(){var acA=new IPCC.Web.UI.ImGearPageCollection();var G=0;for(G=0;G<cC.length;G++){acA.Wi(bE[cC[G]].ba);}return acA;};this.ahs=function(ar){if(bE[ar]){return bE[ar].bc;}};this.mZ=function(){return nb;};this.qX=function(V){nb=V;};this.iQ=function(){return kQ;};this.sJ=function(V){kQ=V;};this.Ra=function(aI,yN,xU){var O=this;if(aI.qm()>0||aI.qI()>0){yN(aI.qm(),aI.qI());return;}aI.requestPageAttributes(function(aQ,dg){if(bE[aI.get_pageNumber()].Ak===true&&aQ!==fb){var iJ=aQ/fb;var aO=O.hF(aI);if(aO){adY(aO,iJ);}}bE[aI.get_pageNumber()].Ak=false;yN(aQ,dg);},function(fi){xU(fi);});};this.ajK=function(){if(sy===true){return;}sy=true;this.eR(iH,'pccHidden');zm(dF,true);mu(dF,true);};this.agv=function(){if(sy===false){return;}sy=false;this.hZ(iH,'pccHidden');};this.aiX=function(){return sy;};this.hZ=function(aa,Io){var EL=new RegExp('(?:^|\\s)'+Io+'(?!\\S)','g');if(aa.className.match(EL)===null){aa.className=aa.className+' '+Io;}};this.eR=function(aa,Io){var EL=new RegExp('(?:^|\\s)'+Io+'(?!\\S)','g');aa.className=aa.className.replace(EL,'');};this.arA=function(){return me;};this.auS=function(V){me=V;};this.aoy=function(){return hG;};this.atS=function(V){if(hG===V){return;}var K,df,tc;if(hG){K=hG.get_mark();tc=dF[K.get_markID()];df=me(K,{isSelected:true},(tc)?tc.df:undefined);if(tc){zC(K,dF,df);}}K=df=tc=undefined;hG=V;if(hG){K=hG.get_mark();tc=dF[K.get_markID()];df=me(K,{isSelected:true},(tc)?tc.df:undefined);if(tc){zC(K,dF,df);}}mu(dF,true);};this.aqb=function(Tc){IPCC.bh.forEach(Tc,function(IZ){var dK=dF[IZ];if(dK){var qx=me(dK.K,{isSelected:(dK.K.get_conversation()===hG)},dK.df);if(!IPCC.bh.BG(qx)){throw new Error(qx+' is not a valid HTMLElement');}if(qx!==dK.df){zC(dK.K,dF,qx);}}});mu(dF,true);};this.initialize=function(){var aN=this.fc();var G;for(G=aN.childNodes.length-1;G>=0;G--){if(aN.childNodes[G].tagName!=='INPUT'){aN.removeChild(aN.childNodes[G]);}}this.hM.add_documentAdded(Vu);this.hM.add_pageAdded(Gh);this.hM.add_pageRemoved(CY);this.Du(true);aN.bA=this;ZA();var MT='webkit moz o'.split(' '),sL='';if(aK.style.animationName!==undefined){Hw='animationend';Bb='transitionend';return;}for(G=0;G<MT.length;G++){if(aK.style[MT[G]+'Animation']!==undefined){sL=MT[G];Hw=sL+'AnimationEnd';Bb=sL+'TransitionEnd';break;}}};this.aoQ=function(){kk=document.createElement('div');var zW=document.createElement('div'),ZK=document.createElement('div'),km=document.createElement('button'),Vs=document.createElement('img'),gd=new Date(),afM=gd.getFullYear(),JD='?utm_source=rv&utm_medium=rv&utm_campaign=rv'+afM,adE=function(){O.hZ(zW,'open');},abG=function(){O.eR(zW,'open');};km.innerHTML='&#215;';km.setAttribute('type','button');ZK.innerHTML='<h3>Prizm Content Connect v9.3.1026.1053</h3><p>Prizm Content Connect is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about Prizm Content Connect at <a href="http://www.accusoft.com'+JD+'">www.accusoft.com</a>.</p><p>&copy; '+afM+' Accusoft - All Rights Reserved.</p>';zW.className='pccPageListAboutModal';zW.appendChild(km);zW.appendChild(ZK);element.appendChild(zW);Vs.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAA8CAYAAAAJx8Z7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCREVCQjVBOUQwOUUxMUUzQjMxOEMwRDUxQkU5RTcxNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCREVCQjVBQUQwOUUxMUUzQjMxOEMwRDUxQkU5RTcxNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkJERUJCNUE3RDA5RTExRTNCMzE4QzBENTFCRTlFNzE1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkJERUJCNUE4RDA5RTExRTNCMzE4QzBENTFCRTlFNzE1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2lAGMgAAEINJREFUeNrcXAlQVPcdfgvrhSD3KYoiIHKj7GY5tNTpiGY02pqYBBPM0cTaxHTSTJs0rW0zk7SmTZPJtHYSG2PapqaOiZKAiU3igYnKIaCC3DcIgoAI3gr2+57vz6yEe/ftbvJm/rPs27fv/d/3+37f7/i/RZOWliZZa+vt7ZVcXFyOTJ06NQF/95j59Bo7OzvHq1ev1nV1da24du1acU9Pj3Tr1i1Jo9FY5X61vLg1wZ4wYYIEsKXLly87mRsE3purq+ssR0fHt/Ly8pIOHTok2dvbSxMnTpSscd/a4uJiq4ENtklnz55NMRgMJwDAHLDQ7KzjOWHMRH9//+0A/VGCTMCtsWm0Wq1kze3mzZtSZGTkggceeOA42C1dv37d7IDzfGRze3v7CwUFBa+WlJTIHmVpObHv6+uTrDkUwFvc3NwaMFaSeWq5uIeHxw+g36eLiopKyG4CblGwJRvYrly5Ip06derEjBkz3P38/O6ivJh7E0aEhq9GUN6LeNFy4cIFCUHUcprN4GTNja5848YNWb9ra2uf8fHxiZoyZcr31ACc55w8ebJ9QkJCZnd3d3RZWVkbdJz7LBIwNSkpKZKtbBcvXiTzfPV6fRGAcVdDv7kR4MbGxiNHjx5NAujydS3BcI23t7fNgM1U8NKlS1JYWNji5cuX7yfjGUDVkBQnJyde71/p6enrIGGSs7OzxGRBTYZrW1tbJVvb4N4HkA4+5+vr+xcyTw3polHB8LSAgIDKpqamlwk0jatmhmIv2eBGNiNjOAZJCZw5c2a0GvotroPzL0YOXtHS0lLc2dkpqZkK29ki2HRlZiiVlZXroNuFzJHVki3GBWRBO2BYAwsgkbWoMTSIzLaIt5yDMw/28vKaExUVVQBQpqkRMAkCsh+2C9qg3VEdHR2tavVPNAhGVgOUhcVQN8X9ZDfH3LlzV8THx39CJqoVMJmhgNnHsCWwYcWUmBmKOQOmRvoWbDTKhg0bXkQO/goLEbWCGBne3Ny8A/n+WsYJGtacKaFm06ZNFknpBFs5eb4yEJ04cUI6d+6cXFTIqRH2sT/CVIzsEizm8QhkUnJy8q6goKB7+ZlaGxnd1tb2ckFBwSalCDKbcTUZGRmqg82USoAmoj3dk4GPrBWuSkPwWEpHbm6utHnz5jvOExoaOik1NbUQx8xTo0MovIix4vTp048C9PcEWcxxLW17e7tFwOZkOYZrbxJ0Ak4jsLKlW2/ZskV+5QaWXQPr18ybN69w0qRJWjLP3IALL4Rht6PQqayqqjrCwEyGm1r0WLe/OkhQ5M0QxOrqaikpKYnZiLR9+3b5ZikrYFwxjlsXHh7+H74XnUNzA06je3p67kZZHw0vOsvrUOJMMa5NgT3QnXGjUkhIiDR9+nRpz549/cYoLS3dAfBjwL5fMGCq5Y3wMK+IiIjM8+fP63NycvpwXZMCpv2qVasskjMLGRnLZAkstXnhwoUMWjLbjbYvwLxEJyenOWqkg4LhCJh+kLGwkpKSXcjBTSpqbBXsezDux/FZZBi/v3TpUi6h9QPOng5K7E/1ev3DOM5Jrb4GAYdBwyFtUwD2l8YB/7vA7GUYmRjfV3Q8iwGKY9myZTLYDQ0NIlW84uDgkOPi4vIYZUcN/ebGGBIYGJiEArCxrKyskC3Z7wLYD2F8ZPQ+GaMF38sn2NxiY2NlLWc+7OrqSvAbPDw82n19fe9Wq2ElGA7DroSh98OrGsZTXdoS2E9hvDPI/hUYBfhuBbMBBkuAK+3cuVNil44AQ0/zAPz0GTNmLFALcJFrI+1c6e3tvaOmpqZ7rHJiK12/FzD+NsznZPt8kaGwn7N+/XpZO2kAjoqKiicBSLZaS1wEmobEHNxRxWY6OjpO/DbKyCsYL400T4zlGNsB5FVWmMzBm5ub+wMmgqVUX1//BQyRhoLHQY2AKdZLkZ34wIsisWsns6TRxgprM/tNjBdHeex0jF28Ybo0gd64caOk0+n6D2hqamoA4Kn0ADUXAbjK4+/vvyo+Pv61sTzwY01mU583jPFUgRh8TO1zujTbotHR0dRseU0RQZJGqEbwvOTj47NErf6JSP+mTZuWAKM2AfxCStlI8mUtsN/HWDfO03G1oxDnKWf3z8/PjyyTDhw4IBdAqPao60fd3NxCAH6kyGLUuCcOVLj3wOiHT506VWcTMiLYpVh+N8ZaE0/5xu2K3l4udBgwkQfLhQ4XiKnf+fn5aTDISTUDJsGmgaHfu+fMmRM40hNWFgFbLDMBnH14+0MznPJ/zMZESoaAKBkMhjsOQGrWm56evgZgXBX9cjU2go3ruzzyyCMZiYmJk2whQNqDZYcxzPFE0KsYPxUGFMtXA+WCQSwvL4+r5g+ZcwFgMIYrsSEsODj4w+ECpiU0WwswvsZkEs1wrl8D5N/xD7os+95sDnV1dclaXVdXJz/dRKbzM75CWkpxfS1cfdF4exqjLek9PT1D5s6dOw2G/nywdQK1wXbAOAqgdWaQoqdxnteZ0nFQL7mstm/fPgnBUJYT9k640FBbWysfQ8Cp42DeQeh6HAwUolaHkBvPDcDjYdTW0tLS45YE25lAY8SYAehUAPcuASSDyGQWE6ga5Vemf8xM3N3dZTlhGojUTwZ71qxZ8n58nonXB6mvanUIKW0kgZeX13Jc5xiuU238RJdamu2GkYsRaWp6BTYucXFx+YBVIzMPLhATbNltHBz6n7EmeASa7sveyZIlS2SWi4yhrKysJzc3dw2NpdZDP9xE7EhOTv4oFNsdeqrC9XwwjmHMMjF76UHRkIxioSAnJ6d/fZKSQYCHSucIOnWbQZGgZmVl9X8GwPPA+ifi4uL+QcaplRIScMzRETn4x+Xl5TFg+BXO2dxgz8T4GmOGKUDDBZvByqSqqqra7OxsWQuDgoL6H3kQBQXZLrp81Gxj8CgVfPxBAEBD8Zji4uJ3XF1doxEwn+b31dpocMhJyNq1a3cjDV1mbmaTyTkYXuMFmZoMaSiG2yccP368h8+PEBAAEwpp+BHSqpVgiBeAO4/j21BItKB6a8TX62CccuyvBKBtAnhhCJ6XvW++r6yspAxtfPzxxyP50L2pi7jDMZxzx3yXIlY8CeNvNRfYQRjZGO4msJl/foCyO5Xa7OzsHAbJu58/y+Cy1B1R3d5eliiW6uxvk+XskzAhiIqKagCoh8GsX8IjzgmW07Vnz54tcYGYWo/g+iC8pRDe4m3uHgq9SPxACtdrRlqaxTmaA+x5GF+NF2hOjAM3vANFyDMA6WGAvMnX1zfY2BhDGWnAZ1o+ZsyGFfZH4Ab1PIwfMKhSjpi5kOFnzpxpAePvR0p4iMwXz4uYVFDgPKIriUD+BVLQ10CUz2loGtRUsMOVYOg0VhdTHku4BUA0mEgnGOAWEBBQBoZ6iL7DeL1EMWIcmLsTDFsjgGSqyMJHCWASAm9WSkrKzxYtWvQmU8fxXFOQRVlcAFcubmtubv4r3lfTQ5kRsaqk55qSZ0cp0uE42t6IUdevD659Czd9C7rWhxt1wISC4d4O5vppHs+BlDE8JiaGrpzFsp5BlhkK00eRooGNOQikMwFK7FgKHvHklgJyWXV19YvI+VOxfy/iwHnRT2e+j3nIncnxgj1fyTqmjgSwsDx34WZkgOlSKGk1mJQdjrGDbmrU+tUt3DgZ1zzd2dlZwn6JKOO5MbthmQ+gPkGwvRup5vSRSnqCyO/TC5DTf4x08se4r+dxjQKA3UuD6fV62ZjEIDw8vL8mGI+M6BWNnjicTBgB3Ieh4SQwAUqGRpTSahYXxoWRwWD4NwAq3bZt22mxn4ChtJbXL2kEyMsaAFIEeXEaCDjvRxgIXtgOgN8GObbg7xaCykfkGAdgOE/cmxfOU4tDL5NUYo2U3x8r2HcpjNYOxmSFndThXpEBAGQ7SIWd+EmzNX53iblNhoTsRjYSjcB4lRrO+fEXYhEREfI8W1tb6wFSKgJmBg0knvcTBRS+VwBw/4S/dzU0NPSxDUAwWWRh+ON8z61YsWI9jp+C73bh80pvb+8qvD8JY5zD96o0fGhxlBsbxofZcBsqRxatTloZbCGrNZyspX+2PMwCxidbt25dWVRUJPdPOBjACDyJQoCRrTyPsVn5ScnNjo6O/4KZrwPgQvZh2DenBjOgAuxopJ6/geTfO2CBpD+V5CuZXV9f//RomR2vSIf9UDoG9lY2NjZ+CR1k4eFHHRauZ81/s2FMCJDhHp1O90eA+iuCTPAIKqs9ajc3aPurKKLehyFCkS5WAqQGFkTQdPk43isYuxhF1u+xf+EQKWh/ewHnzT948OAaYFIzmgBpUIDWDscanDwXjE7Nz89/HTfwEZiSjyzgLNitBejuOMZeZCTW+ucqBACFUFJwcHAd3p5kaoZ0U1q9ejUXb/tTQrC1B5JXC++8QD1nP4kgQy4eghTtBLOfg7EChuvPcJSXlz+L9PIxAH6eP+7Vmgq06EsAUJ/58+fLPWZMsBiuUwymv8vPQkJCPOFy7CfrMWkdtDEO+bS3sbtZiv3UY2j1e5jvGWDwJVlL7Y6Pj5dB5edgs/xKaUGMccVcn0IwfQbe6jnSXHk/3d3dWSDawyhqGnke4eHaEYA+Mpo2rPLwymy43bTExMRuNuzJCPEAO8tmsOYzuO1nbIFisvYITBGQHh1uxIAb0oNZ4bg5O+O0UU0DxMbG7oV2JwLw4wx07AJSW9meVYqQWAS5Z2GIVOGVI4EMYK8hkK7Hff6Tus77F/8qaTiwCXTWWPrduNh1AHyT/Qq6DNuionKjdtENqZPMSAB+LyZxEjd4sqqq6h2mTgDdEzKkx+dx0EcDvrsAHuCpBvsVY0687777vsrOzl4MkhxTfhnGlsO98NCf4Noxxg9PDicZ/AwAp7e0tDyK83TxHgdrAw8GdpwC9GiT4Crp9rN428CIywwi1D8OBqChHqTkZOQSVvmfTWDFORy/lxUY98MDJmBfBDRST/kBS3QwWDg+szMH+HRvGH8ySvX9MPwHBBrvl+IakwSAI51f6V23IVNZV1FRsY8k49yHikkDwY4ZJdAsDnYr48TACZDR4sGcsTRxxGNjyt83wLhCaF8hzvN2U1MTUzVvsF4Hg94F8PVw+TiA5DYe8AWg+P4USMVjg/VXhvsuPQFMfgOl/89FNTpSimsMdgjGIen2Iu03PE9pOO1hrsqejgVy4v6iQrQr8b4VQGci8GZSZ1EKTwCzInHjeui+DsFOj2NCtUpjQg3dV/6jQ2FNTc1azKOUPQ/RiBrpWlqjxj+bSs5Gn13C2I/BH0p+itFszRzZWH44lKbRDXxWgBsvQLbwFosT5Mm+8IoFgYGBBhgijkYg+wUg45Uf5fmQ65CMZ+Ftf6cXst8xll88aJU2KZfdueZ0BmOvwt4DGFckG92MG128afE7RWQULTBEJgDhvyZisaWF3EQiLvBxCgNTT3hA+G38NKOSDB6DrOXDurq6JyBnXVyEGE87lmCnKez9w0D9/TZtAjSyXmg/Ay9k5yZiSCEyHbr+Vu6H7vsgHuhwXJyPj48O35mPwPaNvJ+GRKBuQHGShu9l8Xw07HiLMoL9W4xr0nd0Ey1e0RqlMSAvZ5GBZHR0dGQQOOzjL53DmHZCjnR4jUcqGoSc+c8w0Evsf3OFx9QHfP4vwAAy6mzeq/+69gAAAABJRU5ErkJggg==';Vs.setAttribute('style','margin:0 4px 0 0;width:20px;height:14px;vertical-align:middle;');kk.appendChild(Vs);kk.innerHTML+='Prizm Content Connect v9.3.1026.1053';if(eE===IPCC.PageLayout.HorizontalScrollDirection){kk.setAttribute('style','font-size:11px;color:#888;text-align:center;cursor:pointer;white-space:nowrap;line-height:50px;');}else{kk.setAttribute('style','font-size:11px;color:#888;text-align:center;cursor:pointer;white-space:nowrap;display:table-caption;caption-side:bottom;line-height:50px;');}yK.appendChild(kk);if(!kk.addEventListener){kk.attachEvent('onclick',adE);}else{kk.addEventListener('click',adE,false);}if(!km.addEventListener){km.attachEvent('onclick',abG);}else{km.addEventListener('click',abG,false);}Ya=kk.offsetHeight;};this.Mi=function(){return ic;};this.Du=function(V){ic=V;this.ac('enabled');};this.aoE=function(){if(cK+1<bE.length){O.ro(cK+1);}};this.anu=function(){var ND=cK-1;if(ND<0){ND=0;}O.ro(ND);};function AG(C){IPCC.Web.UI.aW.removeHandler(C.target,Hw,AG);IPCC.Web.UI.aW.removeHandler(C.target,Bb,AG);if(CX>cK){O.eR(C.target,'pccNextPageIn');O.eR(C.target,'pccPreviousPageIn');O.eR(C.target,'pccCurrentPage');O.eR(C.target,'pccPageBack');O.eR(C.target,'pccPageForward');O.hZ(C.target,'pccNextPage');}else if(CX<cK){O.eR(C.target,'pccNextPageIn');O.eR(C.target,'pccPreviousPageIn');O.eR(C.target,'pccCurrentPage');O.eR(C.target,'pccPageBack');O.eR(C.target,'pccPageForward');O.hZ(C.target,'pccPreviousPage');}O.eR(aK,'pccPageListContainerPageChanging');an.style.overflow='auto';iW=null;aK.style.overflow='hidden';var kN=IPCC.bh.filter(dF,function(el){return el.bb===cK+1;});Uw(kN);setTimeout(function(){lf(true);},60);};this.ro=function(ar){var Fq=cK;var kN;if(bX===IPCC.ViewMode.SinglePage){oD=ar;dW=ar;iP=ar;kN=IPCC.bh.filter(dF,function(el){return el.bb!==ar+1;});Hv(kN);}else{var aI=document.getElementById(bE[ar].bc);rC=true;if(eE===IPCC.PageLayout.VerticalScrollDirection){an.scrollTop=aI.offsetTop;}else{an.scrollLeft=aI.offsetLeft;}}if(cK!==ar){cK=ar;var C=new IPCC.PageEventArgs();C.imGearPage=O.get_currentPage();C.pageIndex=cK;C.pageNodeID=bE[cK].bc;O.by('currentPageChanged',C);if(bX===IPCC.ViewMode.SinglePage){var fN=document.getElementById(bE[cK].bc);var rf=document.getElementById(bE[Fq].bc);if(fN===null){fN=fM({overflow:'hidden',position:'absolute',margin:'0px'});fN.className='pccPageListItem pccCurrentPage';kS.push(cK);if(fb>0){if(kc(mV)===true){fN.style.width=hi*aV+'px';fN.style.height=fb*aV+'px';}else{fN.style.width=fb*aV+'px';fN.style.height=hi*aV+'px';}}else{fN.style.width=aK.clientWidth-iL-iy+'px';fN.style.height=aK.clientWidth*0.8+'px';}fN.style.display='block';fN.setAttribute('id',bE[cK].bc);aK.appendChild(fN);}if(Bb.length>0){an.style.overflow='hidden';aK.style.width=fN.style.width;aK.style.height=fN.style.height;aK.style.overflow='visible';if(iW!==null){IPCC.Web.UI.aW.removeHandler(iW,Hw,AG);IPCC.Web.UI.aW.removeHandler(iW,Bb,AG);if(CX>cK){this.eR(iW,'pccNextPageIn');this.eR(iW,'pccPreviousPageIn');this.eR(iW,'pccCurrentPage');this.eR(iW,'pccPageForward');this.eR(iW,'pccPageBack');this.hZ(iW,'pccNextPage');}else if(CX<cK){this.eR(iW,'pccNextPageIn');this.eR(iW,'pccPreviousPageIn');this.eR(iW,'pccCurrentPage');this.eR(iW,'pccPageForward');this.eR(iW,'pccPageBack');this.hZ(iW,'pccPreviousPage');}}IPCC.Web.UI.aW.addHandler(rf,Hw,AG);IPCC.Web.UI.aW.addHandler(rf,Bb,AG);iW=rf;CX=Fq;this.hZ(aK,'pccPageListContainerPageChanging');if(cK>Fq){this.hZ(rf,'pccPageForward');this.eR(fN,'pccPageBack');this.eR(fN,'pccPreviousPage');this.eR(fN,'pccPreviousPageIn');this.eR(fN,'pccNextPage');this.hZ(fN,'pccCurrentPage');this.hZ(fN,'pccNextPageIn');}else{this.hZ(rf,'pccPageBack');this.eR(fN,'pccPageForward');this.eR(fN,'pccPreviousPage');this.eR(fN,'pccNextPage');this.eR(fN,'pccNextPageIn');this.hZ(fN,'pccCurrentPage');this.hZ(fN,'pccPreviousPageIn');}}else{aK.style.width=fN.style.width;aK.style.height=fN.style.height;if(cK>Fq){this.eR(rf,'pccNextPage');this.eR(rf,'pccCurrentPage');this.hZ(rf,'pccPreviousPage');}else{this.eR(rf,'pccPreviousPage');this.eR(rf,'pccCurrentPage');this.hZ(rf,'pccNextPage');}this.eR(fN,'pccPreviousPage');this.eR(fN,'pccNextPage');this.hZ(fN,'pccCurrentPage');kN=IPCC.bh.filter(dF,function(el){return el.bb===ar+1;});Uw(kN);setTimeout(function(){lf(true);},60);}}}};this.aoe=function(){if(bE.length>0){O.ro(0);}};this.app=function(){if(cK<bE.length-1){O.ro(bE.length-1);}};this.alY=function(db){if(sy===false){return "CommentsPanelClosed";}var eF=dF[db.get_mark().get_markID()];if(!eF){return "ConversationDivDoesNotExist";}if(bX===IPCC.ViewMode.SinglePage&&eF.bb-1!==cK){return "SinglePageModePageNotShown";}var aI=document.getElementById(bE[eF.bb-1].bc);if(bE[eF.bb-1].fd===false||aI===undefined||aI.bA===undefined||aI.bA===null||aI.bA.hH()===false){return "PageOutOfView";}var h=db.get_mark().get_boundingRectangle();var pY=aI.bA.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x,h.y),true);var yt=aI.bA.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x+h.width,h.y),true);pY.x=aK.offsetWidth;yt.x=aK.offsetWidth+iH.clientWidth;O.Yn(aI.offsetTop,aI.offsetLeft,pY,yt);return "Success";};this.aoG=function(ar,h){if(bX===IPCC.ViewMode.SinglePage&&ar!==cK){return true;}var aI=document.getElementById(bE[ar].bc);if(bE[ar].fd===false||aI===undefined||aI.bA===undefined||aI.bA===null||aI.bA.hH()===false){return false;}var pY=aI.bA.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x,h.y),true);var yt=aI.bA.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x+h.width,h.y+h.height),true);O.Yn(aI.offsetTop,aI.offsetLeft,pY,yt);return true;};this.Yn=function(aiD,ahK,pY,yt){var XF=yt.x-pY.x;var aad=yt.y-pY.y;var cV=new IPCC.Web.UI.Point(0,0);if(XF>an.clientWidth){cV.x=pY.x;}else{cV.x=pY.x+(XF/2);}if(aad>an.clientHeight){cV.y=pY.y;}else{cV.y=pY.y+(aad/2);}if(eE===IPCC.PageLayout.VerticalScrollDirection){an.scrollTop=aiD+cV.y-an.clientHeight/2;an.scrollLeft=cV.x-an.clientWidth/2;}else{an.scrollLeft=ahK+cV.x-an.clientWidth/2;an.scrollTop=cV.y-an.clientHeight/2;}};this.ajy=function(){if(O.hM.get_length()>0){O.hM.removeAllDocuments();}if(cC.length>0){Cu++;setTimeout(function(){SI();},10);return;}};this.Rq=function(ar,aH,ct,di){if(bE[ar]&&bE[ar].fd===true){var ag=document.getElementById(bE[ar].bc);if(ag&&ag.bA&&ag.bA.hH()===true){if(di){IPCC.aE.di(di,"selectText");var hh=ag.bA.wf();var aol=hh.hS;var ahV=hh.ck;hh.hS=di;hh.ck=di;ag.bA.showTextSelection(aH,ct);hh.hS=aol;hh.ck=ahV;}else{ag.bA.showTextSelection(aH,ct);}}}};this.afU=function(){var G;for(G=0;G<cC.length;G++){if(bE[cC[G]].fd===true){var bA=document.getElementById(bE[cC[G]].bc).bA;if(bA&&bA.hH()===true){bA.showEmptyTextSelection(0);bA.extendTextSelection(undefined);bA.display();}}}};this.ahT=function(ar){if(bE[ar]&&bE[ar].fd===true){var bA=document.getElementById(bE[ar].bc).bA;if(bA&&bA.hH()===true){bA.showEmptyTextSelection(0);bA.extendTextSelection(undefined);bA.display();}}};this.HX=function(){var aI,dw,bA;IPCC.bh.forEach(mQ,function(G){aI=bE[G];dw=document.getElementById(aI.bc);if(dw){bA=dw.bA;}if(bA){if(bA.hH()&&bA.zT()){bA.showEmptyTextSelection(0);bA.extendTextSelection(undefined);if(aI.fd){bA.display();}}}aI=dw=bA=undefined;});};this.Fo=function(ar,qo){var ag;var al;bE[ar].gm+=qo;if(bE[ar].gm>=360){bE[ar].gm-=360;}if(bE[ar].gm<= -360){bE[ar].gm+=360;}if(bE[ar].bc){ag=document.getElementById(bE[ar].bc);}if(ag===undefined||ag===null){return;}al=ag.bA;if(al&&al.hH()===false){bE[ar].It+=qo;return;}rC=true;if(al&&al.hH()===true){al.rotate(qo);}var bg=0;var bd=0;var eV=fb;var eb=hi;if(kc(mV)===true){eV=hi;eb=fb;}if(kc(bE[ar].gm)===true){if(al&&al.hH()===true){bg=al.get_pageHeight();bd=al.get_pageWidth();}else{bg=hi;bd=fb;}}else{if(al&&al.hH()===true){bg=al.get_pageWidth();bd=al.get_pageHeight();}else{bg=fb;bd=hi;}}rC=true;if(bX===IPCC.ViewMode.SinglePage){var vF=yb/bg;var kp=xC/bd;var oZ=vF;if(kp<vF){oZ=kp;}var iz=aV/ju*oZ*bd;var hN=aV/ju*oZ*bg;ag.style.height=iz+'px';ag.style.width=hN+'px';if(al&&al.hH()===true){al.zoom(aV/ju*oZ);}if(ar===cK){aK.style.width=hN+'px';aK.style.height=iz+'px';}}else if(bX===IPCC.ViewMode.Document){ag.style.width=bg*aV+'px';ag.style.height=bd*aV+'px';var G=0;if(eE===IPCC.PageLayout.VerticalScrollDirection){if(bg*aV>eN){eN=bg*aV;}else if(ag.clientHeight>=eN-10){eN=0;for(G=0;G<bE.length;G++){ag=document.getElementById(bE[G].bc);if(ag.clientWidth>eN){eN=ag.clientWidth;}}}}else{if(bd*aV>gl){gl=bd*aV;}else if(ag.clientWidth>=gl-10){gl=0;for(G=0;G<bE.length;G++){ag=document.getElementById(bE[G].bc);if(ag.clientHeight>gl){gl=ag.clientHeight;}}}}}else{var er;if(eE===IPCC.PageLayout.VerticalScrollDirection){er=eV/bg*aV;if(al&&al.hH()===true){al.zoom(er);}rC=true;ag.style.width=eV*aV+'px';ag.style.height=er*bd+'px';if(eV*aV>eN){eN=eV*aV;}}else{er=eb/bd*aV;if(al&&al.hH()===true){al.zoom(er);}rC=true;ag.style.height=eb*aV+'px';ag.style.width=er*bg+'px';if(eb*aV>gl){gl=eb*aV;}}}if(al&&al.hH()===true){rC=true;this.ya(ag,ar);setTimeout(function(){if(sy===false){return;}var lD=iH.offsetHeight;var kN=IPCC.bh.filter(dF,function(el){return ar===el.bb-1;});zm(kN);mu(kN,lD);},0);}};this.aqt=function(qo){this.Fo(cK,qo);wY();};this.WL=function(qo){var xu=cK;if(bX!==IPCC.ViewMode.SinglePage){this.ro(xu);}var Ae=0;var BX=bE.length-1;var G;for(G=Ae;G<=BX;G++){this.Fo(G,qo);}if(bX!==IPCC.ViewMode.SinglePage){this.ro(xu);}};this.CN=function(ar){IPCC.aE.kH(ar,'pageIndex',0,bE.length-1);var aI=bE[ar];if(aI&&aI.bc&&(aI.qp===true||aI.hb===false)){var aZ;var ag=document.getElementById(aI.bc);if(ag.bA){ag.bA.dispose();}adG(ag);aZ=new IPCC.Web.UI.PageView(ag);if(aZ){aZ.set_autoUpdate(false);aZ.lU(ag);aZ.initialize();aZ.set_imageHandlerUrl(aI.ai.mR);aZ.set_requireRequestsOptimize(nb);if(kQ!==undefined){aZ.set_serviceResponseTimeout(kQ);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);Dz(aZ,aI);QB(aZ);EE(aZ);Rj(aZ);RQ(aZ);}aZ.set_textRequired(qD);aZ.set_cursor(-1);aZ.set_debug(_debug);aZ.set_debugErrorLevel(jU);aZ.gW(O.fG());if(kU){aZ.set_resourcePath(kU);}if(ik){aZ.Gc(ik());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}var fR=new IPCC.OpenPageEventArgs();fR.pageIndex=aI.ba.get_pageNumber();fR.imGearPage=aI.ba;fR.viewRotationDegreesClockwise=aI.gm;fR.pageNodeID=aI.bc;O.by('pageOpening',fR);aI.qp=false;aI.hn=false;if(aI.aO){aZ.openPage({encodedDocumentIdentifier:aI.ai.get_encodedDocumentIdentifier(),pageNumber:ar,artServiceOption:0,artPage:aI.aO,viewRotationDegreesClockwise:aI.gm});}else{aZ.openPage({encodedDocumentIdentifier:aI.ai.get_encodedDocumentIdentifier(),pageNumber:ar,artServiceOption:0,viewRotationDegreesClockwise:aI.gm});}aI.hb=true;ft++;}};function afG(hz,nl){if(fb<=0){return;}var eV=fb;var eb=hi;if(kc(mV)===true){eV=hi;eb=fb;}var tn=1;if(eE===IPCC.PageLayout.VerticalScrollDirection){tn=(an.clientWidth-iH.clientWidth-(iL+iy+sQ+tP))/eV;}else{tn=(an.clientHeight-(fT+lA+uV+yI))/eb;}var tM;if(aV<=tn){tM=false;}else if(aV>tn){tM=true;}aV=tn;eN=0;gl=0;var Ae=0;var BX=bE.length-1;var k=0;for(k=Ae;k<=BX;k++){var al;if(bE[k].bc){al=document.getElementById(bE[k].bc).bA;}var ag=document.getElementById(bE[k].bc);var bg=eV;var bd=eb;if(bE[k].bg>0){if(kc(bE[k].gm)===true){bg=bE[k].bd;bd=bE[k].bg;}else{bg=bE[k].bg;bd=bE[k].bd;}}var er=1;if(eE===IPCC.PageLayout.VerticalScrollDirection){er=eV/bg*aV;ag.style.width=eV*aV+'px';ag.style.height=bd*er+'px';if(eV*aV>eN){eN=eV*aV;}if(bd*er>gl){gl=bd*er;}}else{er=eb/bd*aV;ag.style.height=eb*aV+'px';ag.style.width=bg*er+'px';if(bg*aV>eN){eN=bg*aV;}if(eb*er>gl){gl=eb*er;}}if(al&&bE[k].fd===true&&al.hH()===true){al.zoom(er);}if(al&&bE[k].fd===true&&al.hH()===true){al.display();}}O.by('scaleChanged',{scaleType:(tM)?"scaledDown":"scaledUp",scaleTrigger:hz,fitType:nl});};function kc(cZ){switch(cZ){case 90:case 270:case-90:case-270:return true;default:return false;}};function fM(iY){var qt=document.createElement('div');var G;for(G in iY){if(iY.hasOwnProperty(G)){qt.style[G]=iY[G];}}return qt;};this.Qu=function(){if(qB===undefined||qB===null){qB=1;}var fu=this.fc().id.toString()+'_'+qB.toString();qB++;return fu;};this.Vv=function(){return this.hM;};this.hF=function(OQ){for(var fv=0;fv<bE.length;fv++){var ec=bE[fv];if(OQ===ec.ba){return bE[fv].aO;}}return null;};function Vu(ad,C){DM(C);};function DM(ay){var cI=ay.imGearDocument;var Oe=O.Qu();cI.nx=Oe;var bW=cI.get_pages();var bp=bW.get_length();if(bp>0){var wd=document.createDocumentFragment();for(var k=0;k<bp;k++){var aI=bW.getPage(k);if(!aI.ai){aI.ai=cI;}Sm(aI,wd);}aK.appendChild(wd);}};function Gh(ad,C){if(C.imGearPage.get_pageNumber()===0){Sm(C.imGearPage);return;}Lu.push(C.imGearPage);setTimeout(function(){if(Lu.length>0){var wd=document.createDocumentFragment();while(Lu.length>0){Sm(Lu.shift(),wd);}aK.appendChild(wd);zm(dF,true);mu(dF,true);setTimeout(function(){lf(true);},60);}},10);};function CY(ad,C){var dM=C.imGearPage.get_pageNumber();var zy=C.imGearPage.ai.get_documentIdentifier();for(var k=0;k<bE.length;k++){if(bE[k].ba.get_pageNumber()===dM&&bE[k].ba.ai.get_documentIdentifier()===zy){var ag=document.getElementById(bE[k].bc);aK.removeChild(ag);if(ag.bA){ag.bA.dispose();var kN=IPCC.bh.filter(dF,function(el){return el.bb===bE[k].dM+1;});Hv(kN);}var mr= -1;if(Array.prototype.indexOf){mr=cC.indexOf(dM);}else{mr=IPCC.Web.gh(cC,dM);}if(mr!== -1){cC.splice(mr,1);}bE.splice(k,1);}}};function Sm(ay,wd){var aI=ay;var Cp=aI.get_pageNumber();var aM;var aN=document.getElementById(O.fc().id);var cI=null;var nJ;var pn=[];var G=0;var bF=0;var bp=O.get_documents().get_length();for(bF=0;bF<bp;bF++){cI=O.get_documents().getDocument(bF);if(cI!==null){nJ=cI.nx;if(nJ===aI.ai.nx){break;}}}for(var dj=0;dj<bE.length;dj++){if(bE[dj].ai){cI=bE[dj].ai;if(dj===0){pn[G]=cI;G++;continue;}else if(bE[dj-1].ai!==cI){pn[G]=cI;G++;continue;}}}for(dj=bE.length-1;dj>=0;dj--){if(bE[dj].ba){if(bE[dj].ba===aI){return;}}}var re=true;var ew;var Nr;var aS;for(dj=0;dj<bE.length;dj++){ew=bE[dj];if(ew.Bx===1){if(aI.ai.nx===ew.vG){aM=document.getElementById(ew.bc);ew.Bx=0;Nr=ew.bc;re=false;aS=ew;break;}}}var hK=false;for(dj=bE.length-1;dj>=0;dj--){if(bE[dj].ba){if(bE[dj].ba.ai===aI.ai){hK=true;break;}}}if(aK===''){ZA();}if(re===true){Nr=aI.ai.nx+'_'+IPCC.Pagecounter.toString();IPCC.Pagecounter++;}var JA=Nr+'_'+'_pViewId';if(bX!==IPCC.ViewMode.SinglePage||Cp===0){if(bX!==IPCC.ViewMode.SinglePage){aM=fM({overflow:'hidden',position:'relative'});aM.className+=' pccPageListItem';}else{aM=fM({overflow:'hidden',position:'absolute',margin:'0px'});aM.className='pccPageListItem pccCurrentPage';kS.push(0);}if(fb>0){if(kc(mV)===true){aM.style.width=hi*aV+'px';aM.style.height=fb*aV+'px';}else{aM.style.width=fb*aV+'px';aM.style.height=hi*aV+'px';}}else{var afH=aK.clientWidth-iL-iy;if(afH>0){aM.style.width=afH+'px';aM.style.height=aK.clientWidth*0.8+'px';}}if(eE===IPCC.PageLayout.VerticalScrollDirection||bX===IPCC.ViewMode.SinglePage){aM.style.display='block';if(fb>0){aM.style.margin=fT+'px auto '+lA+'px auto';}}else{aM.style.display='inline-block';if(fb>0){aM.style.margin=fT+'px '+iL+'px '+lA+'px '+iy+'px';}}aM.setAttribute('id',JA);}if(re===true){aS=new IPCC.ds({page:aI});}akv(aI);ahY(aI);aS.bc=JA;aS.ba=aI;aS.vG=nJ;aS.fd=false;aS.aO=new IPCC.Web.UI.ArtPage();aS.gm=mV;akb(aS);ago(aS);alG(aS);alz(aS);ala(aS);akJ(aS);akV(aS);aqk(aS);aql(aS);amO(aS);aS.yQ=false;aS.ai=aI.ai;aS.hn=false;aS.dM=Cp;var HB;var cT;if(re){if(bE.length===0){aK.appendChild(aM);bE.push(aS);}else{if(wd){if(bX!==IPCC.ViewMode.SinglePage){wd.appendChild(aM);}bE.push(aS);}else{for(dj=0;dj<bE.length;dj++){ew=bE[dj];if(ew.vG===nJ){if(ew.ba){var Ss=ew.ba.get_pageNumber();if(Cp<Ss){bE.splice(dj,0,aS);cT=document.getElementById(ew.bc);aK.insertBefore(aM,cT);HB=true;break;}}}}if(!HB){if(bX!==IPCC.ViewMode.SinglePage){aK.appendChild(aM);}bE.push(aS);}}}}var LB=false;if(aM&&aN.clientWidth>0){var BQ=aN.clientWidth/(aM.clientWidth+(aM.clientLeft*2));var vE=aN.clientHeight/(aM.clientHeight+(aM.clientTop*2));if(bE.length<(BQ*vE)){LB=true;}}if(bE.length<2){var aZ;aZ=new IPCC.Web.UI.PageView(document.getElementById(JA),false);if(aZ){aZ.set_autoUpdate(false);aZ.lU(document.getElementById(JA));aZ.initialize();aZ.set_imageHandlerUrl(aI.ai.mR);aZ.set_imGearPage(aS.ba);aZ.set_artPage(aS.aO);aZ.set_requireRequestsOptimize(nb);if(kQ!==undefined){aZ.set_serviceResponseTimeout(kQ);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.set_textRequired(qD);aZ.set_cursor(-1);aZ.set_debug(_debug);aZ.set_debugErrorLevel(jU);aZ.gW(O.fG());if(kU){aZ.set_resourcePath(kU);}if(ik){aZ.Gc(ik());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}Dz(aZ,aS);EE(aZ);Rj(aZ);QB(aZ);RQ(aZ);var fR=new IPCC.OpenPageEventArgs();fR.pageIndex=aS.ba.get_pageNumber();fR.imGearPage=aS.ba;fR.viewRotationDegreesClockwise=aS.gm;fR.pageNodeID=aS.bc;O.by('pageOpening',fR);aZ.openPage({encodedDocumentIdentifier:aI.ai.get_encodedDocumentIdentifier(),pageNumber:aI.get_pageNumber(),artServiceOption:0,imGearPage:aS.ba,artPage:aS.aO,viewRotationDegreesClockwise:aS.gm});aS.hb=true;ft++;}return aM;};function lf(FG){if(ft>0||ic===false||iW!==null){return;}var nU;var cn=aoS(FG);if(cn>=0){nU=cn;}if(nU!==undefined&&nU>=0){if(nU<bE.length){SZ(bE[nU]);}}};function aoS(FG){wY();var iM;var gc=1;gc=vd;if(gc>fW){gc=fW;}if(FG===false){gc=0;}for(var k=dW;k<=iP;k++){if(bE[k].hb===false&&bE[k].qp===false){if(bE[k].hn===false&&iM===undefined){iM=k;break;}else if(FG){var Fi=document.getElementById(bE[k].bc);if(bE[k].fd===false){O.ya(Fi,k);}}}}if(Cu===0&&FG===true){Cu++;setTimeout(function(){if(ic===true){SI();}},60);}if(iM!==undefined){return iM;}else if(fW>0){var uv= -1;if(pb>=0){if(pb<zR&&pb!==0){return QI(fW,gc);}else{uv=QI(fW,gc);if(uv=== -1){uv=NV(fW,gc);}pb= -pb;return uv;}}else if(pb<0){if(pb> -zR){return NV(fW,gc);}else{uv=NV(fW,gc);if(uv=== -1){uv=QI(fW,gc);}pb= -pb;return uv;}}}return-1;};function NV(Qs,gc){var iM;for(var k=dW-1;k>dW-1-Qs;k--){if(k<0){continue;}if(bE[k].hb===false&&bE[k].qp===false){if(bE[k].hn===false&&iM===undefined){iM=k;break;}else if(k>=dW-gc){var Fi=document.getElementById(bE[k].bc);if(bE[k].fd===false){O.ya(Fi,k);}}}}if(iM!==undefined){return iM;}else{return(-1);}};function QI(Qs,gc){var iM;for(var k=iP+1;k<iP+1+Qs;k++){if(k>=bE.length){continue;}if(bE[k].hb===false&&bE[k].qp===false){if(bE[k].hn===false&&iM===undefined){iM=k;break;}else if(k<=iP+gc){var Fi=document.getElementById(bE[k].bc);if(bE[k].fd===false){O.ya(Fi,k);}}}}if(iM!==undefined){return iM;}else{return(-1);}};function SI(){wY();function Xv(k,cv){var mr= -1;if(Array.prototype.indexOf){mr=cv.indexOf(k);}else{mr=IPCC.Web.gh(cv,k);}if(mr!== -1){cv.splice(mr,1);}if(bX===IPCC.ViewMode.SinglePage){var mC= -1;if(Array.prototype.indexOf){mC=kS.indexOf(k);}else{mC=IPCC.Web.gh(kS,k);}if(mC!== -1){kS.splice(mC,1);}}bE[k].hn=false;bE[k].hb=false;bE[k].fd=false;var tI=document.getElementById(bE[k].bc);if(tI&&tI.bA){tI.bA.dispose();var kN=IPCC.bh.filter(dF,function(el){return el.bb===bE[k].dM+1;});Hv(kN);if(bX===IPCC.ViewMode.SinglePage){tI.parentNode.removeChild(tI);}return k;}return-1;};var Nl= -1;for(var k=0;k<mQ.length;k++){if(ic===false||((mQ[k]<dW-fW||mQ[k]>iP+fW)&&bE[mQ[k]].bc)){Xv(mQ[k],mQ);}}for(k=0;k<cC.length;k++){if(ic===false||((cC[k]<dW-vd||cC[k]>iP+vd)&&bE[cC[k]].bc)){if(ic===false||((cC[k]<dW-fW||cC[k]>iP+fW)&&bE[cC[k]].bc)||document.documentMode===8){Nl=Xv(cC[k],cC);if(Nl!== -1){break;}}else{var tI=document.getElementById(bE[cC[k]].bc);if(tI&&tI.bA){tI.bA.ahJ();}var ar=cC[k];var mr= -1;if(Array.prototype.indexOf){mr=cC.indexOf(ar);}else{mr=IPCC.Web.gh(cC,ar);}if(mr!== -1){cC.splice(mr,1);}bE[ar].hn=true;bE[ar].hb=false;bE[ar].fd=false;var vv=false;for(var bF=0;bF<mQ.length;bF++){if(mQ[bF]===ar){vv=true;}}if(vv===false){mQ.push(ar);}}}}if(bX===IPCC.ViewMode.SinglePage){for(k=kS.length;k>=0;k--){var IX=kS[k];if(ic===false||((IX<dW-fW||IX>iP+fW)&&bE[IX].bc)){var aeM=document.getElementById(bE[IX].bc);aeM.parentNode.removeChild(aeM);kS.splice(k,1);}}}if(Cu>0){Cu--;}if(ic===false&&cC.length===0&&bE.length>0){bE=[];var yl=O.fc().id;var aN=document.getElementById(yl);an.removeChild(aK);aN.removeChild(an);return;}if(Nl!== -1){Cu++;setTimeout(function(){SI();},1000);}};function SZ(aI){var aA;if(bX===IPCC.ViewMode.SinglePage&&document.getElementById(aI.bc)===null){var aM=fM({overflow:'hidden',position:'absolute',margin:'0px'});aM.className='pccPageListItem';kS.push(aI.dM);if(aI.dM>cK){O.hZ(aM,'pccNextPage');}else if(aI.dM<cK){O.hZ(aM,'pccPreviousPage');}else{O.hZ(aM,'pccCurrentPage');}if(fb>0){if(kc(mV)===true){aM.style.width=hi*aV+'px';aM.style.height=fb*aV+'px';}else{aM.style.width=fb*aV+'px';aM.style.height=hi*aV+'px';}}else{aM.style.width=aK.clientWidth-iL-iy+'px';aM.style.height=aK.clientWidth*0.8+'px';}aM.style.display='block';aM.setAttribute('id',aI.bc);aA=aM;aK.appendChild(aM);}else{aA=document.getElementById(aI.bc);}if(aA===null){return;}var aZ;aZ=new IPCC.Web.UI.PageView(document.getElementById(aI.bc),false);if(aZ){aZ.set_autoUpdate(false);aZ.lU(document.getElementById(aI.bc));aZ.initialize();aZ.set_imageHandlerUrl(aI.ai.mR);aZ.set_imGearPage(aI.ba);aZ.set_artPage(aI.aO);aZ.set_requireRequestsOptimize(nb);if(kQ!==undefined){aZ.set_serviceResponseTimeout(kQ);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.set_textRequired(qD);aZ.set_cursor(-1);aZ.set_debug(_debug);aZ.set_debugErrorLevel(jU);aZ.gW(O.fG());if(kU){aZ.set_resourcePath(kU);}if(ik){aZ.Gc(ik());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}Dz(aZ,aI);EE(aZ);Rj(aZ);QB(aZ);RQ(aZ);if(aI.hn===false){if(aI.ba){var fR=new IPCC.OpenPageEventArgs();fR.pageIndex=aI.ba.get_pageNumber();fR.imGearPage=aI.ba;fR.viewRotationDegreesClockwise=aI.gm;fR.pageNodeID=aI.bc;O.by('pageOpening',fR);if(aI.aO){aZ.openPage({encodedDocumentIdentifier:aI.ba.ai.get_encodedDocumentIdentifier(),pageNumber:aI.ba.get_pageNumber(),artPage:aI.aO,imGearPage:aI.ba,viewRotationDegreesClockwise:aI.gm});}else{aZ.openPage({encodedDocumentIdentifier:aI.ba.ai.get_encodedDocumentIdentifier(),pageNumber:aI.ba.get_pageNumber(),imGearPage:aI.ba,viewRotationDegreesClockwise:aI.gm});}aI.hb=true;ft++;}}};function adY(aO,iJ){var bs;aO.forEachMark(function(K){switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:var ax=K.get_points();var au=ax.VV(0);var jg=ax.VV(1);ax.setPoint(0,new IPCC.Web.UI.Point(au.x*iJ,au.y*iJ));ax.setPoint(1,new IPCC.Web.UI.Point(jg.x*iJ,jg.y*iJ));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bs=K.get_rectangle();K.set_rectangle({x:bs.x*iJ,y:bs.y*iJ,width:bs.width*iJ,height:bs.height*iJ});break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:bs=K.get_rectangle();K.set_rectangle({x:bs.x*iJ,y:bs.y*iJ,width:bs.width*iJ,height:bs.height*iJ});var ki=K.ki,jA;for(var i=0;i<ki.length;i++){jA=ki[i];jA.x=jA.x*iJ;jA.y=jA.y*iJ;jA.width=jA.width*iJ;jA.height=jA.height*iJ;}break;default:break;}});};function Dz(aZ,aI){function TF(sender,evnt){var dM=evnt.pageNumber;var zy=evnt.documentIdentifier;aI.bg=aZ.get_pageWidth();aI.bd=aZ.get_pageHeight();aZ=null;for(var k=0;k<bE.length;k++){if(ic&&bE[k].ba.get_pageNumber()===dM&&bE[k].ba.ai.get_documentIdentifier()===zy){bE[k].hb=false;bE[k].hn=true;bE[k].qp=false;if(bX===IPCC.ViewMode.SinglePage){var mC= -1;if(Array.prototype.indexOf){mC=kS.indexOf(k);}else{mC=IPCC.Web.gh(kS,k);}if(mC!== -1){kS.splice(mC,1);}}var vv=false;for(var bF=0;bF<mQ.length;bF++){if(mQ[bF]===k){vv=true;}}if(vv===false){mQ.push(k);}var al;var hN=0;var iz=0;al=document.getElementById(bE[k].bc).bA;var eV;var eb;var QY;var ag=document.getElementById(bE[k].bc);if(fb===0&&(k===0||bE[0].qp===true)){if(ag.currentStyle){uV=parseInt(ag.currentStyle.borderTopWidth,10)||0;fT=parseInt(ag.currentStyle.marginTop,10)||0;sQ=parseInt(ag.currentStyle.borderLeftWidth,10)||0;iL=parseInt(ag.currentStyle.marginLeft,10)||0;yI=parseInt(ag.currentStyle.borderBottomWidth,10)||0;lA=parseInt(ag.currentStyle.marginBottom,10)||0;tP=parseInt(ag.currentStyle.borderRightWidth,10)||0;iy=parseInt(ag.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var tU=document.defaultView.getComputedStyle(ag);uV=parseInt(tU.borderTopWidth,10)||0;fT=parseInt(tU.marginTop,10)||0;sQ=parseInt(tU.borderLeftWidth,10)||0;iL=parseInt(tU.marginLeft,10)||0;yI=parseInt(tU.borderBottomWidth,10)||0;lA=parseInt(tU.marginBottom,10)||0;tP=parseInt(tU.borderRightWidth,10)||0;iy=parseInt(tU.marginRight,10)||0;}if(bX===IPCC.ViewMode.SinglePage){ag.style.margin=fT+'px 0px '+lA+'px 0px';aK.style.margin="0px auto";}else{if(eE===IPCC.PageLayout.VerticalScrollDirection){ag.style.margin=fT+'px auto '+lA+'px auto';}else{ag.style.margin=fT+'px auto '+lA+'px auto';aK.style.margin='0px '+iL+'px 0px '+iy+'px';}}fb=al.get_pageWidth();hi=al.get_pageHeight();eV=fb;eb=hi;if(kc(bE[k].gm)===true){eb=fb;eV=hi;}O.aoQ();if(bX===IPCC.ViewMode.SinglePage){yb=(an.offsetWidth-(iL+iy+sQ+tP));xC=(an.offsetHeight-(fT+lA+uV+yI+Ya));ju=yb/eV;QY=xC/eb;if(QY<ju){ju=QY;}al.zoom(ju);}else if(eE===IPCC.PageLayout.VerticalScrollDirection){ju=(an.offsetWidth-IPCC.Web.GS()-(iL+iy+sQ+tP))/eV;al.zoom(ju);}else{ju=(an.offsetHeight-IPCC.Web.GS()-(fT+lA+uV+yI))/eb;al.zoom(ju);}hN=eV*ju;iz=eb*ju;ag.style.width=hN+'px';ag.style.height=iz+'px';if(bX===IPCC.ViewMode.SinglePage){aK.style.width=hN+'px';aK.style.height=iz+'px';}if(bX!==IPCC.ViewMode.SinglePage){for(var fv=0;fv<bE.length;fv++){if(bE[fv].fd===false&&fv!==k){if(bE[fv].bc){ag=document.getElementById(bE[fv].bc);ag.style.width=eV*ju+'px';ag.style.height=eb*ju+'px';if(eE===IPCC.PageLayout.VerticalScrollDirection){ag.style.margin=fT+'px auto '+lA+'px auto';}else{ag.style.margin=fT+'px '+iL+'px '+lA+'px '+iy+'px';}}}}}aV=ju;ag.bA.display();cC.push(0);}else{if(bX===IPCC.ViewMode.Document){if(kc(bE[k].gm)===true){hN=al.get_pageHeight()*aV;iz=al.get_pageWidth()*aV;}else{hN=al.get_pageWidth()*aV;iz=al.get_pageHeight()*aV;}}else{var er;var bg=al.get_pageWidth();var bd=al.get_pageHeight();eV=fb;eb=hi;if(kc(mV)===true){eV=hi;eb=fb;}if(kc(bE[k].gm)===true){bg=al.get_pageHeight();bd=al.get_pageWidth();}if(bX===IPCC.ViewMode.SinglePage){var vF=yb/bg;var kp=xC/bd;var oZ=vF;if(kp<vF){oZ=kp;}iz=aV/ju*oZ*bd;hN=aV/ju*oZ*bg;if(k===cK){aK.style.width=hN+'px';aK.style.height=iz+'px';}}else{if(eE===IPCC.PageLayout.VerticalScrollDirection){er=eV/bg*aV;hN=eV*aV;iz=bd*er;}else{er=eb/bd*aV;iz=eb*aV;hN=bg*er;}}}if(hN!==Math.round(hN)){hN=Math.floor(hN*100)/100;}if(iz!==Math.round(iz)){iz=Math.floor(iz*100)/100;}if(ag.style.width!==hN+'px'||ag.style.height!==iz+'px'){if(eE===IPCC.PageLayout.VerticalScrollDirection){ag.style.width=hN+'px';ag.style.height=iz+'px';}else{ag.style.width=hN+'px';ag.style.height=iz+'px';}zm(dF,true);mu(dF,true);}}if(hN>eN){eN=hN;if(eE===IPCC.PageLayout.VerticalScrollDirection){an.scrollLeft=(eN-an.clientWidth)/2;}}if(iz>gl){gl=iz;if(eE===IPCC.PageLayout.HorizontalScrollDirection){an.scrollTop=(gl-an.clientHeight)/2;}}if(bE[k].It>0){var Pw=document.getElementById(bE[k].bc).bA;if(Pw){Pw.rotate(bE[k].It);Pw.display();bE[k].It=0;}}if(ft>0){ft=ft-1;}if(bE[k].Ak===true&&bE[k].bg!==fb){var iJ=bE[k].bg/fb;var aO=O.hF(bE[k].ba);if(aO){adY(aO,iJ);}}bE[k].Ak=false;wY();var fR=new IPCC.OpenPageEventArgs();fR.pageIndex=evnt.pageNumber;fR.imGearPage=evnt.imGearPage;fR.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;fR.pageNodeID=bE[k].bc;O.by('pageOpened',fR);break;}}if(ft===0&&lq===null&&iW===null){setTimeout(function(){lf(true);},60);}};aZ.add_pageOpened(TF);};function EE(aZ){function aoJ(ad,bi){if(ic===false){return;}var tK;if(bi.pageNumber>=0){if(bE[bi.pageNumber].bc){tK=bE[bi.pageNumber].bc;}}bE[bi.pageNumber].qp=true;bE[bi.pageNumber].hb=false;bE[bi.pageNumber].hn=false;bE[bi.pageNumber].fd=false;var lJ=new IPCC.ExceptionEventArgs();lJ.exception=bi.exception;lJ.pageIndex=bi.pageNumber;lJ.pageNodeID=tK;O.by('pageOpenFailed',lJ);if(ft>0){ft=ft-1;if(ft===0){setTimeout(function(){lf(false);},60);}}};aZ.add_pageOpenFailed(aoJ);};function Rj(aZ){function amR(ad,bi){if(ic===false){return;}var C=new IPCC.PageEventArgs();C.pageIndex=bi.bb;C.imGearPage=bE[bi.bb].ba;C.pageNodeID=bE[bi.bb].bc;bE[bi.bb].fd=true;O.by('pageDisplayed',C);setTimeout(function(){var kN=IPCC.bh.filter(dF,function(el){if(bX===IPCC.ViewMode.SinglePage){return bi.bb===el.bb-1&&el.bb-1===cK;}else{return bi.bb===el.bb-1;}});zm(kN);mu(kN);},0);};aZ.add_pageDisplayed(amR);};function ahY(aI){function EJ(ad,bi){if(ic===false){return;}O.by('textPageReady',{pageIndex:bi.pageNumber,containsText:bi.containsText});var gc=vd;if(gc>fW){gc=fW;}if(bi.containsText===true&&bi.pageNumber>=dW-gc&&bi.pageNumber<=iP+gc){if(bE[bi.pageNumber].aO&&bE[bi.pageNumber].aO.get_markCount()>0){var ag=document.getElementById(bE[bi.pageNumber].bc);O.ya(ag,bi.pageNumber);}}};aI.uK(EJ);};function akv(aI){function DI(ad,bi){if(ic===false){return;}var tK;if(bi.pageNumber>=0){if(bE[bi.pageNumber].bc){tK=bE[bi.pageNumber].bc;}}O.by('textExtractionFailed',{'exception':bi.exception,'pageIndex':bi.pageNumber,'pageNodeID':tK});};aI.yV(DI);};function QB(aZ){function auB(ad,bi){if(ic===false){return;}var tK;if(isNaN(bi.pageNumber)===false){if(bi.pageNumber>=0){if(bE[bi.pageNumber].bc){tK=bE[bi.pageNumber].bc;}}bE[bi.pageNumber].qp=true;bE[bi.pageNumber].hb=false;bE[bi.pageNumber].hn=false;bE[bi.pageNumber].fd=false;}var lJ=new IPCC.ExceptionEventArgs();lJ.functionName=bi.function_name;lJ.exception=bi.exception;lJ.pageIndex=bi.pageNumber;lJ.pageNodeID=tK;O.by('exceptionThrown',lJ);if(ft>0){ft=ft-1;if(ft===0){setTimeout(function(){lf(false);},60);}}};aZ.add_exceptionThrown(auB);};function RQ(aZ){function FN(ad,bi){O.by('markCreating',bi);};aZ.add_markCreating(FN);};function akb(ds){function Yt(){if(ic===false){return;}var gc=vd;if(gc>fW){gc=fW;}if(ds.dM>=dW-gc&&ds.dM<=iP+gc){var ag=document.getElementById(ds.bc);O.ya(ag,ds.dM);}var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;O.by('marksLoaded',C);};ds.aO.add_marksLoaded(Yt);};function ago(ds){function ka(ad,bi){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.zIndex=bi.zIndex;C.clientX=bi.clientX;C.clientY=bi.clientY;O.by('markAdded',C);};ds.aO.add_markAdded(ka);};function alG(ds){var Nf,sG=false,Vz,Vc;function Fb(L,eF){if(sy===false){return;}var lD=iH.offsetHeight;YR(L,eF,lD);mu(dF,lD,true);};function alD(L,eF){Vz=L;Vc=eF;if(sG&& !Nf){Nf=Dc(function(){sG=false;Nf=undefined;if(Vz&&Vc){Fb(Vz,Vc);}else{Fb(L,eF);}});}};function rs(ad,bi){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.zIndex=bi.zIndex;C.propertyName=bi.propertyName;O.by('markChanged',C);var eF=dF[bi.mark.get_markID()];if(eF&&(bi.propertyName==='rectangle'||bi.propertyName==='points'||bi.propertyName==='startPoint'||bi.propertyName==='endPoint')){sG=true;alD(bi.mark,eF);}};ds.aO.add_markChanged(rs);};function alz(ds){function aea(ad,bi){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.zIndex=bi.zIndex;C.oldZIndex=bi.oldZIndex;O.by('markReordered',C);};ds.aO.add_markReordered(aea);};function ala(ds){function Xm(ad,bi){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.zIndex=bi.zIndex;O.by('markSelectionChanged',C);};ds.aO.add_markSelectionChanged(Xm);};function akV(ds){function aei(ad,bi){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.zIndex=bi.zIndex;O.by('markRemoved',C);if(!bi.mark){dF={};iH.innerHTML='';hG=undefined;mu(dF);return;}var eF=dF[bi.mark.get_markID()];if(eF){if(bi.mark.get_conversation()===hG){hG=null;}eF.df.parentElement.removeChild(eF.df);delete dF[bi.mark.get_markID()];mu(dF,true);}};ds.aO.add_markRemoved(aei);};function akJ(ds){function tS(ad,bi){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.zIndex=bi.zIndex;O.by('markTextSelectionChanged',C);};ds.aO.add_markTextSelectionChanged(tS);};function YR(L,eF,JU){var ds=bE[eF.bb-1],aI=document.getElementById(ds.bc),BE=PS(L,ds.dM+1);if(aI.bA){var cV=aI.bA.transformPagePointToWindow(new IPCC.Web.UI.Point(BE.x,BE.y),true);var Vq=(fT*(ds.dM*1));var Gf=(aI.offsetTop-Vq+cV.y)/(JU-(fT*bE.length));eF.bs=BE;eF.Tj=Gf;}};function Hv(im,bb){var apv=typeof bb==='undefined';IPCC.bh.forEach(im,function(bL){if(bL&&(apv||bL.pageNumber===bb)){bL.df.style.display='none';bL.amH=false;}});};function Uw(im,bb){var asO=typeof bb==='undefined';IPCC.bh.forEach(im,function(el){if(asO||el.pageNumber===bb){el.df.style.display='';el.amH=true;}});};function zm(im,Nh){if(sy===false){return;}var Hu=(! !Nh)?IPCC.bh.filter(dF,function(dK){return IPCC.bh.inArray(cC,dK.bb-1)&&dK.bb-1>=dW&&dK.bb-1<=iP;}):im;var lD=iH.offsetHeight;IPCC.bh.forEach(Hu,function(el){YR(el.K,el,lD);});};function alB(a,b){return(a.bs.y!==b.bs.y)?(a.bs.y-b.bs.y):(a.bs.x!==b.bs.x)?(a.bs.x-b.bs.x):(a.vZ-b.vZ);};function aia(a,b){return(a.bs.x!==b.bs.x)?(a.bs.x-b.bs.x):(a.bs.y!==b.bs.y)?(b.bs.y-a.bs.y):(a.vZ-b.vZ);};function apl(a,b){return(a.bs.y!==b.bs.y)?(b.bs.y-a.bs.y):(a.bs.x!==b.bs.x)?(b.bs.x-a.bs.x):(a.vZ-b.vZ);};function ahB(a,b){return(a.bs.x!==b.bs.x)?(b.bs.x-a.bs.x):(a.bs.y!==b.bs.y)?(a.bs.y-b.bs.y):(a.vZ-b.vZ);};function amS(SJ,lD,yL){yL=yL||0;var _top,Wg,Fx,Ou=(fT*bE.length),Wa=lD-Ou;IPCC.bh.forEach(SJ,function(dK){Fx=(fT*(dK.bb-1));Wg=(dK.Tj*Wa)+Fx;_top=Math.max(yL+5,Wg);if(dK.df.style.top!==_top+'px'){dK.df.style.top=_top+'px';}yL=_top+dK.UZ;});};function amq(SJ,lD){var Ku,_top,IS,Fx,ady,Ou=(fT*bE.length),Wa=lD-Ou;IPCC.bh.forEach(SJ,function(dK){Fx=(fT*(dK.bb-1));IS=(dK.Tj*Wa)+Fx;if(Ku===undefined){Ku=IS;}if(dK.K.get_conversation()===hG){_top=IS;ady=_top+dK.UZ;}else{_top=Math.min(Ku-5-dK.UZ,IS);}if(dK.df.style.top!==_top+'px'){dK.df.style.top=_top+'px';}Ku=_top;});return ady;};function mu(im,Nh){if(sy===false){return;}var lD=iH.offsetHeight;var asY=function(a,b){if(a.bb!==b.bb){return(a.bb-b.bb);}var aI=bE[a.bb-1],cZ=aI.gm;switch(cZ){case 90:return aia(a,b);case 180:return apl(a,b);case 270:return ahB(a,b);default:return alB(a,b);}};var Hu=(! !Nh)?IPCC.bh.filter(dF,function(dK){return IPCC.bh.inArray(cC,dK.bb-1)&&dK.bb-1>=dW&&dK.bb-1<=iP;}):im;Uw(Hu);var ajT=IPCC.bh.map(Hu,function(dK,bz){dK.UZ=dK.df.offsetHeight;return dK;});var Tw=ajT.sort(asY);var GQ=[],Tk=[],QO=false;if(hG){var aoO=dF[hG.get_mark().get_markID()];if(!IPCC.bh.inArray(Tw,aoO)){QO=true;}IPCC.bh.forEach(Tw,function(dK){if(QO){Tk.push(dK);}else if(dK.K.get_conversation()===hG){GQ.unshift(dK);QO=true;}else{GQ.unshift(dK);}});}else{Tk=Tw;}var yL=0;if(GQ.length){yL=amq(GQ,lD);}amS(Tk,lD,yL);};function anC(im,L,dM){var dK=im[L.iK()];dK.bb=dM;dK.K=L;dK.bs=PS(L,dM);dK.vZ=L.dO().mD(L);};function zC(L,im,qx){var eF=im[L.get_markID()];if(eF){eF.df.parentElement.replaceChild(qx,eF.df);eF.df=qx;}return eF;};function amb(L,im,qx,akt,avH,Gf,dM){var eF=new IPCC.eF();eF.df=qx;dF[L.get_markID()]=eF;anC(dF,L,dM);eF.Tj=Gf;akt.appendChild(qx);return eF;};function PS(L,bb){var bs=(L.get_boundingRectangle)?L.get_boundingRectangle():{},cZ=bE[bb-1].gm;switch(cZ){case 90:return{x:bs.x,y:bs.y+(bs.height||0)};case 180:return{x:bs.x+(bs.width||0),y:bs.y+(bs.height||0)};case 270:return{x:bs.x+(bs.width||0),y:bs.y};default:return{x:bs.x,y:bs.y};}};function aqk(ds){function Jh(ad,bi){var C=new IPCC.Web.UI.CommentEventArgs();C.pageIndex=ds.dM;C.mark=bi.mark;C.index=bi.index;C.comment=bi.comment;setTimeout(function(){var JU=iH.offsetHeight,eF,df;if(bi.index===0){df=me(bi.mark,{isSelected:false},null);if(!df){return;}else if(!IPCC.bh.BG(df)){throw new Error(df+' is not a valid HTMLElement');}var aI=document.getElementById(ds.bc);var BE=PS(bi.mark,ds.dM+1),ajV=BE.x,ajJ=BE.y;var cV;if(aI.bA){cV=aI.bA.transformPagePointToWindow(new IPCC.Web.UI.Point(ajV,ajJ),true);}else{cV=new IPCC.Web.UI.Point(0,0);}var Vq=(fT*(ds.dM));var Gf=(aI.offsetTop-Vq+cV.y)/(JU-(fT*bE.length));eF=amb(bi.mark,dF,df,iH,cV,Gf,ds.dM+1);}else{var fZ=bi.mark.get_conversation()===hG;df=me(bi.mark,{isSelected:fZ},dF[bi.mark.get_markID()].df);if(!df){return;}else if(!IPCC.bh.BG(df)){throw new Error(df+' is not a valid HTMLElement');}eF=zC(bi.mark,dF,df);}if(IPCC.bh.inArray(cC,ds.dM)&&ds.dM>=dW&&ds.dM<=iP){mu(dF,JU,true);}else{Hv([eF]);}O.by('commentAdded',C);},0);};ds.aO.add_commentAdded(Jh);};function aql(ds){function JR(ad,bi){var df=null;if(dF[bi.mark.get_markID()]){df=dF[bi.mark.get_markID()].df;var fZ=bi.mark.get_conversation()===hG;df=me(bi.mark,{isSelected:fZ},df);}if(!df){O.by('commentChanged',bi);return;}else if(!IPCC.bh.BG(df)){throw new Error(df+' is not a valid HTMLElement');}if(df){zC(bi.mark,dF,df);mu(dF,true);}O.by('commentChanged',bi);};ds.aO.add_commentChanged(JR);};function amO(ds){function GL(ad,bi){var df=null;if(dF[bi.mark.get_markID()]){df=dF[bi.mark.get_markID()].df;}var fZ=bi.mark.get_conversation()===hG;df=me(bi.mark,{isSelected:fZ},df);if(IPCC.bh.BG(df)){zC(bi.mark,dF,df);}else{var eF=dF[bi.mark.get_markID()];if(eF){if(bi.mark.get_conversation()===hG){hG=null;}eF.df.parentElement.removeChild(eF.df);delete dF[bi.mark.get_markID()];}}mu(dF,true);O.by('commentRemoved',bi);};ds.aO.add_commentRemoved(GL);};function Rh(){var dg=gl/aV;var aQ=eN/aV;var art=function(sA){return{width:sA.width||(sA.right-sA.left),height:sA.height||(sA.bottom-sA.top),top:sA.top,bottom:sA.bottom,left:sA.left,right:sA.right};};var aal=art(an.getBoundingClientRect());var ET={height:Math.floor(aal.height/2)};ET.width=ET.height*aQ/dg;var ER={height:Math.floor(dg*8)};ER.width=ER.height*aQ/dg;var ank=eN<ET.width+5;var alE=eN>ER.width-5;return{min:ET,max:ER,page:{width:aQ,height:dg},viewport:aal,atMin:ank,atMax:alE,maxFactor:ER.width/aQ,minFactor:ET.width/aQ};};function qz(aT,OT){if(OT){acY.apply(this,arguments);return;}var tM=(aT<aV)?true:false;var nL=Rh();if((nL.atMin&&tM)||(nL.atMax&& !tM)){return;}if(aT>nL.maxFactor){aT=nL.maxFactor;}else if(aT<nL.minFactor){aT=nL.minFactor;}if(!nL.atMax|| !nL.atMin){acY.apply(this,arguments);}};function acY(aT,avs,bq,et,Bl,wL,hz,nl){var tM=(aT<aV)?true:false;var Ae=0;var BX=bE.length-1;if(bX===IPCC.ViewMode.SinglePage){if(cK-fW>=0){Ae=cK-fW;}if(cK+fW<bE.length-1){BX=cK+fW;}}var LU=aT/aV;aV=aT;var aud=(wL&&wL.x!==undefined)?wL.x:an.scrollLeft+(an.clientWidth/2);var apq=(wL&&wL.y!==undefined)?wL.y:an.scrollTop+(an.clientHeight/2);eN=0;gl=0;for(var k=Ae;k<=BX;k++){var al;var ag=document.getElementById(bE[k].bc);if(ag){al=ag.bA;}else{continue;}var bg=fb;var bd=hi;var eV=fb;var eb=hi;if(kc(mV)===true){eV=hi;eb=fb;}if(bE[k].bg>0){if(kc(bE[k].gm)===true){bg=bE[k].bd;bd=bE[k].bg;}else{bg=bE[k].bg;bd=bE[k].bd;}}else{if(kc(bE[k].gm)===true){var ahE=bg;bg=bd;bd=ahE;}}var Ds,Ez,er;if(bX===IPCC.ViewMode.SinglePage){var vF=yb/bg;var kp=xC/bd;var oZ=vF;if(kp<vF){oZ=kp;}er=aV/ju*oZ;Ds=er*bd;Ez=er*bg;ag.style.width=Ez+'px';ag.style.height=Ds+'px';if(k===cK){aK.style.width=Ez+'px';aK.style.height=Ds+'px';}if(al&&bE[k].fd===true&&al.hH()===true){al.zoom(er);}}else if(bX===IPCC.ViewMode.Document){Ez=bg*aV;Ds=bd*aV;ag.style.width=Ez+'px';ag.style.height=Ds+'px';if(al&&bE[k].fd===true&&al.hH()===true){al.zoom(aV);}if(bg*aV>eN){eN=bg*aV;}if(bd*aV>gl){gl=bd*aV;}}else{if(eE===IPCC.PageLayout.VerticalScrollDirection){er=eV/bg*aV;ag.style.width=eV*aV+'px';ag.style.height=bd*er+'px';if(eV*aV>eN){eN=eV*aV;}if(bd*aV>gl){gl=bd*aV;}}else{er=eb/bd*aV;ag.style.height=eb*aV+'px';ag.style.width=bg*er+'px';if(bg*aV>eN){eN=bg*aV;}if(eb*aV>gl){gl=eb*aV;}}if(al&&bE[k].fd===true&&al.hH()===true){al.zoom(er);}}if(al&&bE[k].fd===true&&al.hH()===true){al.display();}}if(eE===IPCC.PageLayout.VerticalScrollDirection){Ka=an.scrollTop;}else{Ka=an.scrollLeft;}var Sl,Si,Tp=0,SU=0;if(Bl){Sl=Bl.offsetLeft+LU*bq;Si=Bl.offsetTop+LU*et;}else{if(eE===IPCC.PageLayout.VerticalScrollDirection){SU=fT*(cK);}else{Tp=(iL+iy)*(cK);}Sl=LU*(aud-Tp);Si=LU*(apq-SU);}an.scrollLeft=Sl-(an.clientWidth/2)+Tp;an.scrollTop=Si-(an.clientHeight/2)+SU;wY();if(tM===true&&bX!==IPCC.ViewMode.SinglePage){lf(true);}mu(dF,true);O.by('scaleChanged',{scaleType:(tM)?"scaledDown":"scaledUp",scaleTrigger:hz,fitType:nl});};function ZA(){var yl=O.fc().id;var aN=document.getElementById(yl);var ut;var uc;var rD;var Qz;var SY;var bn=false;var aw;var rw=[];var ws= -1;var nk=0;var Bs;var xQ;var FC;var DH;if(aK===''){an=fM({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});an.className='pccPageListContainerWrapper';var Gp=function(iS,jw){var ix=document.elementFromPoint(iS,jw);while(ix&&(ix.parentNode||ix.ownerSVGElement)){if(ix.parentNode.id&&ix.parentNode.id.indexOf("__pViewId")!== -1){return ix.parentNode;}ix=ix.ownerSVGElement||ix.parentNode;}return false;};var HG=function(aw,iS,jw){var jL=aw.igElements;var hY;if(jL.kI.getBoundingClientRect){try{hY=jL.kI.getBoundingClientRect();}catch(bK){return;}}else{var cT=jL.kI;var uS=document.documentElement;hY={left:uS.clientLeft-uS.scrollLeft,top:uS.clientTop-uS.scrollTop};cT=cT.offsetParent;while(cT){hY.top+=cT.offsetTop-cT.scrollTop;hY.left+=cT.offsetLeft-cT.scrollLeft;cT=cT.offsetParent;}}if(hY&&(hY.right-hY.left)>0&&(hY.bottom-hY.top)>0){return new IPCC.Web.UI.Point(iS-hY.left-jL.ny.scrollLeft,jw-hY.top-jL.ny.scrollTop);}else{return;}};var arH=function(qb){qb.Gc([new IPCC.nm(IPCC.Web.UI.MarkType.Text)]);};var ask=function(qb){qb.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var MV=false,arM="";var adx=function awi(bK,sD){if(sD.match(/edit/)){MV=true;return;}arH(aw.bA);MV=true;arM=sD;aw.bA.GB("touchstart",bK);};var abr=function(){MV=false;ask(aw.bA);};var Xs=function(bK){if(bK.target&&bK.target.attributes&&bK.target.getAttribute('data-pcc-mark')){return bK.target;}else if(bK.target.parentElement&&bK.target.parentElement.attributes&&bK.target.parentElement.getAttribute('data-pcc-mark')){return bK.target.parentElement;}else if(bK.target.parentNode&&bK.target.parentNode.attributes&&bK.target.parentNode.getAttribute('data-pcc-mark')){return bK.target.parentNode;}else{return undefined;}};var VO=function(bK){var aa=Xs(bK);if(aa){return aa.getAttribute('data-pcc-mark');}return undefined;};var XT=function(qb){if(qb){qb.dO().LE(function(K){K.set_selected(false);});qb.display();}};var LA,Ve=false;var adm=function(bK,C){var qr={ep:undefined,K:undefined,ar:null};var sZ=Xs(bK);if(sZ){if(typeof aw!=='undefined'&&aw!==false&&aw.bA&&aw.igElements&&aw.bA.hH()===true){qr.ar=aw.bA.kV();}if(sZ.ImGearMarkRelation){qr.ep='mark';qr.K=sZ.ImGearMarkRelation.K;return qr;}else{while(!(sZ.ImGearMarkRelation)&&sZ.parentNode&&sZ!==document.body){sZ=sZ.parentNode;if(sZ.ImGearMarkRelation){qr.ep='mark';qr.K=sZ.ImGearMarkRelation.K;return qr;}}}}if(typeof aw!=='undefined'&&aw!==false&&aw.bA&&aw.igElements&&aw.bA.hH()===true){qr.ar=aw.bA.kV();var ar=0;for(ar=0;ar<bE.length;ar++){if(bE[ar].bc===aw.id){if(typeof C.targetType==='undefined'||C.targetType===null){qr.ep='page';return qr;}break;}}}return qr;};var jl=function(bK){if(DH){if(DH.clientX===bK.clientX&&DH.clientY===bK.clientY){if(bK.rawEvent.preventDefault){bK.rawEvent.preventDefault();}else if(bK.preventDefault){bK.preventDefault();}if(bK.rawEvent.stopPropagation){bK.rawEvent.stopPropagation();}else if(bK.stopPropagation){bK.stopPropagation();}Ve=true;DH=undefined;return false;}}LA=bK;YA(bK,bK.clientX,bK.clientY,bK.button);};var YT=function(bK,C){rD=adm(bK,C);};var YA=function(bK,iS,jw,mb){var C=new IPCC.Web.UI.MouseEventArgs();aw=Gp(iS,jw);YT(bK,C);var sD=VO(bK);var zk=bK.target.tagName&&bK.target.tagName.toLowerCase()==='textarea';if(zk){return;}if(cf===IPCC.Web.UI.MouseTool.HandPan&&xf&&sD){adx(bK,sD);return;}var dr;var fQ;if(aw!==false&&aw.bA&&aw.igElements&&aw.bA.hH()===true){var G=0;for(G=0;G<bE.length;G++){if(bE[G].bc===aw.id){C.pageIndex=G;break;}}C.pointLiesWithinImage=true;fQ=HG(aw,iS,jw);if(fQ){dr=aw.bA.Dh(fQ,false);C.imagePoint=dr;C.constrainedImagePoint=dr;}else{C.pointLiesWithinImage=false;}}else{C.pointLiesWithinImage=false;}C.domEvent=bK;C.windowPoint=new IPCC.Web.UI.Point(iS,jw);switch(cf){case IPCC.Web.UI.MouseTool.None:bK.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bK.preventDefault();ut=jw;uc=iS;Qz=an.scrollTop;SY=an.scrollLeft;bn=true;aK.style.cursor=IPCC.bM.eU(IPCC.bM.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:bK.preventDefault();if(mb===0&&aw&&aw.bA&&dr){if(IPCC.Web.UI.MouseTool.SelectText===cf){O.HX();}rw=[];ws= -1;xQ=undefined;FC=undefined;var bD=aw.bA.transformPagePointToTextIndex(dr);nk=bD;Bs=bD;bn=true;if(bD===undefined){O.by('mouseDown',C);return;}aw.bA.showEmptyTextSelection(bD);aw.bA.extendTextSelection(undefined);aw.bA.extendTextSelection(bD);aw.bA.display();kn=C.pageIndex;hD=C.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:bK.preventDefault();if(mb===0&&aw&&aw.bA&&fQ){var gJ=IPCC.bM.eU(IPCC.bM.None);aK.style.cursor=gJ;aw.bA.showMagnifier(fQ);aw.bA.display();}bn=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bK.preventDefault();if(mb===0&&aw&&aw.bA&&dr){bn=true;ut=fQ.y;uc=fQ.x;aw.bA.showEmptySelection(dr);aw.bA.display();}break;}O.by('mouseDown',C);};var jB=function(bK){Yi(bK,bK.clientX,bK.clientY,bK.button);};var Yi=function(bK,iS,jw,mb){var zk=bK.target.tagName&&bK.target.tagName.toLowerCase()==='textarea';if(zk){return;}var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=bK;C.windowPoint=new IPCC.Web.UI.Point(iS,jw);var cN=Gp(iS,jw);var dr;var fQ;if(cN!==false&&cN.bA&&cN.igElements&&cN.bA.hH()===true){C.pointLiesWithinImage=true;fQ=HG(cN,iS,jw);if(fQ){dr=cN.bA.Dh(fQ,false);C.imagePoint=dr;C.constrainedImagePoint=dr;}else{C.pointLiesWithinImage=false;}}else{C.pointLiesWithinImage=false;}var gJ;switch(cf){case IPCC.Web.UI.MouseTool.None:bK.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bK.preventDefault();if(bn){var anF=jw;var aoD=iS;var amu=ut-anF;var amM=uc-aoD;an.scrollTop=Qz+amu;an.scrollLeft=SY+amM;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:bK.preventDefault();if(bn){if(mb!==0){AZ();}var gO;if(!cN){O.by('mouseMove',C);return;}if(nk===undefined){aw=cN;}else if(cN!==aw&&cN.bA&&fQ){ws= -1;var vf=0;var G=0;for(G=0;G<bE.length;G++){if(bE[G].bc===cN.id){vf=G;break;}}if(vf>hD){if(vf>kn){gO=aw.bA.get_textPage().gz().hv()-1;if(gO<0){AZ();O.by('mouseMove',C);return;}aw.bA.extendTextSelection(gO);rw[hD]=aw.bA.getSelectedText();cN.bA.showEmptyTextSelection(0);cN.bA.extendTextSelection(undefined);ws=0;cz[hD]={'ar':hD,'co':gO,'aO':aw.bA.dO(),'gb':aw.bA.cu(),'SZ':aw.bA};aw.bA.display();aw=cN;}else{rw[hD]=undefined;rw[vf]=undefined;delete cz[hD];aw.bA.showEmptyTextSelection(0);aw.bA.extendTextSelection(undefined);aw.bA.display();aw=cN;}}else if(vf<hD){if(vf<kn){gO=aw.bA.get_currentTextIndex();if(gO!==0){aw.bA.extendTextSelection(0);}rw[hD]=aw.bA.getSelectedText();aw.bA.display();gO=cN.bA.cu().gz().hv()-2;ws=gO;cz[hD]={'ar':hD,'co':gO,'aO':aw.bA.dO(),'gb':aw.bA.cu(),'SZ':aw.bA};cN.bA.showEmptyTextSelection(gO);cN.bA.extendTextSelection(undefined);aw=cN;aw.bA.display();}else{rw[hD]=undefined;rw[vf]=undefined;delete cz[hD];aw.bA.showEmptyTextSelection(0);aw.bA.extendTextSelection(undefined);aw.bA.display();aw=cN;}}hD=vf;}var aiY=(hD<kn),aif=(hD>kn);if(aw&&aw.bA&&aw.bA.hH()===true&&fQ){fQ=HG(aw,iS,jw);dr=aw.bA.Dh(fQ,false);var bD=aw.bA.transformPagePointToTextIndex(dr);if(nk===undefined){nk=bD;Bs=bD;if(bD===undefined){O.by('mouseMove',C);return;}aw.bA.showEmptyTextSelection(bD);aw.bA.extendTextSelection(undefined);aw.bA.extendTextSelection(bD);var bF=0;for(bF=0;bF<bE.length;bF++){if(bE[bF].bc===aw.id){kn=bF;hD=bF;break;}}}else{if(nk=== +nk&&bD=== +bD){if(aiY){nk=bD;}else if(!aif){nk=Math.min(Bs,bD);}}}gO=aw.bA.get_currentTextIndex();if(gO===bD||bD===undefined){O.by('mouseMove',C);return;}if(hD===kn){xQ=false;if(bD>gO===true&&bD>nk||bD<gO===true&&bD<nk){xQ=true;}}else if(hD<kn){if(bD<gO===true){xQ=true;}else if(bD>gO===true){xQ=false;}}else if(hD>kn){if(bD<gO===true){xQ=false;}else if(bD>gO===true){xQ=true;}}if(ws!== -1){if(bD!==ws){aw.bA.extendTextSelection(ws);}ws= -1;}if(FC===undefined){if(bD>Bs||hD>kn){FC=false;}else if(bD<Bs||hD<kn){FC=true;}}aw.bA.extendTextSelection(bD);aw.bA.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:bK.preventDefault();if(mb!==0||(aw&&aw.bA&&aw!==cN)){aw.bA.hideMagnifier();gJ=IPCC.bM.eU(IPCC.bM.Magnifier);aK.style.cursor=gJ;aw.bA.display();}if(bn&&cN&&cN.bA&&fQ){aw=cN;gJ=IPCC.bM.eU(IPCC.bM.None);aK.style.cursor=gJ;cN.bA.showMagnifier(fQ);cN.bA.display();}break;case IPCC.Web.UI.MouseTool.RectangleZoom:bK.preventDefault();if(bn){if(cN&&cN.bA&&dr&&cN===aw){if(mb!==0){cN.bA.hideSelection();cN.bA.display();bn=false;}else{cN.bA.extendSelection(dr);cN.bA.display();}}else{aw.bA.hideSelection();aw.bA.display();bn=false;}}break;}O.by('mouseMove',C);};var he=function(bK){if(Ve!==true){abC(bK,bK.clientX,bK.clientY);}else{Ve=false;}};var aaE=function(bK,C){C.upTargetType=null;var zM=adm(bK,C);C.originalEvent=bK.rawEvent;C.clientX=bK.clientX;C.clientY=bK.clientY;C.downTarget={type:undefined,pageIndex:undefined};if(typeof rD!=='undefined'&&typeof rD.ep!=='undefined'){C.downTarget.type=rD.ep;}if(typeof rD!=='undefined'&&typeof rD.ar!=='undefined'){C.downTarget.pageIndex=rD.ar;}C.downMark=(typeof rD!=='undefined')?rD.K:undefined;C.upMark=zM.K;switch(zM.ep){case 'page':case 'mark':C.upTarget={type:zM.ep,pageIndex:zM.ar};break;}if(C.pointLiesWithinImage===false&&zM.ep==='page'){zM.ar= -1;}};var abC=function(bK,iS,jw){var C=new IPCC.Web.UI.MouseEventArgs();var cN=Gp(iS,jw);var dr;var fQ;if(cN!==false&&cN.bA&&cN.igElements&&cN.bA.hH()===true){aw=cN;C.pointLiesWithinImage=true;fQ=HG(cN,iS,jw);if(fQ){dr=cN.bA.Dh(fQ,false);C.imagePoint=dr;C.constrainedImagePoint=dr;}else{C.pointLiesWithinImage=false;}}else{C.pointLiesWithinImage=false;}C.domEvent=bK;C.windowPoint=new IPCC.Web.UI.Point(iS,jw);aaE(bK,C);O.by('mouseUp',C);rD=undefined;var gJ;switch(cf){case IPCC.Web.UI.MouseTool.None:bK.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bK.preventDefault();if(bn){uc=undefined;ut=undefined;Qz=undefined;SY=undefined;bn=false;az=IPCC.bM.HandOpen;gJ=IPCC.bM.eU(az);aK.style.cursor=gJ;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:bK.preventDefault();if(bn){var bD=aw.bA.transformPagePointToTextIndex(dr);if(FC===true&&Bs<bD&&kn===hD){nk+=1;}var tY=new IPCC.Web.UI.TextSelectedEventArgs(),sc=[],G,SS,Qc;if(hD>=kn){tY.text=rw.join('')+aw.bA.getSelectedText();SS=kn;Qc=hD;}else{tY.text=aw.bA.getSelectedText()+rw.join('');SS=hD;Qc=kn;}for(G=SS;G<=Qc;G++){sc.push(G);}if(tY.text.length===0){AZ();sc=[];}tY.pageNumbers=sc;tY.clientX=iS;tY.clientY=jw;if(cf!==IPCC.Web.UI.MouseTool.SelectText){O.HX();cz={};}tY.mouseTool=cf;if(nk!==undefined){tY.startIndex=nk;O.by('selectTextMouseToolCompleted',tY);}bn=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:bK.preventDefault();if(cN&&cN.bA){cN.bA.hideMagnifier();gJ=IPCC.bM.eU(IPCC.bM.Magnifier);aK.style.cursor=gJ;cN.bA.display();}bn=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bK.preventDefault();if(bn&&fQ){var zJ=0;var Ay=0;var RM=0;var RZ=0;if(fQ.x<uc){zJ=uc-fQ;RM=fQ.x+zJ/2;}else{zJ=fQ.x-uc;RM=uc+zJ/2;}if(fQ.y<ut){Ay=ut-jw;RZ=fQ.y+Ay/2;}else{Ay=fQ.y-ut;RZ=ut+Ay/2;}var aaN=an.clientWidth/zJ;var aaz=an.clientHeight/Ay;var nH=aaN;if(aaN>aaz){nH=aaz;}if(cN&&cN.bA){cN.bA.oC();cN.bA.display();}bn=false;if(zJ*2+Ay*2>25){O.anc(nH,RM,RZ,cN);}}break;}var zk=bK.target.tagName&&bK.target.tagName.toLowerCase()==='textarea';if(MV&& !zk){abr(bK);}else if(cf===IPCC.Web.UI.MouseTool.HandPan&&LA&& !zk&&LA.clientX===bK.clientX&&LA.clientY===bK.clientY){XT(aw.bA);}};var amW=function(){var gJ;switch(cf){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:az=IPCC.bM.HandOpen;gJ=IPCC.bM.eU(az);aK.style.cursor=gJ;bn=false;break;case IPCC.Web.UI.MouseTool.SelectText:AZ();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aw&&aw.bA){aw.bA.hideMagnifier();gJ=IPCC.bM.eU(IPCC.bM.Magnifier);aK.style.cursor=gJ;aw.bA.display();}bn=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aw&&aw.bA){aw.bA.hideSelection();aw.bA.display();bn=false;}break;}};var ann=function(){amW();};var apV=function(){if(cf===IPCC.Web.UI.MouseTool.Magnifier){if(aw&&aw.bA){aw.bA.hideMagnifier();var gJ=IPCC.bM.eU(IPCC.bM.Magnifier);aK.style.cursor=gJ;aw.bA.display();}bn=false;}else if(cf===IPCC.Web.UI.MouseTool.RectangleZoom){if(aw&&aw.bA){aw.bA.hideSelection();aw.bA.display();bn=false;}}else if(cf===IPCC.Web.UI.MouseTool.SelectText){AZ();}};var lz=function(bK){if(bK.ctrlKey){switch(cf){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var LY=bK.rawEvent.wheelDelta;bK.preventDefault();if(LY<0){O.zoomOut(1.5);}else{O.zoomIn(1.5);}break;}}else{bK.preventDefault();an.scrollTop-=bK.rawEvent.wheelDelta*0.72;}if(cf===IPCC.Web.UI.MouseTool.Magnifier){if(aw&&aw.bA){aw.bA.hideMagnifier();var gJ=IPCC.bM.eU(IPCC.bM.Magnifier);aK.style.cursor=gJ;aw.bA.display();}bn=false;}else if(cf===IPCC.Web.UI.MouseTool.RectangleZoom){if(aw&&aw.bA){aw.bA.hideSelection();aw.bA.display();bn=false;}}else if(cf===IPCC.Web.UI.MouseTool.SelectText){AZ();}};var amB=function(bJ){var C=new IPCC.Web.UI.MouseEventArgs();C.upTarget={type:'comments',element:bJ.target};C.downTarget={type:'comments',element:bJ.target};C.originalEvent=bJ.rawEvent;C.clientX=bJ.clientX;C.clientY=bJ.clientY;C.pageIndex=undefined;O.by('mouseUp',C);};var AZ=function(){if(bn===true){O.HX();bn=false;}};yK=fM({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(bX===IPCC.ViewMode.SinglePage){aK=fM({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});aK.className='pccPageListContainer pccSinglePageView';}else{aK=fM({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell'});aK.className='pccPageListContainer';}IPCC.Web.UI.aW.addHandler(aK,"mousedown",jl);IPCC.Web.UI.aW.addHandler(aK,"mouseup",he);IPCC.Web.UI.aW.addHandler(aK,"mousemove",jB);IPCC.Web.UI.aW.addHandler(aK,"mouseleave",ann);IPCC.Web.UI.aW.addHandler(aK,"mousewheel",lz);IPCC.Web.UI.aW.addHandler(aK,"DOMMouseScroll",apV);an.onscroll=(! !Dc)?avd:UD;aK.setAttribute('id',yl+'_ListContainer');an.setAttribute('id',yl+'_ListWrapper');uI=yl+'_ListWrapper';iH=fM();iH.className='pccPageListComments pccHidden';iH.setAttribute('id',yl+'_CommentsPanel');var OA=[];if(IPCC.bh.ahL){OA.push('touchend');}else{OA.push('click');}IPCC.bh.forEach(OA,function(evName){IPCC.Web.UI.aW.addHandler(iH,evName,amB);});yK.appendChild(aK);yK.appendChild(iH);an.appendChild(yK);aN.appendChild(an);if(navigator.userAgent.match('MSIE 10')){var aQ='',dg='',qC='',sd='',oh;var wb=function(){oh=getComputedStyle(aN);qC=oh.getPropertyValue('width');sd=oh.getPropertyValue('height');if(qC!==aQ||sd!==dg){aQ=qC;dg=sd;an.style.width=aQ;an.style.height=dg;}};setInterval(wb,1000);window.addEventListener('resize',wb);wb();O.wb=wb;}var alr=('ontouchstart'in document.documentElement)||window.navigator.msPointerEnabled;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&alr&&window.addEventListener&&document.querySelector){ajo(an);}var aka=function(aK,axx){var TS=function(bJ){var aC=bJ.rawEvent,gu=aC.touches[0]||aC.changedTouches[0];bJ.clientX=gu.clientX;bJ.clientY=gu.clientY;bJ.preventDefault=function(){aC.preventDefault();};bJ.stopPropagation=function(){aC.stopPropagation();};return bJ;};var Ce=function(jk,bJ){var C=new IPCC.Web.UI.MouseEventArgs(),KY=(jk==='touchstart')?'mouseDown':(jk==='touchend')?'mouseUp':null;var aeD=(jk==='touchstart')?YA:(jk==='touchmove')?Yi:(jk==='touchend')?abC:null;aw=Gp(bJ.clientX,bJ.clientY);if(jk==='doubleTap'){aw&&aw.bA&&aw.bA.GB(jk,bJ);}switch(cf){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aw&&aw.bA&&aw.bA.GB(jk,bJ);if(KY==='mouseUp'){aaE(bJ,C);}else if(KY==='mouseDown'){YT(bJ,C);}O.by(jk,C);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bJ.preventDefault();bJ.stopPropagation();if(jk==='touchstart'){DH=bJ;}aeD&&aeD(bJ,bJ.clientX,bJ.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:var sD=VO(bJ);if(sD&&xf){if(jk==='touchstart'){adx(bJ,sD);}else if(jk==='touchmove'){aw&&aw.bA&&aw.bA.GB(jk,bJ);}else if(jk==='touchend'){aw&&aw.bA&&aw.bA.GB(jk,bJ);abr(bJ);}}break;}};var Ad,ys,tq;var akM=function(bJ){if(bJ.rawEvent.touches.length>1){clearTimeout(tq);tq=ys=Ad=undefined;return;}bJ=TS(bJ);Ad=bJ;if(cf===IPCC.Web.UI.MouseTool.CreatePolylineMark){bJ.preventDefault();}ys=function(){aw=Gp(bJ.clientX,bJ.clientY);Ce('touchstart',bJ);tq=ys=Ad=undefined;};tq=setTimeout(function(){ys();},200);};var Fu,Bj;var akK=function(bJ){bJ=TS(bJ);sG=false;var ajC=function(){if(!Bj){return false;}var eh=Bj.clientX-bJ.clientX;var eT=Bj.clientY-bJ.clientY;var gn=eh*eh+eT*eT;return gn<2500;};var aej=function(){Fu=Bj=undefined;var sD=VO(bJ);if(!sD&&cf===IPCC.Web.UI.MouseTool.HandPan&&xf&&aw){XT(aw.bA);}};var akD=function(){var XD=ys;if(Fu&&ajC()){clearTimeout(Fu);Bj=Fu=undefined;XD();Ce('touchend',bJ);Ce('doubleTap',bJ);}else{Fu=setTimeout(function(){XD();Ce('touchend',bJ);aej();},300);Bj=bJ;}};if(Ad&&tq){clearTimeout(tq);if(cf===IPCC.Web.UI.MouseTool.CreatePolylineMark){akD();}else{aej();}tq=ys=Ad=undefined;return;}Ce('touchend',bJ);};var ads,sG=false;var akk=function(bJ){if(bJ.rawEvent.touches.length>1){return;}ads=bJ;if(Ad&&tq){clearTimeout(tq);ys();}agu();};function agu(){var bJ=TS(ads);Ce('touchmove',bJ);};IPCC.Web.UI.aW.addHandler(aK,"touchstart",akM);IPCC.Web.UI.aW.addHandler(aK,"touchmove",akk);IPCC.Web.UI.aW.addHandler(aK,"touchend",akK);};aka(aK,iH);}};function ajo(gp){var WW=function(){},cX=1;function TP(XW,Xi,gG,asu){gp.style['-ms-transform']=XW;gp.style['-moz-transform']=XW;gp.style['-webkit-transform']=Xi;gp.style['transform']=Xi;gp.style['-ms-transform-origin']=gG;gp.style['-moz-transform-origin']=gG;gp.style['-webkit-transform-origin']=gG;gp.style['transform-origin']=gG;gp.style.overflow=asu||'';};TP('initial','initial','0% 0%','auto');function akC(nH,ma,Ja,tx){var eL=(-ma.x/nH)-Ja.x,dV=(-ma.y/nH)-Ja.y,apY="scale3d("+nH+","+nH+",1) translate3d("+eL+"px,"+dV+"px,0px)",apD="scale("+nH+", "+nH+") translate("+eL+"px,"+dV+"px)";TP(apD,apY,'center center','visible');WW=function(){var aX=gp.getBoundingClientRect();var UE={x:(gp.clientWidth/2+ -aX.left+tx.left)/nH,y:(gp.clientHeight/2+ -aX.top+tx.top)/nH};if(tx.ZO){UE.x=UE.x-(tx.ZO/2);}TP('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');O.DU(nH,UE,undefined,IPCC.ScaleTrigger.Pinch);};return gp;};function abc(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function abR(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function alN(WC,Gr){return{x:WC.x-Gr.x,y:WC.y-Gr.y};};var OY=false;gp.addEventListener('touchstart',function(ev){if(!OY&&ev.touches.length===2){acd(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var AT,UV=false,AI={};PCCViewer.EventEmitter.extend(AI);gp.addEventListener('MSPointerDown',function(bJ){UV=true;bJ=standardizeMSTouch(bJ);if(AT){var aC={};aC.touches=[AT,bJ];aC.changedTouches=[AT,bJ];aC.preventDefault=function(){AT.rawEvent.preventDefault();bJ.rawEvent.preventDefault();};aC.stopPropagation=function(){AT.rawEvent.stopPropagation();bJ.rawEvent.stopPropagation();};acd(aC);}else{AT=bJ;}});gp.addEventListener('MSPointerMove',function(bJ){AI.trigger('touchmove',{rawEvent:bJ});});gp.addEventListener('MSPointerUp',function(bJ){AI.trigger('touchend',{rawEvent:bJ});AT=undefined;});function acd(ev){var Ja={x:gp.scrollLeft,y:gp.scrollTop};var tx=gp.getBoundingClientRect();var nL=Rh();var aev=gp.querySelector('.pccPageListItem');if(aev.clientWidth<tx.width-30){tx.ZO=tx.width-aev.clientWidth;}var ma={x:0,y:0,set:function(XR){this.x=XR.x;this.y=XR.y;return this;}};var sG=false;OY=true;ev.preventDefault();ev.stopPropagation();function IL(gu){gu.x=gu.clientX||gu.pageX||gu.screenX;gu.y=gu.clientY||gu.pageY||gu.screenY;return gu;};var pd=IL(ev.touches[0]);var FR=IL(ev.touches[1]);var od=abc(pd.x,pd.y,FR.x,FR.y);var anE=abR(pd.x,pd.y,FR.x,FR.y);var Bm,zs;function Qi(bJ){bJ.preventDefault();[].forEach.call(bJ.changedTouches,function(t){if(t.identifier===pd.identifier){Bm=IL(t);}else if(t.identifier===FR.identifier){zs=IL(t);}});if(!Bm|| !zs){return;}var aqN=abc(Bm.x,Bm.y,zs.x,zs.y);var alZ=abR(Bm.x,Bm.y,zs.x,zs.y);cX=aqN/od;if((aV*cX)<nL.minFactor){cX=nL.minFactor/aV;}else if((aV*cX)>nL.maxFactor){cX=nL.maxFactor/aV;}ma.set(alN(anE,alZ));if(!sG){sG=true;Fb();}};function Qa(){OY=false;sG=false;gp.removeEventListener('touchmove',Qi);gp.removeEventListener('touchend',Qa);if(UV){AI.off('touchmove',adU);AI.off('touchend',acl);}Dc(WW);};var adU=function(bJ){var WX=standardizeMSTouch(bJ.rawEvent);WX.preventDefault=function(){};Qi(WX);};var acl=function(bJ){Qa(standardizeMSTouch(bJ.rawEvent));};gp.addEventListener('touchmove',Qi);gp.addEventListener('touchend',Qa);if(UV){AI.on('touchmove',adU);AI.on('touchend',acl);}function Fb(){if(sG){Dc(function(){akC(cX,ma,Ja,tx);Fb();});}}}};function avd(){if(bX===IPCC.ViewMode.SinglePage){return;}if(lq){clearTimeout(lq);}if(VU){ahu(VU);}aqo();lq=setTimeout(function(){lq=null;VU=Dc(function avM(){lf(true);});},40);};function UD(){if(ic===false||bX===IPCC.ViewMode.SinglePage){return;}wY(true);if(lq!==null){clearTimeout(lq);}var alQ=an.scrollHeight/bE.length;var Ie=0;if(eE===IPCC.PageLayout.VerticalScrollDirection){Ie=an.scrollTop;}else{Ie=an.scrollLeft;}var ams=Ie-Ka;Ka=Ie;var ana=new Date().getTime();var Qf=ana-wE;if(Qf>1000){Qf=1000;}pb=ams/alQ*1000/Qf;lq=setTimeout(function(){lq=null;wE=0;wE=new Date().getTime();lf(true);},1000);wE=new Date().getTime();if(pb!==0&&Math.abs(pb)<zR){if(Aw&&lq!==null){clearTimeout(lq);lq=null;}wE=0;wE=new Date().getTime();setTimeout(function(){if(Aw&&lq!==null){clearTimeout(lq);lq=null;}wE=0;wE=new Date().getTime();lf(Aw);},40);}};function adG(aM){var bF=0;var aav=false;var Ip;var HC;for(bF=0;bF<aM.childNodes.length;bF++){if(aM.childNodes[bF].className==="pccPageListItemLoading"){aav=true;}}if(aav===false){HC=document.createElement('div');HC.className='pccPageListItemLoading';aM.innerHTML="";aM.appendChild(HC);if(Fr.length>0){Ip=document.createElement('div');Ip.className='pccPageListItemLoadingContent';Ip.innerHTML=Fr;HC.appendChild(Ip);}}};function VX(G,aM,MD,NI){if(document.documentMode!==8){if(G<MD||G>NI){if(aM.style.visibility!=='hidden'){aM.style.visibility='hidden';}}else{if(aM.style.visibility!=='visible'){aM.style.visibility='visible';}}}};function aqo(){var G,ds,aM;var qe,qf;var jz,oc,lE,tC;if(an===''||an.clientHeight<=0){return;}qe=an.scrollTop;qf=an.scrollLeft;var GU=an.clientHeight;var GW=an.clientWidth;var pP=0;if(eE===IPCC.PageLayout.VerticalScrollDirection){var Xu=an.scrollHeight;pP=Xu*qe/(Xu-GU);}else{var VA=an.scrollWidth;pP=VA*qf/(VA-GW);}var MD=dW;var NI=iP;dW= -1;oD= -1;iP= -1;for(G=0;G<bE.length;G++){ds=bE[G];if(ds&&ds.bc){aM=document.getElementById(ds.bc);if(eE===IPCC.PageLayout.VerticalScrollDirection){jz=aM.offsetTop;oc=aM.offsetLeft;lE=jz+aM.offsetHeight;tC=oc+aM.offsetWidth;}else{jz=aM.offsetLeft;oc=aM.offsetTop;lE=jz+aM.offsetWidth;tC=oc+aM.offsetHeight;}if(pP>=jz&&(pP<=lE||(G===bE.length-1&&pP>lE))){if(rC===false&&cK!==G){cK=G;var C=new IPCC.PageEventArgs();C.imGearPage=O.get_currentPage();C.pageIndex=cK;O.by('currentPageChanged',C);}}var qQ=0;var xO=0;if(eE===IPCC.PageLayout.VerticalScrollDirection){qQ=qe;xO=GU;}else{qQ=qf;xO=GW;}if(lE>=qQ-10&&(G<dW||dW=== -1)){dW=G;MD=dW;}if(jz>=qQ-10&&(G<oD||oD=== -1)){oD=G;}if(jz<=qQ+xO){if(dW!== -1){iP=G;NI=iP;}}VX(G,aM,MD,NI);}if(oD=== -1){oD=cK;}if(dW=== -1){dW=cK;}}};function wY(aiu){if(bX===IPCC.ViewMode.SinglePage){return;}var G,ds,aM;var qe,qf;var jz,oc,lE,tC;if(an===''||an.clientHeight<=0){return;}qe=an.scrollTop;qf=an.scrollLeft;var GU=an.clientHeight;var GW=an.clientWidth;var Yj=an.scrollWidth;var Zf=an.scrollHeight;var pP=0;if(eE===IPCC.PageLayout.VerticalScrollDirection){pP=Zf*qe/(Zf-GU);}else{pP=Yj*qf/(Yj-GW);}dW= -1;oD= -1;iP= -1;for(G=0;G<bE.length;G++){ds=bE[G];if(ds&&ds.bc){aM=document.getElementById(ds.bc);if(eE===IPCC.PageLayout.VerticalScrollDirection){jz=aM.offsetTop;oc=aM.offsetLeft;lE=jz+aM.offsetHeight;tC=oc+aM.offsetWidth;}else{jz=aM.offsetLeft;oc=aM.offsetTop;lE=jz+aM.offsetWidth;tC=oc+aM.offsetHeight;}if(pP>=jz&&(pP<=lE||(G===bE.length-1&&pP>lE))){if(rC===false&&cK!==G&&aiu===true){cK=G;var C=new IPCC.PageEventArgs();C.imGearPage=O.get_currentPage();C.pageIndex=cK;C.pageNodeID=ds.bc;O.by('currentPageChanged',C);}}var qQ=0;var xO=0;if(eE===IPCC.PageLayout.VerticalScrollDirection){qQ=qe;xO=GU;}else{qQ=qf;xO=GW;}if(lE>=qQ-10&&dW=== -1){dW=G;}var aaq=false;if(jz>=qQ-10&&oD=== -1){oD=G;}if(jz<=qQ+xO){if(dW!== -1){iP=G;if(dW!== -1&&ds.fd===false&&(aM.bA===undefined||aM.bA===null||aM.bA.hH()===false)&&ds.qp===false){adG(aM);aaq=true;}}}if(dW!== -1){VX(G,aM,dW,iP);}if(aaq===false){var bF=0;for(bF=0;bF<aM.childNodes.length;bF++){if(aM.childNodes[bF].className==="pccPageListItemLoading"){aM.removeChild(aM.childNodes[bF]);}}}}}if(oD=== -1){oD=cK;}if(dW=== -1){dW=cK;}rC=false;}};IPCC.PageList.prototype={dispose:function(){this.aB('dispose',arguments);this.Du(false);this.ajy();},get_debug:function(){try{var T=this.qA();this.ap('get_debug',arguments,T);return T;}catch(e){this.F('get_debug',e);throw e;}},set_debug:function(value){try{this.aB('set_debug',arguments);var lj=this.qA();this.xE(value);if(!lj){this.aB('set_debug',arguments);}}catch(e){this.F('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var T=this.lL();this.ap('get_debugErrorLevel',arguments,T);return T;}catch(e){this.F('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aB('set_debugErrorLevel',arguments);var lj=this.lL();this.rS(value);if(lj<IPCC.Web.UI.DebugErrorLevel.Development){this.aB('set_debugErrorLevel',arguments);}}catch(e){this.F('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.yf(handler);}catch(e){this.F('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Ax(handler);}catch(e){this.F('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.BM(handler);}catch(e){this.F('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.zz(handler);}catch(e){this.F('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.xn(handler);}catch(e){this.F('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Ai(handler);}catch(e){this.F('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.QN(handler);}catch(e){this.F('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Na(handler);}catch(e){this.F('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.ajU(handler);}catch(e){this.F('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aqE(handler);}catch(e){this.F('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.uK(handler);}catch(e){this.F('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.wu(handler);}catch(e){this.F('remove_textPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.yV(handler);},remove_textExtractionFailed:function(handler){this.zE(handler);},add_pageOpening:function(handler){try{this.Hn(handler);}catch(e){this.F('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.EY(handler);}catch(e){this.F('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Hq(handler);}catch(e){this.F('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Gn(handler);}catch(e){this.F('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.xi(handler);}catch(e){this.F('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.xM(handler);}catch(e){this.F('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Ic(handler);}catch(e){this.F('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.DY(handler);}catch(e){this.F('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.jx(handler);}catch(e){this.F('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.jK(handler);}catch(e){this.F('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.vR(handler);}catch(e){this.F('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.wN(handler);}catch(e){this.F('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Pb(handler);}catch(e){this.F('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Mz(handler);}catch(e){this.F('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.CL(handler);}catch(e){this.F('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.AL(handler);}catch(e){this.F('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.CD(handler);}catch(e){this.F('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.zN(handler);}catch(e){this.F('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.CC(handler);}catch(e){this.F('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.An(handler);}catch(e){this.F('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Hh(handler);}catch(e){this.F('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.EH(handler);}catch(e){this.F('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.vP(handler);}catch(e){this.F('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.vu(handler);}catch(e){this.F('remove_markRemoved',e);throw e;}},add_commentAdded:function(handler){try{this.vL(handler);}catch(e){this.F('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.zp(handler);}catch(e){this.F('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.vS(handler);}catch(e){this.F('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.zH(handler);}catch(e){this.F('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.rU(handler);}catch(e){this.F('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.tj(handler);}catch(e){this.F('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.RO(handler);}catch(e){this.F('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.NX(handler);}catch(e){this.F('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Qp(handler);},remove_exceptionThrown:function(handler){this.Nu(handler);},writeToLog:function(message){try{this.hc(message);}catch(e){this.F('writeToLog',e);throw e;}},get_currentState:function(){try{var T=this.sf();this.ap('get_currentState',arguments,T);return T;}catch(e){this.F('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.aB('zoomIn',arguments);this.DU(factor);}catch(e){this.F('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aB('zoomOut',arguments);this.Qt(factor);}catch(e){this.F('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.ahc();},displayAll:function(){try{this.aB('displayAll',arguments,1);this.anQ();}catch(e){this.F('displayAll',e);throw e;}},display:function(pageIndex){try{this.aB('display',arguments);this.ak(pageIndex);}catch(e){this.F('display',e);throw e;}},get_textRequired:function(){try{var T=this.hX();this.ap('get_textRequired',arguments,T);return T;}catch(e){this.F('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.aB('set_textRequired',arguments);this.vi(value);}catch(e){this.F('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.aB('selectText',arguments,1);this.Rq(pageIndex,startIndex,endIndex,color);}catch(e){this.F('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.aB('clearSelectedText',arguments,1);this.ahT(pageIndex);}catch(e){this.F('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.aB('clearAllSelectedText',arguments);this.afU();}catch(e){this.F('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var T=this.amm();this.ap('get_maxPrefetch',arguments,T);return T;}catch(e){this.F('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.aB('set_maxPrefetch',arguments);this.atz(value);}catch(e){this.F('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var T=this.aja();this.ap('get_displayPagesWhenScrolling',arguments,T);return T;}catch(e){this.F('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.aB('set_displayPagesWhenScrolling',arguments);this.atK(value);}catch(e){this.F('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var T=this.aoo();this.ap('get_maxOutOfViewDisplay',arguments,T);return T;}catch(e){this.F('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.aB('set_maxOutOfViewDisplay',arguments);this.auf(value);}catch(e){this.F('set_maxOutOfViewDisplay',e);throw e;}},get_scrollDisplayThreshold:function(){try{var T=this.aoN();this.ap('get_scrollDisplayThreshold',arguments,T);return T;}catch(e){this.F('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.aB('set_scrollDisplayThreshold',arguments);this.atT(value);}catch(e){this.F('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var T=this.acp();this.ap('get_mouseCursor',arguments,T);return T;}catch(e){this.F('acp',e);throw e;}},set_mouseCursor:function(value){try{this.aB('set_mouseCursor',arguments);this.auC(value);}catch(e){this.F('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var T=this.TU();this.ap('get_mouseTool',arguments,T);return T;}catch(e){this.F('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aB('set_mouseTool',arguments);this.FT(value);}catch(e){this.F('set_mouseTool',e);throw e;}},get_allowMarkEdits:function(){try{var T=this.akf();this.aB('get_allowMarkEdits',arguments);return T;}catch(e){this.F('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.aB('set_allowMarkEdits',arguments);this.aoh(! !bool);}catch(e){this.F('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var T=this.aeQ();this.ap('get_currentPage',arguments,T);return T;}catch(e){this.F('get_currentPage',e);throw e;}},scrollToNextPage:function(){try{this.aB('scrollToNextPage',arguments);this.aoE();}catch(e){this.F('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.aB('scrollToPreviousPage',arguments);this.anu();}catch(e){this.F('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.aB('scrollToFirstPage',arguments);this.aoe();}catch(e){this.F('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.aB('scrollToLastPage',arguments);this.app();}catch(e){this.F('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.aB('scrollToPage',arguments,1);this.ro(pageIndex);}catch(e){this.F('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.aB('rotate',arguments,1);this.aqt(degreesClockwise);}catch(e){this.F('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.aB('rotateAll',arguments,1);this.WL(degreesClockwise,true);}catch(e){this.F('rotateAll',e);throw e;}},get_enabled:function(){try{var T=this.Mi();this.ap('get_enabled',arguments,T);return T;}catch(e){this.F('get_enabled',e);throw e;}},get_pageLayout:function(){try{var T=this.apE();this.ap('get_pageLayout',arguments,T);return T;}catch(e){this.F('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.aB('set_pageLayout',arguments);this.aun(value);}catch(e){this.F('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var T=this.arm();this.ap('get_viewMode',arguments,T);return T;}catch(e){this.F('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.aB('set_viewMode',arguments);this.Rc(value);}catch(e){this.F('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var T=this.agt();this.ap('get_loadingContent',arguments,T);return T;}catch(e){this.F('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.aB('set_loadingContent',arguments);this.arB(value);}catch(e){this.F('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.aB('fitPages',arguments,1);this.ajZ(fitType);}catch(e){this.F('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.aB('openPage',arguments,1);this.CN(pageIndex);}catch(e){this.F('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.aB('requestPageAttributes',arguments,1);this.Ra(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.F('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.aB('scrollRegionIntoView',arguments,1);return this.aoG(pageIndex,rectangle);}catch(e){this.F('scrollRegionIntoView',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.aB('scrollConversationIntoView',arguments,1);return this.alY(conversation);}catch(e){this.F('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.Vv();},get_encryption:function(){try{var T=this.fG();this.ap('get_encryption',arguments,T);return T;}catch(e){this.F('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aB('set_encryption',arguments);this.gW(value);}catch(e){this.F('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var T=this.ajP();return T;}catch(e){this.F('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages){try{this.auT(value,stampImages);}catch(e){this.F('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var T=this.kX();this.ap('get_resourcePath',arguments,T);return T;}catch(e){this.F('get_resourcePath',e);throw e;}},set_resourcePath:function(V){try{this.aB('set_resourcePath',arguments);this.sa(V);}catch(e){this.F('set_resourcePath',e);throw e;}},get_displayedPages:function(){try{var T=this.alv();this.ap('get_displayedPages',arguments,T);return T;}catch(e){this.F('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var T=this.mZ();this.ap('get_requireRequestsOptimize',arguments,T);return T;}catch(e){this.F('mZ',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aB('set_requireRequestsOptimize',arguments);this.qX(value);}catch(e){this.F('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var T=this.iQ();this.ap('get_serviceResponseTimeout',arguments,T);return T;}catch(e){this.F('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aB('set_serviceResponseTimeout',arguments);this.sJ(value);}catch(e){this.F('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var T=this.arb();this.ap('get_pageRotation',arguments,T);return T;}catch(e){this.F('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.aB('set_pageRotation',arguments);this.atU(value);}catch(e){this.F('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.aB('getNodeID',arguments,1);return this.ahs(pageIndex);}catch(e){this.F('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var T=this.aiX();this.ap('get_isCommentsPanelOpen',arguments,T);return T;}catch(e){this.F('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.aB('openCommentsPanel',arguments);this.ajK();}catch(e){this.F('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.aB('closeCommentsPanel',arguments);this.agv();}catch(e){this.F('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var T=this.arA();this.ap('get_conversationDOMFactory',arguments,T);return T;}catch(e){this.F('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.aB('set_conversationDOMFactory',arguments);this.auS(value);}catch(e){this.F('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var T=this.aoy();this.ap('get_selectedConversation',arguments,T);return T;}catch(e){this.F('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.aB('set_selectedConversation',arguments);this.atS(value);}catch(e){this.F('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.aB('refreshConversations',arguments);this.aqb(markIDs);}catch(e){this.F('refreshConversations',e);throw e;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass('IPCC.PageList',IPCC.Sys.UI.Control);IPCC.ds=function(ay){this.ba=undefined;this.bg=0;this.bd=0;var be=new IPCC.Web.UI.fY();this.bc=undefined;this.vT=undefined;this.vG=undefined;this.fd=false;this.aO=undefined;this.yQ=false;this.Bx=0;this.anH=undefined;this.hn=false;this.hb=false;this.qp=false;this.gm=0;this.It=0;this.Ak=false;if(arguments.length>0){if(ay.page!==undefined){this.ba=ay.page;}}this.ac=function(aF){var R=be.getHandler('propertyChanged');if(R){R(this,new IPCC.nF(aF));}};return this;};IPCC.eF=function(){this.df=undefined;return this;};var PCCViewer=window.PCCViewer||{};(function(){"use strict";function Event(target,type){this.ep=target;this.bO=type;};PCCViewer.Event=Event;PCCViewer.Event.prototype.getTarget=function(){return this.ep;};PCCViewer.Event.prototype.getType=function(){return this.bO;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}PCCViewer.EventEmitter=(function(){function on(eventType,handler){if(!this.jM){this.jM={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jM[lowerCaseEventType];if(!handlers){handlers=this.jM[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jM){this.jM={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jM[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jM){this.jM={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jM[lowerCaseEventType],i,length=0;if(properties){PCCViewer.Fe.vh(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();})();var PCCViewer=PCCViewer||{};(function(){'use strict';function PromiseDeferred(){this.fk=PromiseDeferred.States.Pending;this.V=null;this.fi=null;this.Ml=[];this.Jf=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var zY=new PromiseDeferred();if(onFulfilled&&typeof onFulfilled==='function'){var atW=function(V){try{var T=onFulfilled(V);zY.resolve(T);}catch(e){zY.reject(e);}};this.Ml.push(atW);}else{var arW=function(V){zY.resolve(V);};this.Ml.push(arW);}if(onRejected&&typeof onRejected==='function'){var akN=function(fi){try{var T=onRejected(fi);RV(zY,T);}catch(e){zY.reject(e);}};this.Jf.push(akN);}else{var akd=function(fi){zY.reject(fi);};this.Jf.push(akd);}if(this.fk===PromiseDeferred.States.Fulfilled){this.adg();}if(this.fk===PromiseDeferred.States.Rejected){this.adQ();}return zY;};PromiseDeferred.prototype.resolve=function(x){if(!this.abX()){return;}RV(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.abX()){return;}this.wp(reason);};PromiseDeferred.prototype.Pz=function(bq){this.fk=PromiseDeferred.States.Fulfilled;this.V=bq;this.adg();};PromiseDeferred.prototype.adg=function(){var callback;while(this.Ml.length>0){callback=this.Ml.shift();(function(lN,V){setTimeout(function(){lN(V);},0);})(callback,this.V);}};PromiseDeferred.prototype.adQ=function(){var callback;while(this.Jf.length>0){callback=this.Jf.shift();(function(lN,V){setTimeout(function(){lN(V);},0);})(callback,this.fi);}};function RV(eZ,bq){if(eZ===bq){eZ.wp(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bq&&bq.NQ&&eZ.acb&&eZ.acb===bq){eZ.wp(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bq&&bq.NQ&&bq.NQ==="PCCViewer.Promise"){bq.then(function(aqr){eZ.Pz(aqr);},function(aqp){eZ.wp(aqp);});}else if(bq!==null&&(typeof bq==='object'||typeof bq==='function')){var QL;try{QL=bq.then;}catch(e){eZ.wp(e);return;}if(typeof QL==='function'){var Df=true;var apK=function(et){if(Df){RV(eZ,et);Df=false;}};var aqG=function(T){if(Df){eZ.wp(T);Df=false;}};try{QL.call(bq,apK,aqG);}catch(e){if(Df){eZ.wp(e);}}}else{eZ.Pz(bq);}}else{eZ.Pz(bq);}};PromiseDeferred.prototype.wp=function(reason){this.fk=PromiseDeferred.States.Rejected;this.fi=reason;this.adQ();};PromiseDeferred.prototype.abX=function(){return this.fk===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};PCCViewer.Deferred=function(){var PV=new PromiseDeferred();function Promise(eZ){this.then=function(onFulfilled,onRejected){return new Promise(eZ.then(onFulfilled,onRejected));};this.NQ="PCCViewer.Promise";eZ.acb=this;};var promise=new Promise(PV);return{getPromise:function(){return promise;},resolve:function(value){PV.resolve(value);},reject:function(reason){PV.reject(reason);}};};PCCViewer.Promise={all:function(promises){var i,dc=new PCCViewer.Deferred(),QP=dc.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var dc=new PCCViewer.Deferred();dc.resolve(value);return dc.getPromise();};dc.resolve([]);for(i=0;i<promises.length;i++){QP=QP.then(createPushFunction(promises[i]));}return QP;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=PCCViewer.Deferred;}})();(function(PCCViewer){function Zr(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function afX(asG){var bE=[];var Ye=function(n){return!(isNaN(+n));};var aby=asG.split(',');var JM,OC;var Ky=0;var Jy=0;for(var G=0;G<aby.length;G++){var Gg=aby[G].split('-');var Cb=Gg[0].replace(/\s+/g,'');if(Cb.length===0){continue;}var Fc=Cb;if(Gg[1]!==undefined&&Gg[1]!==""){Fc=Gg[1].replace(/\s+/g,'');}Cb= +(Cb);Fc= +(Fc);if(Ye(Cb)===true){Ky=parseInt(Cb);}if(Ye(Fc)===true){Jy=parseInt(Fc);}if(Ky<Jy){JM=Ky;OC=Jy;}else{JM=Jy;OC=Ky;}if(Gg.length>1){for(var bH=JM;bH<=OC;bH++){bE.push(bH);}}else{bE.push(JM);}}bE.sort(function(a,b){return a-b;});for(G=bE.length-1;G>0;G--){if(bE[G-1]===bE[G]){bE.splice(G,1);}}return bE;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};PCCViewer.Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var gR;if(!(selections instanceof Array)){gR=[selections];}else{gR=selections;}IPCC.bh.forEach(gR,function(dK){IPCC.aE.mh(dK.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aE.mh(dK.length,'selection.length',1,Number.MAX_VALUE);IPCC.aE.di(dK.color,'selection.color');IPCC.aE.mh(dK.opacity,'selection.opacity',0,255);});IPCC.aE.di(backgroundColor,'backgroundColor');var arS=IPCC.bh.XP(gR);return IPCC.bh.map(arS,function(bL){bL.length=bL.endIndex-bL.startIndex+1;return bL;});},layerColors:function(colors,backgroundColor){var IJ;if(!(colors instanceof Array)){IJ=[colors];}else{IJ=colors;}IPCC.bh.forEach(IJ,function(dK){IPCC.aE.di(dK.color,'selection.color');IPCC.aE.mh(dK.opacity,'selection.opacity',0,255);});IPCC.aE.di(backgroundColor,'backgroundColor');return IPCC.bh.adq(IJ,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw Zr('Illegal page range value',pageRange);}var bW=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){bW.unshift(upperLimit--);}}else{bW=afX(pageRange);if((bW.length===0&& !allowEmpty)||bW[0]<lowerLimit||bW[bW.length-1]>upperLimit){throw Zr('Pages are out of range',bW.join(', '));}}return bW;}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ObservableCollection=function(){var Ag=[];var tu={};PCCViewer.EventEmitter.extend(tu);tu.OO=function(KY,cE){var O=this;return setTimeout(function(){O.trigger(KY,cE);},0);};this.add=function(item){Ag.push(item);tu.OO(this.EventType.ItemAdded,{item:item,count:Ag.length});return this;};this.remove=function(item){var O=this;this.forEach(function(e,idx){if(e===item){Ag.splice(idx,1);tu.OO(O.EventType.ItemRemoved,{item:item,count:Ag.length});}});return this;};this.removeAll=function(){Ag=[];tu.OO(this.EventType.ItemRemoved,{count:Ag.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.bh.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(Ag);};this.on=function(eventType,handler){tu.on.apply(tu,arguments);return this;};this.off=function(eventType,handler){tu.off.apply(tu,arguments);return this;};};PCCViewer.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};})(PCCViewer||{});var PCCViewer=window.PCCViewer||{};(function(){"use strict";PCCViewer.Data=(function(){function getData(key){return this.cY.get_data(key);};function setData(key,value){this.cY.set_data(key,value);return this;};function getDataKeys(){return this.cY.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},mn:function(jX,wn){if(typeof jX.getData!=="function"||typeof jX.setData!=="function"||typeof jX.getDataKeys!=="function"||typeof wn.getData!=="function"||typeof wn.setData!=="function"||typeof wn.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var Gk=jX.getDataKeys(),i,length=Gk.length;for(i=0;i<length;i++){var bz=Gk[i];wn.setData(bz,jX.getData(bz));}}};})();})();(function(undefined){'use strict';function Mark(parameters){this.bb=0;this.fu=undefined;this.Fn=false;if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.L=parameters.igMark;this.fu=this.L.get_markID().toString();this.cY=this.L.get_data();}else{this.cY=new IPCC.Web.UI.Data();}PCCViewer.Data.extend(this);if(parameters.pageNumber!==undefined){IPCC.aE.gj(parameters.pageNumber,'pageNumber');this.bb=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aE.iV(parameters.id,'id');this.fu=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.Fn){this.bO=parameters.type;this.Fn=true;}else if(parameters.type!==undefined){IPCC.aE.iV(parameters.type,'type');var EP=MO(parameters.type,PCCViewer.Mark.Type);if(EP===null){throw new RangeError("The value of mark type was invalid.");}this.bO=EP;}if('cv'in parameters){this.cv=parameters.cv;}if('aP'in parameters){this.aP=parameters.aP;}addPropertiesToMark(this);addMethodsToMark(this);};PCCViewer.Mark=Mark;PCCViewer.Mark.prototype.getType=function(){return this.bO;};PCCViewer.Mark.prototype.getId=function(){return this.fu;};PCCViewer.Mark.prototype.getPageNumber=function(){return this.bb;};PCCViewer.Mark.prototype.getConversation=function(){if(!this.db){this.db=new PCCViewer.Conversation(this);}return this.db;};PCCViewer.Mark.prototype.getBoundingRectangle=function(){if(this.L){var bs=this.L.get_boundingRectangle();if(bs instanceof IPCC.Web.UI.Rectangle){this.mL={width:bs.width,height:bs.height,x:bs.x,y:bs.y};}}return this.mL;};PCCViewer.Mark.prototype.reset=function(){var cB=new Mark({type:this.bO,Fn:this.Fn});this.cY={};if(this.setBorderColor&&cB.getBorderColor){this.setBorderColor(cB.getBorderColor());}if(this.setBorderThickness&&cB.getBorderThickness){this.setBorderThickness(cB.getBorderThickness());}if(this.setColor&&cB.getColor){this.setColor(cB.getColor());}if(this.setEndHeadType&&cB.getEndHeadType){this.setEndHeadType(cB.getEndHeadType());}if(this.setEndPoint&&cB.getEndPoint){this.setEndPoint(cB.getEndPoint());}if(this.setFillColor&&cB.getFillColor){this.setFillColor(cB.getFillColor());}if(this.setFontColor&&cB.getFontColor){this.setFontColor(cB.getFontColor());}if(this.setFontName&&cB.getFontName){this.setFontName(cB.getFontName());}if(this.setFontSize&&cB.getFontSize){this.setFontSize(cB.getFontSize());}if(this.setFontStyle&&cB.getFontStyle){this.setFontStyle(cB.getFontStyle());}if(this.setHorizontalAlignment&&cB.getHorizontalAlignment){this.setHorizontalAlignment(cB.getHorizontalAlignment());}if(this.setLabel&&cB.getLabel){this.setLabel(cB.getLabel());}if(this.setPosition&&this.L&&cB.getPosition){this.setPosition(cB.getPosition());}if(this.setReason&&cB.setReason){this.setReason(cB.getReason());}if(this.setOpacity&&cB.getOpacity){this.setOpacity(cB.getOpacity());}if(this.setRectangle&&cB.getRectangle){this.setRectangle(cB.getRectangle());}if(this.setStartPoint&&cB.getStartPoint){this.setStartPoint(cB.getStartPoint());}if(this.setText&&cB.getText){this.setText(cB.getText());}if(this.setThickness&&cB.getThickness){this.setThickness(cB.getThickness());}if(this.setPath&&cB.getPath){this.setPath(cB.getPath());}if(this.setHref&&cB.getHref){this.setHref(cB.getHref());}if(this.setImage&&cB.getImage){this.setImage({dataUrl:cB.getImage(),id:''});}};if(Object.defineProperties){Object.defineProperties(PCCViewer.Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}PCCViewer.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};PCCViewer.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};PCCViewer.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function MO(QX,bO){var UF=QX.toLowerCase();for(var standardType in bO){if(bO.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===UF){return standardType;}}return null;};function addMethodsToMark(K){function EK(K){K.highlightText=function(highlights){if(!this.L){throw new Error("It is invalid to highlight text on this mark.");}var lB;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){lB=[highlights];}else{lB=highlights;}for(var i=0;i<lB.length;i++){aog(lB[i]);}}else{lB=[];}var bO=K.getType();switch(bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:K.L.selectText(lB);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:var O=this;var GK=[];var vh=false,HW=0,Kb,za;var YU=function(DE,ahv,gR){var wW;var Oz= -1,Iz=[];var tz=(DE.aH+DE.co);if(vh===true&&Kb>=0&&za>=0){if(DE.ar-1===Kb){wW=0;if(HW<=tz){Iz.push({startIndex:wW,length:HW,color:gR[za].color,opacity:(gR[za].opacity)?gR[za].opacity:127});vh=false;HW=0;Kb= -1;za= -1;}}}for(var bF=0;bF<gR.length;bF++){wW=DE.aH+gR[bF].startIndex-ahv;if(wW<0){continue;}if(Array.prototype.indexOf){Oz=GK.indexOf(bF);}else{Oz=IPCC.Web.gh(GK,bF);}var cG=127;if(Oz=== -1){if(wW+gR[bF].length<=tz){if(gR[bF].opacity){cG=gR[bF].opacity;}Iz.push({startIndex:wW,length:gR[bF].length,color:gR[bF].color,opacity:cG});GK.push(bF);O.GM.push(gR[bF]);}else{var Sp=tz-wW;if(Sp>0){HW=gR[bF].length-Sp;cG=127;if(gR[bF].opacity){cG=gR[bF].opacity;}Iz.push({startIndex:wW,length:Sp,color:gR[bF].color,opacity:cG});GK.push(bF);O.GM.push(gR[bF]);vh=true;za=bF;Kb=DE.ar;}}}}return Iz;};this.GM=[];var cc=YU(this.L,0,lB);K.clearHighlights();if(cc.length>0){O.L.selectText(cc);}cc=[];var ma=this.L.co;if(this.eP&&this.eP.length){for(var G=0;G<this.eP.length;G++){cc=[];cc=YU(this.eP[G],ma,lB);ma+=this.eP[G].co;if(cc.length>0){this.eP[G].selectText(cc);}}}break;}return this;};function aog(Hd){IPCC.aE.mh(Hd.startIndex,'highlight.startIndex',0,K.getText().length);IPCC.aE.mh(Hd.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aE.di(Hd.color,'highlight.color');if(Hd.opacity){IPCC.aE.mh(Hd.opacity,"highlight.opacity",0,255);}};K.clearHighlights=function(){if(this.L){if(!this.L){throw new Error("It is invalid to clear highlights on this mark.");}}var bO=K.getType();switch(bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:K.L.selectText();break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:this.L.selectText();if(this.eP&&this.eP.length){for(var G=0;G<this.eP.length;G++){this.eP[G].selectText();}}break;}return this;};};var bO=K.getType();switch(bO){case PCCViewer.Mark.Type.TextAnnotation:EK(K);break;case PCCViewer.Mark.Type.TextRedaction:EK(K);break;case PCCViewer.Mark.Type.HighlightAnnotation:EK(K);break;case PCCViewer.Mark.Type.TextSelectionRedaction:EK(K);break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:EK(K);break;default:break;}};function addPropertiesToMark(K){K.mL={x:0,y:0,width:0,height:0};var bO=K.getType();switch(bO){case PCCViewer.Mark.Type.LineAnnotation:K.di='#18385F';K.gr=IPCC.Web.UI.LineStyle.Solid;K.nz=6;K.cG=255;K.JE={x:0,y:0};K.tz={x:0,y:0};K.nf="None";break;case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:K.ck='#FB0404';K.cG=255;K.rN='#000000';K.sM=4;K.h={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.RectangleRedaction:K.fi="";K.h={x:0,y:0,width:0,height:0};K.so=true;if(K.L){K.L.ko(K.so);K.L.set_fillColor('#000000');}break;case PCCViewer.Mark.Type.TransparentRectangleRedaction:K.h={x:0,y:0,width:0,height:0};K.so=true;if(K.L){K.L.ko(K.so);K.L.set_fillColor('#FFFF00');K.L.set_opacity(127);K.L.set_lineWidth(1);K.L.set_lineColor('#FFFF00');}break;case PCCViewer.Mark.Type.TextAnnotation:K.bm='';K.ck='#FFFFFF';K.cG=127;K.rN='#000000';K.sM=4;K.oz='#000000';K.fP="Arial";K.hI=12;K.cq=[];K.vC="Left";K.h={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:K.zw="Approved";K.h={x:0,y:0,width:0,height:0};if(bO===PCCViewer.Mark.Type.StampRedaction){K.so=true;if(K.L){K.L.ko(K.so);K.L.set_fillColor('#000000');}}else{K.di="#000000";}break;case PCCViewer.Mark.Type.HighlightAnnotation:K.ck="#FFFF00";K.bm='';K.cz='';if(K.L){if(K.L.cz){K.bm=K.L.cz;}}K.cd={startIndex:0,length:0};K.GM=[];break;case PCCViewer.Mark.Type.TextSelectionRedaction:K.fi="";K.bm='';K.cd={startIndex:0,length:0};if(K.L){K.L.set_fillColor('#000000');if(K.L.cz){K.bm=K.L.cz;}}K.GM=[];break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:K.rz=null;K.bm='';if(K.L){if(K.L.cz){K.bm=K.L.cz;}}K.cd={startIndex:0,length:0};K.GM=[];break;case PCCViewer.Mark.Type.TextRedaction:K.bm='';K.oz='#000000';K.fP="Arial";K.hI=12;K.h={x:0,y:0,width:0,height:0};K.so=true;if(K.L){K.L.ko(K.so);K.L.set_fillColor('#ffffff');}break;case PCCViewer.Mark.Type.FreehandAnnotation:K.cG=255;case PCCViewer.Mark.Type.FreehandSignature:K.h={x:0,y:0,width:0,height:0};K.nz=4;K.di='#000000';K.cF='M0,0';break;case PCCViewer.Mark.Type.TextSignature:K.bm="John Doe";K.h={x:0,y:0,width:0,height:0};K.di="#000000";if(K.L){K.di=K.L.ck||'#000000';K.L.ko(K.so);K.L.set_fillColor(K.di);}K.fP="";break;case 'PlaceSignature':K.kM=undefined;K.h={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:K.aD="";K.h={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.PolylineAnnotation:K.di='#000000';K.gr=IPCC.Web.UI.LineStyle.Solid;K.nz=2;K.cG=255;K.ax=[];K.ax[0]={x:0,y:0};break;}function getSignature(){return this.kM||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.kM=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.kM=signature;return this;};if(K.kM||K.bO==='PlaceSignature'){K.getSignature=getSignature;K.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(K,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.di=this.L.get_lineColor()||this.di;break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.TextSignature:this.di=this.L.get_fillColor()||this.di;break;}}return this.di;};function setColor(value){IPCC.aE.di(value,'color');this.di=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.L.set_lineColor(value);break;case PCCViewer.Mark.Type.StampAnnotation:this.L.set_fillColor(value);break;case PCCViewer.Mark.Type.TextSignature:this.L.set_textColor(value);this.L.set_fillColor(value);break;}}return this;};if(K.di!==undefined){K.getColor=getColor;K.setColor=setColor;if(Object.defineProperties){Object.defineProperties(K,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:this.ck=this.L.get_fillColor()||this.ck;break;}}return this.ck;};function setFillColor(value){IPCC.aE.di(value,'fillColor');this.ck=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.L.set_fillColor(value);break;case PCCViewer.Mark.Type.HighlightAnnotation:this.L.set_fillColor(value);if(this.eP&&this.eP.length){for(var G=0;G<this.eP.length;G++){this.eP[G].set_fillColor(value);}}break;}}return this;};if(K.ck!==undefined){K.getFillColor=getFillColor;K.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(K,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.aD=this.aD;break;}}return this.aD;};function setImage(params){IPCC.aE.iV(params.dataUrl,'string');IPCC.aE.iV(params.id,'string');this.aD=params.dataUrl;this.nT=params.id;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.L.set_image(params.dataUrl);this.L.nT=params.id;break;}}return this;};if(K.aD!==undefined){K.getImage=getImage;K.setImage=setImage;if(Object.defineProperties){Object.defineProperties(K,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.rN=this.L.get_lineColor()||this.rN;break;}}return this.rN;};function setBorderColor(value){IPCC.aE.di(value,'borderColor');this.rN=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.L.set_lineColor(value);break;}}return this;};if(K.rN!==undefined){K.getBorderColor=getBorderColor;K.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(K,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.cG=this.L.get_opacity()||this.cG;break;}}return this.cG;};function setOpacity(value){IPCC.aE.mh(value,'opacity',0,255);this.cG=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.L.set_opacity(value);break;}}return this;};if(K.cG!==undefined&&K.cG>=0){K.getOpacity=getOpacity;K.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(K,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.nz=this.L.get_lineWidth()||this.nz;break;}}return this.nz;};function setThickness(value){IPCC.aE.kH(value,'thickness',1,50);this.nz=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.L.set_lineWidth(value);break;}}return this;};if(K.nz){K.getThickness=getThickness;K.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(K,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.sM=this.L.get_lineWidth()||this.sM;break;}}return this.sM;};function setBorderThickness(value){IPCC.aE.kH(value,'borderThickness',1,50);this.sM=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.L.set_lineWidth(value);break;}}return this;};if(K.sM!==undefined){K.getBorderThickness=getBorderThickness;K.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(K,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getStartPoint(){if(this.L&&this.L!==null){var ax=this.L.get_points();if(ax.get_length()>0){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:var au=ax.getPoint(0);if(au){this.JE={x:au.x,y:au.y};}break;}}}return this.JE;};function setStartPoint(value){IPCC.aE.gj(value.x,'startPoint'+'.x');IPCC.aE.gj(value.y,'startPoint'+'.y');if(this.L&&this.L!==null){var ax=this.L.get_points();switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:ax.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.JE=value;return this;};if(K.JE){K.getStartPoint=getStartPoint;K.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(K,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.L&&this.L!==null){var ax=this.L.get_points();if(ax.get_length()>0){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:var au=ax.getPoint(1);if(au){this.tz={x:au.x,y:au.y};}break;}}}return this.tz;};function setEndPoint(value){IPCC.aE.gj(value.x,'endPoint'+'.x');IPCC.aE.gj(value.y,'endPoint'+'.y');if(this.L&&this.L!==null){var ax=this.L.get_points();switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:ax.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.tz=value;return this;};if(K.tz){K.getEndPoint=getEndPoint;K.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(K,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.L&&this.L!==null){var At;switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:At=this.L.get_endHeadType();switch(At){case IPCC.Web.UI.LineHeadType.None:this.nf=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.nf=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.nf;};function setEndHeadType(value){var At;switch(value){case PCCViewer.Mark.LineHeadType.None:At=IPCC.Web.UI.LineHeadType.None;break;case PCCViewer.Mark.LineHeadType.FilledTriangle:At=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.L&&this.L!==null){switch(this.bO){case PCCViewer.Mark.Type.LineAnnotation:this.L.set_endHeadType(At);break;}}this.nf=value;return this;};if(K.nf){K.getEndHeadType=getEndHeadType;K.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(K,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.L&&this.L!==null){var Da=this.L.get_points();var bp=Da.get_length();var aaj=[];var Vt=function(aiV,bH){aaj.push(aiV.getPoint(bH));};if(bp>1){switch(this.bO){case PCCViewer.Mark.Type.PolylineAnnotation:for(var G=0;G<bp;G++){Vt(Da,G);}this.ax=aaj;break;}}}return this.ax.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bF=0;bF<value.length;bF++){IPCC.aE.au(value[bF],'PolylinePoint');}if(this.L&&this.L!==null){var Da=this.L.get_points();var avh=function(bH){Da.addPoint(new IPCC.Web.UI.Point(value[bH].x,value[bH].y));};switch(this.bO){case PCCViewer.Mark.Type.PolylineAnnotation:Da.removeAllPoints();for(var G=0;G<value.length;G++){avh(G);}}}return this;};if(K.ax){K.getPoints=getPoints;K.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(K,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var bs=this.L.get_rectangle();if(bs instanceof IPCC.Web.UI.Rectangle){this.h={width:bs.width,height:bs.height,x:bs.x,y:bs.y};}break;}}return this.h;};function setRectangle(value){IPCC.aE.gj(value.x,'rectangle'+'.x');IPCC.aE.gj(value.y,'rectangle'+'.y');IPCC.aE.gj(value.width,'rectangle'+'.width');IPCC.aE.gj(value.height,'rectangle'+'.height');if(this.L&&this.L!==null){switch(this.bO){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var bs=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.L.set_rectangle(bs);break;}}this.h=value;return this;};if(K.h){K.getRectangle=getRectangle;K.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(K,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){return this.L?{startIndex:this.L.aH,length:this.L.co}:this.cd;};function setPosition(value){IPCC.aE.gj(value.startIndex,'position.startIndex');IPCC.aE.gj(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.L===undefined||this.L===null){throw new Error("The mark must be on a page.");}var aI;var aO;var ar=this.bb-1;var Ik= -value.startIndex;var DJ=[];var cz="";var ct;while(true){if(ar>=this.cv.get_length()){throw new Error("The specified length is out of range.");}aI=this.cv.getPage(ar);if(aI.cu()&&aI.cu().zV()&&aI.cu().oE()===true){var aeC=Ik;var QK=aI.cu().Cx();Ik+=QK.length;if(Ik<0||(Ik===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var MK=0;if(ar===this.bb-1){MK=value.startIndex;}if(Ik>=value.length){ct=value.startIndex+value.length-1;if(aeC>=0){ct=value.length-1-aeC;}DJ.push({pageIndex:ar,endIndex:ct});cz+=QK.substring(MK,ct+1);break;}else{ct=aI.cu().Cx().length-1;DJ.push({pageIndex:ar,endIndex:ct});cz+=QK.substring(MK,ct+1);}}else{throw new Error("The text has not been retrieved for this page.");}ar++;}var ahb=this.bN;this.bN=IPCC.Ha();var G=0;if(this.eP){if(this.L){this.L.bN=this.bN;aO=this.aP.hF(this.cv.getPage(this.L.ar));if(this.L.get_type()===IPCC.Web.UI.MarkType.HighlightText){var aqI=function(K){if(K.get_type()===IPCC.Web.UI.MarkType.Highlight&&K.bN===ahb){aO.removeMark(K);}};aO.forEachMark(aqI);}else if(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var NF=this.L.DB.length-1;NF>=0;NF--){aO.removeMark(this.L.DB[NF]);this.L.DB.pop();}}}for(G=this.eP.length-1;G>=0;G--){var mo=this.eP[G];aO=this.aP.hF(this.cv.getPage(mo.ar));aO.removeMark(mo);this.eP.splice(G,1);}}else{this.eP=[];}for(G=0;G<DJ.length;G++){ar=DJ[G].pageIndex;aI=this.cv.getPage(ar);var JT=aI.cu().gz();aO=this.aP.hF(aI);var cL;var aH=0;ct=DJ[G].endIndex;if(G===0){aH=value.startIndex;}if(this.L.get_type()===IPCC.Web.UI.MarkType.HighlightText){if(G===0){cL=this.L;this.bb=ar+1;Bz(this.L,aH,ct-aH+1,this.bN);}else{cL=Bz(new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText),aH,ct-aH+1,this.bN);aO.addMark(cL);this.eP.push(cL);}cL.ar=ar;cL.cz=cz;var eO=Number.MAX_VALUE,fK=0,_top=Number.MAX_VALUE,eD=0;for(var bF=aH;bF<ct+1;bF++){var dk=JT.iF(bF);if(dk.aX.x<eO){eO=dk.aX.x;}if(dk.aX.y<_top){_top=dk.aX.y;}if(dk.aX.x+dk.aX.width>fK){fK=dk.aX.x+dk.aX.width;}if(dk.aX.y+dk.aX.height>eD){eD=dk.aX.y+dk.aX.height;}var Hc=Bz(new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight),bF,1,this.bN);Hc.set_rectangle(dk.aX);aO.addMark(Hc);}cL.set_rectangle(new IPCC.Web.UI.Rectangle(eO,_top,fK-eO,eD-_top));}else if(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){if(G===0){GV(this.L,aO,JT,ar,aH,ct,cz,this.bN);}else{cL=GV(new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction),aO,JT,ar,aH,ct,cz,this.bN);this.eP.push(cL);aO.addMark(cL);}}else if(this.L.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){var ki=aiH(JT,aH,ct);if(G===0){YZ(this.L,aH,ct-aH+1,cz,ki,ar,this.bN);}else{cL=YZ(null,aH,ct-aH+1,cz,ki,ar,this.bN);this.eP.push(cL);aO.addMark(cL);}}}this.cd=value;return this;};if(K.cd){K.getPosition=getPosition;K.setPosition=setPosition;if(Object.defineProperties){Object.defineProperties(K,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function Bz(K,aH,dP,jr){K.aH=aH;K.ck="#FFFF00";K.co=dP;K.cG=127;K.jd='y';K.bN=jr;return K;};function YZ(K,aH,dP,cz,ki,ar,jr){if(!K){K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);}K.aH=aH;K.co=dP;K.jd='y';K.bN=jr;K.cz=cz;K.ki=ki||[];K.ar=ar;var alu=IPCC.bh.reduce(K.ki,function(aaP,bs){if(!aaP){return bs.clone();}else{return aaP.union(bs);}},null);K.set_rectangle(alu);return K;};function aiH(eJ,iw,fj){var kW=[],pO=null,sx=null,bF;for(bF=iw;bF<fj+1;bF++){sx=eJ.iF(bF).aX;if(akT(sx,pO)){pO.union(sx);}else{pO=sx.clone();kW.push(pO);}}return kW;};function akT(sx,pO){if(!pO){return false;}else{return Math.abs(sx.y-pO.y)<1&&Math.abs(sx.height-pO.height)<1&&sx.x+sx.width>=pO.x+pO.width;}};function GV(cL,aO,eJ,Ew,iw,fj,cz,jr){cL.bN=jr;cL.ar=Ew;cL.cz=cz;cL.aH=iw;cL.co=fj-iw+1;var K=null;var fs={eO:Number.MAX_VALUE,fK:0,_top:Number.MAX_VALUE,eD:0};for(var bF=iw;bF<fj+1;bF++){var dk=eJ.iF(bF);if(K){var kC=K.get_rectangle();if(Math.abs(dk.aX.y-kC.y)<1&&Math.abs(dk.aX.height-kC.height)<1&&dk.aX.x+dk.aX.width>=kC.x+kC.width){K.set_rectangle(new IPCC.Web.UI.Rectangle(kC.x,kC.y,dk.aX.x+dk.aX.width-kC.x,kC.height));}else{Dk(aO,cL,K,fs);K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);K.set_rectangle(dk.aX);K.ko(true);K.set_fillColor('#000000');K.set_text(cL.bm);K.set_lineWidth(0);K.bN=jr;}}else{K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);K.set_rectangle(dk.aX);K.ko(true);K.set_fillColor('#000000');K.set_text(cL.bm);K.set_lineWidth(0);K.bN=jr;}K.ar=Ew;}if(K!==null){Dk(aO,cL,K,fs);}cL.set_rectangle(new IPCC.Web.UI.Rectangle(fs.eO,fs._top,fs.fK-fs.eO,fs.eD-fs._top));return cL;};function Dk(aO,cL,K,fs){var h=K.get_rectangle();if(h.x<fs.eO){fs.eO=h.x;}if(h.y<fs._top){fs._top=h.y;}if(h.x+h.width>fs.fK){fs.fK=h.x+h.width;}if(h.y+h.height>fs.eD){fs.eD=h.y+h.height;}aO.addMark(K);cL.DB.push(K);};function getText(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:this.bm=this.L.get_text()||this.bm;break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:if(K.L.cz){this.bm=K.L.cz;}break;}}return this.bm;};function setText(value){IPCC.aE.iV(value,'text');this.bm=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:this.L.set_text(value);break;}}return this;};if(K.bm!==undefined){K.getText=getText;var bk=K.getType();if(bk!==PCCViewer.Mark.Type.HighlightAnnotation&&bk!==PCCViewer.Mark.Type.TextSelectionRedaction&&bk!==PCCViewer.Mark.Type.TextHyperlinkAnnotation){K.setText=setText;}if(Object.defineProperties){Object.defineProperties(K,{"text":{enumerable:true,get:function(){return this.getText();},set:function(value){return this.setText(value);}}});}}function getFontColor(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.oz=this.L.get_textColor()||this.oz;break;}}return this.oz;};function setFontColor(value){IPCC.aE.di(value,'fontColor');this.oz=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.L.set_textColor(value);break;}}return this;};if(K.oz){K.getFontColor=getFontColor;K.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(K,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:this.fP=this.L.get_fontName()||this.fP;break;}}return this.fP;};function setFontName(value){IPCC.aE.iV(value,'fontName');this.fP=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:this.L.set_fontName(value);break;}}return this;};if(K.fP!==undefined){K.getFontName=getFontName;K.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(K,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.hI=this.L.get_fontSize()||this.hI;break;}}return this.hI;};function setFontSize(value){IPCC.aE.kH(value,'fontSize',0.1,288);this.hI=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.L.set_fontSize(value);break;}}return this;};if(K.hI){K.getFontSize=getFontSize;K.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(K,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.L){var qG;switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:qG=this.L.get_textHorizontalAlignment();if(qG){if(qG===IPCC.Web.UI.HorizontalAlignment.Center){this.vC="Center";}else if(qG===IPCC.Web.UI.HorizontalAlignment.Left){this.vC="Left";}else if(qG===IPCC.Web.UI.HorizontalAlignment.Right){this.vC="Right";}}break;}}return this.vC;};function setHorizontalAlignment(value){IPCC.aE.iV(value,'horizontalAlignment');var qG;var sS=MO(value,PCCViewer.Mark.HorizontalAlignment);if(sS==="Center"){qG=IPCC.Web.UI.HorizontalAlignment.Center;}else if(sS==="Left"){qG=IPCC.Web.UI.HorizontalAlignment.Left;}else if(sS==="Right"){qG=IPCC.Web.UI.HorizontalAlignment.Right;}else{throw "Invalid value found for the Text horizontalAlignment.";}K.vC=sS;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:if(qG!==undefined){this.L.set_textHorizontalAlignment(qG);this.vC=sS;}break;}}return this;};if(K.vC){K.getHorizontalAlignment=getHorizontalAlignment;K.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(K,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function amZ(Op){var yh=[];for(var G=0;G<Op.length;G++){switch(Op[G]){case "Bold":yh.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":yh.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":yh.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":yh.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Op[G]);}}if(yh.length===0){yh.push(IPCC.Web.UI.FontStyle.Regular);}return yh;};function getFontStyle(){if(this.L){var oh=[];switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var uz=this.L.get_fontStyle();if(uz&IPCC.Web.UI.FontStyle.Bold){oh.push("Bold");}if(uz&IPCC.Web.UI.FontStyle.Italic){oh.push("Italic");}if(uz&IPCC.Web.UI.FontStyle.Strikeout){oh.push("Strikeout");}if(uz&IPCC.Web.UI.FontStyle.Underline){oh.push("Underline");}if(oh.length>0){this.cq=oh;}break;}}return this.cq;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Kj,G,Xj=[];for(G=0;G<value.length;G++){Kj=MO(value[G],PCCViewer.Mark.FontStyles);if(Kj===null){throw new RangeError("The value of font styles "+value[G]+" is invalid.");}else{IPCC.aE.iV(Kj,'fontStyle');Xj.push(Kj);}}this.cq=Xj;var uz=[];uz=amZ(this.cq);var bx=this;function apk(cn){setTimeout(function(){bx.L.set_fontStyle(cn);},2);};if(this.L){switch(this.bO){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var ZJ=uz[0];for(G=1;G<uz.length;G++){ZJ|=uz[G];}apk(ZJ);break;}}return this;};if(K.cq){K.getFontStyle=getFontStyle;K.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(K,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.zw=this.L.get_text()||this.zw;break;}}return this.zw;};function setLabel(value){IPCC.aE.iV(value,'label');this.zw=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.L.set_text(value);break;}}return this;};if(typeof K.zw!=='undefined'){K.getLabel=getLabel;K.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(K,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TextSelectionRedaction:this.fi=this.L.get_text()||this.fi;break;}}return this.fi;};function setReason(value){IPCC.aE.iV(value,'text');this.fi=value;if(this.L){switch(this.bO){case PCCViewer.Mark.Type.RectangleRedaction:this.L.set_text(value);break;case PCCViewer.Mark.Type.TextSelectionRedaction:this.L.set_text(value);if(this.eP&&this.eP.length){for(var G=0;G<this.eP.length;G++){this.eP[G].set_text(value);}}break;}}return this;};if(typeof K.fi!=='undefined'){K.getReason=getReason;K.setReason=setReason;if(Object.defineProperties){Object.defineProperties(K,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.L){return this.L.get_pathString();}else{return this.cF;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var uN=IPCC.bh.VY(path);this.cF=path;if(this.L){this.L.set_pathString(path);this.L.set_pathWidth(uN.width);this.L.set_pathHeight(uN.height);}return this;};if(K.cF){K.setPath=setPath;K.getPath=getPath;if(Object.defineProperties){Object.defineProperties(K,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.L){return this.L.get_href();}else{return this.rz;}};function setHref(href){if(href!==null){var bO=typeof href;if(bO!=="undefined"&&bO!=="number"&&bO!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.rz=href;if(this.L){this.L.set_href(href);}if(this.eP){IPCC.bh.forEach(this.eP,function(L){L.set_href(href);});}return this;};if(typeof K.rz!=='undefined'){K.setHref=setHref;K.getHref=getHref;if(Object.defineProperties){Object.defineProperties(K,{"href":{enumerable:true,get:getHref,set:setHref}});}}}})();(function(undefined){'use strict';function MouseTool(name,type){this.bY=name;var EP=ame(type);if(EP===null){throw new RangeError("The value of type was invalid.");}this.bO=EP;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.bY;};MouseTool.prototype.getType=function(){return this.bO;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function ame(QX){var UF=QX.toLowerCase();for(var standardType in PCCViewer.MouseTool.Type){if(PCCViewer.MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===UF){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bO=mouseTool.getType();switch(bO){case PCCViewer.MouseTool.Type.Magnifier:break;case PCCViewer.MouseTool.Type.SelectToZoom:break;case PCCViewer.MouseTool.Type.Pan:mouseTool.xf=false;break;case PCCViewer.MouseTool.Type.PanAndEdit:mouseTool.xf=true;break;case PCCViewer.MouseTool.Type.SelectText:break;case PCCViewer.MouseTool.Type.EditMarks:break;case PCCViewer.MouseTool.Type.LineAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.LineAnnotation});break;case PCCViewer.MouseTool.Type.RectangleAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleAnnotation});break;case PCCViewer.MouseTool.Type.EllipseAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.EllipseAnnotation});break;case PCCViewer.MouseTool.Type.TextAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextAnnotation});break;case PCCViewer.MouseTool.Type.StampAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampAnnotation});break;case PCCViewer.MouseTool.Type.HighlightAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.HighlightAnnotation});break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextHyperlinkAnnotation});break;case PCCViewer.MouseTool.Type.FreehandAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.FreehandAnnotation});break;case PCCViewer.MouseTool.Type.RectangleRedaction:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleRedaction});break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TransparentRectangleRedaction});break;case PCCViewer.MouseTool.Type.TextRedaction:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextRedaction});break;case PCCViewer.MouseTool.Type.StampRedaction:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampRedaction});break;case PCCViewer.MouseTool.Type.PlaceSignature:mouseTool.am=new PCCViewer.Mark({type:'PlaceSignature',Fn:true});break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextSelectionRedaction});break;case PCCViewer.MouseTool.Type.ImageStampAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampAnnotation});break;case PCCViewer.MouseTool.Type.ImageStampRedaction:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampRedaction});break;case PCCViewer.MouseTool.Type.PolylineAnnotation:mouseTool.am=new PCCViewer.Mark({type:PCCViewer.Mark.Type.PolylineAnnotation});break;}if(mouseTool.am){mouseTool.getTemplateMark=function(){return this.am;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.am){this.am.reset();}};PCCViewer.MouseTools={MB:{},createMouseTool:function(name,type){var xy=name.toLowerCase();var existingTool=this.MB[xy];if(existingTool){if(existingTool.type.toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.MB[xy]=new MouseTool(name,type);}return this.MB[xy];},getMouseTool:function(name){if(name&&name.toLowerCase){var xy=name.toLowerCase();return this.MB[xy];}return undefined;}};PCCViewer.MouseTool=MouseTool;PCCViewer.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.MouseTools.createMouseTool("AccusoftMagnifier",PCCViewer.MouseTool.Type.Magnifier);PCCViewer.MouseTools.createMouseTool("AccusoftSelectToZoom",PCCViewer.MouseTool.Type.SelectToZoom);PCCViewer.MouseTools.createMouseTool("AccusoftPan",PCCViewer.MouseTool.Type.Pan);PCCViewer.MouseTools.createMouseTool("AccusoftPanAndEdit",PCCViewer.MouseTool.Type.PanAndEdit);PCCViewer.MouseTools.createMouseTool("AccusoftSelectText",PCCViewer.MouseTool.Type.SelectText);PCCViewer.MouseTools.createMouseTool("AccusoftEditMarks",PCCViewer.MouseTool.Type.EditMarks);PCCViewer.MouseTools.createMouseTool("AccusoftLineAnnotation",PCCViewer.MouseTool.Type.LineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftArrowAnnotation",PCCViewer.MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");PCCViewer.MouseTools.createMouseTool("AccusoftRectangleAnnotation",PCCViewer.MouseTool.Type.RectangleAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftEllipseAnnotation",PCCViewer.MouseTool.Type.EllipseAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextAnnotation",PCCViewer.MouseTool.Type.TextAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStampAnnotation",PCCViewer.MouseTool.Type.StampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftHighlightAnnotation",PCCViewer.MouseTool.Type.HighlightAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",PCCViewer.MouseTool.Type.TextHyperlinkAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftFreehandAnnotation",PCCViewer.MouseTool.Type.FreehandAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftPlaceSignature",PCCViewer.MouseTool.Type.PlaceSignature);PCCViewer.MouseTools.createMouseTool("AccusoftTextSelectionRedaction",PCCViewer.MouseTool.Type.TextSelectionRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftRectangleRedaction",PCCViewer.MouseTool.Type.RectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",PCCViewer.MouseTool.Type.TransparentRectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextRedaction",PCCViewer.MouseTool.Type.TextRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftStampRedaction",PCCViewer.MouseTool.Type.StampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampAnnotation",PCCViewer.MouseTool.Type.ImageStampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampRedaction",PCCViewer.MouseTool.Type.ImageStampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftPolylineAnnotation",PCCViewer.MouseTool.Type.PolylineAnnotation);})();var PCCViewer=window.PCCViewer||{};(function(undefined){"use strict";function ViewerControl(element,options){var O=this;if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!element){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}PCCViewer.EventEmitter.extend(this);this.Gb=false;this.ah=PCCViewer.Fe.vh({},ViewerControl.aqT,options);this.ah.language=PCCViewer.Fe.vh({},ViewerControl.ara,(options.language?options.language:{}));if(this.ah.pageLayout.toLowerCase()==="vertical"){this.ah.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.ah.pageLayout.toLowerCase()==="horizontal"){this.ah.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.ah.viewMode.toLowerCase()==="document"){this.ah.viewMode=IPCC.ViewMode.Document;}else if(this.ah.viewMode.toLowerCase()==="equalwidthpages"){this.ah.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.ah.viewMode.toLowerCase()==="singlepage"){this.ah.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}var jo=this.ah.pageRotation%360;if(jo!==0){var vo=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jo||vo.indexOf(jo)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!jo||IPCC.Web.gh(vo,jo)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.ah.pageRotation=jo;if(isNaN(this.ah.serviceResponseTimeout)||typeof this.ah.serviceResponseTimeout!=='number'||this.ah.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.ah.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}element.className='pccViewerControl';this.jM={};this.dA="";this.cQ=1;this.aP=undefined;this.aeA=new PCCViewer.Deferred();this.FA=this.aeA.getPromise();this.fH=false;this.ai=undefined;this.NN=0;this.cv=undefined;this.cf=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.pL=false;this.uM=false;this.BP=false;this.BA=[];this.KE=new PCCViewer.Deferred();this.apf=this.KE.getPromise();this.uD=[];this.cA={};this.ph=null;this.Gu={};setTimeout(function(){O.aju(element,O.ah);},0);this.yJ=null;this.dz=null;this.QR=false;this.IM=false;this.FM= -1;this.UG={};this.ase=this.ah.printTemplate||(this.ah.template?this.ah.template.print:"");this.tZ=null;this.FJ=null;this.kk=undefined;this.me=function(db,fk,adW){var df=document.createElement('div'),dn=df.style;dn.position='absolute';if(fk.isSelected){dn.backgroundColor='white';}else{dn.backgroundColor='lightgray';}dn.left='10px';dn.right='0';dn.textAlign='left';IPCC.bh.forEach(db.getComments(),function(aht,G){var SM=document.createElement('div'),Kq=SM.style;Kq.position='relative';Kq.padding='5px';Kq.border='1px solid gray';if(G>0){Kq.borderTop='none';}SM.appendChild(document.createTextNode(aht.getText()));df.appendChild(SM);});return df;};return O;};PCCViewer.ViewerControl=ViewerControl;ViewerControl.aqT={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:""};ViewerControl.ara={pageLoadFailed:"Page Load Failed",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.aju=function(element,options){if(this.Gb){return;}var O=this;var Zn=function(ar){if(O.ah.viewMode===IPCC.ViewMode.SinglePage||O.Gb){return;}var ti=document.getElementById(element.id).childNodes[0].childNodes[0].childNodes[0].childNodes,G=0;for(G;G<ti.length;G+=1){if(G===ar){if(document.documentMode===8){ti[G].style.outline='2px solid #c2c5ce';}else{ti[G].style.boxShadow='0 0 3px 1px #9fa2aa';}}else{if(document.documentMode===8){ti[G].style.outline='';}else{if(ti[G].style.boxShadow){ti[G].style.boxShadow='';}}}}};var agc=function(){O.aP.remove_pageOpenFailed(PA);O.aP.remove_pageDisplayed(agc);var NG=arguments[1];setTimeout(function(){O.trigger("PageDisplayed",{pageNumber:(NG.pageIndex+1)});Zn(NG.pageIndex);},10);if(NG.pageIndex!==0){return;}var aL=new XMLHttpRequest(),aq;function kq(){if(O.Gb){return;}if(aL.readyState===4){var vm=aL.status;if(vm===200){if(typeof JSON!=='undefined'){aq=JSON.parse(aL.responseText);}else{aq=IPCC.dh.oA(aL.responseText);}if(aq.pageCountConfidence<100){var dA;if(!(/^[\x00-\x7F]*$/.test(qh))){dA=O.ah.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qh+'&DesiredPageCountConfidence=100';}else{dA=O.ah.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(O.ah.documentID)+'&DesiredPageCountConfidence=100';}aL.open('GET',dA,true);aL.setRequestHeader('Content-Type','application/json');aL.onreadystatechange=kq;aL.send();O.cQ=aq.pageCount;O.ai.cQ=aq.pageCount;O.BP=true;setTimeout(function(){O.trigger("EstimatedPageCountReady",{pageCount:aq.pageCount});},10);MR();}else{if(O.cQ>1){O.ai.cQ=aq.pageCount;setTimeout(function(){var G;if(aq.pageCount<O.cQ){for(G=O.cQ-1;G>=aq.pageCount;G--){O.cv.removePage(G);}}else if(aq.pageCount>O.cQ){for(G=O.cQ;G<aq.pageCount;G++){var UT=new IPCC.Web.UI.ImGearPage({pageNumber:G});O.cv.addPage(UT);}}O.cQ=aq.pageCount;if(O.fH===true){O.pL=true;O.uM=true;setTimeout(function(){O.trigger("PageCountReady",{pageCount:aq.pageCount});},30);}},30);}else{O.cQ=aq.pageCount;O.ai.cQ=aq.pageCount;if(O.fH===true){O.pL=true;O.uM=true;setTimeout(function(){MR();setTimeout(function(){O.trigger("PageCountReady",{pageCount:aq.pageCount});},30);},30);}}}}else if((vm<200)||(vm>=300)){var OD="None",afh,Pe;var abZ=aL.getResponseHeader('Accusoft-Status-Message');if(abZ){OD=abZ;Pe=aL.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.zu(Pe)){afh=parseInt(Pe,10);}}else if(aL.statusText){OD=aL.statusText;}setTimeout(function(){O.trigger("PageLoadFailed",{statusCode:vm,errorMessage:OD,accusoftErrorNumber:afh});},1);throw("Unable to obtain document information from the server");}}};var qh=IPCC.eA.ql(O.ah.documentID);if(!qh||qh===""){throw("Invaqlid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(qh))){O.dA=O.ah.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qh+'&DesiredPageCountConfidence=50';}else{O.dA=O.ah.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(O.ah.documentID)+'&DesiredPageCountConfidence=50';}aL.open('GET',O.dA,true);aL.setRequestHeader('Content-Type','application/json');aL.onreadystatechange=kq;aL.send();};function akY(){if(O.fH===true&&O.pL===true&&O.uM===false){var bx=O;setTimeout(function(){if(bx.pL===true&&bx.uM===false){bx.uM=true;setTimeout(function(){O.trigger("PageCountReady",{pageCount:bx.getPageCount()});},10);}},10);}};function MR(){var aeG=O.cQ;var bx=O;akY();if(aeG>1){if(!O.aeL){O.aP.add_currentPageChanged(function(){if(arguments<2){throw("Controls currentPageChanged event did not provide any expected information");}var cE=arguments[1];setTimeout(function(){O.trigger('PageChanged',{pageNumber:cE.pageIndex+1});Zn(cE.pageIndex);},0);});O.aP.add_pageDisplayed(function(){if(arguments<2){throw("Controls pageDisplayed event did not provide any expected information");}var cE=arguments[1];if(O.tZ){O.tZ();O.tZ=null;}setTimeout(function(){O.trigger('PageDisplayed',{pageNumber:cE.pageIndex+1});},0);setTimeout(function(){O.MP(cE.pageIndex+1,O.FM);},10);});O.aP.add_pageOpenFailed(function(){agY(arguments);});O.aeL=true;}for(var G=O.NN;G<aeG;G++){O.cv.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:G}));O.NN++;}}};var aid=function(cE){var aA=document.getElementById(cE.pageNodeID),bL=document.createElement('div'),vx=document.createElement('button'),acq='pccPageLoadFailRetry',WF=function(){O.aP.CN(cE.pageIndex);},ahI=options.language.pageLoadFailed,ajw=options.language.pageLoadFailedRetry;if(aA===null){return;}vx.id=acq;vx.innerHTML=ajw;bL.className='pccPageLoadFail';bL.innerHTML=ahI+'<br>';bL.appendChild(vx);aA.appendChild(bL);vx=document.getElementById(acq);if(!vx.addEventListener){vx.attachEvent('onclick',WF);}else{vx.addEventListener('click',WF,false);}};function agY(BN){if(BN<2){throw("controls PageOpenFailed event did not provide any expected information");}var aee,aed,cE=BN[1];if(BN[1].exception.customErrorCode!==undefined){aed=BN[1].exception.customErrorCode;}if(BN[1].exception.message!==undefined){aee=BN[1].exception.message;}setTimeout(function(){O.trigger('PageLoadFailed',{statusCode:cE.exception.statusCode,pageNumber:cE.pageIndex+1,errorMessage:aee,accusoftErrorNumber:aed});aid(cE);},0);};function PA(){O.aP.remove_pageOpenFailed(PA);agY(arguments);setTimeout(MR,30);};function ZP(){O.aP.remove_pageOpened(ZP);O.fH=true;var bx=O;setTimeout(function(){O.trigger("ViewerReady",{});if(bx.pL===true&&bx.uM===false){bx.uM=true;setTimeout(function(){O.trigger("PageCountReady",{pageCount:bx.getPageCount()});},10);}},10);O.setCurrentMouseTool("AccusoftPanAndEdit");};var ahd=function(ad,C){if(C.containsText===true){O.KE.resolve(true);}var yg= -1;if(Array.prototype.indexOf){yg=(O.uD.indexOf(C.pageIndex)>=0);}else{yg=(IPCC.Web.gh(O.uD,C.pageIndex)>=0);}if(yg===false){O.uD.push(C.pageIndex);if(O.uD.length===O.cQ){O.KE.resolve(false);}}setTimeout(function(){O.trigger("PageTextReady",{pageNumber:C.pageIndex+1});},0);};var afY=function(ad,C){var yg= -1;if(Array.prototype.indexOf){yg=(O.uD.indexOf(C.pageIndex)>=0);}else{yg=(IPCC.Web.gh(O.uD,C.pageIndex)>=0);}if(yg===false){O.uD.push(C.pageIndex);if(O.uD.length===O.cQ){O.KE.resolve(false);}}};function arg(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var sc=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){sc.push(eventArgs.pageNumbers[i]+1);}O.ph={pageNumber:sc[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex};var K,acj={selectedText:eventArgs.text,pageNumbers:sc,clientX:eventArgs.clientX,clientY:eventArgs.clientY,textSelection:O.ph};function ahg(){var xD=O.ka;O.WJ=true;O.ka=function(sender,args){O.ka=xD;setTimeout(function(){O.trigger(PCCViewer.EventType.MarkCreated,{mark:K,pageNumber:sc[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};var CT=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:CT='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:CT='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:CT='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:amD(eventArgs.text);O.Gu[sc[0]]='selectText';break;}if(CT){ahg();O.trigger(PCCViewer.EventType.TextSelected,acj);K=O.addMark(sc[0],CT);K.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});return;}setTimeout(function(){O.trigger(PCCViewer.EventType.TextSelected,acj);},0);};function ajX(){var aA=document.getElementById(O.elementID),bL=document.createElement('div');bL.className='pccCopyText';aA.appendChild(bL);O.Ri=bL;};function amD(bm){var De;var jb;O.Ri.innerHTML=bm;if(document.body.createTextRange){De=document.body.createTextRange();De.moveToElementText(O.Ri);De.select();}else if(window.getSelection){jb=window.getSelection();De=document.createRange();De.selectNodeContents(O.Ri);jb.removeAllRanges();jb.addRange(De);}};this.ai=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.ah.documentID,imageServicePath:this.ah.imageHandlerUrl});var UT=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.ai.get_pages().addPage(UT);this.cv=this.ai.get_pages();this.elementID=element.id;this.aP=IPCC.initializePageListPlugin(element,options);this.aP.get_documents().addDocument(this.ai);this.NN=1;this.aeA.resolve(this.aP);this.aP.add_pageDisplayed(agc);this.aP.add_pageOpenFailed(PA);this.aP.add_pageOpened(ZP);this.aP.add_textPageReady(ahd);this.aP.add_textExtractionFailed(afY);this.aP.set_conversationDOMFactory(function(L,fk,adW){var K=O.cA[L.get_markID()];if(K){return O.me(K.getConversation(),fk,adW);}});ajX();this.aP.add_selectTextMouseToolCompleted(arg);this.aP.add_propertyChanged(function(AD,aC){var proprtyName=aC.amn();if(proprtyName==="mouseTool"){setTimeout(function(){O.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:O.cf.getName()});},0);}});this.aP.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&O.cA[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bN!==undefined){O.mJ(eventArgs.mark,eventArgs.pageIndex);}if(O.ka){var bk=eventArgs.mark.get_type();if(bk!==IPCC.Web.UI.MarkType.Highlight&& !(bk===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bN!==undefined)){O.ka(sender,eventArgs);}}});this.aP.add_markCreating(function(sender,eventArgs){if(O.FN){O.FN(sender,eventArgs);}});this.aP.yf(function(sender,eventArgs){var Bd=0;var yw=0;var aeS=0;var uq=0;var rr=0;var HD=0;var apj=O.cf.getName().toLowerCase(),aph=O.cf.getType();if(aph===PCCViewer.MouseTool.Type.PlaceSignature){var cf=O.cf;var am=cf.getTemplateMark(),kM=am.getSignature(),aaR=am.getRectangle(),K,h={};if(!kM){return;}O.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var uN;if(attributes.width>0){yw=aaR.width||(attributes.width/5);}if(kM.path&&kM.path.length>0){uN=IPCC.bh.VY(kM.path);h={x:0,y:0,width:uN.width,height:uN.height};K=O.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);K.setPath(kM.path);K.setThickness(kM.thickness||4);}if(kM.text&&kM.text.length){uN=IPCC.bh.Oj(kM.text,kM.fontName);K=O.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);h={x:0,y:0,width:uN.width,height:uN.height};K.setText(kM.text);K.setFontName(kM.fontName);}aeS=(h.width/yw);Bd=aaR.height||(h.height/aeS);uq=(eventArgs.imagePoint.x-(yw/2));rr=(eventArgs.imagePoint.y-(Bd/2));if(uq<=0){uq=0;}if(rr<=0){rr=0;}if((uq+yw)>=attributes.width){HD=(uq+yw)-attributes.width;uq=uq-HD;}if((rr+Bd)>=attributes.height){HD=(rr+Bd)-attributes.height;rr=rr-HD;}h={x:uq,y:rr,width:yw,height:Bd};K.setRectangle({x:uq,y:rr,width:yw,height:Bd});PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());});O.setCurrentMouseTool(apj);}});this.aP.xn(function(sender,eventArgs){var ph=null,ey=null,K=null,zg=false;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){zg=true;}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){K=O.cA[eventArgs.upMark.get_markID()];if(K===undefined){for(var jy in O.cA){if(O.cA.hasOwnProperty(jy)){if(O.cA[jy].L.bN===eventArgs.upMark.bN&&O.cA[jy].L.bN===eventArgs.downMark.bN){K=O.cA[jy];eventArgs.pageIndex=K.bb-1;zg=true;break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.iK()===eventArgs.upMark.iK()){zg=true;}if(K===undefined){if(O.dz&&O.Gu[eventArgs.upTarget.pageIndex+1]==='search'){var gg=O.dz.getResults();for(var G=0;G<gg.length;G++){if(gg[G].bb===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.aH!=='undefined'&&typeof eventArgs.upMark.aH!=='undefined'&&typeof eventArgs.downMark.co!=='undefined'&&typeof eventArgs.upMark.co!=='undefined'&&eventArgs.downMark.aH>=gg[G].getStartIndexInPage()&&eventArgs.downMark.aH+eventArgs.downMark.co<=gg[G].getStartIndexInPage()+gg[G].getText().length&&eventArgs.upMark.aH>=gg[G].getStartIndexInPage()&&eventArgs.upMark.aH+eventArgs.upMark.co<=gg[G].getStartIndexInPage()+gg[G].getText().length){eventArgs.upTarget.type='searchResult';ey=gg[G];eventArgs.upTarget.pageIndex=ey.bb-1;zg=true;break;}}}}if(zg===false&&K===undefined&&O.Gu[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.aH!=='undefined'&&typeof eventArgs.upMark.aH!=='undefined'&&eventArgs.downMark.aH>=O.ph.startIndex&&eventArgs.downMark.aH+eventArgs.downMark.co<=O.ph.startIndex+O.ph.length&&eventArgs.upMark.aH>=O.ph.startIndex&&eventArgs.upMark.aH+eventArgs.upMark.co<=O.ph.startIndex+O.ph.length){eventArgs.upTarget.type='textSelection';ph=O.ph;zg=true;}}setTimeout(function(){var aii=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var C={pageNumber:aii,targetType:eventArgs.upTarget.type,textSelection:ph,searchResult:ey,mark:K,originalEvent:eventArgs.originalEvent,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(zg===true){O.trigger('Click',C);}},0);});this.mJ=function(K,hm){var Oh=false;function Pa(){var nv=false;var cC=O.aP.get_displayedPages();for(var G=0;G<cC.get_length();G++){var aI=cC.getPage(G);if(aI.get_pageNumber()===hm){nv=true;break;}}return nv;};function apT(gC){O.aP.ak(gC);};if(Pa()){if(Array.prototype.indexOf){if(IPCC.Web.gh(O.BA,hm)>=0){Oh=true;}}else{if(IPCC.Web.gh(O.BA,hm)>=0){Oh=true;}}if(!Oh){O.BA.push(hm);setTimeout(function(){var bp=O.BA.length;if(bp>0){for(var G=0;G<bp;G++){apT(O.BA[G]);}O.BA.splice(0,bp);}},10);}}};var Ev={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var abk={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.aP.add_markChanged(function(ad,C){var K=O.cA[C.mark.get_markID()],bO=K.bO;if(Ev[bO]&&Ev[bO][C.propertyName]===false){return;}var aF=Ev[bO]&&Ev[bO][C.propertyName]?Ev[bO][C.propertyName]:abk[C.propertyName]?abk[C.propertyName]:C.propertyName;if(C.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||C.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||C.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||C.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||(C.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.mark.bN!==undefined)){if(K){setTimeout(function(){O.trigger('MarkChanged',{mark:K,pageNumber:C.pageIndex+1,propertyName:aF});},0);}else{for(var jy in O.cA){if(O.cA.hasOwnProperty(jy)){K=O.cA[jy];if(K.bN===C.mark.bN){break;}}}}O.mJ(K,C.pageIndex);}else if(K&&C.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&aF==='points'){if(K.Uz){clearTimeout(K.Uz);}K.Uz=setTimeout(function(){K.Uz=undefined;O.mJ(K,C.pageIndex);O.trigger('MarkChanged',{mark:K,pageNumber:C.pageIndex+1,propertyName:aF});},1);}else if(K){O.mJ(K,C.pageIndex);setTimeout(function(){O.trigger('MarkChanged',{mark:K,pageNumber:C.pageIndex+1,propertyName:aF});},0);}if(K&&K.type===PCCViewer.Mark.Type.TextRedaction){K.L.set_opacity(0);}});this.aP.add_markReordered(function(sender,eventArgs){var K=O.cA[eventArgs.mark.get_markID()];setTimeout(function(){O.trigger('MarkReordered',{mark:K,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.aP.add_markSelectionChanged(function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){var K;for(var IZ in O.cA){if(O.cA.hasOwnProperty(IZ)){K=O.cA[IZ];if(K.L.bN===eventArgs.mark.bN){K.L.set_selected(eventArgs.mark.get_selected());O.mJ(K.L,K.L.ar);for(var G=0;G<K.eP.length;G++){K.eP[G].set_selected(eventArgs.mark.get_selected());O.mJ(K.eP[G],K.eP[G].ar);}}}}}setTimeout(function(){O.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);});this.aP.add_markTextSelectionChanged(function(sender,eventArgs){O.mJ(eventArgs.mark,eventArgs.pageIndex);});this.aP.add_markRemoved(function(sender,eventArgs){var K;if(eventArgs.mark){K=O.cA[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&K===undefined&&eventArgs.mark.bN!==undefined){O.mJ(eventArgs.mark,eventArgs.pageIndex);}else if(K){setTimeout(function(){O.trigger('MarkRemoved',{mark:K,pageNumber:eventArgs.pageIndex+1});},0);}}});this.aP.add_commentAdded(function(sender,eventArgs){var K=O.cA[eventArgs.mark.get_markID()];O.trigger(PCCViewer.EventType.CommentCreated,{conversation:K.getConversation(),comment:eventArgs.comment.Py});});this.aP.add_commentRemoved(function(sender,eventArgs){var K=O.cA[eventArgs.mark.get_markID()];O.trigger(PCCViewer.EventType.CommentRemoved,{conversation:K.getConversation(),comment:eventArgs.comment.Py});});this.aP.add_commentChanged(function(sender,eventArgs){var K=O.cA[eventArgs.mark.get_markID()];O.trigger(PCCViewer.EventType.CommentChanged,{conversation:K.getConversation(),comment:eventArgs.comment.Py});});this.aP.add_scaleChanged(function(sender,eventArgs){var nl;switch(eventArgs.fitType){case 0:nl=PCCViewer.FitType.FullWidth;break;case 1:nl=PCCViewer.FitType.ShrinkToWidth;break;default:break;}O.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:nl});});};PCCViewer.ViewerControl.prototype.getPageCount=function(){return this.cQ;};PCCViewer.ViewerControl.prototype.getPageNumber=function(){return(this.aP)?(this.aP.aeQ().get_pageNumber()+1):1;};PCCViewer.ViewerControl.prototype.setPageNumber=function(pageNumber){var bb;if(typeof(pageNumber)==='number'){bb=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bb=Number(pageNumber);}}if(parseInt(bb,10)!==bb){throw new Error("The 'pageNumber' value "+bb+" is not an integer page number.");}if(bb<1||bb>this.getPageCount()|| !isFinite(bb)){throw "The parameter pageNumber is out of range.";}if(this.aP){this.aP.scrollToPage(bb-1);}return this;};PCCViewer.ViewerControl.prototype.changeToFirstPage=function(){if(this.aP){if(this.BP||this.pL){this.aP.scrollToFirstPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToLastPage=function(){if(this.aP){if(this.BP||this.pL){this.aP.scrollToLastPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToNextPage=function(){if(this.aP){if(this.BP||this.pL){this.aP.scrollToNextPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToPrevPage=function(){if(this.aP){if(this.BP||this.pL){this.aP.scrollToPreviousPage();}}return this;};PCCViewer.ViewerControl.prototype.scrollTo=function(target){if(!this.fH){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var O=this;var jt,bb,bs;this.FJ=null;if(target instanceof PCCViewer.Conversation){if(this.cA[target.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var Zp=this.aP.scrollConversationIntoView(target.getMark().L.get_conversation());if(Zp==="PageOutOfView"){this.tZ=function(){O.aP.scrollConversationIntoView(target.getMark().L.get_conversation());};this.setPageNumber(target.getMark().getPageNumber());}else if(Zp==="ConversationDivDoesNotExist"&&target.getMark().L.get_conversation().get_length()>0){O.FJ=target;var Uy=function(ev){if(ev.target.FJ===target){O.off(PCCViewer.EventType.CommentCreated,Uy);O.FJ=null;O.scrollTo(target);}else if(ev.target.FJ===null){O.off(PCCViewer.EventType.CommentCreated,Uy);}};this.on(PCCViewer.EventType.CommentCreated,Uy);}else{this.tZ=null;}return this;}else if(target instanceof PCCViewer.SearchResult){if(target.KV!==this.ai.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bs=target.getBoundingRectangle();jt=new IPCC.Web.UI.Rectangle(bs.x,bs.y,bs.width,bs.height);bb=target.getPageNumber();}else if(target instanceof PCCViewer.Mark){if(this.cA[target.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bs=target.getBoundingRectangle();jt=new IPCC.Web.UI.Rectangle(bs.x,bs.y,bs.width,bs.height);bb=target.getPageNumber();}else if(target!==undefined&&target!==null){if(typeof target.x==='number'&&typeof target.y==='number'){jt=new IPCC.Web.UI.Rectangle(+target.x,+target.y,0,0);}else{if(isNaN(+target.x)||isNaN(+target.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{jt=new IPCC.Web.UI.Rectangle(Number(+target.x),Number(+target.y),0,0);}}if(target.width){if(typeof target.width==='number'){jt.width=target.width;}else{if(isNaN(+target.width)){throw new Error('The parameter target does not contain a valid width value.');}else{jt.width=Number(+target.width);}}}if(target.height){if(typeof target.height==='number'){jt.height=target.height;}else{if(isNaN(+target.height)){throw new Error('The parameter target does not contain a valid height value.');}else{jt.height=Number(+target.height);}}}if(typeof target.pageNumber==='number'){bb= +target.pageNumber;}else{if(isNaN(+target.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{bb=Number(+target.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(bb<1||bb>this.getPageCount()|| !isFinite(bb)){throw new RangeError("The parameter pageNumber is out of range.");}if(this.aP.scrollRegionIntoView(bb-1,jt)===false){this.tZ=function(){O.aP.scrollRegionIntoView(bb-1,jt);};this.setPageNumber(bb);}else{this.tZ=null;}return this;};PCCViewer.ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fH){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(wv(this.getPageNumber()-1,this)===false){this.aP.ak(this.getPageNumber()-1);}var jo=degreesClockwise%360,O=this;if(jo!==0){var vo=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jo||vo.indexOf(jo)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jo||IPCC.Web.gh(vo,jo)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aP.rotate(jo);}setTimeout(function(){O.trigger("PageRotated",{degreesClockwise:jo,pageNumber:(O.getPageNumber())});},0);return this;};PCCViewer.ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fH){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(wv(this.getPageNumber()-1,this)===false){this.aP.ak(this.getPageNumber()-1);}var jo=degreesClockwise%360,O=this;if(jo!==0){var vo=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jo||vo.indexOf(jo)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jo||IPCC.Web.gh(vo,jo)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aP.WL(jo);}setTimeout(function(){O.trigger("DocumentRotated",{degreesClockwise:jo});},0);return this;};PCCViewer.ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.fH){throw "The zoomIn method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aP){this.aP.zoomIn(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.fH){throw "The zoomOut method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aP){this.aP.zoomOut(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.getViewMode=function(){var pr;if(this.aP&&this.aP.get_viewMode){pr=this.aP.get_viewMode();}else{pr=this.ah.viewMode;}if(pr===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(pr===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};PCCViewer.ViewerControl.prototype.setViewMode=function(viewMode){var pr;switch(viewMode){case PCCViewer.ViewMode.Document:pr=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:pr=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.SinglePage:pr=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aP&&this.aP.set_viewMode){var Nx=this.aP.get_viewMode();if(Nx!==pr){if(Nx===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(pr===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aP.set_viewMode(pr);}}else{this.ah.viewMode=pr;}return this;};PCCViewer.ViewerControl.prototype.getPageLayout=function(){var wX;if(this.aP&&this.aP.get_pageLayout){wX=this.aP.get_pageLayout();}else{wX=this.ah.pageLayout;}if(wX===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};PCCViewer.ViewerControl.prototype.setPageLayout=function(pageLayout){var wX;if(this.ah.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:wX=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aP&&this.aP.closeCommentsPanel){this.aP.closeCommentsPanel();var O=this;setTimeout(function(){O.trigger("CommentsPanelToggled",{isOpen:false});},10);}wX=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aP&&this.aP.set_pageLayout){this.aP.set_pageLayout(wX);}else{this.ah.pageLayout=wX;}return this;};PCCViewer.ViewerControl.prototype.getAtMaxScale=function(){if(!this.fH){throw "The getAtMaxScale method requires the viewer to be in a 'ViewerReady' state.";}return this.aP.getMinMaxZoom().atMax;};PCCViewer.ViewerControl.prototype.getAtMinScale=function(){if(!this.fH){throw "The getAtMinScale method requires the viewer to be in a 'ViewerReady' state.";}return this.aP.getMinMaxZoom().atMin;};PCCViewer.ViewerControl.prototype.fitContent=function(fitType){if(!this.fH){throw "The fitContent method requires the viewer to be in a 'ViewerReady' state.";}var Nk;switch(fitType){case PCCViewer.FitType.FullWidth:Nk=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Nk=IPCC.FitType.ShrinkToWidth;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.FA.then(function(AD){AD.fitPages(Nk);});return this;};PCCViewer.ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fH){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var bb;if(arguments.length>0){if(typeof(pageNumber)==='number'){bb=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bb=Number(pageNumber);}}if(parseInt(bb,10)!==bb){throw new Error("The 'pageNumber' value "+bb+" is not an integer page number.");}if(bb<1||bb>this.getPageCount()|| !isFinite(bb)){throw new Error("The parameter pageNumber is out of range.");}return this.aP.abV(bb-1);}else{return this.aP.abV();}};PCCViewer.ViewerControl.prototype.search=function(searchQuery){if(this.uM===false){throw "The search method requires PagecountReady event to be triggered.";}PCCViewer.SearchTask.prototype.abB(searchQuery);if(!this.ai.WY()){this.ai.EW(0,this.ai.cQ-1,this.ai.cQ);}else{this.IM=true;}this.yJ=null;this.UG={};this.aP.clearAllSelectedText();var dX=new PCCViewer.Search();searchQuery=dX.aff(searchQuery);if(this.QR===false){this.dz=dX._search(searchQuery,this.IM,this.ai);this.QR=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}var bx=this;this.dz.on('PartialSearchResultsAvailable',function(aC){var Dg=[];var UC={};Dg=aC.partialSearchResults;var aq=Dg[0];UC.aH=aq.getId();aq=Dg[Dg.length-1];UC.ct=aq.getId();bx.UG[aq.getPageNumber()]=UC;var cC=bx.aP.get_displayedPages();for(var G=0;G<cC.get_length();G++){var aI=cC.getPage(G);if(aI.get_pageNumber()+1===aq.getPageNumber()){bx.adw(aI.get_pageNumber(),Dg);}}});this.dz.on('SearchCompleted',function(aC){bx.QR=false;});this.trigger('SearchPerformed',{searchRequest:this.dz});return this.dz;};PCCViewer.ViewerControl.prototype.getSearchRequest=function(){return this.dz;};PCCViewer.ViewerControl.prototype.clearSearch=function(){if(!this.fH){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var O=this;if(this.getSelectedSearchResult()){this.yJ=null;setTimeout(function(){O.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aP.clearAllSelectedText();this.dz=null;setTimeout(function(){O.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};PCCViewer.ViewerControl.prototype.validateSearch=function(hA){var hE={errorsExist:false},searchTermObj,Pd,G,bF,afa,Kt,Sf;if(typeof hA!=='object'&&typeof hA!=='string'){hE.errorsExist=true;hE.summaryMsg="Search query must be either an object or string.";return hE;}if(typeof hA==='string'&&hA.length<0){hE.errorsExist=true;hE.summaryMsg="Search term must contain at least 3 characters.";return hE;}else if(typeof hA==='string'){return hE;}if(!hA.hasOwnProperty('searchTerms')){hE.errorsExist=true;hE.summaryMsg="Search options must have a 'searchTerms' key.";return hE;}if(Object.prototype.toString.call(hA.searchTerms)!=='[object Array]'){hE.errorsExist=true;hE.summaryMsg="Search terms value must be an array.";return hE;}if(!hA.searchTerms.length){hE.errorsExist=true;hE.summaryMsg="Search terms array must contain at least one value.";return hE;}hE.searchTerms=[];for(G=0;G<hA.searchTerms.length;G++){searchTermObj=hA.searchTerms[G];Kt=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('matchCase'))?searchTermObj.matchingOptions.matchCase:false;if(typeof searchTermObj.searchTerm==='undefined'||typeof searchTermObj.searchTerm!=='string'||(searchTermObj.searchTermIsRegex===true&& !amI(searchTermObj.searchTerm,Kt))){hE.errorsExist=true;hE.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});continue;}afa=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('exactPhrase'))?searchTermObj.matchingOptions.exactPhrase:false;if(afa){if(searchTermObj.searchTerm.length<0){hE.errorsExist=true;hE.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});continue;}}else{Pd=searchTermObj.searchTerm.split(' ');for(bF=0;bF<Pd.length;bF++){Sf=Pd[bF].replace(/^\s+|\s+$/g,'');if(Sf.length>0&&Sf.length<0){hE.errorsExist=true;hE.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}}}if(hE.searchTerms.length!==G+1){hE.searchTerms.push({isValid:true,message:null});}}return hE;};var amI=function(MJ,Kt){var atr,Pm,LL;if(Kt){Pm='gm';}else{Pm='igm';}if(!MJ&&MJ!==null){LL=false;}else{try{atr=new RegExp(MJ,Pm);LL=true;}catch(err){LL=false;}}return LL;};PCCViewer.ViewerControl.prototype.getDownloadDocumentURL=function(){var dA;if(!(/^[\x00-\x7F]*$/.test(this.ai))){dA=this.ah.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.ah.documentID+'/SourceFile';}else{dA=this.ah.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.ah.documentID);}return dA;};PCCViewer.ViewerControl.prototype.convertToRedaction=function(searchResult){var ey=searchResult;if(this.fH===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}if(ey instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ey instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ey.KV!==this.ai.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var O=this;var iw=ey.getStartIndexInPage();var fj=ey.getStartIndexInPage()+ey.getText().length;var jr=IPCC.Ha();var aI=O.cv.getPage(ey.getPageNumber()-1);var aO=O.aP.hF(aI);var eJ=aI.cu().gz();var cL=GV(aO,eJ,iw,fj,jr,ey.getPageNumber()-1);var K=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:cL,pageNumber:ey.getPageNumber()});K.L=cL;K.eP=[];this.cA[cL.get_markID()]=K;var xD=O.ka;O.ka=function(sender,eventArgs){setTimeout(function(){O.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aO.addMark(cL);O.ka=xD;O.aP.display(ey.getPageNumber()-1);return K;};var GV=function(aO,eJ,iw,fj,jr,Ew){var cL=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cL.bN=jr;cL.ar=Ew;var K=null;var fs={eO:Number.MAX_VALUE,fK:0,_top:Number.MAX_VALUE,eD:0};for(var bF=iw;bF<fj;bF++){var dk=eJ.iF(bF);if(K){var kC=K.get_rectangle();if(Math.abs(dk.aX.y-kC.y)<1&&Math.abs(dk.aX.height-kC.height)<1&&dk.aX.x+dk.aX.width>=kC.x+kC.width){K.set_rectangle(new IPCC.Web.UI.Rectangle(kC.x,kC.y,dk.aX.x+dk.aX.width-kC.x,kC.height));}else{Dk(aO,cL,K,fs);K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);K.set_rectangle(dk.aX);K.ko(true);K.set_fillColor('#000000');K.set_text(cL.bm);K.set_lineWidth(0);K.bN=jr;}}else{K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);K.set_rectangle(dk.aX);K.ko(true);K.set_fillColor('#000000');K.set_text(cL.bm);K.set_lineWidth(0);K.bN=jr;}K.ar=Ew;}if(K!==null){Dk(aO,cL,K,fs);}cL.set_rectangle(new IPCC.Web.UI.Rectangle(fs.eO,fs._top,fs.fK-fs.eO,fs.eD-fs._top));return cL;};var Dk=function(aO,cL,K,fs){var h=K.get_rectangle();if(h.x<fs.eO){fs.eO=h.x;}if(h.y<fs._top){fs._top=h.y;}if(h.x+h.width>fs.fK){fs.fK=h.x+h.width;}if(h.y+h.height>fs.eD){fs.eD=h.y+h.height;}aO.addMark(K);cL.DB.push(K);};PCCViewer.ViewerControl.prototype.convertToHighlight=function(searchResult){var ey=searchResult;if(this.fH===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(ey instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ey instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ey.KV!==this.ai.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var cL;var Hc;var aO;var aq=ey;var iw=aq.getStartIndexInPage();var fj=aq.getStartIndexInPage()+aq.getText().length;var jr=IPCC.Ha();var O=this;var K;aO=this.aP.hF(this.cv.getPage(aq.getPageNumber()-1));cL=Bz(IPCC.Web.UI.MarkType.HighlightText,aq,iw,jr);K=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:cL,pageNumber:aq.getPageNumber()});for(iw;iw<fj;iw++){Hc=Bz(IPCC.Web.UI.MarkType.Highlight,aq,iw,jr);aO.addMark(Hc);}this.cA[cL.get_markID()]=K;var xD=this.ka;this.ka=function(sender,eventArgs){setTimeout(function(){O.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aO.addMark(cL);O.ka=xD;this.aP.display(aq.getPageNumber()-1);K.fillColor=aq.getHighlightColor();return K;};var Bz=function(bk,aq,ajp,jr){var K=new IPCC.Web.UI.Mark(bk);if(bk===IPCC.Web.UI.MarkType.HighlightText){K.cz=aq.getText();}K.aH=ajp;K.set_rectangle({x:0,y:0,width:0,height:0});K.co=aq.getText().length;K.axa=aq.getStartIndexInPage()+aq.getText().length;K.cG=127;K.ck=aq.getHighlightColor();K.jd='y';K.bN=jr;return K;};PCCViewer.ViewerControl.prototype.adw=function(ar,gg){var aq={};for(var bF=0;bF<gg.length;bF++){aq=gg[bF];this.aP.selectText(aq.getPageNumber()-1,aq.getStartIndexInPage(),aq.getText().length,aq.getHighlightColor());}this.aP.display(aq.getPageNumber()-1);this.Gu[aq.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.MP=function(ar,searchResult){var aq={};if(this.dz===null||typeof this.dz.getResults!=='function'){return;}var gg=this.dz.getResults();this.aP.clearSelectedText(ar-1);var Ur=this.UG[ar];if(!Ur){return;}for(var bF=Ur.aH;bF<Ur.ct+1;bF++){aq=gg[bF];if(aq.getPageNumber()===ar){this.aP.selectText(aq.getPageNumber()-1,aq.getStartIndexInPage(),aq.getText().length,aq.getHighlightColor());if(searchResult===aq.getId()){this.aP.selectText(aq.getPageNumber()-1,aq.getStartIndexInPage(),aq.getText().length,aq.getHighlightColor());}}}this.aP.display(aq.getPageNumber()-1);this.Gu[aq.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fH){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.FM= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.dz){throw "There is no current SearchRequest object available.";}var aaV=this.dz.getResults();if(aaV[searchResult.getId()].xT!==searchResult.xT){throw "The parameter searchResult is not current. There is a newer version of search result available.";}aaV=null;this.FM=searchResult.getId();if(scrollTo){var bs=searchResult.getBoundingRectangle();var jt=new IPCC.Web.UI.Rectangle(bs.x,bs.y,bs.width,bs.height);if(this.aP.scrollRegionIntoView(searchResult.getPageNumber()-1,jt)===false){this.tZ=function(){O.aP.scrollRegionIntoView(searchResult.getPageNumber()-1,jt);};this.setPageNumber(searchResult.getPageNumber());}else{this.tZ=null;}}}var ajv=searchResult!==null?searchResult.getPageNumber(): -1;if(this.yJ&&this.yJ.getPageNumber()!==ajv){this.MP(this.yJ.getPageNumber(),this.FM);}if(searchResult){this.MP(searchResult.getPageNumber(),this.FM);}this.yJ=searchResult;var O=this;setTimeout(function(){O.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};PCCViewer.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fH){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};PCCViewer.ViewerControl.prototype.getSelectedSearchResult=function(){return this.yJ;};PCCViewer.ViewerControl.prototype.requestPageText=function(pageNumber){var bb;var dc=PCCViewer.Deferred();var eZ=dc.getPromise();var O=this;try{if(typeof(pageNumber)==='number'){bb=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bb=parseInt(pageNumber,10);}}if(bb<1||bb>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.FA.then(function(AD){var aI=O.cv.getPage(bb-1);if(aI.cu()&&aI.cu().zV()){if(aI.cu().oE()===true){var bm=aI.cu().Cx();dc.resolve(bm);}else{dc.resolve("");}}else{var EJ=function(ad,cE){if(cE.containsText===true){var bm=aI.cu().Cx();dc.resolve(bm);}else{dc.resolve("");}aI.wu(EJ);aI.zE(DI);};var DI=function(ad,cE){if(cE.exception&&cE.exception.message){dc.reject(cE.exception.message);}else{dc.reject("Text extraction failed.");}aI.wu(EJ);aI.zE(DI);};aI.uK(EJ);aI.yV(DI);aI.HH();}});}catch(e){dc.reject(e);}return eZ;};PCCViewer.ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aE.mh(pageNumber,"pageNumber",1,this.getPageCount());var aI;return(this.aP&&this.cv&&(aI=this.cv.getPage(pageNumber-1))&&aI.cu()&&aI.cu().zV())===true;};PCCViewer.ViewerControl.prototype.documentHasText=function(){return this.apf;};PCCViewer.ViewerControl.prototype.requestPageAttributes=function(pageNumber){var bb;var dc=PCCViewer.Deferred();var eZ=dc.getPromise();var O=this;try{if(typeof(pageNumber)==='number'){bb=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bb=parseInt(pageNumber,10);}}if(bb<1||bb>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.FA.then(function(AD){var aI=O.cv.getPage(bb-1);if(aI.qm()>0||aI.qI()>0){dc.resolve({'width':aI.qm(),'height':aI.qI()});}else{var yN=function(aQ,dg){dc.resolve({'width':aQ,'height':dg});};var xU=function(errorMessage){dc.reject(errorMessage);};AD.requestPageAttributes(aI,yN,xU);}});}catch(e){dc.reject(e);}return eZ;};PCCViewer.ViewerControl.prototype.destroy=function(){if(!this.Gb){if(this.aP&&typeof this.aP.dispose==="function"){this.aP.dispose();}this.dA="";this.cQ=0;delete this.aP;this.ai=undefined;this.NN=0;this.cv=undefined;this.aeL=false;var aek=document.getElementById(this.elementID);if(aek){aek.innerHTML=null;}this.pL=false;this.uM=false;this.BP=false;this.aP=undefined;this.fH=false;this.Gb=true;}};PCCViewer.ViewerControl.prototype.getMarkById=function(markId){var O=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(O.cA[markId]){return O.cA[markId];}else{return null;}};PCCViewer.ViewerControl.prototype.getMarksByType=function(markType){var Ub=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}WS(markType);if(!this.aP){return Ub;}var G=0;var dP=this.cv.get_length();var O=this;function akw(L){var K=O.cA[L.get_markID()];if(K&&K.getType().toLowerCase()===markType.toLowerCase()){Ub.push(K);}};for(G=0;G<dP;G++){var aO=this.aP.hF(this.cv.getPage(G));if(aO){aO.forEachMark(akw);}}return Ub;};PCCViewer.ViewerControl.prototype.getAllMarks=function(){var QH=[];if(!this.aP){return QH;}var dP=this.cv.get_length();var O=this;var G=0;var K;function Lz(L){var K=O.cA[L.get_markID()];if(typeof K!=='undefined'){QH.push(K);}};for(G=0;G<dP;G++){var aO=this.aP.hF(this.cv.getPage(G));if(aO){aO.forEachMark(Lz);}}return QH;};function WS(markType){var fe;switch(markType.toLowerCase()){case "lineannotation":fe=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fe=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fe=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fe=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fe=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fe=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fe=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fe=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fe=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fe=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fe=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fe=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fe=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fe=IPCC.Web.UI.MarkType.SignatureText;break;case "textselectionredaction":fe=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fe=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fe=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fe=IPCC.Web.UI.MarkType.Polyline;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fe;};PCCViewer.ViewerControl.prototype.addMark=function(pageNumber,markType){var O=this;if(this.fH===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var bb;if(typeof(pageNumber)==='number'){bb=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{bb=parseInt(pageNumber,10);}}if(bb<1||bb>O.cv.get_length()|| !isFinite(bb)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var fe=WS(markType);var L=new IPCC.Web.UI.Mark(fe);var RW={type:markType,igMark:L,pageNumber:bb};if(markType.toLowerCase()==="highlightannotation"||markType.toLowerCase()==="textselectionredaction"||markType.toLowerCase()==="texthyperlinkannotation"){RW.cv=O.cv;RW.aP=O.aP;}var K=new PCCViewer.Mark(RW);if(O.WJ===true){O.WJ=false;}else{var xD=O.ka;O.ka=function(sender,eventArgs){O.ka=xD;setTimeout(function(){O.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aO=this.aP.hF(this.cv.getPage(bb-1));aO.addMark(L);O.cA[L.get_markID()]=K;O.mJ(K,bb-1);return K;};PCCViewer.ViewerControl.prototype.deleteMarks=function(marks){var O=this;var G=0;var K;if(!this.fH){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function zh(lu){var ar=lu.getPageNumber()-1;var bN='';var bO='';var Fq=ar;var aO=O.aP.hF(O.cv.getPage(ar));aO.removeMark(lu.L);if(O.cA[lu.getId()]){bN=lu.L.bN;bO=lu.getType();delete O.cA[lu.getId()];}var SL=bO.toLowerCase();if((SL==='highlightannotation'||SL==='textselectionredaction'||SL==='texthyperlinkannotation')&&(lu.eP&&lu.eP.length)){for(var G=0;G<lu.eP.length;G++){var mo=lu.eP[G];aO=O.aP.hF(O.cv.getPage(mo.ar));aO.removeMark(mo);O.mJ(mo,mo.ar);}}};if(marks instanceof Array){for(G=0;G<marks.length;G++){K=marks[G];if(!(K instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(O.cA[K.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(G=0;G<marks.length;G++){zh(marks[G]);O.mJ(marks[G],marks[G].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(O.cA[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}zh(marks);O.mJ(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};PCCViewer.ViewerControl.prototype.deleteAllMarks=function(){var dP;if(this.cv&&this.cv.get_length){dP=this.cv.get_length();}else{return this;}var O=this;var G=0;var K;function zh(lu){var ar=lu.getPageNumber()-1;var aO=O.aP.hF(O.cv.getPage(ar));aO.removeMark(lu.L);if(O.cA[lu.getId()]){delete O.cA[lu.getId()];}};function ath(L){var K=O.cA[L.get_markID()];if(K){zh(K);O.mJ(K,K.getPageNumber()-1);}};for(G=0;G<dP;G++){var aO=this.aP.hF(this.cv.getPage(G));if(aO){aO.forEachMark(ath);}}return this;};function wv(ajO,kv){var nv=false;var cC=kv.aP.get_displayedPages();for(var G=0;G<cC.get_length();G++){var aI=cC.getPage(G);if(aI.get_pageNumber()===ajO){nv=true;break;}}return nv;};PCCViewer.ViewerControl.prototype.moveMarkToFront=function(mark){var aO;var hm;if(!this.fH){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){hm=mark.getPageNumber();if(mark.getPageNumber()>0){aO=this.aP.hF(this.cv.getPage(hm-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToFront();if(wv(hm-1,this)===true){var kv=this;setTimeout(function(){kv.aP.ak(hm-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkToBack=function(mark){var aO;var hm;if(!this.fH){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hm=mark.getPageNumber();if(hm>=1){aO=this.aP.hF(this.cv.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToBack();if(wv(hm-1,this)===true){var kv=this;setTimeout(function(){kv.aP.ak(hm-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkForward=function(mark){var aO,hm;if(!this.fH){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hm=mark.getPageNumber();if(hm>=1){aO=this.aP.hF(this.cv.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveForward();if(wv(hm-1,this)===true){var kv=this;setTimeout(function(){kv.aP.ak(hm-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkBackward=function(mark){var aO,hm;if(!this.fH){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hm=mark.getPageNumber();if(hm>=1){aO=this.aP.hF(this.cv.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveBackward();if(wv(hm-1,this)===true){var kv=this;setTimeout(function(){kv.aP.ak(hm-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.getSelectedMarks=function(){var aJ=[];var TY=[];if(this.fH===false){return aJ;}var dP=this.cv.get_length(),aO,dZ;var O=this;function amC(LD){if(LD){var Pr=LD.get_type();if(Pr===IPCC.Web.UI.MarkType.HighlightText||Pr===IPCC.Web.UI.MarkType.TextSelectionRedaction||Pr===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var jy in O.cA){if(O.cA.hasOwnProperty(jy)){dZ=O.cA[jy];if(LD.bN===dZ.L.bN){for(var G=0;G<TY.length;G++){if(dZ.L.bN===TY[G]){return;}}TY.push(dZ.L.bN);break;}}}}else{dZ=O.cA[LD.get_markID()];}if(dZ&&dZ instanceof PCCViewer.Mark){aJ.push(dZ);}else{return aJ;}}};for(var G=0;G<dP;G++){aO=this.aP.hF(this.cv.getPage(G));if(aO){aO.get_selectedMarks().forEach(amC,{});}}return aJ;};function acf(aJ,ahi,kv){var dZ,G;function Pa(gC){var nv=false;var cC=kv.aP.get_displayedPages();for(var G=0;G<cC.get_length();G++){var aI=cC.getPage(G);if(aI.get_pageNumber()===gC){nv=true;break;}}return nv;};if(!aJ.length){return;}for(G=0;G<aJ.length;G++){if(aJ[G]instanceof PCCViewer.Mark){dZ=kv.cA[parseInt(aJ[G].getId(),10)];if(dZ&&dZ instanceof PCCViewer.Mark){if(dZ.L&&dZ.L instanceof IPCC.Web.UI.Mark){if(dZ.getId()!==dZ.L.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(G+1)+" is invalid";}}var lG=[];var sP=false;for(G=0;G<aJ.length;G++){dZ=kv.cA[parseInt(aJ[G].getId(),10)];sP=false;if(dZ){if(dZ.getId()===dZ.L.get_markID().toString()){dZ.L.set_selected(ahi);if(Array.prototype.IndexOf){sP=(lG.IndexOf(dZ.getPageNumber())>=0);}else{sP=(IPCC.Web.gh(lG,dZ.getPageNumber())>=0);}}if(!sP){var dM=dZ.getPageNumber();if(Pa(dM-1)){lG.push(dM);}}}}if(lG.length>0){setTimeout(function(){for(G=0;G<lG.length;G++){kv.aP.ak(lG[G]-1);}},1);}};PCCViewer.ViewerControl.prototype.selectMarks=function(marks){if(this.fH===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var aJ=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){aJ.push(marks);}}else{aJ=marks;}if(aJ.length===0){return this;}acf(aJ,true,this);return this;};PCCViewer.ViewerControl.prototype.deselectMarks=function(marks){if(this.fH===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var aJ=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){aJ.push(marks);}}else{aJ=marks;}if(aJ.length===0){return this;}acf(aJ,false,this);return this;};PCCViewer.ViewerControl.prototype.deselectAllMarks=function(){var lG=[];var aJ=this.getSelectedMarks();var sP=false,G,dZ;for(G=0;G<aJ.length;G++){dZ=this.cA[parseInt(aJ[G].getId(),10)];sP=false;if(dZ){if(dZ.getId()===dZ.L.get_markID().toString()){dZ.L.set_selected(false);if(Array.prototype.IndexOf){sP=(lG.IndexOf(dZ.getPageNumber())>=0);}else{sP=(IPCC.Web.gh(lG,dZ.getPageNumber())>=0);}}if(!sP){var dM=dZ.getPageNumber();if(wv(dM-1,this)===true){lG.push(dM);}}}}if(lG.length>0){var kv=this;setTimeout(function(){for(G=0;G<lG.length;G++){kv.aP.ak(lG[G]-1);}},1);}return this;};PCCViewer.ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fH===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Fg= -1;var dr;var bs;var bb=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){dr=sortableObject.getStartPoint();}else{bs=(sortableObject.L)?sortableObject.L.get_boundingRectangle():sortableObject.getRectangle();dr={x:bs.x,y:bs.y};}bb=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){dr={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{dr={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){bb= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{bb=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(bb<1||bb>this.getPageCount()|| !isFinite(bb)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(bb)){return-2;}var aI=this.cv.getPage(bb-1);var si=aI.cu().Sx();var eJ=aI.cu().gz();function aex(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function acL(cg,fa){var bq=Math.max(Math.min(fa.x,cg.x+cg.width),cg.x);var et=Math.max(Math.min(fa.y,cg.y+cg.height),cg.y);return(fa.x-bq)*(fa.x-bq)+(fa.y-et)*(fa.y-et);};var Aa;var Ji=Number.MAX_VALUE;for(var G=0;G<si.hv();G++){var gs=si.age(G);if(aex(gs.dU(),dr)){for(var bF=gs.Yx();bF<gs.afq();bF++){var Pg=eJ.iF(bF);var st=Pg.Lf();if(aex(st,dr)){return bF;}Aa=acL(st,dr);if(Aa<Ji){Fg=bF;Ji=Aa;}}return Fg;}Aa=acL(gs.dU(),dr);if(Aa<Ji){if(gs.dU().y>dr.y){Fg=gs.Yx()-1;}else{Fg=gs.afq();}Ji=Aa;}}return Fg;};PCCViewer.ViewerControl.prototype.getCurrentMouseTool=function(){return this.cf.getName();};PCCViewer.ViewerControl.prototype.setCurrentMouseTool=function(name){if(this.fH===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var xy=name.toLowerCase();var cf=PCCViewer.MouseTools.getMouseTool(xy);if(!cf){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var hL,kg;switch(cf.getType()){case PCCViewer.MouseTool.Type.Magnifier:hL=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:hL=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:hL=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:hL=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:hL=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:hL=IPCC.Web.UI.MouseTool.CreateLineMark;kg=alW(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:hL=IPCC.Web.UI.MouseTool.CreateRectangleMark;kg=YV(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:hL=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;kg=aoH(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:hL=IPCC.Web.UI.MouseTool.CreateRectangleMark;kg=aqX(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:hL=IPCC.Web.UI.MouseTool.CreateEllipseMark;kg=YV(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:hL=IPCC.Web.UI.MouseTool.CreateTextMark;kg=ajQ(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:hL=IPCC.Web.UI.MouseTool.CreateTextMark;kg=ahS(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:hL=IPCC.Web.UI.MouseTool.CreateStampMark;kg=amX(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:hL=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;kg=OS(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:hL=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;kg=OS(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:hL=IPCC.Web.UI.MouseTool.CreateFreehandMark;kg=anX(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:hL=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;kg=OS(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var asg=this.ah.resourcePath+'/placeSignatureCursor.cur';this.aP.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aP.set_allowMarkEdits(false);this.aP.set_mouseCursor('url('+asg+'), pointer');this.cf=cf;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:hL=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;kg=afs(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:hL=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;kg=afs(cf.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:hL=IPCC.Web.UI.MouseTool.CreatePolylineMark;kg=aly(cf.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}this.cf=cf;if(kg){this.FN=kg.onCreating;this.ka=kg.onAdded;}else{this.FN=undefined;this.ka=undefined;}this.aP.set_mouseTool(hL);this.aP.set_allowMarkEdits((cf.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function adT(xp,aaY,lN){var bx=xp;var vl;var iT={},tE={},rk=[];var hu=bx.cQ;var lo;var ah;if(aaY){ah=aaY;}var aeg=[];var aiI=bx.ai.get_pages();var ajq=function(aI,done){var avI=false;var nr=aI;var bb=aI.get_pageNumber();var cr=nr.get_pageWidth();var de=nr.get_pageHeight();try{if(nr){var hF=bx.aP.hF(nr),CQ=0,BK=0,fi="",awH=false;var getArt=function getArt(){var bF,TZ;var Ih=hF.apJ(bb,CQ,BK,ah);if(Ih.iT){iT[bb]=Ih.iT;}else{var amw=agk(bb,lo,BK,CQ);iT[bb]=amw;}if(Ih.rk){for(bF=0;bF<Ih.rk.length;bF++){TZ=Ih.rk[bF];tE[TZ.ab.imageStampId]=TZ;}}done();};if(hF){if(!cr|| !de){if(hF.get_markCount()>0){aI.requestPageAttributes(function(aQ,dg){CQ=aQ;if(CQ){nr.Kv(CQ);}BK=dg;if(BK){nr.Jw(BK);}getArt();},function(Kg){done(Kg);});}else{getArt();}}else{CQ=cr;BK=de;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};aiI.forEach(function(aI,cR,im){aeg.push(function(done){ajq(aI,done);});});var QA=function(aA,aI){var wI="";var G;if(!aA.fD){if(aA.toString()){return aA.toString();}else{return '<![CDATA[]]>';}}if((hu===1||aI===0||(aI>0&&aA.fD!=="documentAnnotations"&&aA.fD!=="pages"))&&aA.fD!=="highlights"){wI='<'+aA.fD;for(var wS in aA.ab){if(aA.ab.hasOwnProperty(wS)){var ab=aA.ab[wS].toString();ab=ab.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');wI=wI+' '+wS+'="'+ab+'"';}}wI+='>';}for(G=0;G<aA.dE.length;G++){wI+=QA(aA.dE[G],aI);}if(hu===1||(aI===hu-1)||(aI!==hu-1&&aA.fD!=="documentAnnotations"&&aA.fD!=="pages"&&aA.fD!=="highlights")){if(aA.fD!=="highlights"){wI+='</'+aA.fD+'>';}else{wI+='<'+aA.fD+' />';}}return wI;};IPCC.bh.ahp(aeg,function(mj){if(mj){lN(mj);return;}vl='<?xml version="1.0"?>';for(var G=0;G<(bx.cQ);G++){vl=vl+QA(iT[G],G);}var stampImageXml='';for(var GA in tE){if(tE.hasOwnProperty(GA)){stampImageXml+=QA(tE[GA],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';vl=vl.replace('</documentAnnotations>',stampImagesXml);}lN(undefined,vl);});};PCCViewer.ViewerControl.prototype.saveMarkup=function(recordName,options){var dc=PCCViewer.Deferred();var eZ=dc.getPromise();var ah;if(options){ah=options;}else{ah={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){dc.reject("The parameter, recordName, is not a String.");}if(!akn(recordName)){dc.reject('Invalid characters in the annotations filename.');}var bx=this;this.FA.then(function(AD){var Cr=recordName;adT(bx,ah,function(err,vl){if(err){dc.reject(err);}var Jr=IPCC.eA.ql(Cr);var url;if(!(/^[\x00-\x7F]*$/.test(bx.ai.get_documentIdentifier()))){url=bx.ah.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bx.ah.documentID+'&AnnotationID=e'+Jr;}else{url=bx.ah.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bx.ah.documentID)+'&AnnotationID=u'+encodeURIComponent(Cr);}var dI=new XMLHttpRequest();if(dI===null){dc.reject("AJAX (XMLHTTP) not supported.");}var saveHandler=function(){if(dI.readyState===4){if(dI.status===200){dc.resolve(Cr);setTimeout(function(){bx.trigger('MarkupSaved',{name:Cr});},0);}else{dc.reject("Status Code "+dI.status+" "+dI.statusText);}}};dI.open("POST",url,true);dI.setRequestHeader("Content-Type","application/x-www-form-urlencoded");dI.onreadystatechange=saveHandler;dI.send(vl);});});}catch(e){dc.reject(e);}return eZ;};var akn=function(recordName){var EL=/[-a-zA-Z0-9 ]+$/;return EL.test(recordName);};var Ru=function(kJ){var bq=kJ.firstChild;while(bq.nodeType!==1){bq=bq.nextSibling;}return bq;};var agk=function(dM,lo,de,cr){var iT={fD:'documentAnnotations',dE:[],ab:{}};var acI={fD:'pages',dE:[],ab:{}};iT.dE.push(acI);var lB={fD:'highlights',dE:[],ab:{}};var aI={fD:'page',dE:[],ab:{id:(dM+1).toString(),pageWidth:cr,pageHeight:de}};iT.dE.push(lB);try{if(lo){var bq=lo.getElementsByTagName("documentAnnotations");if(bq.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Or;var Ck;if(document.documentMode<9){var VF=lo.firstChild.nodeName;if(VF.toLowerCase()==='xml'){Or=lo.firstChild.nextSibling;}else{Or=lo.firstChild;}}else{Or=lo.firstChild;}var bW=Ru(Or);if(bW.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(bW.hasChildNodes()){var G;var hK=false;for(G=0;G<bW.childNodes.length;G++){Ck=bW.childNodes[G];if(Ck.nodeName!=='page'){continue;}var zG=Ck.getAttribute('id');hK=false;if(zG&&parseFloat(zG)===dM+1){hK=true;for(var bF=0;bF<Ck.childNodes.length;bF++){var bw=Ck.childNodes[bF];var bv={fD:'annotation',dE:[],ab:{}};if(bw.nodeName!=='annotation'){continue;}var KF=Ck.childNodes[bF].attributes;if(KF.length>0){for(var cb=0;cb<KF.length;cb++){bv.ab[KF[cb].name]=KF[cb].value;}}if(bw.childNodes[0].data){bv.dE.push('<![CDATA['+bw.childNodes[0].data+']]>');}else{bv.dE.push('');}aI.dE.push(bv);}break;}}}}acI.dE.push(aI);return iT;}catch(e){throw(e.message);}};PCCViewer.ViewerControl.prototype.loadMarkup=function(recordName){var Dw=recordName;var dc=PCCViewer.Deferred(),eZ=dc.getPromise(),bx=this;this.FA.then(function(AD){var url,dI,Jr,aP=bx.aP,cv=bx.cv;if(typeof Dw!=="string"){dc.reject("The parameter, recordName, is not a String.");}var loadResponseHandler=function(){if(dI.readyState===4){if(dI.status===200){var TC,Xf=dI.responseText,Hm;if(Xf.indexOf('xml')=== -1){dc.reject("Did not receive valid annotation record from web server.");return;}if(window.DOMParser){Hm=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Hm=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Hm=function(){return null;};}TC=Hm(Xf);var afd=TC.getElementsByTagName('stampImage');var rk={};var Vt=function(bH){K.ax.push(aan.getPoint(bH));};for(var G=0;G<afd.length;G++){var Sq=afd[G];rk[Sq.getAttribute('imageStampId')]={imageStampId:Sq.getAttribute('imageStampId'),base64format:Sq.getAttribute('base64format')};}aP.set_annotationXmlDom(TC,rk);bx.cA={};var dP=bx.cv.get_length();var K;var bk,fe;var xF={};for(G=0;G<dP;G++){var aO=bx.aP.hF(bx.cv.getPage(G));if(aO){var bF=0;for(bF=0;bF<aO.get_markCount();bF++){var L=aO.getMark(bF);fe=L.get_type();switch(fe){case IPCC.Web.UI.MarkType.Rectangle:if(L.ir()===true){if(L.get_opacity()===255){bk=PCCViewer.Mark.Type.RectangleRedaction;}else{bk=PCCViewer.Mark.Type.TransparentRectangleRedaction;}K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});}else{bk=PCCViewer.Mark.Type.RectangleAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.sM=L.get_lineWidth();K.ck=L.get_fillColor();K.rN=L.get_lineColor();K.cG=L.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bk=PCCViewer.Mark.Type.EllipseAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.sM=L.get_lineWidth();K.ck=L.get_fillColor();K.rN=L.get_lineColor();K.cG=L.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bk=PCCViewer.Mark.Type.LineAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.nz=L.get_lineWidth();K.di=L.get_lineColor();K.cG=L.get_opacity();if(L.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){K.nf="FilledTriangle";}else{K.nf="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(L.ir()===true){bk=PCCViewer.Mark.Type.StampRedaction;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});}else{bk=PCCViewer.Mark.Type.StampAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.di=L.get_fillColor();}K.zw=L.get_text();break;case IPCC.Web.UI.MarkType.Text:if(L.ir()===true){bk=PCCViewer.Mark.Type.TextRedaction;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});}else{bk=PCCViewer.Mark.Type.TextAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.sM=L.get_lineWidth();K.ck=L.get_fillColor();K.rN=L.get_lineColor();K.cG=L.get_opacity();}K.fP=L.get_fontName();K.oz=L.get_textColor();K.hI=L.get_fontSize();var cq=L.get_fontStyle();var HU=[];if((cq&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){HU.push("Bold");}if((cq&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){HU.push("Italic");}if((cq&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){HU.push("Strikeout");}if((cq&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){HU.push("Underline");}K.cq=HU;var sS;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:sS="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:sS="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:sS="right";break;}K.vC=sS;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bk=(fe===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fe===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var MX=L.bN;if(typeof xF[MX]==='undefined'){K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1,cv:cv,aP:aP});K.eP=[];if(bk===PCCViewer.Mark.Type.HighlightAnnotation){K.ck=L.get_fillColor();}xF[MX]=K;L.ar=G;}else{L.ar=G;xF[MX].eP.push(L);}break;case IPCC.Web.UI.MarkType.Freehand:bk=PCCViewer.Mark.Type.FreehandAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.nz=L.get_lineWidth();K.di=L.get_lineColor();K.cG=L.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bk=PCCViewer.Mark.Type.FreehandSignature;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.nz=L.get_lineWidth();K.di=L.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bk=PCCViewer.Mark.Type.TextSignature;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.fP=L.get_fontName();K.di=L.get_fillColor();K.bm=L.get_text();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!L.bN){bk=PCCViewer.Mark.Type.RectangleRedaction;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1,cv:cv,aP:aP});K.sM=L.get_lineWidth();K.ck=L.get_fillColor();K.rN=L.get_lineColor();K.cG=L.get_opacity();}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bk=(fe===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.setImage({dataUrl:L.get_image(),id:L.nT});break;case IPCC.Web.UI.MarkType.Polyline:bk=PCCViewer.Mark.Type.PolylineAnnotation;K=new PCCViewer.Mark({type:bk,igMark:L,pageNumber:G+1});K.nz=L.get_lineWidth();K.di=L.get_lineColor();K.cG=L.get_opacity();var aan=L.get_points();K.ax=[];for(var k=0;k<aan.get_length();k++){Vt(k);}break;default:K=undefined;continue;}if(typeof K!=='undefined'&&fe!==IPCC.Web.UI.MarkType.HighlightText&& !(fe===IPCC.Web.UI.MarkType.RectangleRedaction&&L.bN!==undefined)&&fe!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fe!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){bx.cA[L.get_markID()]=K;}}}}for(var xN in xF){if(xF.hasOwnProperty(xN)){bx.cA[xF[xN].L.get_markID()]=xF[xN];}}dc.resolve(Dw);bx.trigger('MarkupLoaded',{name:Dw});}else{dc.reject("Status Code "+dI.status+" "+dI.statusText);}}};Jr=IPCC.eA.ql(Dw);if(!(/^[\x00-\x7F]*$/.test(bx.ai.get_documentIdentifier()))){url=bx.ah.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bx.ah.documentID+'&AnnotationID=e'+Jr;}else{url=bx.ah.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bx.ah.documentID)+'&AnnotationID=u'+encodeURIComponent(Dw);}dI=new XMLHttpRequest();if(dI===null){dc.reject("AJAX (XMLHTTP) not supported.");}dI.open("GET",url,true);dI.setRequestHeader("Content-Type","application/x-www-form-urlencoded");dI.onreadystatechange=loadResponseHandler;dI.send();});return eZ;};PCCViewer.ViewerControl.prototype.getSavedMarkupNames=function(){var dc=PCCViewer.Deferred();var eZ=dc.getPromise();try{var G=0,RG=0;var Cr='';var url=this.ah.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.ah.documentID)+'&AnnotationID=u'+encodeURIComponent(Cr);var dI;var VG=function(){var sn;if(typeof dI.responseText!=='unknown'&&dI.responseText.length>0){try{sn=JSON.parse(dI.responseText);}catch(e){}var RF=[];if(dI.readyState===4){if(dI.status===200){for(G;G<sn.annotationFiles.length;G++){if(sn.annotationFiles[G].annotationLabel){RF[RG]={};RF[RG].name=sn.annotationFiles[G].annotationLabel;RG++;}}dc.resolve(RF);}else{dc.reject("Unable to retrieve markup list from server.");}}}};dI=new XMLHttpRequest();if(dI===null){dc.reject("AJAX (XMLHTTP) not supported.");}dI.open("GET",url,true);dI.onreadystatechange=VG;dI.send();}catch(e){dc.reject(e);}return eZ;};PCCViewer.ViewerControl.prototype.burnMarkup=function(burnOptions){var Bu={burnSignatures:true,burnRedactions:true};var Xl;if(burnOptions){Bu.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:true;Bu.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:true;if(typeof burnOptions.filename==='string'){Bu.filename=burnOptions.filename;}}var aqc={includeAnnotations:false,includeRedactions:Bu.burnRedactions,includeSignatures:Bu.burnSignatures};var IC=new PCCViewer.BurnRequest(Bu),O=this;function Zq(){adT(O,aqc,function(mj,Xl){if(mj){setTimeout(function(){IC.atb(mj);},20);}else{IC.asF({ai:O.ai,ah:O.ah});IC.arx(Xl);setTimeout(function(){IC.arG();},20);}});};function Yf(){O.off(PCCViewer.EventType.PageCountReady,Yf);Zq();};if(this.pL===false){O.on(PCCViewer.EventType.PageCountReady,Yf);}else{Zq();}return IC;};function qv(){return function(sender,eventArgs){var O=this;var K=O.cA[eventArgs.mark.get_markID()];setTimeout(function(){if(K){O.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function alW(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setThickness(am.getThickness());K.setColor(am.getColor());K.setOpacity(am.getOpacity());K.setEndHeadType(am.getEndHeadType());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function YV(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setBorderThickness(am.getBorderThickness());K.setFillColor(am.getFillColor());K.setBorderColor(am.getBorderColor());K.setOpacity(am.getOpacity());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function aqX(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;},onAdded:qv()};};function aoH(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setReason(am.getReason());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function ajQ(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setBorderThickness(am.getBorderThickness());K.setFillColor(am.getFillColor());K.setBorderColor(am.getBorderColor());K.setOpacity(am.getOpacity());K.setFontName(am.getFontName());K.setFontColor(am.getFontColor());K.setFontSize(am.getFontSize());K.setFontStyle(am.getFontStyle());K.setHorizontalAlignment(am.getHorizontalAlignment());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function ahS(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setFontName(am.getFontName());K.setFontColor(am.getFontColor());K.setFontSize(am.getFontSize());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function amX(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;if(am.getType()===PCCViewer.MouseTool.Type.StampAnnotation){K.setColor(am.getColor());}K.setLabel(am.getLabel());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};var OP;function OS(am){return{onCreating:function(ad,C){var K;if(OP!==undefined){K=this.cA[OP];}if(K&&K.L.bN===C.mark.bN){K.eP.push(C.mark);}else{K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});K.eP=[];this.cA[C.mark.get_markID()]=K;OP=C.mark.iK();PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());}if(am.getFillColor){K.setFillColor(am.getFillColor());}if(am.getReason){K.setReason(am.getReason());}if(am.getHref){K.setHref(am.getHref());}},onAdded:qv()};};function anX(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setThickness(am.getThickness());K.setColor(am.getColor());K.setOpacity(am.getOpacity());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function afs(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setImage({dataUrl:am.getImage(),id:am.nT});PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};function aly(am){return{onCreating:function(ad,C){var K=new PCCViewer.Mark({type:am.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.cA[C.mark.get_markID()]=K;K.setThickness(am.getThickness());K.setColor(am.getColor());K.setOpacity(am.getOpacity());PCCViewer.Data.mn(am,K);PCCViewer.Conversation.oR(am.getConversation(),K.getConversation());},onAdded:qv()};};PCCViewer.ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.me=factoryFunction;return this;};PCCViewer.ViewerControl.prototype.getConversationDOMFactory=function(){return this.me;};PCCViewer.ViewerControl.prototype.refreshConversations=function(conversations){var Tx,acS=(conversations===undefined);function afu(db,cR){throw new Error(db+((cR!==undefined)?' (Array index '+cR+')':'')+' is not a valid PCCViewer.Conversation object.');};function atL(db,cR){throw new Error(db+((cR!==undefined)?' (Array index '+cR+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Tx=[conversations];}else if(conversations instanceof Array){Tx=conversations;}else if(!acS){afu(conversations);}var aaO=IPCC.bh.map(this.getAllMarks(),function(bL){return bL.getConversation();});var Tc=IPCC.bh.map(Tx||aaO,function(bL,G){if(!(bL instanceof PCCViewer.Conversation)){afu(bL,G);}if(!acS&& !IPCC.bh.inArray(aaO,bL)){atL(bL,G);}return bL.getMark().fu;});this.aP.refreshConversations(Tc);return this;};PCCViewer.ViewerControl.prototype.openCommentsPanel=function(){if(this.fH===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aP.openCommentsPanel();var O=this;setTimeout(function(){O.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};PCCViewer.ViewerControl.prototype.closeCommentsPanel=function(){if(this.fH===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aP.closeCommentsPanel();var O=this;setTimeout(function(){O.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};PCCViewer.ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.fH===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aP.get_isCommentsPanelOpen();};PCCViewer.ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.fH===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aP.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var mo=conversation.getMark();if(mo){var vq=mo.L.get_conversation();this.aP.set_selectedConversation(vq);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};PCCViewer.ViewerControl.prototype.getSelectedConversation=function(){if(this.fH===false){return null;}var hG=this.aP.get_selectedConversation();if(hG){var mo=this.cA[hG.get_mark().get_markID()];if(mo){return mo.getConversation();}}return null;};PCCViewer.ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var O=this,SP=O.dz;function Yd(ar,iw,dP){var Ot=[ar+1];var aI=O.cv.getPage(ar),gb=aI.cu();if(gb.oE()){var bm=gb.Cx(),abf=bm.substr(iw);if(abf.length>dP){return Ot;}else{return Ot.concat(Yd(ar+1,0,dP-abf.length));}}else{return Ot;}};this.aP.HX();if(SP&&SP.getResults().length){var bW=Yd(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),gg=SP.getResults(),acG=false,Mr={};if(gg.length){IPCC.bh.forEach(gg,function(bL){var asr=IPCC.bh.contains(bW,bL.bb);if(asr){acG=true;Mr[bL.bb]=Mr[bL.bb]||[];Mr[bL.bb].push(bL);}});}if(acG){IPCC.bh.forEach(Mr,function(aqz,bb){O.adw(bb,aqz);});}}return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.dz;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMinScale},"selectedMarks":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}}});}PCCViewer.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth"};PCCViewer.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage"};PCCViewer.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};PCCViewer.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click"};PCCViewer.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};}());PCCViewer.Fe={};PCCViewer.Fe.vh=function(target){"use strict";var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};(function(PCCViewer,undefined){"use strict";var RH=function RH(eI,aC,R){if(eI.addEventListener){eI.addEventListener(aC,R,false);}else if(eI.attachEvent){eI.attachEvent('on'+aC,R);}};var SR=function SR(eI,aC,R){if(eI.removeEventListener){eI.removeEventListener(aC,R,false);}else if(eI.detachEvent){eI.detachEvent('on'+aC,R);}};function agR(ei){var JD={};ei=ei.split('&');for(var i=ei.length;i--;){var q=ei[i].split('=');JD[q.shift()]=q.join('=');}return JD;};function afZ(){var frame=document.getElementById('pccPrintFrame');frame&&frame.parentElement.removeChild(frame);};function alp(SF,ah,sj,Yg,adu,lN){afZ();var cI;var gS=document.createElement('iframe');gS.id='pccPrintFrame';gS.className='pccPrintFrame';gS.style.position='absolute';gS.style.bottom=gS.style.right='0px';gS.style.width=gS.style.height='1px';gS.style.zIndex='0';gS.style.border='none';if(!ah.isBrokenIE){gS.style.visibility='0';}function JX(){SR(window,'message',acD);};function acx(){SR(gS,'load',acx);if(gS.contentDocument){cI=gS.contentDocument;}else if(gS.contentWindow){cI=gS.contentWindow.document;}else{cI=gS.document;}var page=SF;page=page.replace(/{{viewingSessionId}}/g,ah.vsID).replace(/{{handler}}/g,ah.handler).replace(/{{pages}}/g,ah.pages.join(',')).replace(/{{orientation}}/g,ah.orientation).replace(/{{isIE}}/g,ah.isIE.toString()).replace(/{{isSafari}}/g,ah.isSafari.toString()).replace(/{{includeMarks}}/g,ah.includeMarks.toString()).replace(/{{includeComments}}/g,ah.includeComments).replace(/{{includeReasons}}/g,ah.includeReasons).replace(/{{margins}}/g,ah.margins);if(ah.isBrokenIE){gS.contentWindow.contents=page;gS.src='javascript:window["contents"]';}else{cI.open();cI.write(page);cI.close();}lN();};var acD=function(message){if(message.data.match(/loadArt/)){var Yb=JSON.parse(message.data);var aO=Yg(Yb.pageIndex);gS.contentWindow[Yb.callbackName](aO);}else if(message.data==='extra'){var FK=adu(ah);gS.contentWindow['extra'](ah.encryption,FK);}else if(message.data==='done'){if(ah.isBrokenIE){setTimeout(function(){gS.contentWindow.focus();if(document.documentMode===8){gS.contentWindow.document.execCommand('print',false,null);}else{gS.contentWindow.print();}JX();sj.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}else{gS.contentWindow.focus();gS.contentWindow.print();JX();sj.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);}}else if(message.data==='fail'){JX();sj.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var tk=agR(message.data);tk.index= +tk.index;tk.pageNumber= +tk.pageNumber;tk.totalPages= +tk.totalPages;sj.aeh= +tk.index+1;sj.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,tk);}};RH(window,'message',acD);RH(gS,'load',acx);document.body.appendChild(gS);return JX;};function anj(xp){return function Yg(ar){return xp.aP.hF(xp.cv.getPage(ar));};};function amG(xp){return function adu(options){var aJ,K,ta=[],yA=[],BZ={},EF={},we={},fi={},CU='',YW,db,bH,Ff,bs,EG,bb,adt={},CP={},G=0,cb=0,bF=0,arL=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){aJ=xp.getAllMarks();for(G=0;G<options.pages.length;G++){adt[options.pages[G]]=true;}for(cb=0;cb<aJ.length;cb++){K=aJ[cb];bb=K.bb;if(options.includeReasons!=='none'&&K.getReason){CU=K.getReason();if(CU){if(!we[bb]){fi[CU]=1;we[bb]=fi;fi={};}else{if(we[bb][CU]){we[bb][CU]+=1;}else{we[bb][CU]=1;}}}}if(K.so||K.bO.search("Redaction")!== -1){if(CP[bb]){CP[bb]+=1;}else{CP[bb]=1;}}if(options.range.length&&adt[aJ[cb].bb]!==true){continue;}db=aJ[cb].getConversation();if(db&&db.getComments().length){if(!Ff){Ff=aJ[cb].bb;}else if(aJ[cb].bb!==Ff){ta.sort(arL);for(bF=0;bF<ta.length;bF++){yA=yA.concat(BZ[ta[bF]]);}EF[Ff]=yA;Ff=aJ[cb].bb;ta=[];BZ={};yA=[];}bH=xp.getCharacterIndex(aJ[cb]);YW=aJ[cb].bb;bs=aJ[cb].L.get_boundingRectangle();EG=(bH>0)?bH*10000+bs.y:bs.y;ta.push(EG);if(!BZ[EG]){BZ[EG]=[db];}else{BZ[EG].push(db);}}}if(ta.length){ta.sort(function(a,b){return a-b;});for(G=0;G<ta.length;G++){yA=yA.concat(BZ[ta[G]]);}EF[YW]=yA;}}return{EF:EF,we:we,CP:CP};};};PCCViewer.ViewerControl.prototype.print=function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=(! !options.includeMarks&&this.canPrintMarks());options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';var bW=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var om=this.ah.imageHandlerUrl;var akm=this.ah.documentID;var SF=this.ase;options.vsID=akm;options.handler=om;options.pages=bW;options.isBrokenIE= ! !navigator.appName.match('Microsoft');options.isIE= ! !navigator.userAgent.match('Trident');options.isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.encryption= ! !this.ah.encryption;var Pn;function af(){if(! !Pn){Pn();}};var sj=new PCCViewer.PrintRequest(options,bW.length,af,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:sj});Pn=alp(SF,options,sj,anj(this),amG(this),function(){});return sj;};PCCViewer.ViewerControl.prototype.validatePrintRange=function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};PCCViewer.ViewerControl.prototype.canPrintMarks=function canPrintMarks(){return(document.documentMode!==8);};PCCViewer.PrintRequest=function(options,totalPages,cancelFunc,that){this.ah=options;this.af=cancelFunc;this.aeh=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PCCViewer.PrintRequest.prototype.cancel=function(){this.af();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PCCViewer.PrintRequest.prototype.getOptions=function(){return{range:this.ah.pages.toString(),orientation:this.ah.orientation,includeMarks:this.ah.includeMarks,margins:this.ah.margins};};PCCViewer.PrintRequest.prototype.getPageCount=function(){return this.ah.pages.length;};PCCViewer.PrintRequest.prototype.getPreparedCount=function(){return this.aeh;};if(Object.defineProperties){Object.defineProperties(PCCViewer.PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}PCCViewer.PrintControl=function(domElement,options){domElement.className=domElement.className+' '+options.orientation;function zq(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function alC(bb,EC){var fS=[];fS.push("pageNumber="+(1+bb));fS.push("index="+EC);fS.push("totalPages="+options.pages.length);return fS.join('&');};function nr(bb,EC,next){var Lg={documentIdentifier:options.vsID,pageNumber:bb,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var ng=document.createElement('div');ng.className=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';ng.id='printpage'+bb;if(options.margins==='none'){ng.className+=' nomargins';}domElement.appendChild(ng);var pv=IPCC.initializePageViewPlugin(ng,Lg);var LJ=false;function abQ(){zq(alC(bb,EC));next();};pv.add_pageDisplayed(function(){if(!LJ){abQ();}});pv.add_textPageReady(function(){if(LJ){pv.ak();abQ();}});pv.add_pageOpenFailed(function(){zq('fail');});pv.add_textExtractionFailed(function(){if(LJ){zq('fail');}});if(! !options.includeMarks&&PCCViewer.ViewerControl.prototype.canPrintMarks()){var ach='loadArt'+bb;var tk={pageIndex:bb,callbackName:ach};window[ach]=function(aO){Lg.artPage=aO;var lY,Mj,G,db={},JC={},yR='',nt,FV,fi,Bf='';aO.LE(function(K){if(K.get_type()===608){LJ=true;}});JC=options.pagedConversations[bb+1];if(options.pagedConversations&&JC&&options.includeComments==='followingPage'){lY=document.createElement('div');lY.className+='commentPage';lY.id='printcommentpage'+bb;if(options.margins==='none'){lY.className+=' nomargins';}Mj='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(G=0;G<JC.length;G++){db=JC[G];yR+=adV(db,bb+1);}lY.innerHTML=Mj.replace('{{pageNumber}}',bb+1).replace('{{conversationList}}',yR);domElement.appendChild(lY);}FV=options.pagedReasons[bb+1];if(options.pagedReasons&&FV&&options.includeReasons==='followingPage'){nt=document.createElement('div');nt.className+='reasonPage';nt.id='printreasonpage'+bb;if(options.margins==='none'){nt.className+=' nomargins';}Mj='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fi in FV){if(FV.hasOwnProperty(fi)){Bf+=agD(fi,FV[fi]);}}nt.innerHTML=Mj.replace('{{pageNumber}}',bb+1).replace('{{reasonList}}',Bf).replace('{{date}}',adf()).replace('{{count}}',options.pagedRedactionCount[bb+1]);domElement.appendChild(nt);}pv.openPage(Lg);};zq(JSON.stringify(tk));}else{pv.openPage(Lg);}};function adV(db,bb){var WV='',jE='',K=db.getMark(),lv,fq,G;switch(K.L.tg()){case IPCC.Web.UI.MarkType.Rectangle:jE=(K.L.ir())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:jE='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jE='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:jE=(K.nf==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:jE='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:jE='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:jE='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:jE='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:jE='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:jE='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:jE='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:jE='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:jE='Signature Text';break;case IPCC.Web.UI.MarkType.SignatureImage:jE='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:jE='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:jE='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:jE='Image Stamp Redaction';break;default:break;}lv=db.getComments();for(G=0;G<lv.length;G++){fq=lv[G];WV+='<li>'+alw({text:fq.getText(),createDate:fq.lW.US,pageNumber:bb+1})+'</li>';}return '<h3>'+jE+'</h3><ul>'+WV+'</ul>';};function alw(fq){var gd=new Date(fq.createDate),amv='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',gd.getMonth()+1).replace('{{day}}',gd.getDate()).replace('{{year}}',gd.getFullYear()).replace('{{hour}}',(gd.getHours()<10?'0':'')+gd.getHours()).replace('{{minutes}}',(gd.getMinutes()<10?'0':'')+gd.getMinutes()).replace('{{period}}',gd.getHours()<12?'am':'pm');var bm=fq.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bm).replace('{{date}}',amv);};function adf(){var gd=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',gd.getMonth()+1).replace('{{day}}',gd.getDate()).replace('{{year}}',gd.getFullYear());};function agD(fi,rH){fi=fi.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var amN=(rH>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fi).replace('{{count}}',rH).replace('{{times}}',amN);};function anp(){window.onerror=function(ev){zq('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function atV(bb,EC){return function(next){nr(bb,EC,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aI= +options.pages[i]-1;funcs.push(atV(aI,i));}sync(funcs,function(){var lY,NY='',aI,AM='',yR='',db,K,WP='<h1>Comments</h1><hr>{{pageSections}}',nt,Bf='',aod='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aI in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aI)){if(!lY){lY=document.createElement('div');lY.className+=' commentPage';lY.id='printpage_comments';if(options.margins==='none'){lY.className+=' nomargins';}}NY='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';yR='';for(var G=0;G<options.pagedConversations[aI].length;G++){db=options.pagedConversations[aI][G];K=db.getMark();yR+=adV(db,K.pageNumber);}AM+=NY.replace('{{pageNumber}}',K.pageNumber).replace('{{conversationList}}',yR);if(yR.length){lY.innerHTML=WP.replace('{{pageSections}}',AM);domElement.appendChild(lY);}}}}if(options.includeReasons==='documentEnd'){AM='';WP='';NY='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aI in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aI)){if(!nt){nt=document.createElement('div');nt.className+='reasonPage';nt.id='printpage_reason';if(options.margins==='none'){nt.className+=' nomargins';}}Bf='';for(var fi in options.pagedReasons[aI]){if(options.pagedReasons[aI].hasOwnProperty(fi)){Bf+=agD(fi,options.pagedReasons[aI][fi]);}}AM+=NY.replace('{{pageNumber}}',aI).replace('{{reasonList}}',Bf).replace('{{date}}',adf()).replace('{{count}}',options.pagedRedactionCount[aI]);}}if(AM.length){nt.innerHTML=aod.replace('{{pageSections}}',AM);domElement.appendChild(nt);}}zq('done');});};function aqZ(){window['extra']=function(bool,FK){options.encryption= ! !bool;options.pagedConversations=FK.EF;options.pagedReasons=FK.we;options.pagedRedactionCount=FK.CP;anp();window['extra']=function(){};};zq('extra');};aqZ();};}(PCCViewer));(function(PCCViewer){function Zm(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function VT(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new VT(this.x,this.y);};};function Pu(bL){return(bL&&bL.nodeType===1);};function Jo(hC,Fd){var TM=(Fd&&IPCC.bh.xH)?'m':'M';var UN=(Fd&&IPCC.bh.xH)?'l':'L';return IPCC.bh.map(hC,function(el,i){if(i===0){return TM+el.x+','+el.y;}else{return UN+el.x+','+el.y;}}).join('');};function Xy(cD,lZ,fj){return function(bJ){if(IPCC.bh.Ej&&bJ.type.match('mouse')){bJ.preventDefault();bJ.stopPropagation();return false;}if(bJ.preventDefault){bJ.preventDefault();}else{bJ.returnValue=false;}var x,y;if(bJ.changedTouches){var gu=bJ.changedTouches[0];if(bJ.type==='touchstart'){lZ=bJ.target.getBoundingClientRect();}else if(bJ.type==='touchend'){fj&&fj();return;}x=gu.clientX-lZ.left;y=gu.clientY-lZ.top;}else{if(IPCC.bh.xH){x=bJ.clientX-lZ.left;y=bJ.clientY-lZ.top;}else{x=bJ.offsetX||bJ.clientX-lZ.left;y=bJ.offsetY||bJ.clientY-lZ.top;}}var au=new VT(x,y);cD.hC.push(au);var pK=Jo(cD.hC);if(IPCC.bh.xH){cD.cF.path=pK.toLowerCase();}else{cD.cF.setAttribute('d',pK);}fj&&fj();};};function aoW(points){var xG=3,cU='',rY;var nP=(points.length<xG)?points:IPCC.bh.filter(points,function(el){if(rY&&rY.close(el)){return false;}else{rY=el;return true;}});if(nP.length<xG){nP=[points[0],points[points.length-1]];}rY=undefined;if(nP.length<xG){cU+=Jo(nP);}else{cU='M'+IPCC.bh.bspline(nP);cU=cU.replace(/\d*\.?\d*/g,function(cn){var EO=cn.indexOf('.');if(cn.length&&EO>0){return cn.substr(0,EO+3);}else if(cn!==""){return cn;}else{return cn;}});}return cU;};function SignatureControl(dom){var O=this;if(typeof dom==='string'){this.dw=document.querySelector(dom);if(!(Pu(this.dw))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Pu(dom)){this.dw=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Hg=[];this.lZ=new Zm(this.dw.getBoundingClientRect());this.gH=IPCC.bh.vr.SVG([0,0,this.lZ.width,this.lZ.height].join(' '));this.dw.appendChild(this.gH);function AX(ev){var cF=IPCC.bh.vr.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});O.gH.appendChild(cF);var cD={hC:[],cF:cF,fj:function(){O.Hg.push(cD.hC);IPCC.bh.removeEvent(O.dw,'mousemove',AN);IPCC.bh.removeEvent(O.dw,'mouseup',zc);if(IPCC.bh.Ej){IPCC.bh.removeEvent(O.dw,'MSPointerMove',AN);IPCC.bh.removeEvent(O.dw,'MSPointerUp',zc);}if(IPCC.bh.KK){IPCC.bh.removeEvent(O.dw,'touchmove',AN);IPCC.bh.removeEvent(O.dw,'touchend',zc);}}};var AN=Xy(cD,O.lZ);var zc=Xy(cD,O.lZ,cD.fj);AN(ev);IPCC.bh.addEvent(O.dw,'mousemove',AN);IPCC.bh.addEvent(O.dw,'mouseup',zc);if(IPCC.bh.Ej){IPCC.bh.addEvent(O.dw,'MSPointerMove',AN);IPCC.bh.addEvent(O.dw,'MSPointerUp',zc);}if(IPCC.bh.KK){IPCC.bh.addEvent(O.dw,'touchmove',AN);IPCC.bh.addEvent(O.dw,'touchend',zc);}};IPCC.bh.addEvent(O.dw,'mousedown',AX);if(IPCC.bh.Ej){this.dw.style['-ms-touch-action']='none';this.dw.style['touch-action']='none';IPCC.bh.addEvent(O.dw,'MSPointerDown',AX);}if(IPCC.bh.KK){IPCC.bh.addEvent(O.dw,'touchstart',AX);}this.Nq=function(){O.lZ=new Zm(O.dw.getBoundingClientRect());O.gH.setAttribute('viewBox',[0,0,O.lZ.width,O.lZ.height].join(' '));};IPCC.bh.addEvent(window,'resize',this.Nq);this.acO=function(){IPCC.bh.removeEvent(window,'resize',O.Nq);IPCC.bh.removeEvent(O.dw,'mousedown',AX);if(IPCC.bh.Ej){IPCC.bh.removeEvent(O.dw,'MSPointerDown',AX);}if(IPCC.bh.KK){IPCC.bh.removeEvent(O.dw,'touchstart',AX);}while(O.dw.firstChild){O.dw.removeChild(O.dw.firstChild);}};};SignatureControl.prototype.done=function(){var jV,ly,nu,lQ,pK='M0,0',VI=this;IPCC.bh.forEach(VI.Hg,function(xN){IPCC.bh.forEach(xN,function(p){if(jV===undefined||jV>p.x){jV=p.x;}if(ly===undefined||ly>p.y){ly=p.y;}if(nu===undefined||nu<p.x){nu=p.x;}if(lQ===undefined||lQ<p.y){lQ=p.y;}});});IPCC.bh.forEach(VI.Hg,function(xN){var alg=IPCC.bh.map(xN,function(p){return new VT(p.x-jV,p.y-ly);});pK+=aoW(alg);});this.acO();return{type:'path',path:pK,width:(nu-jV)||0,height:(lQ-ly)||0};};SignatureControl.prototype.resize=function(){this.Nq();return this;};SignatureControl.prototype.clear=function(){var svg=this.gH;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Hg=[];return this;};SignatureControl.prototype.undo=function(){if(this.gH.lastChild){this.gH.removeChild(this.gH.lastChild);}this.Hg.pop();return this;};SignatureControl.prototype.cancel=function(){this.acO();return this;};PCCViewer.SignatureControl=function(dom){return new SignatureControl(dom);};PCCViewer.Signatures=new PCCViewer.ObservableCollection();PCCViewer.SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qd=IPCC.bh.VY(signature.path);var gH=IPCC.bh.vr.SVG([0,0,qd.width,qd.height].join(' '));var cF=IPCC.bh.vr.Path(signature.path,{width:qd.width,height:qd.height,color:'black',thickness:4});if(IPCC.bh.xH){var aqg=(qd.height/qd.width)*100;gH.style.width=cF.style.width='100%';gH.style.height=cF.style.height='0px';gH.style.paddingBottom=cF.style.paddingBottom=aqg+'%';}else{gH.style.width='100%';gH.style.maxHeight='100%';gH.setAttribute('preserveAspectRatio','xMinYMin meet');}gH.appendChild(cF);domElement.appendChild(gH);return{width:qd.width,height:qd.height,clear:function(){domElement.removeChild(gH);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var ng=document.createElement('div');var CZ=document.createTextNode(signature.text);var LN=(typeof signature.fontName==='string')?signature.fontName:'serif';ng.appendChild(CZ);ng.style.textAlign='center';ng.style.fontFamily='"'+LN+'", cursive';ng.style.fontSize='2.5em';ng.style.overflow='hidden';domElement.appendChild(ng);var qd=IPCC.bh.Oj(signature.text,LN);return{width:qd.width,height:qd.height,clear:function(){domElement.removeChild(ng);}};};if(!Pu(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.Comment=function(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function avC(){return conversation;};if(typeof comment==='string'){this.lW=new IPCC.Web.UI.Comment(comment);}else{this.lW=comment;}this.lW.Py=this;this.cY=this.lW.get_data();PCCViewer.Data.extend(this);};PCCViewer.Comment.prototype.getText=function awB(){return this.lW.get_text();};PCCViewer.Comment.prototype.setText=function avv(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.lW.set_text(text);return this;};PCCViewer.Comment.prototype.getCreationTime=function awF(){var apr=IPCC.bh.Vl(this.lW.get_creationTime());return new Date(apr);};PCCViewer.Comment.prototype.setCreationTime=function awp(time){function afl(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var acH=IPCC.bh.Vl(time);if(acH instanceof Error){afl();}time=new Date(acH);}if(!(time instanceof Date)){afl();}this.lW.set_creationTime(IPCC.bh.Xw(time));return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}PCCViewer.Conversation=function(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Lz(){return mark;};this.im=new PCCViewer.ObservableCollection();if(typeof mark.L!=="undefined"){this.vq=mark.L.get_conversation();this.vq.forEach(function(lW){var fq=new PCCViewer.Comment(lW,this);this.im.add(fq);},this);}else{this.vq=new IPCC.Web.UI.Conversation();}this.cY=this.vq.get_data();PCCViewer.Data.extend(this);};PCCViewer.Conversation.prototype.addComment=function Ys(commentText){var fq=new PCCViewer.Comment(commentText,this);this.im.add(fq);this.vq.addComment(fq.lW);return fq;};PCCViewer.Conversation.prototype.deleteComments=function(comments){var O=this;var adk=this.im.toArray();var aaf=function(fq){for(var i=0,length=adk.length;i<length;i++){if(adk[i]===fq){return true;}}return false;};function aeT(fq,cR){throw new Error(fq+((cR!==undefined)?' (Array index '+cR+')':'')+' is not a PCCViewer.Comment object.');};function aey(fq,cR){throw new Error(((cR!==undefined)?' (Array index '+cR+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!aaf(comments)){aey(comments);}O.im.remove(comments);O.vq.removeCommentInstance(comments.lW);}else if(comments instanceof Array){IPCC.bh.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){aeT(el,idx);}if(!aaf(el)){aey(el,idx);}});IPCC.bh.forEach(comments,function(el){O.im.remove(el);O.vq.removeCommentInstance(el.lW);});}else{aeT(comments);}return this;};PCCViewer.Conversation.prototype.getComments=function(){return this.im.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};PCCViewer.Conversation.oR=function(jX,wn){if(typeof jX.getComments!=="function"||typeof wn.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.mn(jX,wn);var lv=jX.getComments(),i,length=lv.length;for(i=0;i<length;i++){var WA=lv[i];var aoR=wn.addComment(WA.getText());PCCViewer.Data.mn(WA,aoR);}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ImageStamps=function(Options){this.ah=PCCViewer.Fe.vh({},Options);};PCCViewer.ImageStamps.prototype.requestImageStampList=function(){var dc=PCCViewer.Deferred();var eZ=dc.getPromise();try{var dA=this.ah.imageHandlerUrl+'/ImageStampList';var dI;var VG=function(){var sn;if(typeof dI.responseText!=='unknown'&&dI.responseText.length>0){try{sn=JSON.parse(dI.responseText);}catch(e){}if(dI.readyState===4){if(dI.status===200){dc.resolve(sn);}else{dc.reject("Unable to retrieve ImageStamp list from server.");}}}};dI=new XMLHttpRequest();if(dI===null){dc.reject("AJAX (XMLHTTP) not supported.");}dI.open("GET",dA,true);dI.onreadystatechange=VG;dI.send();}catch(e){dc.reject(e);}return eZ;};PCCViewer.ImageStamps.prototype.reqestImageSourceBase64=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var dc=PCCViewer.Deferred();var eZ=dc.getPromise();try{var dA=this.ah.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Base64';var dI;var asC=function(){var sn;if(typeof dI.responseText!=='unknown'&&dI.responseText.length>0){try{sn=JSON.parse(dI.responseText);}catch(e){}if(dI.readyState===4){if(dI.status===200){dc.resolve(sn);}else{dc.reject("Unable to retrieve ImageStamp list from server.");}}}};dI=new XMLHttpRequest();if(dI===null){dc.reject("AJAX (XMLHTTP) not supported.");}dI.open("GET",dA,true);dI.onreadystatechange=asC;dI.send();}catch(e){dc.reject(e);}return eZ;};PCCViewer.ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.ah.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};})(PCCViewer||{});var PCCViewer=window.PCCViewer||{};PCCViewer.Search=function(){this.MA=[];this.dz={};this.fw=[];this.cR=0;this.rg='';this.eY={};this.Co=[];this.Fl=0;this.dX={};this.Ug=0;this.hd=false;var O=this;this.anx=function(afk,ai){var G=0;var ahH=function(sender,C){if(C.error=== -1){O.apd();return;}try{if(O.hd===false){O.arr(C.textPagesReceived,C.error,ai);}}catch(e){O.dz.cS=e.message;O.dz.mc="1010";O.dz.wj=true;setTimeout(function(){O.dz.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){O.dz.trigger("SearchCompleted",{completedSearchResults:(O.fw)});},10);O.hd=true;return;}};try{if(afk===false){ai.add_textPagesReceived(ahH);}O.dX=this.buildSearchObject();for(G;G<ai.cQ;G++){O.MA[G]=false;}if(afk){this.asc(ai);}}catch(e){O.dz.cS=e.message;O.dz.mc="1010";O.dz.wj=true;setTimeout(function(){O.dz.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){O.dz.trigger("SearchCompleted",{completedSearchResults:(O.fw)});},10);return;}};this.apd=function(){O.dz.cS="Unable to communicate with server, please retry loading the document.";O.dz.mc="1011";O.dz.wj=true;setTimeout(function(){O.dz.trigger("SearchFailed",{errorMessage:("Unable to communicate with server, please retry loading the document.")});},10);setTimeout(function(){O.dz.trigger("SearchCompleted",{completedSearchResults:(O.fw)});},10);O.hd=true;};this.asc=function(ai){var G=0;for(G=0;G<ai.cQ;G++){var bm=this.aaD(ai,G);if(!bm&&bm!==null){O.Co[O.Fl]=G;O.Fl++;continue;}this.acn(bm,G,ai);if(O.dz.vW){break;}}O.dz.gg=O.fw;O.dz.wj=true;O.dz.MC=O.Co;setTimeout(function(){O.dz.trigger("SearchResultsAvailable",{completedSearchResults:(O.fw)});},10);setTimeout(function(){O.dz.trigger("SearchCompleted",{completedSearchResults:(O.fw)});},10);};this.arr=function(Az,Kg,ai){var G=0;for(G=0;G<Az.length;G++){if(O.MA[Az[G]]===false){O.MA[Az[G]]=true;var bm=this.aaD(ai,Az[G]);if(!bm&&bm!==null){O.Co[O.Fl]=Az[G];O.Fl++;continue;}this.acn(bm,Az[G],ai);if(O.dz.vW){break;}}}if(((ai.cQ-1)===Az[G-1]||O.dz.vW)&& !O.dz.wj){O.dz.gg=O.fw;O.dz.MC=O.Co;O.dz.wj=true;setTimeout(function(){O.dz.trigger("SearchResultsAvailable",{completedSearchResults:(O.fw)});},10);setTimeout(function(){O.dz.trigger("SearchCompleted",{completedSearchResults:(O.fw)});},10);}};this.buildSearchObject=function(){var RS=[];var Ll=0;for(var G=0;G<O.eY.searchTerms.length;G++){var dX={};if(O.eY.searchTerms[G].matchingOptions.exactPhrase===false&&O.eY.searchTerms[G].searchTermIsRegex===false){var zO=O.eY.searchTerms[G].searchTerm.split(' ');for(var bF=0;bF<zO.length;bF++){dX={};if(zO[bF].length<0){continue;}dX.searchText=zO[bF];dX.Di=O.eY.searchTerms[G];if(O.eY.searchTerms[G].matchingOptions.matchWholeWord){dX.searchTerm=this.Xh(this.Cz(zO[bF]),O.eY.searchTerms[G].matchingOptions);}else{if(O.eY.searchTerms[G].matchingOptions.wildcard===true){dX.searchTerm=this.aeJ(this.Cz(zO[bF]),O.eY.searchTerms[G].matchingOptions);}else if(O.eY.searchTerms[G].matchingOptions.beginsWith===true||O.eY.searchTerms[G].matchingOptions.endsWith===true){dX.searchTerm=this.agx(this.Cz(zO[bF]),O.eY.searchTerms[G].matchingOptions);}else{dX.searchTerm=this.XS(zO[bF],O.eY.searchTerms[G].matchingOptions,false);}}dX.highlightColor=this.abe(O.eY.searchTerms[G].highlightColor);RS[Ll]=dX;Ll++;}}else{dX={};dX.searchText=O.eY.searchTerms[G].searchTerm;dX.Di=O.eY.searchTerms[G];if(O.eY.searchTerms[G].matchingOptions.matchWholeWord){dX.searchTerm=this.Xh(this.Cz(O.eY.searchTerms[G].searchTerm),O.eY.searchTerms[G].matchingOptions);}else{if(O.eY.searchTerms[G].matchingOptions.wildcard===true){dX.searchTerm=this.aeJ(this.Cz(O.eY.searchTerms[G].searchTerm),O.eY.searchTerms[G].matchingOptions);}else if(O.eY.searchTerms[G].matchingOptions.beginsWith===true||O.eY.searchTerms[G].matchingOptions.endsWith===true){dX.searchTerm=this.agx(this.Cz(O.eY.searchTerms[G].searchTerm),O.eY.searchTerms[G].matchingOptions);}else{dX.searchTerm=this.XS(O.eY.searchTerms[G].searchTerm,O.eY.searchTerms[G].matchingOptions,O.eY.searchTerms[G].searchTermIsRegex);}}dX.highlightColor=this.abe(O.eY.searchTerms[G].highlightColor);RS[Ll]=dX;Ll++;}}return RS;};this.acn=function(Ns,ar,ai){var abP=false;var aeX=[];var Vj=0;var d=new Date();var xT=d.getTime();var aI=ai.bW.nr(ar);var gb=aI.cu();var eJ=gb.gz();for(var G=0;G<O.dX.length;G++){var Dx=O.dX[G].searchTerm;var ey=Dx.exec(Ns);var hA=O.dX[G];var SV=hA.Di.contextPadding;while(ey!==null){var cD=this.ZC(Ns,ey,SV);O.fw[O.cR]=new PCCViewer.SearchResult();O.fw[O.cR].fu=O.cR;O.fw[O.cR].bb=ar+1;O.fw[O.cR].cD=cD.Yr;O.fw[O.cR].bm=ey[0];O.fw[O.cR].yn=cD.aH;O.fw[O.cR].rZ=O.dX[G].highlightColor;O.fw[O.cR].SG=ey.index;O.fw[O.cR].rg=O.dX[G].Di;O.fw[O.cR].KV=ai.get_documentIdentifier();O.fw[O.cR].xT=xT;var eO=Number.MAX_VALUE,fK=0,_top=Number.MAX_VALUE,eD=0;var ct=ey.index+ey[0].length;for(var bF=ey.index;bF<ct-1;bF++){var dk=eJ.iF(bF);if(dk.aX.x<eO){eO=dk.aX.x;}if(dk.aX.x+dk.aX.width>fK){fK=dk.aX.x+dk.aX.width;}if(dk.aX.y<_top){_top=dk.aX.y;}if(dk.aX.y+dk.aX.height>eD){eD=dk.aX.y+dk.aX.height;}}O.fw[O.cR].mL={width:fK-eO,height:eD-_top,x:eO,y:_top};aeX[Vj]=O.fw[O.cR];O.dz.gg=O.fw;ey=Dx.exec(Ns);O.cR++;Vj++;abP=true;}}if(abP){setTimeout(function(){O.dz.trigger("PartialSearchResultsAvailable",{partialSearchResults:(aeX),pagesWithoutText:(O.Co)});},10);}};this.ZC=function(bm,ey,Dq){Dq=Dq||0;var aqS=ey[0],bp=aqS.length,XV=Math.max(ey.index-Dq,0),apw=ey.index+bp,aga=Math.min(apw+Dq,bm.length);return{aH:(XV===0)?ey.index:Dq,Yr:bm.substring(XV,aga)};};this.aaD=function(ai,ar){var aI=ai.bW.nr(ar);var gb=aI.cu();var bm=gb.Cx();return bm;};this.Xh=function(pH,ov){var um=new RegExp('\\b'+pH+'\\b',this.uj(ov.matchCase));return um;};this.agx=function(pH,ov){if(ov.beginsWith){return new RegExp("\\b"+pH+'(\\w+)',this.uj(ov.matchCase));}if(ov.endsWith){pH=pH.replace("*","");return new RegExp('(\\w+)'+pH+"\\b",this.uj(ov.matchCase));}};this.Cz=function(pH){return pH.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aeJ=function(uJ,ov){uJ=uJ.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(uJ==='\\*'){var mj=new Error("The search term must contain one or more non-wildcard characters.");mj.ake=true;throw mj;}uJ=uJ.replace(/\\\?/g,'.');var fm=this.Km(uJ);var PG,Vk,um,Wc;var Gz=uJ.substring(0,1);for(var G=0;G<fm.length;++G){if(G>0){PG=fm.substring(G-1,G);}Gz=fm.substring(G,G+1);if(G<fm.length){Vk=fm.substring(G+1,G+2);}if(G===0){if(Gz==='*'&&Vk===" "||Gz==='*'&&Vk==="*"){fm=fm.substring(2,fm.length);}}if(G+1===fm.length){if(Gz==='*'&&PG===" "||Gz==='*'&&PG==="*"){fm=fm.substring(0,fm.length-2);}}}fm=fm.replace(/^\s+|\s+$/g,'');var YS=fm.indexOf('*');if(YS===1){fm=fm.replace(/\\\*/g,'\\S*')+'\\S*';}else if(YS===fm.length-1){fm='\\S*'+fm.replace(/\\\*/g,'\\S*');}else{if(ov.exactPhrase===false){fm=fm.replace(/\\\*/g,'.*?');}else{fm=fm.replace(/\\\*/g,'\\S*');}}um=new RegExp(fm,this.uj(ov.matchCase));if(fm.substring(0,1)!=='*'&&Wc!=='*'){um=new RegExp('\\b'+fm+'\\b',this.uj(ov.matchCase));}if(fm.substring(0,1)==='*'&&Wc!=='*'){um=new RegExp(fm+'\\b',this.uj(ov.matchCase));}if(fm.substring(0,1)!=='*'&&Wc==='*'){um=new RegExp('\\b'+fm,this.uj(ov.matchCase));}return um;};this.Km=function(pH){return pH.replace(/\ /g,'\\s+');};this.XS=function(Ok,matchingOptions,isRegex){var tW='';if(isRegex===true){tW=this.Km(Ok);}else if(matchingOptions.wildcard===true){tW=Ok.replace(/[-[\]{}()+,^$|#]/g,"\\$&");tW=this.Km(tW);}else if(matchingOptions.exactPhrase){tW=Ok.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");tW=this.Km(tW);}else{tW=Ok.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}return new RegExp(tW,this.uj(matchingOptions.matchCase));};this.uj=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.awX=function(uJ){var um=new RegExp('\\b'+uJ+'\\b',O.uj());return um;};var aca=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abe=function(di){if(!di){return aca[O.Ug++ %aca.length];}else{return di;}};this.amc=function(bm){try{this.akx(bm);}catch(e){O.dz.cS=e.message;O.dz.mc="1010";return;}};this.akx=function(bm){var d=new Date();var xT=d.getTime();for(var G=0;G<O.dX.length;G++){var Dx=O.dX[G].searchTerm;var ey=Dx.exec(bm);var hA=O.dX[G];var SV=hA.Di.contextPadding;while(ey!==null){var cD=this.ZC(bm,ey,SV);O.fw[O.cR]=new PCCViewer.SearchTaskResult();O.fw[O.cR].fu=O.cR;O.fw[O.cR].cD=cD.Yr;O.fw[O.cR].bm=ey[0];O.fw[O.cR].yn=cD.aH;O.fw[O.cR].rZ=O.dX[G].highlightColor;O.fw[O.cR].St=ey.index;O.fw[O.cR].rg=O.dX[G].Di;O.fw[O.cR].xT=xT;O.dz.gg=O.fw;ey=Dx.exec(bm);O.cR++;}}};this.aff=function(hA){var searchTermObj;if(typeof hA==='string'){hA={searchTerms:[{searchTerm:hA,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return hA;}for(var i=0;i<hA.searchTerms.length;i++){searchTermObj=hA.searchTerms[i];if(typeof searchTermObj.contextPadding==="undefined"){searchTermObj.contextPadding=25;}if(typeof searchTermObj.searchTermIsRegex==="undefined"){searchTermObj.searchTermIsRegex=false;}if(typeof searchTermObj.matchingOptions==="undefined"){searchTermObj.matchingOptions={};}if(!searchTermObj.matchingOptions.hasOwnProperty('matchCase')){searchTermObj.matchingOptions.matchCase=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('exactPhrase')){searchTermObj.matchingOptions.exactPhrase=true;}if(!searchTermObj.matchingOptions.hasOwnProperty('matchWholeWord')){searchTermObj.matchingOptions.matchWholeWord=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('beginsWith')){searchTermObj.matchingOptions.beginsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('endsWith')){searchTermObj.matchingOptions.endsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('wildcard')){searchTermObj.matchingOptions.wildcard=false;}if(typeof searchTermObj.highlightColor!=='undefined'){try{IPCC.aE.di(searchTermObj.highlightColor,"selectText");}catch(e){searchTermObj.highlightColor=undefined;}}}return hA;};};PCCViewer.Search.prototype._search=function(searchQuery,IM,ai){this.dX={};this.dz=new PCCViewer.SearchRequest();this.eY=searchQuery;this.fw.length=0;this.dz.hA=searchQuery;this.Co.length=0;this.Fl=0;this.cR=0;this.rg=searchQuery;this.Ug=0;this.anx(IM,ai);return this.dz;};PCCViewer.Search.prototype.amU=function(searchQuery){this.dX={};this.dz=new PCCViewer.SearchRequest();this.eY=searchQuery;this.fw.length=0;this.dz.hA=searchQuery;this.cR=0;this.rg=searchQuery;this.Ug=0;return this.dz;};PCCViewer.SearchTask=function(searchQuery){this.abB(searchQuery);var _search=new PCCViewer.Search();searchQuery=_search.aff(searchQuery);this.dz=_search.amU(searchQuery);try{_search.dX=_search.buildSearchObject();}catch(e){if(e.ake){throw new Error(e.message);}else{throw new Error(e.message);}}this.search=function(text){_search.fw=[];_search.cR=0;_search.amc(text);return _search.fw;};};PCCViewer.SearchTask.prototype.abB=function(searchQuery){if(typeof searchQuery==='string'){return;}var Zk;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){Zk=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.bh.forEach(Zk,function(agG,G){if(typeof agG.searchTerm!=='string'){throw new Error("Search term index "+G+" does not have a valid `searchTerm` string property.");}});};var PCCViewer=window.PCCViewer||{};PCCViewer.SearchResult=function(){this.fu=0;this.bb=0;this.aH=0;this.bm='';this.rZ='';this.SG=0;this.cD='';this.yn=0;this.rg='';this.KV='';this.mL=null;};PCCViewer.SearchResult.prototype.getId=function(){return this.fu;};PCCViewer.SearchResult.prototype.getPageNumber=function(){return this.bb;};PCCViewer.SearchResult.prototype.getText=function(){return this.bm;};PCCViewer.SearchResult.prototype.getHighlightColor=function(){return this.rZ;};PCCViewer.SearchResult.prototype.getStartIndexInPage=function(){return this.SG;};PCCViewer.SearchResult.prototype.getContext=function(){return this.cD;};PCCViewer.SearchResult.prototype.getStartIndexInContext=function(){return this.yn;};PCCViewer.SearchResult.prototype.getSearchTerm=function(){return this.rg;};PCCViewer.SearchResult.prototype.getBoundingRectangle=function(){return this.mL;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.bb;}},"id":{enumerable:true,get:function(){return this.fu;}},"text":{enumerable:true,get:function(){return this.bm;}},"highlightColor":{enumerable:true,get:function(){return this.rZ;}},"startIndexInPage":{enumerable:true,get:function(){return this.SG;}},"context":{enumerable:true,get:function(){return this.cD;}},"startIndexInContext":{enumerable:true,get:function(){return this.yn;}},"searchTerm":{enumerable:true,get:function(){return this.rg;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}PCCViewer.SearchTaskResult=function(){this.fu=0;this.aH=0;this.bm='';this.rZ='';this.St=0;this.cD='';this.yn=0;this.rg='';};PCCViewer.SearchTaskResult.prototype.getId=function(){return this.fu;};PCCViewer.SearchTaskResult.prototype.getText=function(){return this.bm;};PCCViewer.SearchTaskResult.prototype.getHighlightColor=function(){return this.rZ;};PCCViewer.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.St;};PCCViewer.SearchTaskResult.prototype.getContext=function(){return this.cD;};PCCViewer.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.yn;};PCCViewer.SearchTaskResult.prototype.getSearchTerm=function(){return this.rg;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.fu;}},"text":{enumerable:true,get:function(){return this.bm;}},"highlightColor":{enumerable:true,get:function(){return this.rZ;}},"startIndexInInput":{enumerable:true,get:function(){return this.St;}},"context":{enumerable:true,get:function(){return this.cD;}},"startIndexInContext":{enumerable:true,get:function(){return this.yn;}},"searchTerm":{enumerable:true,get:function(){return this.rg;}}});}var PCCViewer=window.PCCViewer||{};PCCViewer.SearchRequest=function(){this.jM={};this.hA={};this.gg=[];this.wj=false;this.mc=null;this.cS=null;this.MC=[];PCCViewer.EventEmitter.extend(this);};PCCViewer.SearchRequest.prototype.getSearchQuery=function(){return this.hA;};PCCViewer.SearchRequest.prototype.getResults=function(){return this.gg;};PCCViewer.SearchRequest.prototype.getIsComplete=function(){return this.wj;};PCCViewer.SearchRequest.prototype.getErrorCode=function(){return this.mc;};PCCViewer.SearchRequest.prototype.getErrorMessage=function(){return this.cS;};PCCViewer.SearchRequest.prototype.getPagesWithoutText=function(){return this.MC;};PCCViewer.SearchRequest.prototype.cancel=function(){this.vW=true;this.trigger('SearchCancelled');};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchRequest.prototype,{"searchQuery":{enumerable:true,get:function(){return this.hA;}},"results":{enumerable:true,get:function(){return this.gg;}},"isComplete":{enumerable:true,get:function(){return this.wj;}},"errorCode":{enumerable:true,get:function(){return this.mc;}},"errorMessage":{enumerable:true,get:function(){return this.cS;}}});}(function(PCCViewer){PCCViewer.BurnRequest=function(ah){this.tQ="";this.fk="";this.Bo=0;this.pq="";this.mc="";this.sh=0;this.nd=false;this.rO=0;this.Qq="";this.vW=false;this.dc=PCCViewer.Deferred();this.eZ=this.dc.getPromise();this.then=this.eZ.then;this.ah=ah;this.mc=null;this.iU=undefined;this.rV=false;this.GZ=null;PCCViewer.EventEmitter.extend(this);};PCCViewer.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};PCCViewer.BurnRequest.prototype.cancel=function(){var O=this;this.vW=true;this.mc="User Cancelled";setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject("User Cancelled");},0);return this;};PCCViewer.BurnRequest.prototype.getProgress=function(){return this.Bo;};PCCViewer.BurnRequest.prototype.getWorkerID=function(){return this.tQ;};PCCViewer.BurnRequest.prototype.getOptions=function(){return this.ah;};PCCViewer.BurnRequest.prototype.getErrorCode=function(){return this.mc;};PCCViewer.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.GZ;};PCCViewer.BurnRequest.prototype.arx=function(kD){this.Qq=kD;};PCCViewer.BurnRequest.prototype.asF=function(iU){this.iU=iU;};PCCViewer.BurnRequest.prototype.atb=function(){var O=this;this.mc="Failure to generate Markup XML";setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject(O.mc);},0);return this;};PCCViewer.BurnRequest.prototype.arG=function(){var dI=new XMLHttpRequest();try{if(!this.Qq){throw new Error("XMl Markup data for burn is missing");}if(dI===null){throw new Error("AJAX (XMLHTTP) not supported.");}var O=this;var acM=function(){var Sh;if(!(/^[\x00-\x7F]*$/.test(O.iU.ai.get_documentIdentifier()))){Sh=O.iU.ah.imageHandlerUrl+'/ViewingSession/e'+O.iU.ah.documentID+'/MarkupBurner/'+O.tQ;}else{Sh=O.iU.ah.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(O.iU.ah.documentID)+'/MarkupBurner/'+O.tQ;}dI.open("GET",Sh,true);dI.setRequestHeader('Content-Type','application/json');dI.onreadystatechange=acw;dI.send();};var asi=function(hj){if(hj){if(O.vW===true){O.nd=false;return;}if(hj.percentComplete>=0&&O.nd===true){if(hj.percentComplete===100&&hj.state==='complete'){if(hj.processId){O.nd=false;O.tQ=hj.processId;O.fk=hj.state;O.sh+=1;O.rO=1000;O.Bo= +(hj.percentComplete);var Ei;if(!(/^[\x00-\x7F]*$/.test(O.iU.ai.get_documentIdentifier()))){Ei=O.iU.ah.imageHandlerUrl+'/ViewingSession/e'+O.iU.ah.documentID+'/MarkupBurner/'+O.tQ+"/Document";}else{Ei=O.iU.ah.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(O.iU.ah.documentID)+'/MarkupBurner/'+O.tQ+"/Document";}if(O.ah.filename){Ei+="?ContentDispositionFilename="+O.ah.filename;}O.GZ=Ei;O.rV=true;var aiO= +(hj.percentComplete);setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});O.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:aiO});O.dc.resolve(Ei);},10);return;}}else{if(hj.state==='error'){O.nd=false;O.mc=hj.errorCode;setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject("BurnProcess failed, errorCode: "+O.mc);},0);O.nd=false;O.rV=true;return;}if(hj.processId){var PY= +(hj.percentComplete);if(O.Bo!==PY){setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:PY});},10);}if(!O.tQ){O.tQ=hj.processId;setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);O.fk=hj.state;O.sh=1;O.nd=true;O.rO=1000;O.Bo= +(hj.percentComplete);}if(hj.percentComplete<100){if(O.sh>1){O.rO+=1000;}O.sh+=1;O.fk=hj.state;O.Bo= +(hj.percentComplete);if(O.nd===true&&O.vW===false&&O.rV===false){setTimeout(acM,O.rO);}}}}}else{if(O.rV===false){var Sb=false;if(O.nd===false){if(hj.state==='complete'){if(!O.GZ){Sb=true;}else{O.rV=true;setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});O.dc.resolve(O.GZ);},10);return;}}if(hj.state==='processing'&&hj.errorCode===null){if(hj.percentComplete>=0&&hj.percentComplete<100){if(O.sh>1){O.rO+=1000;}O.sh+=1;O.nd=true;O.fk=hj.state;O.Bo= +(hj.percentComplete);if(O.nd===true&&O.vW===false){setTimeout(acM,O.rO);}}else{Sb=true;}}if(hj.state==='error'||Sb===true){O.nd=false;O.mc=hj.errorCode;setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject("BurnProcess failed, errorCode: "+hj.errorCode);},0);O.nd=false;O.rV=true;return;}}}}}};var acw=function(){var ha,aq;if(dI.readyState===4){if(dI.status===200){try{ha=dI.responseText;if(!ha){setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject("Empty/invalid response from the server");},0);O.rV=true;return;}else{if(typeof JSON!=='undefined'){aq=JSON.parse(ha);}else{aq=IPCC.dh.oA(ha);}setTimeout(function(){asi(aq);},0);}}catch(e){setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject("Burn process failed, error: "+e.message);},0);O.rV=true;return;}}else{O.nd=false;var aY=dI.status+" "+dI.statusText;setTimeout(function(){O.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});O.dc.reject("Status Code "+aY);},0);O.rV=true;return;}}};var dA;if(!(/^[\x00-\x7F]*$/.test(O.iU.ai.get_documentIdentifier()))){dA=O.iU.ah.imageHandlerUrl+'/ViewingSession/e'+O.iU.ah.documentID+'/MarkupBurner';}else{dA=O.iU.ah.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(O.iU.ah.documentID)+'/MarkupBurner';}dI.open("POST",dA,true);dI.setRequestHeader("Content-Type","application/xml");dI.onreadystatechange=acw;O.nd=true;dI.send(O.Qq);}catch(e){this.nd=false;var bx=this,fS=e.message;setTimeout(function(){bx.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bx.dc.reject("The burn process failed, error: "+fS);},0);this.rV=true;}};if(Object.defineProperties){Object.defineProperties(PCCViewer.BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}})(PCCViewer||{}); 