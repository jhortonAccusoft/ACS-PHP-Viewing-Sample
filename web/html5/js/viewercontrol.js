var IPCC=IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;IPCC.Type.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.initializePageViewPlugin=function(Le,Tf){var pz=Tf.handleTouchEvents!==false;var MW=new IPCC.Web.UI.PageView(Le,pz);if(Tf){IPCC.aeX(MW,Tf);}MW.qt(Le);MW.initialize();return MW;};IPCC.initializePageListPlugin=function(Le,aO){var Lj=new IPCC.PageList(Le);if(aO){IPCC.aeX(Lj,aO);}Lj.qt(Le);Lj.initialize();return Lj;};IPCC.Web.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};IPCC.Web.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Qa in baseType.prototype){if(baseType.prototype.hasOwnProperty(Qa)){var aCI=baseType.prototype[Qa];if(!this.prototype[Qa]){this.prototype[Qa]=aCI;}}}}return this;};IPCC.Web.aCW=function(aax,Ss,agp){if(Ss){if(!agp){Ss.apply(aax);}else{Ss.apply(aax,agp);}}return aax;};IPCC.Web.UI.DebugErrorLevel=function(){};IPCC.Web.UI.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.Web.UI.DebugErrorLevel.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);IPCC.Web.UI.DebugItemCause=function(){};IPCC.Web.UI.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};IPCC.Web.UI.DebugItemCause.registerEnum('IPCC.Web.UI.DebugItemCause',false);IPCC.Web.UI.MouseButton=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");IPCC.Web.UI.Key=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");IPCC.Web.UI.aE=function(aqG){var bv=aqG;var anm=this.type=bv.type.toLowerCase();var Pv=typeof bv.changedTouches!=='undefined';this.rawEvent=bv;this.altKey=bv.altKey;if(typeof(bv.button)!=='undefined'){this.button=(typeof(bv.which)!=='undefined')?bv.button:(bv.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bv.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(anm==='keypress'){this.charCode=bv.charCode||bv.keyCode;}else if(bv.keyCode&&(bv.keyCode===46)){this.keyCode=127;}else{this.keyCode=bv.keyCode;}this.clientX=(Pv)?bv.changedTouches[0].clientX:bv.clientX;this.clientY=(Pv)?bv.changedTouches[0].clientY:bv.clientY;this.ctrlKey=bv.ctrlKey;this.target=bv.target?bv.target:bv.srcElement;function auK(ak){var aD=0;var dZ=0;while(ak&& !isNaN(ak.offsetLeft)&& !isNaN(ak.offsetTop)){aD+=ak.offsetLeft-ak.scrollLeft;dZ+=ak.offsetTop-ak.scrollTop;if(ak.offsetparent){ak=ak.offsetParent;}else{ak=ak.parentNode;}}return{top:dZ,left:aD};};var fq=""+anm;var vY='key';if(fq.substr(0,vY.length)!==vY){if((typeof(bv.offsetX)!=='undefined')&&(typeof(bv.offsetY)!=='undefined')){this.offsetX=bv.offsetX;this.offsetY=bv.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bv.clientX)==='number')){var ahv=auK(this.target);var cG=this.target;var ci=cG.ownerDocument||cG.document||cG;var kz=ci.defaultView||ci.parentWindow;this.offsetX=(kz.pageXOffset||0)+bv.clientX-ahv.left;this.offsetY=(kz.pageYOffset||0)+bv.clientY-ahv.top;}}this.screenX=(Pv)?bv.changedTouches[0].screenX:bv.screenX;this.screenY=(Pv)?bv.changedTouches[0].screenY:bv.screenY;this.shiftKey=bv.shiftKey;};IPCC.Web.UI.aE.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};IPCC.Web.UI.aE.registerClass=IPCC.Web.regClass;IPCC.Web.UI.aE.registerClass('IPCC.Web.UI.aE');IPCC.aeX=function(cJ,mx){var Qy;for(var cO in mx){if(mx.hasOwnProperty(cO)){var dm=mx[cO];var asq=cJ["get_"+cO];var aeV=cJ["set_"+cO];if(typeof(aeV)==='function'){aeV.apply(cJ,[dm]);}else if(dm instanceof Array){Qy=asq.apply(cJ);if(!(Qy instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(cO+" is not an Array property");}for(var G=0,ag=Qy.length,sr=dm.length;G<sr;G++,ag++){Qy[ag]=dm[G];}}}}};IPCC.Web.UI.aE.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aE.XO(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.hn.addHandlerCantBeUsedForError);}if(!element.bw){element.bw={};}var eventCache=element.bw[eventName];if(!eventCache){element.bw[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aE(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var cG=doc.defaultView||doc.parentWindow;e=cG.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aE(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aE.amq){element.dispose=IPCC.Web.UI.aE.amq;if(typeof(d)!=="undefined"){element.aal=d;}}}};IPCC.Web.UI.aE.clearHandlers=function(element){IPCC.Web.UI.aE.XO(element);IPCC.Web.UI.aE.afo(element,false);};IPCC.Web.UI.aE.afo=function(element,autoRemoving){if(element.bw){var cache=element.bw;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aE.removeHandler(element,name,entry.handler);}}}}element.bw=null;}};IPCC.Web.UI.aE.amq=function(){IPCC.Web.UI.aE.afo(this,true);var d=this.aal,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.aal=null;if(type==="function"){this.dispose();}}};IPCC.Web.UI.aE.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aE.ce(element,eventName,handler);};IPCC.Web.UI.aE.ce=function(element,eventName,handler){IPCC.Web.UI.aE.XO(element);var browserHandler=null;if((typeof(element.bw)!=='object')|| !element.bw){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bw[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aE.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};IPCC.Web.UI.aE.XO=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.hn.argumentDomNode);}};IPCC.qP=function(cg,xB){var C=this;this.cg=cg;this.xB=xB;this.arC=function(){return C.cg;};this.aEA=function(){return C.xB;};};IPCC.qP.prototype.get_propertyName=function(){return this.cg;};IPCC.qP.prototype.get_propertyInfo=function(){return this.xB;};IPCC.Web.wy=function(aD){return!isNaN(aD-0)&&aD!==null;};IPCC.aCk=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};IPCC.Web.UI.gb=function gb(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.ZQ={};};IPCC.Web.UI.gb.prototype.dh=function(cV,h){var eB=this.aav(cV,true);eB[eB.length]=h;};IPCC.Web.UI.gb.prototype.addHandler=function(cV,h){this.dh(cV,h);};IPCC.Web.UI.gb.prototype.ce=function(cV,h){var tS=this.aav(cV);if(!tS){return;}var bP=IPCC.aCk(tS,h);if(bP>=0){tS.splice(bP,1);}};IPCC.Web.UI.gb.prototype.removeHandler=function(cV,h){this.ce(cV,h);};IPCC.Web.UI.gb.prototype.getHandler=function(cV){var tS=this.aav(cV);if(!tS||(tS.length===0)){return null;}var eB=tS.slice();tS=eB;return function(source,args){for(var G=0,sr=tS.length;G<sr;G++){tS[G](source,args);}};};IPCC.Web.UI.gb.prototype.aav=function(cV,ari){if(!this.ZQ[cV]){if(!ari){return null;}this.ZQ[cV]=[];}return this.ZQ[cV];};IPCC.Web.Ky=IPCC.Ky||{};IPCC.Web.Ky.Xi=function(aB){if(!this.ED[0][0][0]){this.Wu();}var G,ag,fq,Ln,Sr,lK=this.ED[0][4],xi=this.ED[1],uv=aB.length,Qj=1;if(uv!==4&&uv!==6&&uv!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.aB=[Ln=aB.slice(0),Sr=[]];for(G=uv;G<4*uv+28;G++){fq=Ln[G-1];if(G%uv===0||(uv===8&&G%uv===4)){fq=lK[fq>>>24]<<24^lK[fq>>16&255]<<16^lK[fq>>8&255]<<8^lK[fq&255];if(G%uv===0){fq=fq<<8^fq>>>24^Qj<<24;Qj=Qj<<1^(Qj>>7)*283;}}Ln[G]=Ln[G-uv]^fq;}for(ag=0;G;ag++,G--){fq=Ln[ag&3?G:G-4];if(G<=4||ag<4){Sr[ag]=fq;}else{Sr[ag]=xi[0][lK[fq>>>24]]^xi[1][lK[fq>>16&255]]^xi[2][lK[fq>>8&255]]^xi[3][lK[fq&255]];}}};IPCC.Web.Ky.Xi.prototype={Qo:function(dj){return this.asb(dj,1);},ED:[[[],[],[],[],[]],[[],[],[],[],[]]],Wu:function(){var Nc=this.ED[0],xi=this.ED[1],lK=Nc[4],azV=xi[4],G,aD,xh,eK=[],eA=[],WE,aah,abn,iP,Oy,PS;for(G=0;G<256;G++){eA[(eK[G]=G<<1^(G>>7)*283)^G]=G;}for(aD=xh=0;!lK[aD];aD^=WE||1,xh=eA[xh]||1){iP=xh^xh<<1^xh<<2^xh<<3^xh<<4;iP=iP>>8^iP&255^99;lK[aD]=iP;azV[iP]=aD;abn=eK[aah=eK[WE=eK[aD]]];PS=abn*0x1010101^aah*0x10001^WE*0x101^aD*0x1010100;Oy=eK[iP]*0x101^iP*0x1010100;for(G=0;G<4;G++){Nc[G][aD]=Oy=Oy<<24^Oy>>>8;xi[G][iP]=PS=PS<<24^PS>>>8;}}for(G=0;G<5;G++){Nc[G]=Nc[G].slice(0);xi[G]=xi[G].slice(0);}},asb:function(KB,Ig){if(KB.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var aB=this.aB[Ig],dI=KB[0]^aB[0],en=KB[Ig?3:1]^aB[1],fk=KB[2]^aB[2],eK=KB[Ig?1:3]^aB[3],vQ,adT,aku,aBt=aB.length/4-2,G,Ea=4,et=[0,0,0,0],HF=this.ED[Ig],KH=HF[0],Mx=HF[1],PD=HF[2],Sk=HF[3],lK=HF[4];for(G=0;G<aBt;G++){vQ=KH[dI>>>24]^Mx[en>>16&255]^PD[fk>>8&255]^Sk[eK&255]^aB[Ea];adT=KH[en>>>24]^Mx[fk>>16&255]^PD[eK>>8&255]^Sk[dI&255]^aB[Ea+1];aku=KH[fk>>>24]^Mx[eK>>16&255]^PD[dI>>8&255]^Sk[en&255]^aB[Ea+2];eK=KH[eK>>>24]^Mx[dI>>16&255]^PD[en>>8&255]^Sk[fk&255]^aB[Ea+3];Ea+=4;dI=vQ;en=adT;fk=aku;}for(G=0;G<4;G++){et[Ig?3& -G:G]=lK[dI>>>24]<<24^lK[en>>16&255]<<16^lK[fk>>8&255]<<8^lK[eK&255]^aB[Ea++];vQ=dI;dI=en;en=fk;fk=eK;eK=vQ;}return et;}};IPCC.Web.aqJ='8.4';IPCC.Web.ayZ=24;IPCC.Web.rS=IPCC.Web.rS||{};IPCC.Web.rS.Uw=function(rS){if(!this.aB[0]){this.Wu();}if(rS){this.eo=rS.eo.slice(0);this.vq=rS.vq.slice(0);this.cl=rS.cl;}else{this.afj();}};IPCC.Web.rS.Uw.rS=function(dj){return(new IPCC.Web.rS.Uw()).aqm(dj).ara();};IPCC.Web.rS.Uw.prototype={aEn:512,afj:function(){this.eo=this.QN.slice(0);this.vq=[];this.cl=0;return this;},aqm:function(dj){if(typeof dj==="string"){dj=IPCC.Web.Codec.Fr.rE(dj);}var G,en=this.vq=IPCC.Web.hu.TY(this.vq,dj),agt=this.cl,aCG=this.cl=agt+IPCC.Web.hu.vO(dj);for(G=512+agt& -512;G<=aCG;G+=512){this.Qg(en.splice(0,16));}return this;},ara:function(){var G,en=this.vq,eo=this.eo;en=IPCC.Web.hu.TY(en,[IPCC.Web.hu.IV(1,1)]);for(G=en.length+2;G&15;G++){en.push(0);}en.push(Math.floor(this.cl/0x100000000));en.push(this.cl|0);while(en.length){this.Qg(en.splice(0,16));}this.afj();return eo;},QN:[],aB:[],Wu:function(){var G=0,IT=2,av;function afq(aD){return(aD-Math.floor(aD))*0x100000000|0;};ayn:for(;G<64;IT++){for(av=2;av*av<=IT;av++){if(IT%av===0){continue ayn;}}if(G<8){this.QN[G]=afq(Math.pow(IT,1/2));}this.aB[G]=afq(Math.pow(IT,1/3));G++;}},Qg:function(lE){var G,fq,dI,en,kz=lE.slice(0),eo=this.eo,cA=this.aB,TI=eo[0],sT=eo[1],Mw=eo[2],QR=eo[3],uF=eo[4],QG=eo[5],KM=eo[6],To=eo[7];for(G=0;G<64;G++){if(G<16){fq=kz[G];}else{dI=kz[(G+1)&15];en=kz[(G+14)&15];fq=kz[G&15]=((dI>>>7^dI>>>18^dI>>>3^dI<<25^dI<<14)+(en>>>17^en>>>19^en>>>10^en<<15^en<<13)+kz[G&15]+kz[(G+9)&15])|0;}fq=(fq+To+(uF>>>6^uF>>>11^uF>>>25^uF<<26^uF<<21^uF<<7)+(KM^uF&(QG^KM))+cA[G]);To=KM;KM=QG;QG=uF;uF=QR+fq|0;QR=Mw;Mw=sT;sT=TI;TI=(fq+((sT&Mw)^(QR&(sT^Mw)))+(sT>>>2^sT>>>13^sT>>>22^sT<<30^sT<<19^sT<<10))|0;}eo[0]=eo[0]+TI|0;eo[1]=eo[1]+sT|0;eo[2]=eo[2]+Mw|0;eo[3]=eo[3]+QR|0;eo[4]=eo[4]+uF|0;eo[5]=eo[5]+QG|0;eo[6]=eo[6]+KM|0;eo[7]=eo[7]+To|0;}};IPCC.Web.An=function(tJ,cI){return IPCC.Web.aeP(false,arguments);};IPCC.Web.agU=function(tJ,cI){return IPCC.Web.aeP(true,arguments);};IPCC.Web.aeP=function(useLocale,cI){var bQ='';var tJ=cI[0];for(var G=0;;){var GU=tJ.indexOf('{',G);var lH=tJ.indexOf('}',G);if((GU<0)&&(lH<0)){bQ+=tJ.slice(G);break;}if((lH>0)&&((lH<GU)||(GU<0))){if(tJ.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}bQ+=tJ.slice(G,lH+1);G=lH+2;continue;}bQ+=tJ.slice(G,GU);G=GU+1;if(tJ.charAt(G)==='{'){bQ+='{';G++;continue;}if(lH<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var OX=tJ.substring(G,lH);var Rq=OX.indexOf(':');var aiF=parseInt((Rq<0)?OX:OX.substring(0,Rq),10)+1;if(isNaN(aiF)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Xy=(Rq<0)?'':OX.substring(Rq+1);var vf=cI[aiF];if(typeof(vf)==="undefined"||vf===null){vf='';}if(vf.toFormattedString){bQ+=vf.toFormattedString(Xy);}else if(useLocale&&vf.agU){bQ+=vf.agU(Xy);}else if(vf.format){bQ+=vf.format(Xy);}else{bQ+=vf.toString();}G=lH+1;}return bQ;};IPCC.Web.UI.ImGearException=function(message,errorInfo){this.message=message;var C=this;if(errorInfo){for(var _v in errorInfo){if(errorInfo.hasOwnProperty(_v)){C[_v]=errorInfo[_v];}}}};IPCC.Web.UI.ImGearException.prototype=new Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass('IPCC.Web.UI.ImGearException');IPCC.Web.UI.ImGearHttpException=function(statusCode,message,customErrorCode){var gl="IPCC.Web.UI.ImGearHttpException: ";if(message){gl+=message;}this.message=gl;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};IPCC.Web.UI.ImGearHttpException.prototype=new Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass('IPCC.Web.UI.ImGearHttpException');IPCC.Web.UI.ImGearArgumentException=function(paramName,message){var gl="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.hn.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gl+="\n"+IPCC.Web.An(IPCC.hn.paramName,paramName);}}this.message=gl;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentException.prototype=new Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass('IPCC.Web.UI.ImGearArgumentException');IPCC.Web.UI.ImGearArgumentNullException=function(paramName,message){var gl="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.hn.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gl+="\n"+IPCC.Web.An(IPCC.Res.paramName,paramName);}}this.message=gl;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentNullException.prototype=new Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass('IPCC.Web.UI.ImGearArgumentNullException');IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(paramName,actualValue,message){var gl="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.hn.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gl+="\n"+IPCC.Web.An(IPCC.hn.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gl+="\n"+IPCC.Web.An(IPCC.hn.actualValue,actualValue);}this.message=gl;this.paramName=paramName;this.actualValue=actualValue;};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');IPCC.Web.UI.ImGearArgumentTypeException=function(paramName,actualType,expectedType,message){var gl="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gl+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gl+=IPCC.Web.An(IPCC.hn.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gl+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gl+=IPCC.hn.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gl+="\n"+IPCC.Web.An(IPCC.hn.paramName,paramName);}}this.message=gl;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};IPCC.Web.UI.ImGearArgumentTypeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');IPCC.Web.UI.ImGearArgumentUndefinedException=function(paramName,message){var gl="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.hn.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gl+="\n"+IPCC.Web.An(IPCC.Res.paramName,paramName);}}this.message=gl;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=new Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');IPCC.Web.UI.ImGearInvalidOperationException=function(message){var gl="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.hn.invalidOperation);this.message=gl;};IPCC.Web.UI.ImGearInvalidOperationException.protype=new Error();IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');IPCC.Web.UI.ImGearNotImplementedException=function(message){var gl="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.hn.notImplemented);this.message=gl;};IPCC.Web.UI.ImGearNotImplementedException.prototype=new Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass('IPCC.Web.UI.ImGearNotImplementedException');IPCC.Web.UI.ImGearParameterCountException=function(message){var gl="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.hn.parameterCount);this.message=gl;};IPCC.Web.UI.ImGearParameterCountException.prootype=new Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass('IPCC.Web.UI.ImGearParameterCountException');IPCC.Web.aB=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];IPCC.Web.hu={UB:function(dI,uw,aho){dI=IPCC.Web.hu.afb(dI.slice(uw/32),32-(uw&31)).slice(1);return(aho===undefined)?dI:IPCC.Web.hu.avT(dI,aho-uw);},YE:function(dI,uw,Xe){var aD,TE=Math.floor((-uw-Xe)&31);if((uw+Xe-1^uw)& -32){aD=(dI[uw/32|0]<<(32-TE))^(dI[uw/32+1|0]>>>TE);}else{aD=dI[uw/32|0]>>>TE;}return aD&((1<<Xe)-1);},TY:function(CB,vQ){if(CB.length===0||vQ.length===0){return CB.concat(vQ);}var wi=CB[CB.length-1],tp=IPCC.Web.hu.QC(wi);if(tp===32){return CB.concat(vQ);}else{return IPCC.Web.hu.afb(vQ,tp,wi|0,CB.slice(0,CB.length-1));}},vO:function(dI){var sr=dI.length,aD;if(sr===0){return 0;}aD=dI[sr-1];return(sr-1)*32+IPCC.Web.hu.QC(aD);},avT:function(dI,cc){if(dI.length*32<cc){return dI;}dI=dI.slice(0,Math.ceil(cc/32));var sr=dI.length;cc=cc&31;if(sr>0&&cc){dI[sr-1]=IPCC.Web.hu.IV(cc,dI[sr-1]&0x80000000>>(cc-1),1);}return dI;},IV:function(cc,aD,ff){if(cc===32){return aD;}return(ff?aD|0:aD<<(32-cc))+cc*0x10000000000;},QC:function(aD){return Math.round(aD/0x10000000000)||32;},apH:function(dI,en){if(IPCC.Web.hu.vO(dI)!==IPCC.Web.hu.vO(en)){return false;}var aD=0,G;for(G=0;G<dI.length;G++){aD|=dI[G]^en[G];}return(aD===0);},afb:function(dI,tp,IK,et){var G,ajE=0,Uv;if(et===undefined){et=[];}for(;tp>=32;tp-=32){et.push(IK);IK=0;}if(tp===0){return et.concat(dI);}for(G=0;G<dI.length;G++){et.push(IK|dI[G]>>>tp);IK=dI[G]<<(32-tp);}ajE=dI.length?dI[dI.length-1]:0;Uv=IPCC.Web.hu.QC(ajE);et.push(IPCC.Web.hu.IV(tp+Uv&31,(tp+Uv>32)?IK:et.pop(),1));return et;},aeT:function(aD,dZ){return[aD[0]^dZ[0],aD[1]^dZ[1],aD[2]^dZ[2],aD[3]^dZ[3]];}};IPCC.Web.gH=IPCC.Web.gH||{};IPCC.Web.uK=false;IPCC.Web.Ug=[];IPCC.Web.gH.Fr={lL:function(eB){var et="",qX=IPCC.Web.hu.vO(eB),G,fq;for(G=0;G<qX/8;G++){if((G&3)===0){fq=eB[G/4];}et+=String.fromCharCode(fq>>>24);fq<<=8;}return decodeURIComponent(escape(et));},rE:function(cr){cr=unescape(encodeURIComponent(cr));var et=[],G,fq=0;for(G=0;G<cr.length;G++){fq=fq<<8|cr.charCodeAt(G);if((G&3)===3){et.push(fq);fq=0;}}if(G&3){et.push(IPCC.Web.hu.IV(8*(G&3),fq));}return et;}};IPCC.Web.wR=false;IPCC.Web.gH.qk={xp:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lL:function(eB,aCn,cb){var et="",G,cQ=0,fk=IPCC.Web.gH.qk.xp,yK=0,qX=IPCC.Web.hu.vO(eB);if(cb){fk=fk.substr(0,62)+'-_';}for(G=0;et.length*6<qX;){et+=fk.charAt((yK^eB[G]>>>cQ)>>>26);if(cQ<6){yK=eB[G]<<(6-cQ);cQ+=26;G++;}else{yK<<=6;cQ-=6;}}while((et.length&3)&& !aCn){et+="=";}return et;},rE:function(cr,cb){cr=cr.replace(/\s|=/g,'');var et=[],G,cQ=0,fk=IPCC.Web.gH.qk.xp,yK=0,aD;if(cb){fk=fk.substr(0,62)+'-_';}for(G=0;G<cr.length;G++){aD=fk.indexOf(cr.charAt(G));if(aD<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(cQ>26){cQ-=26;et.push(yK^aD>>>cQ);yK=aD<<(32-cQ);}else{cQ+=6;yK^=aD<<(32-cQ);}}if(cQ&56){et.push(IPCC.Web.hu.IV(cQ&56,yK,1));}return et;}};IPCC.Web.gH.DX={lL:function(eB){return IPCC.Web.gH.qk.lL(eB,1,1);},rE:function(cr){return IPCC.Web.gH.qk.rE(cr,1);}};IPCC.Web.mI=[];IPCC.Web.Qp=IPCC.Web.Qp||{};IPCC.Web.Qp.aaa={cO:"cbc",ahx:function(Oz,Wp,hI,zZ){if(zZ&&zZ.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.hu.vO(hI)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var G,kz=IPCC.Web.hu,OU=kz.aeT,qX=kz.vO(Wp),akM=0,qz=[];if(qX&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(G=0;akM+128<=qX;G+=4,akM+=128){hI=Oz.ahx(OU(hI,Wp.slice(G,G+4)));qz.splice(G,0,hI[0],hI[1],hI[2],hI[3]);}qX=(16-((qX>>3)&15))*0x1010101;hI=Oz.ahx(OU(hI,kz.TY(Wp,[qX,qX,qX,qX]).slice(G,G+4)));qz.splice(G,0,hI[0],hI[1],hI[2],hI[3]);return qz;},Qo:function(Oz,OR,hI,zZ){if(zZ&&zZ.length){throw new IPCC.Web.UI.ImGearArgumentException(zZ,"cbc can't authenticate data");}if(IPCC.Web.hu.vO(hI)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.hu.vO(OR)&127)|| !OR.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var G,kz=IPCC.Web.hu,OU=kz.aeT,uQ,ty,qz=[];zZ=zZ||[];for(G=0;G<OR.length;G+=4){uQ=OR.slice(G,G+4);ty=OU(hI,Oz.Qo(uQ));qz.splice(G,0,ty[0],ty[1],ty[2],ty[3]);hI=uQ;}uQ=qz[G-1]&255;if(uQ===0||uQ>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}ty=uQ*0x1010101;if(!kz.apH(kz.UB([ty,ty,ty,ty],0,uQ*8),kz.UB(qz,qz.length*32-uQ*8,qz.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return kz.UB(qz,0,qz.length*32-uQ*8);}};IPCC.Web.aAi=0;IPCC.Web.bw=new IPCC.Web.UI.gb();IPCC.Web.aDL=function(h){IPCC.Web.bw.dh(IPCC.hn.prodInfo,h);};IPCC.Web.aGA=function(h){IPCC.Web.bw.ce(IPCC.hn.prodInfo,h);};IPCC.Web.aDU=function(h){IPCC.Web.bw.dh(IPCC.hn.prodFailInfo,h);};IPCC.Web.aGE=function(h){IPCC.Web.bw.ce(IPCC.hn.prodFailInfo,h);};IPCC.Web.ay=function(aF,K){var h=IPCC.Web.bw.getHandler(aF);if(h!==null){h(IPCC.Web,K);}};IPCC.Web.ajr=function(ES){var tj=ES.length;var xF=Math.ceil(tj/4),RI;var cQ=[];cQ.length=xF;for(var lF=0,gx=0;lF<xF;lF++,gx+=4){cQ[lF]=((ES[gx]&0xff)<<24)+((ES[gx+1]&0xff)<<16)+((ES[gx+2]&0xff)<<8)+(ES[gx+3]&0xff);}if(gx<tj){RI[lF]=0;for(var yA=0;gx<tj;gx++,yA++){RI[lF]+=(ES[gx++]&0xff)<<(3-yA);}}return cQ;};IPCC.Web.abl=function(ar){var tj=ar.length;var xF=Math.ceil(tj/4);var cQ=[];cQ.length=xF;for(var lF=0,gx=0;lF<xF;lF++,gx+=4){cQ[lF]=((ar.charCodeAt(gx)&0xff)<<24)+((ar.charCodeAt(gx+1)&0xff)<<16)+((ar.charCodeAt(gx+2)&0xff)<<8)+((ar.charCodeAt(gx+3)&0xff));}if(gx<tj){cQ[lF]=0;for(var yA=0;gx<tj;gx++,yA++){cQ[lF]+=(ar.charCodeAt(gx++)&0xff)<<(3-yA);}}return cQ;};IPCC.Web.awo=function(vq){var Ey=new Uint8Array(vq);var tj=Ey.length;var xF=Math.ceil(tj/4),RI;var cQ=[];cQ.length=xF;for(var lF=0,gx=0;lF<xF;lF++,gx+=4){cQ[lF]=(Ey[gx]<<24)+(Ey[gx+1]<<16)+(Ey[gx+2]<<8)+Ey[gx+3];}if(gx<tj){cQ[lF]=0;for(var yA=0;gx<tj;gx++,yA++){RI[lF]+=Ey[gx++]<<(3-yA);}}return cQ;};IPCC.Web.EI=function(cQ,hI){var aB=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.zL(cQ,aB,hI);};IPCC.Web.zL=function(cQ,aB,hI){try{var LW=new IPCC.Web.Ky.Xi(aB);var dj=IPCC.Web.Qp.aaa.Qo(LW,cQ,hI);return dj;}catch(aH){return;}};IPCC.Web.BB=function(bh){var cQ;if(typeof(VBArray)!=="undefined"){cQ=IPCC.Web.ajr(new VBArray(bh.responseBody).toArray());}else{cQ=IPCC.Web.abl(bh.responseText);}return cQ;};IPCC.Web.aDO=function(vq,bh){var cQ;if(typeof(ArrayBuffer)!=="undefined"){cQ=IPCC.Web.awo(vq);}else if(typeof(VBArray)!=="undefined"){cQ=IPCC.Web.ajr(new VBArray(bh.responseBody).toArray());}else{cQ=IPCC.Web.abl(bh.responseText);}return cQ;};IPCC.Web.ayt=function(azZ,hI,Ak){var VU;var dj;var LW;var cQ;try{LW=new IPCC.Web.Ky.Xi(Ak.Ug);cQ=IPCC.Web.gH.qk.rE(azZ);VU=IPCC.Web.Qp.aaa.Qo(LW,cQ,hI);dj=IPCC.Web.gH.Fr.lL(VU);}catch(aH){IPCC.Web.mI[0]=0;IPCC.Web.uK=false;return;}var bQ;if(VU){bQ=IPCC.ct.nP(dj);if(bQ){if(bQ.v===IPCC.Web.oq.aln()&&bQ.p===IPCC.Web.oq.ajU()){if(bQ.f){var cc=bQ.f.length,eB=bQ.f;if(bQ.f.length>0){IPCC.Web.mI.splice(0);for(var G=0;G<cc;G++){IPCC.Web.mI.push(eB[G]);}IPCC.Web.uK=true;IPCC.Web.wR=false;}}else{IPCC.Web.uK=false;IPCC.Web.wR=false;}}}}};IPCC.Web.MD=function(ajB){if(IPCC.Web.uK){return;}if(IPCC.Web.wR){return;}if(!ajB){return;}var bh=new XMLHttpRequest();var hI=IPCC.Web.oq.Ql(4);var Ak={Ug:[]};function ato(){try{if(bh.readyState===4){if(bh.status===200){IPCC.Web.ayt(bh.responseText,hI,Ak);}else{IPCC.Web.mI[0]=0;IPCC.Web.uK=false;IPCC.Web.wR=false;throw new IPCC.Web.UI.ImGearHttpException(bh.status,'failure to get product info');}}}catch(e){IPCC.Web.wR=false;throw new IPCC.Web.UI.ImGearException('failure to get product info',{name:'Product Infomation'});}finally{if(bh.readyState===4){if(bh.status===200){if(IPCC.Web.uK===true){IPCC.Web.ay(IPCC.hn.prodInfo,null);}else{IPCC.Web.ay(IPCC.hn.prodFailInfo,null);}}else{IPCC.Web.ay(IPCC.hn.prodFailInfo,null);}}}};setTimeout(function(){bh.open('GET',IPCC.Web.oq.asX(ajB,hI,Ak),true);bh.setRequestHeader('Content-Type','application/json');bh.onreadystatechange=ato;bh.send();},500);IPCC.Web.aAi++;IPCC.Web.wR=true;};IPCC.Web.Rr=function(){var Ft=new Date();var aCj=new Date(Ft.getYear(),Ft.getMonth(),Ft.getDate(),Ft.getHours(),Ft.getMinutes(),Ft.getSeconds());return(+aCj);};IPCC.Web.oq={Ql:function(eQ){var Ha=[];var aaP=IPCC.Web.agl().aex;for(var G=0;G<eQ;G++){Ha.push(aaP());}return Ha;},VR:function(eQ,ej){var Ha=[];var aaP=IPCC.Web.agl(ej).aex;for(var G=0;G<eQ;G++){Ha.push(aaP());}return Ha;},asX:function(cr,hI,Ak){return cr+IPCC.hn.fwdslash+IPCC.hn.svctype+IPCC.hn.fwdslash+IPCC.hn.viewer+IPCC.hn.querySymb+IPCC.hn.version+IPCC.Web.oq.aln()+'&'+IPCC.hn.iv+IPCC.Web.oq.axA(hI,Ak)+'&'+IPCC.hn.param+IPCC.Web.oq.ajU();},aln:function(){return IPCC.Web.aqJ;},ajU:function(){return IPCC.Web.ayZ;},axA:function(hI,Ak){var eQ,la=true,et="",Jz,aby,aar,Oq,Nr,afh;for(eQ=0;eQ<4;eQ++){if(!la){et+='-';}else{la=false;}Nr=0;for(Jz=0;Jz<4;Jz++){Oq=eQ*32+Jz*8;aby=IPCC.Web.hu.YE(hI,Oq,4);et+=aby.toString(16).toUpperCase();aar=IPCC.Web.hu.YE(hI,Oq+4,4);et+=aar.toString(16).toUpperCase();afh=(aby*16+aar+IPCC.Web.hu.YE(IPCC.Web.aB,Oq,8))%256;Nr=Nr|(afh<<(24-(Jz*8)));}Ak.Ug[eQ]=Nr;}return et;}};IPCC.ct=IPCC.ct||{};IPCC.ct.nP=IPCC.ct.nP||function(cr,axJ){if(cr===""){cr='""';}try{if(typeof YUI!=='undefined'){var aiQ;YUI().use('json-parse',function(Y){aiQ=Y.JSON.parse(cr);});return aiQ;}else{var acO=cr.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var azn=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var azi=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(axJ&&azn.test(acO.replace(azi,''))){throw null;}return eval('('+acO+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};IPCC.gC={};IPCC.gC.InternetExplorer={};IPCC.gC.Firefox={};IPCC.gC.Safari={};IPCC.gC.Opera={};IPCC.gC.agent=null;IPCC.gC.hasDebuggerStatement=false;IPCC.gC.name=navigator.appName;IPCC.gC.version=parseFloat(navigator.appVersion);IPCC.gC.documentMode=0;if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.gC.agent=IPCC.gC.InternetExplorer;IPCC.gC.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.gC.version>=8){if(document.documentMode>=7){IPCC.gC.documentMode=document.documentMode;}}IPCC.gC.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.gC.agent=IPCC.gC.Firefox;IPCC.gC.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.gC.name='Firefox';IPCC.gC.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.gC.agent=IPCC.gC.Safari;IPCC.gC.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.gC.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.gC.agent=IPCC.gC.Opera;}IPCC.DU=function(RS){this.sQ=(typeof(RS)!=='undefined'&&RS!==null&&RS!=='')?[RS.toString()]:[];this.T={};this.cc=0;};IPCC.DU.prototype.oQ=function(ar){this.sQ[this.sQ.length]=ar;};IPCC.DU.prototype.aEs=function(ar){this.sQ[this.sQ.length]=((typeof(ar)==='undefined')||(ar===null)||(ar===''))?'\r\n':ar+'\r\n';};IPCC.DU.prototype.aGf=function(){this.sQ=[];this.T={};this.cc=0;};IPCC.DU.prototype.aFb=function(){if(this.sQ.length===0){return true;}return this.toString()==='';};IPCC.DU.prototype.amG=function(AY){AY=AY||'';var parts=this.sQ;if(this.cc!==parts.length){this.T={};this.cc=parts.length;}var val=this.T;if(typeof(val[AY])==='undefined'){if(AY!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[AY]=this.sQ.join(AY);}return val[AY];};IPCC.Web.hA=function(eB,elt){var len=eB.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in eB&&eB[from]===elt){return from;}}return-1;};IPCC.ct.QK=[];IPCC.ct.Ks=[];IPCC.ct.aEe=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g');IPCC.ct.DO={};IPCC.ct.apF=new RegExp('["\\\\\\x00-\\x1F]','i');IPCC.ct.apC=new RegExp('["\\\\\\x00-\\x1F]','g');IPCC.ct.aCS=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');IPCC.ct.aEf=new RegExp('"(\\\\.|[^"\\\\])*"','g');IPCC.ct.azD='__type';IPCC.ct.QN=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.ct.Ks[0]='\\';IPCC.ct.QK['\\']=new RegExp('\\\\','g');IPCC.ct.DO['\\']='\\\\';IPCC.ct.Ks[1]='"';IPCC.ct.QK['"']=new RegExp('"','g');IPCC.ct.DO['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.ct.Ks[i+2]=c;IPCC.ct.QK[c]=new RegExp(c,'g');IPCC.ct.DO[c]=replaceChars[i];}};IPCC.ct.adQ=function(object,hD){hD.oQ(object.toString());};IPCC.ct.acu=function(object,hD){if(isFinite(object)){hD.oQ(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};IPCC.ct.acB=function(string,hD){hD.oQ('"');if(IPCC.ct.apF.test(string)){if(IPCC.ct.Ks.length===0){IPCC.ct.QN();}if(string.length<128){string=string.replace(IPCC.ct.apC,function(x){return IPCC.ct.DO[x];});}else{for(var i=0;i<34;i++){var c=IPCC.ct.Ks[i];if(string.indexOf(c)!== -1){if(IPCC.gC.agent===IPCC.gC.Opera||IPCC.gC.agent===IPCC.gC.FireFox){string=string.split(c).join(IPCC.ct.DO[c]);}else{string=string.replace(IPCC.ct.QK[c],IPCC.ct.DO[c]);}}}}}hD.oQ(string);hD.oQ('"');};IPCC.ct.Oo=function(object,hD,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.ct.acu(object,hD);}else if(typeof(object)==="boolean"){IPCC.ct.adQ(object,hD);}else if(typeof(object)==="string"){IPCC.ct.acB(object,hD);}else if(object instanceof Array){hD.oQ('[');for(i=0;i<object.length;++i){if(i>0){hD.oQ(',');}IPCC.ct.Oo(object[i],hD,false,prevObjects);}hD.oQ(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var fq=""+name;var vY='$';if((fq.substr(0,vY.length)===vY)){continue;}if(name===IPCC.ct.azD&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}hD.oQ('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){hD.oQ(',');}else{needComma=true;}IPCC.ct.Oo(properties[i],hD,sort,prevObjects);hD.oQ(':');IPCC.ct.Oo(value,hD,sort,prevObjects);}}hD.oQ('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{hD.oQ('null');}break;case 'number':IPCC.ct.acu(object,hD);break;case 'string':IPCC.ct.acB(object,hD);break;case 'boolean':IPCC.ct.adQ(object,hD);break;default:hD.oQ('null');break;}};IPCC.ct.ZV=IPCC.ct.ZV||function(object){var hD=new IPCC.DU();IPCC.ct.Oo(object,hD,false);return hD.amG();};IPCC.hn={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};IPCC.Web.aCO=function aDi(){var lf=0xefc8249d;var rO=function(dj){dj=dj.toString();for(var G=0;G<dj.length;G++){lf+=dj.charCodeAt(G);var eo=0.02519603282416938*lf;lf=eo>>>0;eo-=lf;eo*=lf;lf=eo>>>0;eo-=lf;lf+=eo*0x100000000;}return(lf>>>0)*2.3283064365386963e-10;};rO.aor='Mash 0.9';return rO;};IPCC.Web.agl=function aCZ(){return(function(cI){var DJ=0;var Dn=0;var zd=0;var fk=1;if(cI.length===0){cI=[+new Date()];}var rO=IPCC.Web.aCO();DJ=rO(' ');Dn=rO(' ');zd=rO(' ');for(var G=0;G<cI.length;G++){DJ-=rO(cI[G]);if(DJ<0){DJ+=1;}Dn-=rO(cI[G]);if(Dn<0){Dn+=1;}zd-=rO(cI[G]);if(zd<0){zd+=1;}}rO=null;var xm=function(){var wZ=2091639*DJ+fk*2.3283064365386963e-10;DJ=Dn;Dn=zd;zd=wZ-(fk=wZ|0);return zd;};xm.aex=function(){return xm()*0x100000000;};xm.aEE=function(){return xm()+(xm()*0x200000|0)*1.1102230246251565e-16;};xm.aor='Alea 0.9';xm.cI=cI;return xm;}(Array.prototype.slice.call(arguments)));};IPCC.bB={ae:function(T,cO,ae){if(typeof(T)!==ae){throw new IPCC.Web.UI.ImGearArgumentTypeException(cO,typeof(T),ae);}},iH:function(T,cO){IPCC.bB.ae(T,cO,'string');},gy:function(T,cO){if(!(T instanceof Date)){throw new IPCC.Web.UI.ImGearArgumentTypeException(cO,typeof(T),"Date");}},jm:function(T,cO){IPCC.bB.ae(T,cO,'number');if(!isFinite(T)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cO,T,'The value must be a number.');}},mX:function(T,cO,Ag,xW){IPCC.bB.ae(T,cO,'number');if(T<Ag||T>xW|| !isFinite(T)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cO,T,'The value must be a number between '+Ag+' and '+xW+' inclusive.');}},Ts:function(T,cO,Ix){IPCC.bB.ae(T,cO,'number');var G;for(G=0;G<Ix.length;G++){if(T===Ix[G]){return;}}var PB='';for(G=0;G<Ix.length;G++){if(G>0){if(G===Ix.length-1){PB+=' or ';}else{PB+=', ';}}PB+=Ix[G];}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cO,T,'The value must be '+PB+'.');},oX:function(T,cO,Ag,xW){IPCC.bB.mX(T,cO,Ag,xW);if(T!==Math.floor(T)){throw new IPCC.Web.UI.ImGearArgumentException(cO,'The value must be an integer.');}},ey:function(T,cO){IPCC.bB.ae(T,cO,'string');if(!T.match(/#[0-9A-Fa-f]{6}/)){throw new IPCC.Web.UI.ImGearArgumentException(cO,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},WS:function(T,cO){IPCC.bB.ae(T,cO,'string');if(!T.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new IPCC.Web.UI.ImGearArgumentException(cO,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},jn:function(T,cO,jn,ajC){IPCC.bB.ae(T,cO,'number');var cg;var Wj=0;for(cg in jn){if(jn.hasOwnProperty(cg)){if(ajC){Wj|=jn[cg];}else{if(T===jn[cg]){return;}}}}var cr="";if(ajC){if((T|Wj)===Wj){return;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cO,T,'The value must be zero or more members of the '+cr+' enumeration.');}}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(cO,T,'The value must be a member of the '+cr+' enumeration.');},aX:function(T,cO){IPCC.bB.jm(T.x,cO+'.x');IPCC.bB.jm(T.y,cO+'.y');},F:function(T,cO){IPCC.bB.jm(T.x,cO+'.x');IPCC.bB.jm(T.y,cO+'.y');IPCC.bB.jm(T.width,cO+'.width');IPCC.bB.jm(T.height,cO+'.height');}};IPCC.BY=function(){function Fx(){return Math.floor((Math.random()*10)).toString();};var gy=new Date();return Fx()+Fx()+'_'+gy.getTime()+"_"+Fx()+Fx()+Fx()+Fx();};IPCC.fK={iy:function(lu,Po){var ae,cr,fS;if(lu===null){return 'null';}if(!Po){Po=0;}ae=typeof(lu);if(ae==='undefined'){return 'undefined';}else if(ae==='number'||ae==='boolean'){return lu.toString();}else if(ae==='string'){return '\''+lu+'\'';}else if(ae==='function'){return 'function';}else{if(Po<0){return 'lu';}cr='{';for(fS in lu){if(lu.hasOwnProperty(fS)){if(cr.length>2){cr+=', ';}cr+=fS;cr+=': ';cr+=IPCC.fK.iy(lu[fS],Po-1);}}cr+='}';return cr;}},NV:function(ar){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=ar+'\n';}},aDT:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},iU:function(gq,Jl,bm,EQ,AL){var ar="PCC Controls - ";ar+=(EQ)?EQ:" ";ar+=" parent Div id = ";ar+=(AL)?AL:" ";if(Jl){switch(Jl){case 0:ar+=" FunctionCall ";break;case 1:ar+=" Exception ";break;case 2:ar+=" Custom ";break;case 3:ar+=" UserAction ";break;case 4:ar+=" Warning ";break;default:ar+=" unknown ";}}ar+=" - "+gq;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(ar);}if(window.console&&window.console.log){window.console.log(ar);}if(window.opera){window.opera.postError(ar);}if(window.debugService){window.debugService.trace(ar);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=ar+'\n';}var LB;try{LB=onPCCItemLogged;}catch(ex){}if(LB&&(typeof(LB)).toLowerCase()==='function'){var cI=new IPCC.Web.UI.LogItemEventArgs();cI.message=gq;cI.cause=Jl;cI.level=bm;cI.id=AL;LB(cI);}}};IPCC.um={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};IPCC.Web.ox=function(){if(this.acP===undefined){var CN=document.createElement("div");CN.style.overflow='scroll';CN.style.position='absolute';CN.style.top='-9999px';document.body.appendChild(CN);this.acP=CN.offsetWidth-CN.clientWidth;document.body.removeChild(CN);}return this.acP;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22};IPCC.Web.UI.MouseTool.registerEnum('IPCC.Web.UI.MouseTool',false);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum('IPCC.Web.UI.FitType',false);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};IPCC.Web.UI.ScrollBars.registerEnum('IPCC.Web.UI.ScrollBars',false);IPCC.Web.UI.MarkHandleMode=function(){};IPCC.Web.UI.MarkHandleMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkHandleMode.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};IPCC.Web.UI.MarkHandleMode.registerEnum('IPCC.Web.UI.MarkHandleMode',false);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};IPCC.Web.UI.ImGearArtDataServices.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);IPCC.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};IPCC.Web.UI.Rectangle.prototype={intersect:function(rectangle){var aD=Math.max(this.x,rectangle.x);var bf=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aD;var dZ=Math.max(this.y,rectangle.y);var cY=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dZ;if(bf<=0||cY<=0){aD=dZ=bf=cY=0;}this.x=aD;this.y=dZ;this.width=bf;this.height=cY;},union:function(rectangle){var gM=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var gk=Math.max(this.x+this.width,rectangle.x+rectangle.width);var jg=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gM;this.y=_top;this.width=gk-gM;this.height=jg-_top;return this;},scale:function(VM,MN){MN=MN||VM;var gM=this.x*VM;var _top=this.y*MN;var bf=this.width*VM;var cY=this.height*MN;this.x=gM;this.y=_top;this.width=bf;this.height=cY;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass('IPCC.Web.UI.Rectangle');IPCC.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};IPCC.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass('IPCC.Web.UI.Point');IPCC.Web.UI.PointCollection=function(){var aT=[];var bw=new IPCC.Web.UI.gb();this.avO=function(aX){var K=new IPCC.Web.UI.PointEventArgs();K.point=aX;K.length=1;aT.push(new IPCC.Web.UI.Point(aX.x,aX.y));K.index=aT.length-1;this.ay('pointAdded',K);};this.awM=function(amF){var K=new IPCC.Web.UI.PointEventArgs();K.index=aT.length;K.length=amF.get_length();function lY(aX){aT.push(aX);};amF.forEach(lY,{});if(K.length>0){this.ay('pointAdded',K);}};this.mF=function(nG,du){var Uf=[].concat(aT);var G;for(G=0;G<Uf.length;G++){nG.call(du,new IPCC.Web.UI.Point(Uf[G].x,Uf[G].y),G,this);}};this.zy=function(bP){mE(bP);var fS=aT[bP];return new IPCC.Web.UI.Point(fS.x,fS.y);};this.aoR=function(bP,aX){mE(bP);IPCC.bB.aX(aX,'point');var MJ=aT[bP];if(MJ.x===aX.x&&MJ.y===aX.y){return;}MJ.x=aX.x;MJ.y=aX.y;var K=new IPCC.Web.UI.PointEventArgs();K.point=aX;K.index=bP;K.length=1;this.ay('pointChanged',K);};this.dY=function(){return aT.length;};this.aAr=function(bP){mE(bP);var K=new IPCC.Web.UI.PointEventArgs();K.point=aT[bP];K.index=bP;K.length=1;aT.splice(bP,1);this.ay('pointRemoved',K);};this.aze=function(){if(aT.length<1){return;}var K=new IPCC.Web.UI.PointEventArgs();K.index=0;K.length=aT.length;aT=[];this.ay('pointRemoved',K);};this.agO=function(fw,eG){if(fw===0&&eG===0){return;}IPCC.bB.jm(fw,'deltaX');IPCC.bB.jm(eG,'deltaY');var G;for(G=0;G<aT.length;G++){aT[G].x+=fw;aT[G].y+=eG;}var K=new IPCC.Web.UI.PointEventArgs();K.index=0;K.length=aT.length;this.ay('pointChanged',K);};this.wq=function(){if(aT.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var G,gM=aT[0].x,gk=aT[0].x,_top=aT[0].y,jg=aT[0].y;for(G=1;G<aT.length;G++){var aX=aT[G];gM=Math.min(gM,aX.x);gk=Math.max(gk,aX.x);_top=Math.min(_top,aX.y);jg=Math.max(jg,aX.y);}return new IPCC.Web.UI.Rectangle(gM,_top,gk-gM,jg-_top);};function mE(bP){if(bP>aT.length-1||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP);}};this.awH=function(h){bw.addHandler('pointAdded',h);};this.azy=function(h){bw.removeHandler('pointAdded',h);};this.avw=function(h){bw.addHandler('pointChanged',h);};this.aAM=function(h){bw.removeHandler('pointChanged',h);};this.avA=function(h){bw.addHandler('pointRemoved',h);};this.aAT=function(h){bw.removeHandler('pointRemoved',h);};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(this,K);}};return this;};IPCC.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.avO(point);},addPoints:function(pointCollection){this.awM(pointCollection);},forEach:function(method,context){this.mF(method,context);},getPoint:function(index){return this.zy(index);},setPoint:function(index,point){this.aoR(index,point);},get_length:function(){return this.dY();},removePoint:function(index){this.aAr(index);},removeAllPoints:function(){this.aze();},moveAllPoints:function(deltaX,deltaY){this.agO(deltaX,deltaY);},add_pointAdded:function(handler){this.awH(handler);},remove_pointAdded:function(handler){this.azy(handler);},add_pointChanged:function(handler){this.avw(handler);},remove_pointChanged:function(handler){this.aAM(handler);},add_pointRemoved:function(handler){this.avA(handler);},remove_pointRemoved:function(handler){this.aAT(handler);}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass('IPCC.Web.UI.PointCollection');IPCC.Web.UI.PageViewState=function(){return this;};IPCC.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:new IPCC.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass('IPCC.Web.UI.PageViewState');IPCC.Web.UI.ThumbnailViewState=function(){return this;};IPCC.Web.UI.ThumbnailViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,selected:false};IPCC.Web.UI.ThumbnailViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailViewState.registerClass('IPCC.Web.UI.ThumbnailViewState');IPCC.Web.UI.LogItemEventArgs=function(){return this;};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass('IPCC.Web.UI.LogItemEventArgs');IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var akL=false;this.axC=function(){akL=true;};this.akR=function(){return akL;};return this;};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.axC();}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass('IPCC.Web.UI.MouseEventArgs');IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this;};IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass('IPCC.Web.UI.PointEventArgs');IPCC.Web.UI.CommentEventArgs=function(){return this;};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass('IPCC.Web.UI.CommentEventArgs');IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');IPCC.Web.UI.TextSelectedEventArgs=function(){return this;};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass('IPCC.Web.UI.TextSelectedEventArgs');IPCC.Web.UI.PageView=function(element,pz){var cC=this;var al;var J;var qb=0;var oC='';var yG=false;var bw=new IPCC.Web.UI.gb();var fz=null;var um=IPCC.um;var akO=IPCC.um;var IW=0.0;var Ho=false;var NG=0;var aev= -1;var aeN= -1;var aem= -1;function gm(xk){if(!J){return false;}return J.gm(xk);};this.V=function(eO,hF){if(gm(IPCC.Web.UI.DebugErrorLevel.Production)){J.V(eO,hF);}};this.bo=function(eO,ef,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=')';this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.wA=function(eO,ef,hO,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.be=function(eO,ef,hO){if(!gm(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],0);}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.lX=function(gq,bm){if(J){J.iU(gq,IPCC.Web.UI.DebugItemCause.FunctionCall,bm);}};this.iU=function(gq){if(J){J.iU(gq,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.ti=function(){return J.get_debug();};this.Bg=function(T){J.set_debug(T);};this.pk=function(){return J.pk();};this.rA=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.DebugErrorLevel);J.rA(T);};this.aDs=function(T){Ho=T;};this.aEL=function(){return Ho;};var pb=function(){if(J.cD()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function dh(aF,h){bw.addHandler(aF,h);};function ce(aF,h){bw.removeHandler(aF,h);};this.JS=function(iE,cI){J.axD(iE,cI);};this.ayc=function(cI,H){J.zA(H);J.cR();};this.Ii=function(h){dh('pageOpening',h);};this.JQ=function(h){ce('pageOpening',h);};this.GL=function(h){dh('pageOpened',h);};this.Ju=function(h){ce('pageOpened',h);};this.abQ=function(h){dh('pageClosed',h);};this.Vb=function(h){ce('pageClosed',h);};this.Be=function(h){dh('pageOpenFailed',h);};this.As=function(h){ce('pageOpenFailed',h);};this.HT=function(h){dh('pageDisplayed',h);};this.IS=function(h){ce('pageDisplayed',h);};this.zX=function(h){dh('mouseDown',h);};this.Fu=function(h){ce('mouseDown',h);};this.GA=function(h){dh('mouseMove',h);};this.Gs=function(h){ce('mouseMove',h);};this.zK=function(h){dh('mouseUp',h);};this.Fs=function(h){ce('mouseUp',h);};this.Yk=function(h){dh('contextMenu',h);};this.UT=function(h){ce('contextMenu',h);};this.AP=function(h){dh('markAdded',h);};this.xg=function(h){ce('markAdded',h);};this.ZT=function(h){dh('markCreating',h);};this.WT=function(h){ce('markCreating',h);};this.Cw=function(h){dh('markChanged',h);};this.Fj=function(h){ce('markChanged',h);};this.Ad=function(h){dh('markRemoved',h);};this.yQ=function(h){ce('markRemoved',h);};this.BE=function(h){dh('markReordered',h);};this.Gm=function(h){ce('markReordered',h);};this.OJ=function(h){dh('marksLoaded',h);};this.OS=function(h){ce('marksLoaded',h);};this.CQ=function(h){dh('markSelectionChanged',h);};this.Fg=function(h){ce('markSelectionChanged',h);};this.vp=function(h){dh('textPageReady',h);};this.xj=function(h){ce('textPageReady',h);};this.aaY=function(h){dh('selectTextMouseToolCompleted',h);};this.UF=function(h){ce('selectTextMouseToolCompleted',h);};this.Yz=function(h){dh('exceptionThrown',h);};this.abD=function(h){dh('scaleChanged',h);};this.UY=function(h){ce('scaleChanged',h);};this.UN=function(h){ce('exceptionThrown',h);};this.BQ=function(h){dh('textExtractionFailed',h);};this.Fi=function(h){ce('textExtractionFailed',h);};this.iO=function(h){dh('propertyChanged',h);};this.kc=function(h){ce('propertyChanged',h);};var ay=function(aF,K){try{var h;h=bw.getHandler(aF);if(h){h(cC,K);}}catch(e){cC.V(aF+'Event',e);}};var jR=function(aF){function pm(az,K){ay(aF,K);};J['add_'+aF](pm);};var JG=function(aF){function pm(az,K){if(yG&&J.Fb()){Ei();}ay(aF,K);};J['add_'+aF](pm);};function Ei(){var dX,fR,sv;if(oC!==''){sv=document.getElementById(oC);if(sv){dX=cC.vW();fR='{encodedDocumentIdentifier:"'+dX.encodedDocumentIdentifier;fR+='",pageNumber:'+dX.pageNumber.toString();fR+=',viewFitType:'+dX.viewFitType.toString();if(dX.viewRectangle&&dX.viewFitType===IPCC.Web.UI.FitType.Rectangle){fR+=',viewRectangle:{x:'+dX.viewRectangle.x.toFixed(5);fR+=',y:'+dX.viewRectangle.y.toFixed(5);fR+=',width:'+dX.viewRectangle.width.toFixed(5);fR+=',height:'+dX.viewRectangle.height.toFixed(5);fR+='}';}if(dX.viewRotationDegreesClockwise){fR+=',viewRotationDegreesClockwise:'+dX.viewRotationDegreesClockwise.toString();}if(dX.viewMirror){fR+=',viewMirror:'+dX.viewMirror.toString();}if(dX.viewZoomFactor){fR+=',viewZoomFactor:'+dX.viewZoomFactor.toString();}if(yG){var bA=J.fb();if(bA){fR+=',artPageJson:"'+IPCC.fU.sL(bA.saveToJson())+'"';}}fR+='}';sv.value=fR;}}};var aaQ=function(){function pm(az,K){var AV=true;switch(K.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Ei();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Dx':case 'wB':AV=false;break;case 'Gj':if(J.Fb()){Ei();}AV=false;break;}if(AV){ay('propertyChanged',K);}};J.iO(pm);};this.Xw=function(ae){IPCC.bB.jn(ae,'type',IPCC.Web.UI.FitType);if(ae===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}pb();fz={aAP:true,viewFitType:ae};QA();};this.gU=function(){return J.cD()!==undefined;};this.nq=function(){pb();return J.cD().width;};this.mV=function(){pb();return J.cD().height;};this.arT=function(){pb();return J.cD().gE;};this.asQ=function(){return J.aw().ge().Dg();};this.asn=function(){pb();return J.cD().gK;};this.vJ=function(){if(!J|| !(J.cD())){return '';}return J.cD().get_identifier();};this.AZ=function(){if(!J|| !(J.cD())){return '';}return J.cD().get_encodedIdentifier();};this.nu=function(){if(!J|| !(J.cD())){return-1;}return J.cD().aQ;};this.Wl=function(){if(!J|| !(J.cD())){return 0;}return J.cD().fh;};this.afp=function(){var bb=J.cD();if(!bb){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aJ=J.ee();aJ.x=aJ.y=0;var sO=J.aw().ge();sO.yd();var eV=sO.sz(aJ);if(eV.x<0){eV.width+=eV.x;eV.x=0;}if(eV.y<0){eV.height+=eV.y;eV.y=0;}if(eV.x+eV.width>bb.width){eV.width=bb.width-eV.x;}if(eV.y+eV.height>bb.height){eV.height=bb.height-eV.y;}return eV;};function Cs(){var cU={},dK=J.aw().ge();cU.documentIdentifier=cC.vJ();cU.encodedDocumentIdentifier=cC.AZ();cU.pageNumber=cC.nu();cU.artPage=cC.fb();cU.referenceDocumentIdentifier=cC.vJ();cU.referencePageNumber=cC.nu();cU.viewFitType=IPCC.Web.UI.FitType.Rectangle;cU.viewRectangle=cC.afp();cU.imGearPage=cC.nl();cU.transientArtPage=cC.ks();var de=dK.Dg();if(de!==0){cU.viewRotationDegreesClockwise=de;}if(dK.Jh()){cU.viewMirror=true;}return cU;};this.MB=function(an,cl){J.MB(an,cl);};this.vW=function(){var cU;if(al){cU=new IPCC.Web.UI.PageViewState();cU.documentIdentifier=al.documentIdentifier;cU.encodedDocumentIdentifier=al.encodedDocumentIdentifier;cU.pageNumber=al.pageNumber;cU.artPage=al.artPage;cU.artPageJson=al.artPageJson;cU.referenceDocumentIdentifier=al.documentIdentifier;cU.referencePageNumber=al.pageNumber;cU.viewFitType=al.viewFitType;cU.viewRectangle=al.viewRectangle;cU.viewRotationDegreesClockwise=al.viewRotationDegreesClockwise;cU.viewMirror=al.viewMirror;cU.viewZoomFactor=al.viewZoomFactor;cU.transientArtPage=al.transientArtPage;}else{cU=Cs();}return cU;};this.NU=function(av){var aJ=J.ee();this.acz(av,{x:aJ.width/2,y:aJ.height/2});};this.acz=function(av,dw){IPCC.bB.mX(av,'factor',1.01,20);IPCC.bB.aX(dw,'point');pb();var bC=J.aw();var bu=bC.ge();var bL=J.cD();var kO=bu.uW();if(kO*av>bL.rC){av=bL.rC/kO;}bu.xQ(av,av,dw.x,dw.y);bu.jX(bL,J.ee());fz=null;bC.jj(bu);};this.WN=function(av){var aJ=J.ee();this.ade(av,{x:aJ.width/2,y:aJ.height/2});};this.ade=function(av,dw){IPCC.bB.mX(av,'factor',1.01,20);IPCC.bB.aX(dw,'point');pb();var bC=J.aw();var bu=bC.ge();var bL=J.cD();var kO=bu.uW();if(kO/av<bL.sY){av=kO/bL.sY;}bu.xQ(1/av,1/av,dw.x,dw.y);bu.jX(bL,J.ee());fz=null;bC.jj(bu);};this.kt=function(av){var aJ=J.ee();this.anU(av,{x:aJ.width/2,y:aJ.height/2});};this.anU=function(av,dw){IPCC.bB.aX(dw,'point');pb();var bC=J.aw();var bu=bC.ge();var bL=J.cD();var kO=bu.uW();if(av>bL.rC){av=bL.rC;}else if(av<bL.sY){av=bL.sY;}bu.xQ(av/kO,av/kO,dw.x,dw.y);bu.jX(bL,J.ee());fz=null;bC.jj(bu);};this.zp=function(uZ){IPCC.bB.Ts(uZ,'degreesClockwise',[90,180,270,-90,-180,-270]);pb();var bC=J.aw();var bu=bC.ge();var aJ=J.ee();bu.afg(uZ,aJ.width/2,aJ.height/2);bu.jX(J.cD(),J.ee());fz=null;bC.jj(bu);};this.ahf=function(){pb();var bC=J.aw();var bu=bC.ge();var aJ=J.ee();bu.xQ(-1,1,aJ.width/2,aJ.height/2);bu.jX(J.cD(),J.ee());fz=null;bC.jj(bu);};this.aoC=function(eV){IPCC.bB.F(eV,'pageRectangle');pb();var bC=J.aw();var bu=bC.ge();var aJ=J.ee();var bL=J.cD();bu.QP(bL,aJ,eV);bu.jX(bL,J.ee());fz=null;bC.jj(bu);};this.apo=function(cZ){IPCC.bB.aX(cZ,'imagePoint');pb();var bC=J.aw();var bu=bC.ge();var aJ=J.ee();bu.ain(aJ,cZ);bu.jX(J.cD(),J.ee());fz=null;bC.jj(bu);};this.acM=function(){pb();fz=null;var bC=J.aw();var bu=bC.ge();var aJ=J.ee();bu.xQ(1,-1,aJ.width/2,aJ.height/2);bu.jX(J.cD(),J.ee());fz=null;bC.jj(bu);};this.cR=function(){J.cR();};var QA=function(){var bL=J.cD();var aJ=J.ee();var bu;if(!fz){bu=J.aw().ge();bu.jX(bL,aJ);J.aw().jj(bu);return;}if(fz.aAP){bu=J.aw().ge();}else{bu=new IPCC.fm();bu.adW(bL,aJ);if(fz.viewRotationDegreesClockwise){bu.rotate(fz.viewRotationDegreesClockwise);}if(fz.viewMirror){bu.amU(aJ);}}if(fz.viewZoomFactor){if(fz.viewZoomFactor>bL.rC){fz.viewZoomFactor=bL.rC;}else if(fz.viewZoomFactor<bL.sY){fz.viewZoomFactor=bL.sY;}fz.viewFitType=IPCC.Web.UI.FitType.ActualSize;bu.WO(fz.viewFitType,bL,aJ);bu.scale(fz.viewZoomFactor,fz.viewZoomFactor);}else{if(!fz.viewFitType&&fz.viewFitType!==0){fz.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fz.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !fz.viewRectangle){fz.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fz.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bu.WO(fz.viewFitType,bL,aJ);}else{bu.QP(bL,aJ,fz.viewRectangle);}}bu.jX(bL,aJ);J.aw().jj(bu);};var afX=function(aBf){fz=aBf;NG=0;QA();};this.Yx=function(eQ){var og=false;if(IPCC.Web.mI.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mI.indexOf(eQ)>=0){return true;}}else{if(IPCC.Web.hA(IPCC.Web.mI,eQ)>=0){return true;}}}return og;};this.EJ=function(bq){qb++;var LV=qb;var XU={};IW=0.0;J.PP=0.0;IPCC.fU.TO(bq);if(gm(IPCC.Web.UI.DebugErrorLevel.Development)){var aM='opening documentIdentifier "'+bq.documentIdentifier+'", pageNumber '+bq.pageNumber;this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);}al=new IPCC.Web.UI.PageViewState();var G;for(G in bq){if(bq.hasOwnProperty(G)){al[G]=bq[G];}}if(bq.documentIdentifier===''){this.yL();return;}if(IPCC.Web.UI.ArtPage){if(al){if(!al.artPage){var bA=new IPCC.Web.UI.ArtPage();if(al.artPageJson){bA.loadFromJson(al.artPageJson);}al.artPage=bA;}if(!al.documentArtPage){var fH=new IPCC.Web.UI.ArtPage();al.documentArtPage=fH;}if(this.hX()===true){if(!al.imGearPage){var ci=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bq.documentIdentifier,imageServicePath:this.mU()});al.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bq.pageNumber,aC:ci});ci.get_pages().addPage(al.imGearPage);}if(!al.transientArtPage){al.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(al.viewRotationDegreesClockwise){IPCC.bB.Ts(al.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(al.viewFitType){IPCC.bB.jn(al.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(al.viewZoomFactor){IPCC.bB.mX(al.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ay('pageOpening',bq);var bb=new IPCC.fU(bq.encodedDocumentIdentifier,bq.pageNumber,0,0,0,0);var nf=function(){if(LV!==qb){return;}var nT=null;if(J.cD()){nT=Cs();}J.aw().rg();J.wH(bb);afX(al);if(bq.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(al){if(al.artPage){J.lw(al.artPage);J.fb().loadFromJson(bb.ahV);}}}else{if(al){if(al.artPage){J.lw(al.artPage);}if(al.documentArtPage){J.Mc(al.documentArtPage);}if(J.hX()===true){if(al.imGearPage){var TF=al.imGearPage.get_pageWidth();var VE=al.imGearPage.get_pageHeight();al.imGearPage.jw(cC.ea());if(!TF){al.imGearPage.IO(cC.get_pageWidth());}if(!VE){al.imGearPage.Lh(cC.get_pageHeight());}J.sZ(al.imGearPage);if(typeof(J.nl().Bd==='function')){if(!J.nl().dq().zm()){al.imGearPage.sc(cC.jE());setTimeout(J.nl().Bd,1000);}}}if(al.transientArtPage){J.tx(al.transientArtPage);}}}}al=null;if(nT){ay('pageClosed',nT);}Ei();ay('pageOpened',bq);};if(bq.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(al){if(!al.artPageJson){bb.ayi(J.mU(),J,nf,XU);}else{bb.Iw(J.mU(),J,nf);}}}else{bb.Iw(J.mU(),J,nf);}};this.yL=function(){qb++;if(!(J.cD())){return;}var nT=Cs();J.wH(undefined);J.lw(undefined);J.sZ(undefined);J.tx(undefined);this.cR();Ei();var bN;bN=cC.gr();if(bN.igElements){if(bN.igElements.rv){bN.igElements.rv.GO=null;bN.igElements.rv.EK=null;bN.igElements.rv.HL=null;bN.igElements.rv=null;}bN.igElements.Eb=null;bN.igElements.iJ=null;bN.igElements.gD=null;bN.igElements.oy=null;bN.igElements.mu=null;bN.igElements.nk=null;bN.igElements.su=null;bN.igElements.OY=null;bN.igElements.Wz=null;}cC=null;bN.aS=null;ay('pageClosed',nT);};this.ayK=function(bq){qb++;var LV=qb;IW=0.0;J.PP=0.0;IPCC.fU.TO(bq);if(gm(IPCC.Web.UI.DebugErrorLevel.Development)){var aM='opening documentIdentifier "'+bq.documentIdentifier+'", pageNumber '+bq.pageNumber;this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);}al=new IPCC.Web.UI.PageViewState();var G;for(G in bq){if(bq.hasOwnProperty(G)){al[G]=bq[G];}}if(bq.documentIdentifier===''){this.yL();return;}if(IPCC.Web.UI.ArtPage){if(al){if(!al.artPage){var bA=new IPCC.Web.UI.ArtPage();al.artPage=bA;}if(!al.documentArtPage){var fH=new IPCC.Web.UI.ArtPage();al.documentArtPage=fH;}if(this.hX()===true){if(!al.imGearPage){var ci=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bq.documentIdentifier,imageServicePath:this.mU()});al.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bq.pageNumber,aC:ci});ci.get_pages().addPage(al.imGearPage);}if(!al.transientArtPage){al.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(al.viewRotationDegreesClockwise){IPCC.bB.Ts(al.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(al.viewFitType){IPCC.bB.jn(al.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(al.viewZoomFactor){IPCC.bB.mX(al.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ay('pageOpening',bq);var bb=new IPCC.fU(bq.encodedDocumentIdentifier,bq.pageNumber,0,0,0,0);var nf=function(){if(LV!==qb){return;}var nT=null;if(J.cD()){nT=Cs();}J.aw().rg();J.wH(bb);afX(al);if(al){if(al.artPage){J.lw(al.artPage);}if(al.documentArtPage){J.Mc(al.documentArtPage);}if(J.hX()===true){if(al.imGearPage){var TF=al.imGearPage.get_pageWidth();var VE=al.imGearPage.get_pageHeight();al.imGearPage.jw(cC.ea());if(!TF){al.imGearPage.IO(cC.get_pageWidth());}if(!VE){al.imGearPage.Lh(cC.get_pageHeight());}J.sZ(al.imGearPage);if(typeof(J.nl().Bd==='function')){if(!J.nl().dq().zm()){al.imGearPage.sc(cC.jE());setTimeout(J.nl().Bd,1000);}}}if(al.transientArtPage){J.tx(al.transientArtPage);}}}al=null;if(nT){ay('pageClosed',nT);}Ei();ay('pageOpened',bq);};bb.ayy(J.mU(),J,nf);};this.awb=function(){qb++;if(!(J.cD())){return;}var bb=J.cD();J.wH(undefined);this.cR();J.wH(bb);};this.EB=function(Aw){J.EB(Aw);};this.lw=function(T){J.lw(T);};this.fb=function(){return J.fb();};this.Mc=function(T){J.Mc(T);};this.Ou=function(){return J.Ou();};this.ks=function(){return J.ks();};this.tx=function(T){J.tx(T);};this.yT=function(){return J.yT();};this.ZY=function(T){J.ZY(T);};this.tX=function(T){J.tX(T);};this.mZ=function(){return J.mZ();};this.azr=function(T){akO=this.apd(T);};this.iW=function(){return akO;};this.Nd=function(T){J.Nd(T);};this.Kk=function(){return J.Kk();};this.lT=function(){return J.lT();};this.qn=function(T){J.qn(T);};this.yY=function(T){J.yY(T);};this.JH=function(){return J.JH();};this.yl=function(BI){J.yl(BI);};this.yB=function(){return J.yB();};this.apd=function(aW){var aB='',NM='',Sl=function(ba){var tA=0,aB;for(aB in ba){if(ba.hasOwnProperty(aB)){tA+=1;}}return tA;};for(aB in um){if(um.hasOwnProperty(aB)){if(typeof aW[aB]==='undefined'){aW[aB]=um[aB];}if(typeof aW[aB]==='object'){if(!Sl(aW[aB])){aW[aB]=um[aB];}else if(Sl(aW[aB])!==Sl(um[aB])){for(NM in um[aB]){if(typeof aW[aB][NM]==='undefined'){aW[aB][NM]=um[aB][NM];}}}}}}return aW;};this.anP=function(apR){if(apR===false){IPCC.iu=false;J.eh([new IPCC.oR(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}else{IPCC.iu=true;IPCC.ajy=this.iW();J.eh([new IPCC.oR(),new IPCC.eu(),new IPCC.gz(),new IPCC.dM(),new IPCC.cj(false)]);}};this.rg=function(){var bC=J.aw();if(!bC.zJ()){return;}J.aw().rg();};this.apj=function(eV){IPCC.bB.F(eV,'pageRectangle');var bb=J.cD();if(bb){J.aw().showSelection(eV);}};this.FN=function(cZ){IPCC.bB.aX(cZ,'imagePoint');if(J.cD()){J.aw().FN(new IPCC.Web.UI.Point(cZ.x,cZ.y));}};this.BD=function(cZ){IPCC.bB.aX(cZ,'imagePoint');if(J.cD()){J.aw().BD(new IPCC.Web.UI.Point(cZ.x,cZ.y));}};this.yV=function(){if(J.cD()&&J.aw().zJ()){return J.aw().yV();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.asl=function(){if(J.cD()&&J.aw().zJ()){var eV=J.aw().yV();return J.aw().ge().sz(eV);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.zJ=function(){return! !(J.cD()&&J.aw().zJ());};this.mU=function(){return J.mU();};this.Fd=function(T){IPCC.bB.iH(T,'value');J.Fd(T);if(!IPCC.Web.uK){if(IPCC.Web.wR===false){IPCC.Web.MD(T);}}};this.Jn=function(){return oC;};this.JP=function(T){IPCC.bB.iH(T,'value');oC=T;};this.SY=function(){return yG;};this.XA=function(T){yG=T;};var om='';this.qt=function(T){J.qt(T);om=T;};this.gr=function(){return om;};this.atQ=function(){return J.aw().get_magnifierMagnification();};this.anx=function(T){IPCC.bB.mX(T,'value',1.5,8);J.aw().set_magnifierMagnification(T);};this.asi=function(){return J.aw().wN().width;};this.ank=function(T){IPCC.bB.mX(T,'value',25,500);var tA=J.aw().wN();tA.width=T;J.aw().set_magnifierWindowSize(tA);};this.aul=function(){return J.aw().wN().height;};this.amQ=function(T){IPCC.bB.mX(T,'value',25,500);var tA=J.aw().wN();tA.height=T;J.aw().set_magnifierWindowSize(tA);};this.Rm=function(){return J.aw().Rm();};this.Yt=function(T){IPCC.bB.mX(T,'value',-500,500);J.aw().Yt(T);};this.Rv=function(){return J.aw().Rv();};this.XY=function(T){IPCC.bB.mX(T,'value',-500,500);J.aw().XY(T);};this.Te=function(){return J.aw().Te();};this.Xz=function(T){IPCC.bB.mX(T,'value',0.1,0.5);J.aw().Xz(T);};this.zF=function(){return J.aw().zF();};this.Mi=function(T){J.aw().Mi(T);};this.raisePropertyChanged=function(cg,xB){if(J){J.aG(cg,xB);}};var cN= -1;this.Vr=function(){return cN;};this.aEv=function(T){J.uG=T;};this.Ma=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.MouseTool);if(cN!==T){cN=T;var jy="None";switch(cN){case IPCC.Web.UI.MouseTool.None:J.eh([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.iu===true){J.eh([new IPCC.ur(),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.ur(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);jy="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.iu===true){J.eh([new IPCC.oR(),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.oR(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.iu===true){J.eh([new IPCC.rY(),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(true)]);}else{J.eh([new IPCC.rY(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(true)]);}jy="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.iu===true){J.eh([new IPCC.rs(),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.rs(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Rectangle),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Rectangle),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Ellipse),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Ellipse),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.iu===true){J.eh([new IPCC.qU(),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.qU(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.iu===true){J.eh([new IPCC.nc(IPCC.Web.UI.MarkType.Polyline),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.nc(IPCC.Web.UI.MarkType.Polyline),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.iu===true){J.eh([new IPCC.oa(),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.oa(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.iu===true){J.eh([new IPCC.nc(IPCC.Web.UI.MarkType.Polygon),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.nc(IPCC.Web.UI.MarkType.Polygon),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Text),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Text),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.TextLine),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.TextLine),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.iu===true){J.eh([new IPCC.oH(IPCC.Web.UI.MarkType.Text),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.oH(IPCC.Web.UI.MarkType.Text),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.iu===true){J.eh([new IPCC.Je(IPCC.Web.UI.MarkType.Text),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.Je(IPCC.Web.UI.MarkType.Text),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Stamp),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.Stamp),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.iu===true){J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.eu(),new IPCC.gz(true,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:J.Ho=true;if(IPCC.iu===true){J.eh([new IPCC.nH(),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.nH(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:J.Ho=false;if(IPCC.iu===true){J.eh([new IPCC.nH(),new IPCC.eu(),new IPCC.gz(false,this.iW()),new IPCC.dM(),new IPCC.cj(false)]);}else{J.eh([new IPCC.nH(),new IPCC.eu(),new IPCC.dM(),new IPCC.cj(false)]);}jy="SelectText";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jy});}};this.Kj=function(aqw){cN= -1;J.eh(aqw);};this.asW=function(){return J.aw().get_presentationQuality();};this.anI=function(T){IPCC.bB.mX(T,'value',0,100);J.aw().set_presentationQuality(T);};this.arB=function(){return J.aw().get_scrollBars();};this.ard=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.ScrollBars);J.aw().set_scrollBars(T);};this.anG=function(cZ,aqI){IPCC.bB.aX(cZ,'imagePoint');if(!(J.cD())){return new IPCC.Web.UI.Point(0,0);}var dw=J.aw().ge().transform(cZ);if(aqI){dw.constrain(J.ee());}return dw;};this.IG=function(dw,aqD){IPCC.bB.aX(dw,'windowPoint');var bb=J.cD();if(!bb){return new IPCC.Web.UI.Point(0,0);}var sO=J.aw().ge();sO.yd();var cZ=sO.transform(dw);if(aqD){cZ.constrain(bb);}return cZ;};function US(){var bN;bN=cC.gr();var ahd=bN.clientWidth;var akX=bN.clientHeight;var azm=(fz&&fz.viewFitType===aev&&ahd===aeN&&akX===aem);if(azm){if(NG>2){return;}NG++;}else{aev=fz?fz.viewFitType: -1;aeN=ahd;aem=akX;NG=0;}QA();};function awp(){fz=null;};function auh(az,K){switch(K.fv){case IPCC.eL.acJ:cC.acz(1.25,K.VW.windowPoint);break;case IPCC.eL.acU:cC.ade(1.25,K.VW.windowPoint);break;case IPCC.eL.YS:cC.zp(K.T);break;case IPCC.eL.acF:cC.acM();break;case IPCC.eL.afP:cC.ahf();break;case IPCC.eL.abX:cC.Xw(K.T);break;case IPCC.eL.aet:cC.Ma(K.T);break;}};this.hX=function(){return J.hX();};this.yH=function(T){J.yH(T);};this.dq=function(){return J.dq();};this.nl=function(){return J.nl();};this.sZ=function(T){J.sZ(T);};this.pn=function(){return J.get_requireRequestsOptimize();};this.rR=function(T){J.rR(T);};this.jE=function(){return J.jE();};this.sc=function(T){J.sc(T);};this.JK=function(cZ){IPCC.bB.aX(cZ,'imagePoint');return J.JK(cZ);};this.zI=function(cL){J.zI(cL);};this.Sh=function(){J.Sh();};this.Ow=function(wj,cl){var LE=J.dq().eJ().dY();IPCC.bB.oX(wj,'wj',0,LE-1);J.Ow(wj,cl);};this.wO=function(cL){if(cL===undefined){J.aw().wO(cL);return false;}var LE=J.dq().eJ().dY();IPCC.bB.oX(cL,'textIndex',0,LE-1);J.wO(cL);return true;};this.Jb=function(){return! !(J.cD()&&J.hX()&&J.dq().nm()===true&&J.aw().Jb());};this.VD=function(){var bC=J.aw();bC.VD();};this.Qs=function(){if(J.hX()&&J.dq().nm()===true){return Math.min(J.aw().acA(),J.aw().Fp());}};this.CY=function(){if(J.hX()&&J.dq().nm()===true){return J.aw().CY();}};this.Cv=function(){if(J.hX()&&J.dq().nm()===true&&J.aw().Jb()){return J.Cv();}else{return "";}};this.Fp=function(){return J.aw().Fp();};this.asA=function(){return J.aw().get_cursor();};this.aAt=function(T){J.aw().set_cursor(T);};this.Aq=function(){return J.Aq();};this.Wo=function(T){J.Wo(T);};this.ea=function(){return J.ea();};this.jw=function(T){J.jw(T);};this.aCH=function(){J.aw().hideMagnifier();};this.anH=function(dw){J.aw().showMagnifier(dw);};this.zA=function(H){if(J.kS().igElements){J.zA(H);J.cR();}};this.pP=function(){if(J.kS().igElements){J.pP(true);}};function axa(az,K){var yD=K.scaleFactor;var bS={scaleType:"scaledDown",pageNumber:K.pageNumber};if(IW!==yD){if(yD>IW){bS.scaleType="scaledUp";}IW=yD;ay('scaleChanged',bS);}};this.initialize=function(){J.ado(this.gr().id);J.qt(this.gr().id);if(cN=== -1){this.Ma(IPCC.Web.UI.MouseTool.RectangleZoom);}jR('mouseDown');jR('mouseMove');jR('mouseUp');jR('contextMenu');jR('markCreating');jR('pageOpenFailed');jR('textPageReady');jR('pageDisplayed');jR('exceptionThrown');jR('selectTextMouseToolCompleted');JG('markAdded');JG('markChanged');JG('markRemoved');jR('textExtractionFailed');JG('markReordered');JG('marksLoaded');jR('markSelectionChanged');aaQ();J.ahM(US);J.avD(awp);J.awE(auh);J.add_scaleChanged(axa);J.afO();var bN=this.gr();bN.aS=this;};pz=(pz!==false);J=new IPCC.ahD(pz);J.adw('PageView');};IPCC.Web.UI.PageView.prototype={dispose:function(){this.bo('dispose',arguments);this.yL();},get_debug:function(){try{var L=this.ti();this.be('get_debug',arguments,L);return L;}catch(e){this.V('get_debug',e);throw e;}},set_debug:function(value){try{this.bo('set_debug',arguments);var lJ=this.ti();this.Bg(value);if(!lJ){this.bo('set_debug',arguments);}}catch(e){this.V('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var L=this.pk();this.be('get_debugErrorLevel',arguments,L);return L;}catch(e){this.V('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bo('set_debugErrorLevel',arguments);var lJ=this.pk();this.rA(value);if(lJ<IPCC.Web.UI.DebugErrorLevel.Development){this.bo('set_debugErrorLevel',arguments);}}catch(e){this.V('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var L=this.yB();this.be('get_artServiceOption',arguments,L);return L;}catch(e){this.V('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bo('set_artServiceOption',arguments);this.yl(value);}catch(e){this.V('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Ii(handler);}catch(e){this.V('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.JQ(handler);}catch(e){this.V('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.GL(handler);}catch(e){this.V('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Ju(handler);}catch(e){this.V('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.abQ(handler);}catch(e){this.V('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Vb(handler);}catch(e){this.V('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Be(handler);}catch(e){this.V('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.As(handler);}catch(e){this.V('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.HT(handler);}catch(e){this.V('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.IS(handler);}catch(e){this.V('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.zX(handler);}catch(e){this.V('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fu(handler);}catch(e){this.V('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GA(handler);}catch(e){this.V('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Gs(handler);}catch(e){this.V('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zK(handler);}catch(e){this.V('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Fs(handler);}catch(e){this.V('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.Yk(handler);}catch(e){this.V('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.UT(handler);}catch(e){this.V('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.AP(handler);}catch(e){this.V('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xg(handler);}catch(e){this.V('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.ZT(handler);}catch(e){this.V('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.WT(handler);}catch(e){this.V('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Cw(handler);}catch(e){this.V('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fj(handler);}catch(e){this.V('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.Ad(handler);}catch(e){this.V('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.yQ(handler);}catch(e){this.V('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.BE(handler);}catch(e){this.V('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gm(handler);}catch(e){this.V('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.OJ(handler);}catch(e){this.V('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.OS(handler);}catch(e){this.V('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.CQ(handler);}catch(e){this.V('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fg(handler);}catch(e){this.V('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.aaY(handler);}catch(e){this.V('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.UF(handler);}catch(e){this.V('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.vp(handler);}catch(e){this.V('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xj(handler);}catch(e){this.V('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Yz(handler);},remove_exceptionThrown:function(handler){this.UN(handler);},add_scaleChanged:function(handler){try{this.abD(handler);}catch(e){this.V('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.UY(handler);}catch(e){this.V('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.iO(handler);}catch(e){this.V('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.kc(handler);}catch(e){this.V('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.BQ(handler);},remove_textExtractionFailed:function(handler){this.Fi(handler);},writeToLog:function(message){try{this.iU(message);}catch(e){this.V('writeToLog',e);throw e;}},fitPage:function(type){try{this.bo('fitPage',arguments);this.Xw(type);}catch(e){this.V('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var L=this.gU();this.be('get_pageIsOpen',arguments,L);return L;}catch(e){this.V('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var L=this.nq();this.be('get_pageWidth',arguments,L);return L;}catch(e){this.V('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var L=this.mV();this.be('get_pageHeight',arguments,L);return L;}catch(e){this.V('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var L=this.arT();this.be('get_pageXResolution',arguments,L);return L;}catch(e){this.V('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var L=this.asn();this.be('get_pageYResolution',arguments,L);return L;}catch(e){this.V('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var L=this.vJ();this.be('get_documentIdentifier',arguments,L);return L;}catch(e){this.V('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var L=this.AZ();this.be('get_encodedDocumentIdentifier',arguments,L);return L;}catch(e){this.V('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var L=this.nu();this.be('get_pageNumber',arguments,L);return L;}catch(e){this.V('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var L=this.Wl();this.be('get_documentPageCount',arguments,L);return L;}catch(e){this.V('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var L=this.afp();this.be('get_displayedPageRectangle',arguments,L);return L;}catch(e){this.V('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var L=this.vW();this.be('get_currentState',arguments,L);return L;}catch(e){this.V('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bo('zoomIn',arguments);this.NU(factor);}catch(e){this.V('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bo('zoomOut',arguments);this.WN(factor);}catch(e){this.V('zoomOut',e);throw e;}},zoom:function(factor){try{this.bo('zoom',arguments);this.kt(factor);}catch(e){this.V('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bo('rotate',arguments);this.zp(degreesClockwise);}catch(e){this.V('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bo('showPageRectangle',arguments,1);this.aoC(imageRectangle);}catch(e){this.V('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bo('showPagePointAtCenter',arguments,1);this.apo(imagePoint);}catch(e){this.V('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bo('mirror',arguments);this.ahf();}catch(e){this.V('mirror',e);throw e;}},flip:function(){try{this.bo('flip',arguments);this.acM();}catch(e){this.V('flip',e);throw e;}},display:function(){try{this.bo('display',arguments);this.cR();}catch(e){this.V('display',e);throw e;}},openPage:function(parameters){try{this.bo('openPage',arguments,1);this.EJ(parameters);}catch(e){this.V('openPage',e);throw e;}},closePage:function(){try{this.bo('closePage',arguments);this.yL();}catch(e){this.V('closePage',e);throw e;}},hideSelection:function(){try{this.bo('hideSelection',arguments);this.rg();}catch(e){this.V('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bo('showSelection',arguments);this.apj(imageRectangle);}catch(e){this.V('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bo('showEmptySelection',arguments);this.FN(imagePoint);}catch(e){this.V('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bo('extendSelection',arguments);this.BD(imagePoint);}catch(e){this.V('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bo('saveArtPage',arguments);this.EB(onSave);}catch(e){this.V('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var L=this.yV();this.be('get_selectionPageRectangle',arguments,L);return L;}catch(e){this.V('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var L=this.asl();this.be('get_selectionWindowRectangle',arguments,L);return L;}catch(e){this.V('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var L=this.zJ();this.be('get_selectionIsVisible',arguments,L);return L;}catch(e){this.V('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var L=this.Jn();this.be('get_controlStateElementId',arguments,L);return L;}catch(e){this.V('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bo('set_controlStateElementId',arguments);this.JP(value);}catch(e){this.V('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var L=this.SY();this.be('get_includeArtInPostBack',arguments,L);return L;}catch(e){this.V('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bo('set_includeArtInPostBack',arguments);this.XA(value);}catch(e){this.V('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var L=this.fb();this.be('get_artPage',arguments,L);return L;}catch(e){this.V('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bo('set_artPage',arguments);this.lw(value);}catch(e){this.V('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var L=this.Ou();this.be('get_documentArtPage',arguments,L);return L;}catch(e){this.V('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bo('set_documentArtPage',arguments);this.Mc(value);}catch(e){this.V('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var L=this.ks();this.be('get_transientArtPage',arguments,L);return L;}catch(e){this.V('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bo('set_transientArtPage',arguments);this.tx(value);}catch(e){this.V('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var L=this.mU();this.be('get_imageHandlerUrl',arguments,L);return L;}catch(e){this.V('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bo('set_imageHandlerUrl',arguments);this.Fd(value);}catch(e){this.V('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var L=this.mZ();this.be('get_resourcePath',arguments,L);return L;}catch(e){this.V('get_resourcePath',e);throw e;}},set_resourcePath:function(T){try{this.bo('set_resourcePath',arguments);this.tX(T);}catch(e){this.V('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var L=this.iW();this.be('get_contextMenuLanguageDictionary',arguments,L);return L;}catch(e){this.V('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(T){try{this.bo('set_contextMenuLanguageDictionary',arguments);this.azr(T);}catch(e){this.V('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var L=this.hX();this.be('get_textRequired',arguments,L);return L;}catch(e){this.V('get_textRequired',e);throw e;}},set_textRequired:function(T){try{this.bo('set_textRequired',arguments);this.yH(T);}catch(e){this.V('set_textRequired',e);throw e;}},get_textPage:function(){try{var L=this.dq();this.be('get_textPage',arguments,L);return L;}catch(e){this.V('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var L=this.Jb();this.wA('textSelectionIsVisible',arguments,L,1);return L;}catch(e){this.V('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var L=this.Cv();this.wA('getSelectedText',arguments,L,1);return L;}catch(e){this.V('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var L=this.pn();this.be('get_requireRequestsOptimize',arguments,L);return L;}catch(e){this.V('pn',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bo('set_requireRequestsOptimize',arguments);this.rR(value);}catch(e){this.V('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var L=this.atQ();this.be('get_magnifierMagnification',arguments,L);return L;}catch(e){this.V('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bo('set_magnifierMagnification',arguments);this.anx(value);}catch(e){this.V('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var L=this.asi();this.be('get_magnifierWidth',arguments,L);return L;}catch(e){this.V('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bo('set_magnifierWidth',arguments);this.ank(value);}catch(e){this.V('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var L=this.aul();this.be('get_magnifierHeight',arguments,L);return L;}catch(e){this.V('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bo('set_magnifierHeight',arguments);this.amQ(value);}catch(e){this.V('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var L=this.Rm();this.be('get_magnifierXOffset',arguments,L);return L;}catch(e){this.V('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bo('set_magnifierXOffset',arguments);this.Yt(value);}catch(e){this.V('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var L=this.Rv();this.be('get_magnifierYOffset',arguments,L);return L;}catch(e){this.V('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bo('set_magnifierYOffset',arguments);this.XY(value);}catch(e){this.V('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bo('showMagnifier',arguments,1);this.anH(windowPoint);}catch(e){this.V('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bo('hideMagnifier',arguments);this.aCH();}catch(e){this.V('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var L=this.Te();this.be('get_markHandleSize',arguments,L);return L;}catch(e){this.V('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bo('set_markHandleSize',arguments);this.Xz(value);}catch(e){this.V('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var L=this.zF();this.be('get_markHandleMode',arguments,L);return L;}catch(e){this.V('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bo('set_markHandleMode',arguments);this.Mi(value);}catch(e){this.V('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var L=this.Vr();this.be('get_mouseTool',arguments,L);return L;}catch(e){this.V('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bo('set_mouseTool',arguments);this.Ma(value);}catch(e){this.V('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var L=this.asW();this.be('get_presentationQuality',arguments,L);return L;}catch(e){this.V('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bo('set_presentationQuality',arguments);this.anI(value);}catch(e){this.V('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var L=this.arB();this.be('get_scrollBars',arguments,L);return L;}catch(e){this.V('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bo('set_scrollBars',arguments);this.ard(value);}catch(e){this.V('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var L=this.nl();this.be('get_imGearPage',arguments,L);return L;}catch(e){this.V('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bo('set_imGearPage',arguments);this.sZ(value);}catch(e){this.V('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var L=this.jE();this.be('get_serviceResponseTimeout',arguments,L);return L;}catch(e){this.V('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bo('set_serviceResponseTimeout',arguments);this.sc(value);}catch(e){this.V('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var L=this.Fp();this.be('get_currentTextIndex',arguments,L);return L;}catch(e){this.V('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var L=this.asA();this.be('get_cursor',arguments,L);return L;}catch(e){this.V('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bo('set_cursor',arguments);this.aAt(value);}catch(e){this.V('set_cursor',e);throw e;}},get_encryption:function(){try{var L=this.ea();this.be('get_encryption',arguments,L);return L;}catch(e){this.V('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bo('set_encryption',arguments);this.jw(value);}catch(e){this.V('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var L=this.anG(imagePoint,constrainResultToWindow);this.wA('transformPagePointToWindow',arguments,L,1);return L;}catch(e){this.V('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var L=this.IG(windowPoint,constrainResultToImage);this.wA('transformWindowPointToPage',arguments,L,1);return L;}catch(e){this.V('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var L=this.JK(pagePoint);this.wA('transformPagePointToTextIndex',arguments,L,1);return L;}catch(e){this.V('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bo('removeAllHighlights',arguments);this.Sh();}catch(e){this.V('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bo('showTextSelection',arguments);this.Ow(indexOfFirstCharacter,length);}catch(e){this.V('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bo('showEmptyTextSelection',arguments);this.zI(textIndex);}catch(e){this.V('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bo('extendTextSelection',arguments);this.wO(textIndex);}catch(e){this.V('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bo('initializeViewControllers',arguments);this.anP(showArtContextMenu);}catch(e){this.V('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var L=this.Aq();this.be('get_autoUpdate',arguments,L);return L;}catch(e){this.V('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bo('set_autoUpdate',arguments);this.Wo(value);}catch(e){this.V('set_autoUpdate',e);throw e;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass('IPCC.Web.UI.PageView',IPCC.Sys.UI.Control);IPCC.Web.UI.ThumbnailView=function(element){var cC=this;var al;var J;var qb=0;var oC='';var yG=false;var Mn='';var rN=null;var qu=null;var NF=null;var nR=false;var bw=new IPCC.Web.UI.gb();function gm(xk){if(!J){return false;}return J.gm(xk);};this.V=function(eO,hF){if(gm(IPCC.Web.UI.DebugErrorLevel.Production)){J.logException(eO,hF);}};this.bo=function(eO,ef,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=')';this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.wA=function(eO,ef,hO,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.be=function(eO,ef,hO){if(!gm(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],0);}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.lX=function(gq,bm){if(J){J.iU(gq,IPCC.Web.UI.DebugItemCause.FunctionCall,bm);}};this.iU=function(gq){if(J){J.iU(gq,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.ti=function(){return J.get_debug();};this.Bg=function(T){J.set_debug(T);};this.pk=function(){return J.pk();};this.rA=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.DebugErrorLevel);J.rA(T);};function dh(aF,h){bw.addHandler(aF,h);};function ce(aF,h){bw.removeHandler(aF,h);};this.Ii=function(h){dh('pageOpening',h);};this.JQ=function(h){ce('pageOpening',h);};this.GL=function(h){dh('pageOpened',h);};this.Ju=function(h){ce('pageOpened',h);};this.abQ=function(h){dh('pageClosed',h);};this.Be=function(h){dh('pageOpenFailed',h);};this.As=function(h){ce('pageOpenFailed',h);};this.HT=function(h){dh('pageDisplayed',h);};this.IS=function(h){ce('pageDisplayed',h);};this.Vb=function(h){ce('pageClosed',h);};this.zX=function(h){dh('mouseDown',h);};this.Fu=function(h){ce('mouseDown',h);};this.GA=function(h){dh('mouseMove',h);};this.Gs=function(h){ce('mouseMove',h);};this.zK=function(h){dh('mouseUp',h);};this.Fs=function(h){ce('mouseUp',h);};this.Yk=function(h){dh('contextMenu',h);};this.UT=function(h){ce('contextMenu',h);};this.AP=function(h){dh('markAdded',h);};this.xg=function(h){ce('markAdded',h);};this.Cw=function(h){dh('markChanged',h);};this.Fj=function(h){ce('markChanged',h);};this.Ad=function(h){dh('markRemoved',h);};this.yQ=function(h){ce('markRemoved',h);};this.BE=function(h){dh('markReordered',h);};this.Gm=function(h){ce('markReordered',h);};this.OJ=function(h){dh('marksLoaded',h);};this.OS=function(h){ce('marksLoaded',h);};this.awf=function(h){dh('marksSaved',h);};this.aAm=function(h){ce('marksSaved',h);};this.CQ=function(h){dh('markSelectionChanged',h);};this.Fg=function(h){ce('markSelectionChanged',h);};this.vp=function(h){dh('textPageReady',h);};this.xj=function(h){ce('textPageReady',h);};this.pn=function(){return J.get_requireRequestsOptimize();};this.rR=function(T){J.rR(T);};this.raisePropertyChanged=function(cg){if(J){J.aG(cg);}};var ay=function(aF,K){try{var h;h=bw.getHandler(aF);if(h){h(cC,K);}}catch(e){cC.V(aF+'Event',e);}};var jR=function(aF){function pm(az,K){ay(aF,K);};J['add_'+aF](pm);};var KF=function(aF){function pm(az,K){if(J.Fb()){qs();}};J['add_'+aF](pm);};function qs(){var sv,dX,fR;if(oC!==''){sv=document.getElementById(oC);if(sv){dX=cC.vW();fR='{encodedDocumentIdentifier:"'+dX.encodedDocumentIdentifier;fR+='",pageNumber:'+dX.pageNumber.toString();fR+=',selected:'+nR.toString();if(yG){var bA=J.fb();if(bA){fR+=',artPageJson:"'+IPCC.fU.sL(bA.saveToJson())+'"';}}fR+='}';sv.value=fR;}}};var aaQ=function(){function pm(az,K){var AV=true;switch(K.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':qs();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Dx':case 'wB':AV=false;break;case 'Gj':if(J.Fb()){qs();}AV=false;break;}if(AV){ay('propertyChanged',K);}};J.iO(pm);};this.vJ=function(){if(!J|| !(J.cD())){return '';}return J.cD().get_identifier();};this.AZ=function(){if(!J|| !(J.cD())){return '';}return J.cD().get_encodedIdentifier();};this.nu=function(){if(!J|| !(J.cD())){return-1;}return J.cD().aQ;};this.Wl=function(){if(!J|| !(J.cD())){return 0;}return J.cD().fh;};this.nq=function(){if(!J|| !(J.cD())){return 0;}return J.cD().width;};this.mV=function(){if(!J|| !(J.cD())){return 0;}return J.cD().height;};function Cs(){var cU={};cU.documentIdentifier=cC.vJ();cU.encodedDocumentIdentifier=cC.AZ();cU.pageNumber=cC.nu();cU.referenceDocumentIdentifier=cC.vJ();cU.referencePageNumber=cC.nu();cU.selected=cC.RY();cU.artPage=cC.fb();cU.imGearPage=cC.nl();cU.transientArtPage=cC.ks();return cU;};this.vW=function(){var cU;if(al){cU=new IPCC.Web.UI.ThumbnailViewState();cU.documentIdentifier=al.documentIdentifier;cU.encodedDocumentIdentifier=al.encodedDocumentIdentifier;cU.pageNumber=al.pageNumber;cU.referenceDocumentIdentifier=al.documentIdentifier;cU.referencePageNumber=al.pageNumber;cU.selected=al.selected;cU.artPage=al.artPage;cU.imGearPage=al.imGearPage;cU.transientArtPage=al.transientArtPage;}else{cU=Cs();}return cU;};this.asP=function(){return qu;};this.anN=function(value){qu=value;};var VX=function(){var bC=J.aw();var bL=J.cD();var aJ=J.ee();var bu=bC.ge();bu.adW(bL,aJ);bu.aiI(bL,aJ);bu.jX(bL,aJ);bC.jj(bu);};this.cR=function(){J.cR();};function ajK(){if(NF){NF.remove_pageOpened(ajM);NF=null;}};function ajM(sender,eventArgs){var al=cC.vW();if(eventArgs.documentIdentifier!==al.documentIdentifier||eventArgs.pageNumber!==al.pageNumber){ajK();cC.Mj(false);}};function agm(){if(!Mn){return;}if(!rN){rN=document.getElementById(Mn).aS;}if(rN){var aBb=cC.get_imGearPage();if(aBb){rN.set_imGearPage(cC.get_imGearPage());}}if(!rN){return;}ajK();rN.add_pageOpened(ajM);NF=rN;var al=cC.vW();if(al.encodedDocumentIdentifier!==''){rN.openPage({encodedDocumentIdentifier:al.encodedDocumentIdentifier,pageNumber:al.pageNumber,viewFitType:qu.viewFitType,viewRotationDegreesClockwise:qu.viewRotationDegreesClockwise,viewZoomFactor:qu.viewZoomFactor,artPage:al.artPage,imGearPage:cC.nl()});}};this.Yx=function(eQ){var og=false;if(IPCC.Web.mI.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mI.indexOf(eQ)>=0){return true;}}else{if(IPCC.Web.hA(IPCC.Web.mI,eQ)>=0){return true;}}}return og;};this.EJ=function(bq){qb++;var LV=qb;var XU;IPCC.fU.TO(bq);al=new IPCC.Web.UI.ThumbnailViewState();var G;for(G in bq){if(bq.hasOwnProperty(G)){al[G]=bq[G];}}if(bq.documentIdentifier===''){this.yL();return;}if(IPCC.Web.UI.ArtPage){if(al){if(!al.artPage){var bA=new IPCC.Web.UI.ArtPage();if(al.artPageJson){bA.loadFromJson(al.artPageJson);}al.artPage=bA;}if(this.hX()===true){if(!al.imGearPage){var ci=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bq.documentIdentifier,imageServicePath:this.mU()});ci.jw(cC.ea());al.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bq.pageNumber,aC:ci});al.imGearPage.jw(cC.ea());ci.get_pages().addPage(al.imGearPage);}if(!al.transientArtPage){al.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}ay('pageOpening',bq);if(nR){agm();}var bb=new IPCC.fU(bq.encodedDocumentIdentifier,bq.pageNumber,0,0,0,0);function auQ(){VX();if(bq.selected!==undefined){cC.set_selected(bq.selected);}al=null;};var nf=function(){if(LV!==qb){return;}var nT=null;if(J.cD()){nT=Cs();}J.wH(bb);if(bq.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(al){if(al.artPage){J.lw(al.artPage);J.fb().loadFromJson(bb.ahV);}}}else{if(al){if(al.artPage){J.lw(al.artPage);}if(J.hX()===true){if(al.imGearPage){J.sZ(al.imGearPage);}if(al.transientArtPage){J.tx(al.transientArtPage);}}}}auQ();qs();if(nT){ay('pageClosed',nT);}qs();ay('pageOpened',bq);};if(bq.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(al){if(!al.artPageJson){bb.ayi(J.mU(),J,nf,XU);}else{bb.Iw(J.mU(),J,nf);}}}else{bb.Iw(J.mU(),J,nf);}};this.yL=function(){al=null;J.wH(undefined);cC.cR();qs();ay('pageClosed',{});};this.EB=function(Aw){J.EB(Aw);};this.lw=function(T){J.lw(T);};this.fb=function(){return J.fb();};this.ks=function(){return J.ks();};this.tx=function(T){J.tx(T);};this.yT=function(){return J.yT();};this.ZY=function(T){J.ZY(T);};this.tX=function(T){J.tX(T);};this.mZ=function(){return J.mZ();};this.MB=function(an,cl){J.MB(an,cl);};this.yl=function(BI){J.yl(BI);};this.yB=function(){return J.yB();};this.RY=function(){return nR;};this.Mj=function(T){if(nR!==T){nR=T;qs();if(nR){agm();}this.raisePropertyChanged('selected');}};this.mU=function(){return J.mU();};this.Fd=function(T){IPCC.bB.iH(T,'value');J.Fd(T);if(!IPCC.Web.uK){if(IPCC.Web.wR===false){IPCC.Web.MD(T);}}};this.Jn=function(){return oC;};this.JP=function(T){IPCC.bB.iH(T,'value');oC=T;};this.SY=function(){return yG;};this.XA=function(T){yG=T;};this.arx=function(){return Mn;};this.aou=function(T){if(Mn!==T){Mn=T;rN=null;this.raisePropertyChanged('pageViewClientID');}};this.Nd=function(T){J.Nd(T);};this.Kk=function(){return J.Kk();};this.yY=function(T){J.yY(T);};this.JH=function(){return J.JH();};var om='';this.qt=function(T){J.qt(T);om=T;};this.gr=function(){return om;};function US(){VX();};this.hX=function(){return J.hX();};this.yH=function(T){J.yH(T);};this.dq=function(){return J.dq();};this.nl=function(){return J.nl();};this.sZ=function(T){J.sZ(T);};this.jE=function(){return J.jE();};this.sc=function(T){J.sc(T);};this.ea=function(){return J.ea();};this.jw=function(T){J.jw(T);};this.initialize=function(){var bN;J.ado(this.gr().id);bN=this.gr();bN.aS=this;var G;for(G=bN.childNodes.length-1;G>=0;G--){if(bN.childNodes[G].tagName!=='INPUT'){bN.removeChild(bN.childNodes[G]);}}J.afO();J.aw().set_cursor(IPCC.bO.None);J.aw().set_scrollBars(IPCC.Web.UI.ScrollBars.None);J.aw().set_presentationQuality(100);jR('mouseDown');jR('mouseMove');jR('mouseUp');jR('pageOpenFailed');jR('contextMenu');jR('textPageReady');jR('pageDisplayed');KF('markAdded');KF('markChanged');KF('markRemoved');KF('markReordered');KF('marksLoaded');aaQ();J.ahM(US);bN.aS=this;};J=new IPCC.ahD();J.adw('ThumbnailView');};IPCC.Web.UI.ThumbnailView.prototype={dispose:function(){this.bo('dispose',arguments);this.yL();},get_debug:function(){try{var L=this.ti();this.be('get_debug',arguments,L);return L;}catch(e){this.V('get_debug',e);throw e;}},set_debug:function(value){try{this.bo('set_debug',arguments);var lJ=this.ti();this.Bg(value);if(!lJ){this.bo('set_debug',arguments);}}catch(e){this.V('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var L=this.pk();this.be('get_debugErrorLevel',arguments,L);return L;}catch(e){this.V('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bo('set_debugErrorLevel',arguments);var lJ=this.pk();this.rA(value);if(lJ<IPCC.Web.UI.DebugErrorLevel.Development){this.bo('set_debugErrorLevel',arguments);}}catch(e){this.V('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var L=this.yB();this.be('get_artServiceOption',arguments,L);return L;}catch(e){this.V('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bo('set_artServiceOption',arguments);this.yl(value);}catch(e){this.V('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Ii(handler);}catch(e){this.V('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.JQ(handler);}catch(e){this.V('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.GL(handler);}catch(e){this.V('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Ju(handler);}catch(e){this.V('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.abQ(handler);}catch(e){this.V('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Vb(handler);}catch(e){this.V('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Be(handler);}catch(e){this.V('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.As(handler);}catch(e){this.V('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.HT(handler);}catch(e){this.V('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.IS(handler);}catch(e){this.V('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.zX(handler);}catch(e){this.V('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fu(handler);}catch(e){this.V('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GA(handler);}catch(e){this.V('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Gs(handler);}catch(e){this.V('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zK(handler);}catch(e){this.V('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Fs(handler);}catch(e){this.V('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.Yk(handler);}catch(e){this.V('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.UT(handler);}catch(e){this.V('remove_contextMenu',e);throw e;}},writeToLog:function(message){try{this.iU(message);}catch(e){this.V('writeToLog',e);throw e;}},get_documentIdentifier:function(){try{var L=this.vJ();this.be('get_documentIdentifier',arguments,L);return L;}catch(e){this.V('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var L=this.AZ();this.be('get_encodedDocumentIdentifier',arguments,L);return L;}catch(e){this.V('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var L=this.nu();this.be('get_pageNumber',arguments,L);return L;}catch(e){this.V('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var L=this.Wl();this.be('get_documentPageCount',arguments,L);return L;}catch(e){this.V('get_documentPageCount',e);throw e;}},get_pageWidth:function(){try{var L=this.nq();this.be('get_pageWidth',arguments,L);return L;}catch(e){this.V('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var L=this.mV();this.be('get_pageHeight',arguments,L);return L;}catch(e){this.V('get_pageHeight',e);throw e;}},get_currentState:function(){try{var L=this.vW();this.be('get_currentState',arguments,L);return L;}catch(e){this.V('get_currentState',e);throw e;}},openPage:function(parameters){try{this.bo('openPage',arguments,1);this.EJ(parameters);}catch(e){this.V('openPage',e);throw e;}},closePage:function(){try{this.bo('closePage',arguments);this.yL();}catch(e){this.V('closePage',e);throw e;}},saveArtPage:function(onSave){try{this.bo('saveArtPage',arguments);this.EB(onSave);}catch(e){this.V('saveArtPage',e);throw e;}},display:function(){try{this.bo('display',arguments);this.cR();}catch(e){this.V('display',e);throw e;}},get_controlStateElementId:function(){try{var L=this.Jn();this.be('get_controlStateElementId',arguments,L);return L;}catch(e){this.V('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bo('set_controlStateElementId',arguments);this.JP(value);}catch(e){this.V('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var L=this.SY();this.be('get_includeArtInPostBack',arguments,L);return L;}catch(e){this.V('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bo('set_includeArtInPostBack',arguments);this.XA(value);}catch(e){this.V('set_includeArtInPostBack',e);throw e;}},get_pageViewClientID:function(){try{var L=this.arx();this.be('get_pageViewClientID',arguments,L);return L;}catch(e){this.V('get_pageViewClientID',e);throw e;}},set_pageViewClientID:function(value){try{this.bo('set_pageViewClientID',arguments);this.aou(value);}catch(e){this.V('set_pageViewClientID',e);throw e;}},get_artPage:function(){try{var L=this.fb();this.be('get_artPage',arguments,L);return L;}catch(e){this.V('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bo('set_artPage',arguments);this.lw(value);}catch(e){this.V('set_artPage',e);throw e;}},get_transientArtPage:function(){try{var L=this.ks();this.be('get_transientArtPage',arguments,L);return L;}catch(e){this.V('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bo('set_transientArtPage',arguments);this.tx(value);}catch(e){this.V('set_transientArtPage',e);throw e;}},get_resourcePath:function(){try{var L=this.mZ();this.be('get_resourcePath',arguments,L);return L;}catch(e){this.V('get_resourcePath',e);throw e;}},set_resourcePath:function(T){try{this.bo('set_resourcePath',arguments);this.tX(T);}catch(e){this.V('set_resourcePath',e);throw e;}},get_imageHandlerUrl:function(){try{var L=this.mU();this.be('get_imageHandlerUrl',arguments,L);return L;}catch(e){this.V('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bo('set_imageHandlerUrl',arguments);this.Fd(value);}catch(e){this.V('set_imageHandlerUrl',e);throw e;}},get_selected:function(){try{var L=this.RY();this.be('get_selected',arguments,L);return L;}catch(e){this.V('get_selected',e);throw e;}},set_selected:function(value){try{this.bo('set_selected',arguments);this.Mj(value);}catch(e){this.V('set_selected',e);throw e;}},get_textRequired:function(){try{var L=this.hX();this.be('get_textRequired',arguments,L);return L;}catch(e){this.V('get_textRequired',e);throw e;}},set_textRequired:function(T){try{this.bo('set_textRequired',arguments);this.yH(T);}catch(e){this.V('set_textRequired',e);throw e;}},get_textPage:function(){try{var L=this.dq();this.be('get_textPage',arguments,L);return L;}catch(e){this.V('get_textPage',e);throw e;}},set_textPage:function(value){try{this.bo('set_textPage',arguments);this.anz(value);}catch(e){this.V('set_textPage',e);throw e;}},get_imGearPage:function(){try{var L=this.nl();this.be('get_imGearPage',arguments,L);return L;}catch(e){this.V('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bo('set_imGearPage',arguments);this.sZ(value);}catch(e){this.V('set_imGearPage',e);throw e;}},add_textPageReady:function(handler){try{this.vp(handler);}catch(e){this.V('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xj(handler);}catch(e){this.V('remove_textPageReady',e);throw e;}},get_requireRequestsOptimize:function(){try{var L=this.pn();this.be('get_requireRequestsOptimize',arguments,L);return L;}catch(e){this.V('pn',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bo('set_requireRequestsOptimize',arguments);this.rR(value);}catch(e){this.V('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var L=this.jE();this.be('get_serviceResponseTimeout',arguments,L);return L;}catch(e){this.V('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bo('set_serviceResponseTimeout',arguments);this.sc(value);}catch(e){this.V('set_serviceResponseTimeout',e);throw e;}},get_encryption:function(){try{var L=this.ea();this.be('get_encryption',arguments,L);return L;}catch(e){this.V('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bo('set_encryption',arguments);this.jw(value);}catch(e){this.V('set_encryption',e);throw e;}}};IPCC.Web.UI.ThumbnailView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailView.registerClass('IPCC.Web.UI.ThumbnailView',IPCC.Sys.UI.Control);IPCC.fm=function(jC,iK,hU,jc,eb,fj){if(arguments.length===0){jC=jc=1;iK=hU=eb=fj=0;}this.aeu=function(){return jC*jc-iK*hU;};this.aFz=function(){return jC===1&&iK===0&&hU===0&&jc===1&&eb===0&&fj===0;};this.pJ=function(){return jC;};this.rj=function(){return iK;};this.rH=function(){return hU;};this.uI=function(){return jc;};this.xz=function(){return eb;};this.xJ=function(){return fj;};this.append=function(dK){var Ik=jC*dK.pJ()+iK*dK.rH();var Ia=jC*dK.rj()+iK*dK.uI();var GR=hU*dK.pJ()+jc*dK.rH();var HC=hU*dK.rj()+jc*dK.uI();var HA=eb*dK.pJ()+fj*dK.rH()+dK.xz();var HS=eb*dK.rj()+fj*dK.uI()+dK.xJ();jC=Ik;iK=Ia;hU=GR;jc=HC;eb=HA;fj=HS;};this.equals=function(T){if(jC!==T.pJ()){return false;}if(iK!==T.rj()){return false;}if(hU!==T.rH()){return false;}if(jc!==T.uI()){return false;}if(eb!==T.xz()){return false;}if(fj!==T.xJ()){return false;}return true;};this.yd=function(){if(!this.adt()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Fh=this.aeu();var Ik=jc/Fh;var Ia= -iK/Fh;var GR= -hU/Fh;var HC=jC/Fh;var HA=(hU*fj-jc*eb)/Fh;var HS=(iK*eb-jC*fj)/Fh;jC=Ik;iK=Ia;hU=GR;jc=HC;eb=HA;fj=HS;};this.AK=function(dK){var Ik=dK.pJ()*jC+dK.rj()*hU;var Ia=dK.pJ()*iK+dK.rj()*jc;var GR=dK.rH()*jC+dK.uI()*hU;var HC=dK.rH()*iK+dK.uI()*jc;var HA=dK.xz()*jC+dK.xJ()*hU+eb;var HS=dK.xz()*iK+dK.xJ()*jc+fj;jC=Ik;iK=Ia;hU=GR;jc=HC;eb=HA;fj=HS;};this.xQ=function(lx,sg,oe,nQ){eb-=oe;fj-=nQ;this.scale(lx,sg);eb+=oe;fj+=nQ;};this.aoZ=function(){jC=jc=1;iK=hU=eb=fj=0;};this.transform=function(aX){var aD=aX.x*jC+aX.y*hU+eb;var dZ=aX.y*jc+aX.x*iK+fj;return new IPCC.Web.UI.Point(aD,dZ);};this.op=function(WZ,WX){eb+=WZ;fj+=WX;};this.aBe=function(T){if(Math.abs(jC-T.pJ())>1e-8){return false;}if(Math.abs(iK-T.rj())>1e-8){return false;}if(Math.abs(hU-T.rH())>1e-8){return false;}if(Math.abs(jc-T.uI())>1e-8){return false;}if(Math.abs(eb-T.xz())>1e-8){return false;}if(Math.abs(fj-T.xJ())>1e-8){return false;}return true;};this.toString=function(){return '{'+jC.toFixed(6)+', '+iK.toFixed(6)+', '+hU.toFixed(6)+', '+jc.toFixed(6)+', '+eb.toFixed(3)+', '+fj.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fm(jC,iK,hU,jc,eb,fj);};this.Qw=function(fP){jC=fP.pJ();iK=fP.rj();hU=fP.rH();jc=fP.uI();eb=fP.xz();fj=fP.xJ();};this.adW=function(bL,aJ){jC=1;jc=aJ.gK*bL.gE/(bL.gK*aJ.gE);iK=hU=eb=fj=0;};this.WO=function(ae,bL,aJ){switch(ae){case IPCC.Web.UI.FitType.FullImage:this.aiI(bL,aJ);break;case IPCC.Web.UI.FitType.FullWidth:this.ajd(bL,aJ);break;case IPCC.Web.UI.FitType.FullHeight:this.aiT(bL,aJ);break;case IPCC.Web.UI.FitType.ActualSize:this.aiY(bL,aJ);break;case IPCC.Web.UI.FitType.OneToOne:if(!(bL.rK)){this.aiY(bL,aJ);}else{this.aqq(bL,aJ);}break;}};this.ajd=function(bL,aJ){var oz=this.sn(bL);var AX=aJ.width-2;if(AX<1){AX=1;}var av=AX/oz.width;this.scale(av,av);oz=this.sn(bL);if(oz.y<0){this.op(0,-oz.y);}};this.aiT=function(bL,aJ){var oz=this.sn(bL);var AX=aJ.height-2;if(AX<1){AX=1;}var av=AX/oz.height;this.scale(av,av);oz=this.sn(bL);if(oz.x<0){this.op(-oz.x,0);}};this.aiI=function(bL,aJ){var nn=this.clone();nn.ajd(bL,aJ);this.aiT(bL,aJ);if(Math.max(Math.abs(jC),Math.abs(iK))>Math.max(Math.abs(nn.pJ()),Math.abs(nn.rj()))){this.Qw(nn);}};this.aiY=function(bL,aJ){var oz=this.sn({x:0,y:0,width:bL.gE,height:bL.gK});var av=aJ.gE/oz.width;this.scale(av,av);};this.aqq=function(bL,aJ){var oz=this.sn({x:0,y:0,width:1,height:1});var av=1/Math.min(oz.width,oz.height);this.scale(av,av);if(Math.abs(jC-1)<0.0001){jC=1;}if(Math.abs(jc-1)<0.0001){jc=1;}};return this;};IPCC.fm.prototype.adt=function(){return Math.abs(this.aeu())>1e-14;};IPCC.fm.prototype.rotate=function(Bv){this.afg(Bv,0,0);};IPCC.fm.prototype.afg=function(Bv,oe,nQ){var GZ=Bv*Math.PI*2/360;var iP=Math.sin(GZ);var fk=Math.cos(GZ);var dK=new IPCC.fm(fk,iP,-iP,fk,oe*(1-fk)+nQ*iP,nQ*(1-fk)-oe*iP);this.append(dK);};IPCC.fm.prototype.azL=function(Bv,oe,nQ){var GZ=Bv*Math.PI*2/360;var iP=Math.sin(GZ);var fk=Math.cos(GZ);var dK=new IPCC.fm(fk,iP,-iP,fk,oe*(1-fk)+nQ*iP,nQ*(1-fk)-oe*iP);this.AK(dK);};IPCC.fm.prototype.aFW=function(Bv){this.azL(Bv,0,0);};IPCC.fm.prototype.scale=function(lx,sg){var dK=new IPCC.fm(lx,0,0,sg,0,0);this.append(dK);};IPCC.fm.prototype.aDt=function(lx,sg,oe,nQ){var dK=new IPCC.fm(lx,0,0,sg,oe*(1-lx),nQ*(1-sg));this.AK(dK);};IPCC.fm.prototype.aDg=function(lx,sg){var dK=new IPCC.fm(lx,0,0,sg,0,0);this.AK(dK);};IPCC.fm.prototype.skew=function(pV,qr){var dK=new IPCC.fm(1,Math.tan(qr*Math.PI*2/360),Math.tan(pV*Math.PI*2/360),1,0,0);this.append(dK);};IPCC.fm.prototype.aEu=function(pV,qr){var dK=new IPCC.fm(1,Math.tan(qr*Math.PI*2/360),Math.tan(pV*Math.PI*2/360),1,0,0);this.AK(dK);};IPCC.fm.prototype.aEz=function(WZ,WX){var dK=new IPCC.fm(1,0,0,1,WZ,WX);this.AK(dK);};IPCC.fm.prototype.sz=function(F){var fS=this.transform({x:F.x,y:F.y});var mG=fS.x;var pa=fS.x;var mv=fS.y;var ps=fS.y;fS=this.transform({x:F.x+F.width,y:F.y});mG=Math.min(mG,fS.x);pa=Math.max(pa,fS.x);mv=Math.min(mv,fS.y);ps=Math.max(ps,fS.y);fS=this.transform({x:F.x+F.width,y:F.y+F.height});mG=Math.min(mG,fS.x);pa=Math.max(pa,fS.x);mv=Math.min(mv,fS.y);ps=Math.max(ps,fS.y);fS=this.transform({x:F.x,y:F.y+F.height});mG=Math.min(mG,fS.x);pa=Math.max(pa,fS.x);mv=Math.min(mv,fS.y);ps=Math.max(ps,fS.y);return new IPCC.Web.UI.Rectangle(mG,mv,pa-mG,ps-mv);};IPCC.fm.prototype.amC=function(bL,aJ,dV){var aiC=this.clone();aiC.yd();var axs=aiC.transform({x:dV.x+dV.width/2,y:dV.y+dV.height/2});var av=Math.min(aJ.width/dV.width,aJ.height/dV.height);av-=1e-10;var kO=this.uW();if(kO*av>bL.rC){av=bL.rC/kO;}if(kO*av<bL.sY){av=bL.sY/kO;}this.scale(av,av);this.ain(aJ,axs);};IPCC.fm.prototype.QP=function(bL,aJ,eV){this.amC(bL,aJ,this.sz(eV));};IPCC.fm.prototype.aDo=function(aJ){this.xQ(1,-1,aJ.width/2,aJ.height/2);};IPCC.fm.prototype.amU=function(aJ){this.xQ(-1,1,aJ.width/2,aJ.height/2);};IPCC.fm.prototype.ZE=function(avz,ahs){var aaf=this.transform(avz);this.op(ahs.x-aaf.x,ahs.y-aaf.y);};IPCC.fm.prototype.ain=function(aJ,cZ){var aeH=this.transform(cZ);this.op(aJ.width/2-aeH.x,aJ.height/2-aeH.y);};IPCC.fm.prototype.jX=function(bb,aJ){var aD=0,dZ=0,end;var oc=this.sn(bb);if(oc.width<aJ.width){aD=(aJ.width-oc.width)/2-oc.x;}else{end=oc.x+oc.width;if(end<aJ.width){aD=aJ.width-end;}if(oc.x>0){aD= -oc.x;}}if(oc.height<aJ.height){dZ=(aJ.height-oc.height)/2-oc.y;}else{end=oc.y+oc.height;if(end<aJ.height){dZ=aJ.height-end;}if(oc.y>0){dZ= -oc.y;}}this.op(aD,dZ);};IPCC.fm.prototype.sn=function(bb){return this.sz({x:0,y:0,width:bb.width,height:bb.height});};IPCC.fm.prototype.Jh=function(){var hS,At,gk,yE,afE,iQ;hS=this.transform({x:0,y:0});At=this.transform({x:0,y:1});gk=this.transform({x:1,y:0});yE=Math.atan2(At.y-hS.y,At.x-hS.x);afE=Math.atan2(gk.y-hS.y,gk.x-hS.x);iQ=yE-afE;if(iQ>Math.PI){iQ=iQ-2*Math.PI;}if(iQ< -Math.PI){iQ=iQ+2*Math.PI;}return iQ<0;};IPCC.fm.prototype.Dg=function(){var hS,At,yE;hS=this.transform({x:0,y:0});At=this.transform({x:0,y:1});yE=Math.atan2(At.y-hS.y,At.x-hS.x)-Math.PI/2;if(yE<0){yE=yE+2*Math.PI;}return yE*360/(Math.PI*2);};IPCC.fm.prototype.uW=function(){var gS;var hS,qf;var fw,eG,bk;hS=this.transform({x:0,y:0});qf=this.transform({x:1,y:0});fw=qf.x-hS.x;eG=qf.y-hS.y;gS=fw*fw+eG*eG;qf=this.transform({x:0,y:1});fw=qf.x-hS.x;eG=qf.y-hS.y;bk=Math.min(gS,fw*fw+eG*eG);qf=this.transform({x:1,y:1});fw=qf.x-hS.x;eG=qf.y-hS.y;bk=Math.min(gS,fw*fw+eG*eG);qf=this.transform({x:1,y: -1});fw=qf.x-hS.x;eG=qf.y-hS.y;bk=Math.min(gS,fw*fw+eG*eG);return Math.sqrt(gS);};IPCC.fm.aFM=function(){return new IPCC.fm(1,0,0,1,0,0);};IPCC.DF=function(bf,cY,gE,gK){this.width=bf;this.height=cY;this.gE=gE;this.gK=gK;return this;};IPCC.DF.prototype=new IPCC.Web.UI.Rectangle(0,0,0,0);IPCC.DF.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gE+', '+this.gK+')';};IPCC.fU=function(mz,aQ,bf,cY,gE,gK){this.width=bf;this.height=cY;this.gE=gE;this.gK=gK;this.aQ=aQ||0;this.fh=0;this.rK=true;this.ahV={};this.Ap=false;var C=this;this.aQ=aQ;this.get_url=function(hh,fn,bq){fn=fn||'Image';bq=bq||'';var GD=IPCC.fU.IX(mz);var Fk=false;if(/^[\x00-\x7F]*$/.test(GD)){Fk=true;}if(bq===null||bq===''){if(fn==='Attributes'){var sd='';if(!IPCC.wz.BP()){sd='&ContentType=png';}if(!Fk){return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=e'+mz+sd;}else{return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=u'+encodeURIComponent(GD)+sd;}}else{if(fn==='SvgImage'){if(!Fk){return hh+'/Page/q/'+aQ.toString()+'?DocumentID=e'+mz+'&'+bq;}else{return hh+'/Page/q/'+aQ.toString()+'?DocumentID=u'+encodeURIComponent(GD)+'&'+bq;}}if(!Fk){return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=e'+mz+'&'+bq;}else{return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=u'+encodeURIComponent(GD)+'&'+bq;}}}else{if(fn==='SvgImage'){if(!Fk){return hh+'/Page/q/'+aQ.toString()+'?DocumentID=e'+mz+'&'+bq;}else{return hh+'/Page/q/'+aQ.toString()+'?DocumentID=u'+encodeURIComponent(GD)+'&'+bq;}}if(!Fk){return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=e'+mz+'&'+bq;}else{return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=u'+encodeURIComponent(GD)+'&'+bq;}}};this.get_urlArt=function(hh,fn,bq){fn=fn||'Art';bq=bq||'';if(bq===null||bq===''){if(fn==='Art'){return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=e'+mz;}}else{return hh+'/Page/q/'+aQ.toString()+'/'+fn+'?DocumentID=e'+mz+'&'+bq;}};this.get_identifier=function(){return IPCC.fU.IX(mz);};this.get_encodedIdentifier=function(){return mz;};this.toString=function(){return 'Image("'+mz+'", '+this.aQ+', '+this.width+' x '+this.height+', '+this.gE+', '+this.gK+')';};function aeh(amT,J){if(J.Kk()){C.rK=true;C.Ap=false;return;}var Vm=amT.split(',');var kZ=false;for(var aN=0;aN<Vm.length;aN++){if(Vm[aN]==="SVG"||Vm[aN]==="svg"){if(IPCC.wz.BP()){C.Ap=true;C.rK=false;}else{C.Ap=false;}kZ=true;break;}}if(!kZ){C.Ap=false;C.rK=true;}if(J){if(J.LC){J.LC(C.Ap);}}};this.Iw=function(hh,J,zk){J.aQ=this.aQ;var lj=0;var lP=J.pn();if(lP){if(document.documentMode<9){lP=false;}}var ij=true;if(J.jE()===0){ij=false;}var nf=function(fe){try{if(fe===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fe.errorCode){if(fe.errorCode==='SvgNotAvailable'){lP=false;C.width= +(fe.pageAttributes.imageWidth);C.height= +(fe.pageAttributes.imageHeight);C.gE= +(fe.pageAttributes.imageXResolution);if(C.gE<=0){C.gE=72;}C.gK= +(fe.pageAttributes.imageYResolution);if(C.gK<=0){C.gK=72;}C.fh= +(fe.pageAttributes.pageCount);C.rK=fe.pageAttributes.isRaster!=='false';aeh(fe.pageAttributes.contentType,J);}}else{C.width= +(fe.imageWidth);C.height= +(fe.imageHeight);C.gE= +(fe.imageXResolution);if(C.gE<=0){C.gE=72;}C.gK= +(fe.imageYResolution);if(C.gK<=0){C.gK=72;}C.fh= +(fe.pageCount);C.rK=fe.isRaster!=='false';aeh(fe.contentType,J);}var nr=bh.getResponseHeader("Accusoft-Data-Encrypted");var Hv=false;if(nr==="true"){Hv=true;}J.acS(Hv);if(zk){zk();}}catch(e){J.V('openPage',e);if(typeof(J.ay)==='function'){var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};var bh=new XMLHttpRequest(),ru,ly,Uk=function(){ru=null;ly=true;bh.abort();},MQ=function(){ly=false;ru=setTimeout(Uk,J.jE());},JC=function(){if(!ru){return;}clearTimeout(ru);ru=null;};function Nb(){lP=false;if(lj<1){bh.open('GET',C.get_url(hh,'Attributes'),true);bh.setRequestHeader('Content-Type','application/json');bh.onreadystatechange=ma;lj++;if(ij===true){MQ();}bh.send();}};var axT=function(gT){var bf;var cY;function atP(){var MP;try{if(typeof JSON!=='undefined'){MP=JSON.parse(gT);}else{MP=IPCC.ct.nP(gT);}}catch(aH){MP=undefined;lP=true;}return MP;};try{bf=gT.match(/width=\"([0-9.]+)\"/);cY=gT.match(/height=\"([0-9.]+)\"/);if(bf&&cY){bf=Number(bf[1]);cY=Number(cY[1]);}else{throw "error";}if(isNaN(bf)||isNaN(cY)){throw "error";}C.width=bf;C.height=cY;C.gE=72;C.gK=72;C.Ap=true;C.rK=false;if(J){if(typeof(J.LC==='function')){J.LC(C.Ap);}}if(zk){zk();}}catch(e){var bQ=atP();if(bQ){nf(bQ,bh.status);return;}if(lP){if(lj<1){lP=false;setTimeout(Nb,10);return;}}J.V('openPage',e);if(typeof(J.ay)==='function'){var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};function ma(){try{var dH,bQ,db,ko;var ku;var jq=dH;if(bh.readyState===4){dH=bh.status;if(bh.status===200){bQ=null;try{if(ij===true){JC();}if(!lP){if(typeof JSON!=='undefined'){bQ=JSON.parse(bh.responseText);}else{bQ=IPCC.ct.nP(bh.responseText);}nf(bQ,bh.status);}else{var lA;var nr=bh.getResponseHeader("Accusoft-Data-Encrypted");if(nr==='true'&&J.ea()===true){var sV=IPCC.Web.gH.qk.rE(bh.getResponseHeader("Accusoft-Data-SK"));var aB=IPCC.Web.EI(sV,hk);var cQ=IPCC.Web.BB(bh);var sG=IPCC.Web.zL(cQ,aB,hk);lA=IPCC.Web.gH.Fr.lL(sG);}else{lA=bh.responseText;}var BO;if(lA.length>=1000){BO=lA.substring(0,1000);}else{BO=lA.substring(0,lA.length);}axT(BO);}}catch(ex){if(lP){lP=false;if(lj<1){setTimeout(Nb,10);return;}}db="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,db);}}else if((dH<200)||(dH>=300)){if(ij===true){JC();}if(dH===480){lj++;if(bh.statusText&&bh.statusText!==""){db=db="PDF file password required, error message from the server: "+bh.statusText;}else{db="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}if(dH===403){lj++;if(bh.statusText&&bh.statusText!==""){db="Expired viewer session ID, error message from the server: "+bh.statusText;}else{db="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}if(lP){lP=false;if(lj<1){setTimeout(Nb,10);return;}}jq=bh.status;ko=bh.getResponseHeader('Accusoft-Status-Message');if(ko){var nD;ku=bh.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wy(ku)){nD=parseInt(ku,10);}throw new IPCC.Web.UI.ImGearHttpException(jq,ko,nD);}else if(ly){throw new IPCC.Web.UI.ImGearHttpException(jq,"Client timed out on load");}else{if(bh.statusText&&bh.statusText!==""){db="Error message from the service: "+bh.statusText;}else{db="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(jq,db);}}}}catch(e){if(lP){lP=false;if(lj<1){setTimeout(Nb,10);return;}}J.V('openPage',e);if(typeof(J.ay)==='function'){var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};var hk=IPCC.Web.oq.Ql(4,IPCC.Web.Rr());var lM=IPCC.Web.gH.DX.lL(hk);if(!lP){bh.open('GET',this.get_url(hh,'Attributes'),true);bh.setRequestHeader('Content-Type','application/json');}else{var cb;if(J.ea()===true){hk=IPCC.Web.oq.VR(4,IPCC.Web.Rr());lM=IPCC.Web.gH.DX.lL(hk);if(document.documentMode===10||IPCC.aY.Bc){cb=this.get_url(hh,'SvgImage','Scale=1&ContentType=svg'+'&iv='+lM);}else{cb=this.get_url(hh,'SvgImage','Scale=1&ContentType=svga'+'&iv='+lM);}}else{if(document.documentMode===10||IPCC.aY.Bc){cb=this.get_url(hh,'SvgImage','Scale=1&ContentType=svg');}else{cb=this.get_url(hh,'SvgImage','Scale=1&ContentType=svga');}}bh.open('GET',cb,true);bh.responseType='text';bh.open('GET',cb,true);}bh.onreadystatechange=ma;if(ij===true){MQ();}bh.send();};this.ayy=function(hh,J,zk){J.aQ=this.aQ;var lj=0;var ij=true;if(J.jE()===0){ij=false;}var nf=function(fe){try{if(fe===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}C.width= +(fe.imageWidth);C.height= +(fe.imageHeight);C.gE= +(fe.imageXResolution);if(C.gE<=0){C.gE=72;}C.gK= +(fe.imageYResolution);if(C.gK<=0){C.gK=72;}C.fh= +(fe.pageCount);C.rK=true;var nr=bh.getResponseHeader("Accusoft-Data-Encrypted");var Hv=false;if(nr==="true"){Hv=true;}J.acS(Hv);if(zk){zk();}}catch(e){J.V('openPage',e);if(typeof(J.ay)==='function'){var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};var bh=new XMLHttpRequest(),ru,ly,Uk=function(){ru=null;ly=true;bh.abort();},MQ=function(){ly=false;ru=setTimeout(Uk,J.jE());},JC=function(){if(!ru){return;}clearTimeout(ru);ru=null;};function ma(){try{var dH,bQ,db,ko;var ku;var jq=dH;if(bh.readyState===4){dH=bh.status;if(bh.status===200){bQ=null;try{if(ij===true){JC();}if(typeof JSON!=='undefined'){bQ=JSON.parse(bh.responseText);}else{bQ=IPCC.ct.nP(bh.responseText);}nf(bQ,bh.status);}catch(ex){db="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,db);}}else if((dH<200)||(dH>=300)){if(ij===true){JC();}if(dH===480){lj++;if(bh.statusText&&bh.statusText!==""){db=db="PDF file password required, error message from the server: "+bh.statusText;}else{db="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}if(dH===403){lj++;if(bh.statusText&&bh.statusText!==""){db="Expired viewer session ID, error message from the server: "+bh.statusText;}else{db="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}jq=bh.status;ko=bh.getResponseHeader('Accusoft-Status-Message');if(ko){var nD;ku=bh.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wy(ku)){nD=parseInt(ku,10);}throw new IPCC.Web.UI.ImGearHttpException(jq,ko,nD);}else if(ly){throw new IPCC.Web.UI.ImGearHttpException(jq,"Client timed out on load");}else{if(bh.statusText&&bh.statusText!==""){db="Error message from the service: "+bh.statusText;}else{db="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(jq,db);}}}}catch(e){J.V('openPageForRaster',e);if(typeof(J.ay)==='function'){var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};bh.open('GET',this.get_url(hh,'Attributes'),true);bh.setRequestHeader('Content-Type','application/json');bh.onreadystatechange=ma;if(ij===true){MQ();}bh.send();};return this;};IPCC.fU.prototype=new IPCC.DF(0,0,0,0);IPCC.fU.prototype.clone=function(){var Xs=new IPCC.fU(this.get_encodedIdentifier(),this.aQ,this.width,this.height,this.gE,this.gK);Xs.fh=this.fh;Xs.rK=this.rK;return Xs;};IPCC.fU.prototype.equals=function(T){if(this.get_encodedIdentifier()!==T.get_encodedIdentifier()){return false;}if(this.aQ!==T.aQ){return false;}return true;};IPCC.fU.prototype.rC=8;IPCC.fU.prototype.sY=0.000001;IPCC.fU.TO=function(bq){var JW=bq.referenceDocumentIdentifier;var acC=IPCC.fU.sL(JW);var gV=bq.encodedDocumentIdentifier;var jO=bq.documentIdentifier;var dS;if(gV===''){gV=undefined;}if(jO===''){jO=undefined;}if(JW&&JW!==''){if(gV===acC){gV=undefined;}if(jO===JW){jO=undefined;}}if(jO){dS=IPCC.fU.sL(jO);if(gV){if(gV!==dS){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gV=dS;}}else{if(gV){jO=IPCC.fU.IX(gV);}}if(!gV){jO=JW;gV=acC;}var aa=bq.pageNumber;var acd=bq.referencePageNumber;if(aa===acd){aa=undefined;}if(aa!==0&& !aa){aa=acd;}bq.encodedDocumentIdentifier=gV;bq.documentIdentifier=jO;bq.pageNumber=aa;};IPCC.fU.sL=function(kI){if(!kI||kI===''){return '';}var mh=[];var G;for(G=0;G<kI.length;G++){mh.push(kI.charCodeAt(G)%256);mh.push(Math.floor(kI.charCodeAt(G)/256));}mh.push(0);mh.push(0);var QI='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var re=[],ts;for(G=0;G<mh.length-1;G+=3){ts=mh[G]*0x10000+mh[G+1]*0x100+mh[G+2];re.push(QI.charAt(Math.floor(ts/0x40000)));re.push(QI.charAt(Math.floor(ts/0x1000)%0x40));re.push(QI.charAt(Math.floor(ts/0x40)%0x40));re.push(QI.charAt(ts%0x40));}var XJ=Math.ceil(kI.length*16/6);while(re.length>XJ){re.pop();}if((re.length%4)===3){re.push('1');}else if((re.length%4)===2){re.push('2');}else if((re.length%4)===0){re.push('0');}return re.join('');};IPCC.fU.IX=function(mz){if(!mz||mz===''){return '';}var ahI=mz.length-1;var Pw=[],ts;var pN,mh=[],os=[];var G;for(G=0;G<ahI;G++){pN=mz.charCodeAt(G);if(pN>64&&pN<91){os.push(pN-65);}else if(pN>96&&pN<123){os.push(pN-97+26);}else if(pN>47&&pN<58){os.push(pN-48+52);}else if(pN===45){os.push(62);}else if(pN===95){os.push(63);}else{return '';}}os.push(0);os.push(0);os.push(0);for(G=0;G<os.length-3;G+=4){ts=os[G]*0x40000+os[G+1]*0x1000+os[G+2]*0x40+os[G+3];mh.push(Math.floor(ts/0x10000));mh.push(Math.floor(ts/0x100)%256);mh.push(ts%256);}for(G=0;G<mh.length-1;G+=2){Pw.push(String.fromCharCode(mh[G]+mh[G+1]*0x100));}var XJ=Math.floor(ahI*6/16);while(Pw.length>XJ){Pw.pop();}return Pw.join('');};IPCC.ur=function(){this.ax=false;this.J=false;};IPCC.ur.prototype.mN=function(J){J.aw().set_cursor(IPCC.bO.Magnifier);this.J=J;};IPCC.ur.prototype.ff=function(){this.J=false;};IPCC.ur.prototype.aP=function(){if(this.ax){this.J.aw().hideMagnifier();this.J.aw().set_cursor(this.je);this.ax=false;}};IPCC.ur.prototype.ta=function(){this.aP();};IPCC.ur.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){this.je=this.J.aw().get_cursor();this.J.aw().set_cursor(IPCC.bO.None);this.ax=true;this.J.aw().showMagnifier(K.windowPoint);this.J.cR();}};IPCC.ur.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){this.J.aw().showMagnifier(K.windowPoint);this.J.cR();}};IPCC.ur.prototype.jF=function(){this.aP();this.J.cR();};IPCC.ur.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.oR=function(){this.ax=false;this.J=false;};IPCC.oR.prototype.mN=function(J){J.aw().set_cursor(IPCC.bO.RectangleZoom);this.J=J;};IPCC.oR.prototype.ff=function(){this.J=false;};IPCC.oR.prototype.aP=function(){if(this.ax){this.J.aw().rg();this.J.aw().set_cursor(this.je);this.ax=false;this.J.cR();}};IPCC.oR.prototype.ta=function(){this.aP();this.J.cR();};IPCC.oR.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(IPCC.bO.RectangleZoom);this.ax=true;bC.FN(K.constrainedImagePoint);this.uj=K.windowPoint;this.J.cR();}};IPCC.oR.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){var bC=this.J.aw();bC.BD(K.constrainedImagePoint);this.J.cR();}};IPCC.oR.prototype.jF=function(K){if(this.ax&&K.domEvent.button===0){var dS=K.windowPoint.x-this.uj.x;var gS=dS*dS;dS=K.windowPoint.y-this.uj.y;gS+=dS*dS;if(gS>25){var J=this.J;var bC=J.aw();var bu=bC.ge();var aJ=J.ee();var axf=aJ.width;var ayg=aJ.height;var bL=J.cD();bC.BD(K.constrainedImagePoint);var jT=bC.yV();bC.rg();J.ay('userModifiedViewState',{});bu.QP(bL,aJ,jT);bu.jX(bL,aJ);bC.jj(bu);J.cR();if(axf!==aJ.width||ayg!==aJ.height){bu=bC.ge();bu.QP(bL,aJ,jT);bu.jX(bL,aJ);bC.jj(bu);}}}this.aP();};IPCC.oR.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.oR.prototype.lO=function(){this.aP();};IPCC.rY=function(){this.ax=false;this.J=false;};IPCC.rY.prototype.mN=function(J){J.aw().set_cursor(IPCC.bO.HandOpen);this.J=J;};IPCC.rY.prototype.ff=function(){this.J=false;};IPCC.rY.prototype.aP=function(){if(this.ax){this.J.aw().set_cursor(this.je);this.ax=false;}};IPCC.rY.prototype.ta=function(){this.aP();};IPCC.rY.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){this.je=this.J.aw().get_cursor();this.J.aw().set_cursor(IPCC.bO.HandClosed);this.ax=true;this.RK=K.imagePoint;}};IPCC.rY.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){var J=this.J;var bC=J.aw();var bu=bC.ge();var aJ=J.ee();bu.ZE(this.RK,K.windowPoint);bu.jX(J.cD(),aJ);J.ay('userModifiedViewState',{});bC.jj(bu);J.cR();}};IPCC.rY.prototype.jF=function(){this.aP();};IPCC.rY.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.rY.prototype.lO=function(){this.aP();};IPCC.rs=function(){this.ax=false;this.J=false;};IPCC.rs.prototype.mN=function(J){J.aw().set_cursor(IPCC.bO.Crosshair);this.J=J;};IPCC.rs.prototype.ff=function(){this.J=false;};IPCC.rs.prototype.aP=function(){if(this.ax){this.J.rg();this.J.aw().set_cursor(this.je);this.ax=false;this.J.cR();}};IPCC.rs.prototype.ta=function(){this.aP();};IPCC.rs.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(IPCC.bO.Crosshair);this.ax=true;bC.FN(K.constrainedImagePoint);this.J.cR();}};IPCC.rs.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){var bC=this.J.aw();bC.BD(K.constrainedImagePoint);this.J.cR();}};IPCC.rs.prototype.jF=function(K){if(K.domEvent.button===0){this.ax=false;}this.aP();};IPCC.rs.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.rs.prototype.lO=function(){this.aP();};IPCC.eu=function(){this.J=false;this.apv=1.5;};IPCC.eu.prototype.mN=function(J){this.J=J;};IPCC.eu.prototype.ff=function(){this.J=false;};IPCC.eu.prototype.aP=function(){};IPCC.eu.prototype.lO=function(K){var bC=this.J.aw();var bL=this.J.cD();var aJ=this.J.ee();var bu=bC.ge();var RZ=K.wheelDelta/120;if(K.domEvent.ctrlKey){K.domEvent.preventDefault();var av=((this.apv-1)/2)+1;if(RZ<0){av=1/av;}var kO=bu.uW();if(kO*av>bL.rC){av=bL.rC/kO;}if(kO*av<bL.sY){av=bL.sY/kO;}bu.xQ(av,av,K.windowPoint.x,K.windowPoint.y);bu.jX(bL,aJ);this.J.ay('userModifiedViewState',{});bC.jj(bu);}else{var anh=bu.transform({x:0,y:0});bu.op(0,RZ*aJ.gK);bu.jX(bL,aJ);var amn=bu.transform({x:0,y:0});if(Math.abs(anh.x-amn.x)>0.001||Math.abs(anh.y-amn.y)>0.001){K.domEvent.preventDefault();this.J.ay('userModifiedViewState',{});bC.jj(bu);}}this.J.cR();};IPCC.eH=function(bE){this.ax=false;this.J=false;this.bE=bE;switch(this.bE){case IPCC.Web.UI.MarkType.Rectangle:this.bp=IPCC.bO.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.bp=IPCC.bO.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:this.bp=IPCC.bO.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.bp=IPCC.bO.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.bp=IPCC.bO.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.bp=IPCC.bO.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.bp=IPCC.bO.AddRectangleMark;break;}};IPCC.eH.prototype.mN=function(J){J.aw().set_cursor(this.bp);this.J=J;};IPCC.eH.prototype.ff=function(){this.J=false;};IPCC.eH.prototype.aP=function(){if(this.ax){this.H=null;this.J.qi(null);this.J.aw().set_cursor(this.je);this.ax=false;this.J.cR();}};IPCC.eH.prototype.ta=function(){this.aP();};IPCC.eH.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(this.bp);this.ax=true;this.H=new IPCC.Web.UI.Mark(this.bE);this.H.set_rectangle({x:K.imagePoint.x,y:K.imagePoint.y,width:0,height:0});this.J.qi(this.H);this.rI=K.imagePoint;this.uj=K.windowPoint;}};IPCC.eH.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){var lQ={x:Math.min(K.imagePoint.x,this.rI.x),y:Math.min(K.imagePoint.y,this.rI.y)};lQ.width=Math.max(K.imagePoint.x,this.rI.x)-lQ.x;lQ.height=Math.max(K.imagePoint.y,this.rI.y)-lQ.y;this.H.set_rectangle(lQ);this.J.cR();}};IPCC.eH.prototype.jF=function(K){if(this.ax&&K.domEvent.button===0){var dS=K.windowPoint.x-this.uj.x;var gS=dS*dS;dS=K.windowPoint.y-this.uj.y;gS+=dS*dS;if(gS>25){var lQ={x:Math.min(K.imagePoint.x,this.rI.x),y:Math.min(K.imagePoint.y,this.rI.y)};lQ.width=Math.max(K.imagePoint.x,this.rI.x)-lQ.x;lQ.height=Math.max(K.imagePoint.y,this.rI.y)-lQ.y;this.J.qi(null);this.H.set_rectangle(lQ);var as=this.H;var J=this.J;var qZ={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.J.fb().addMark(this.H,qZ);if(as.lk()===IPCC.Web.UI.MarkType.Text||as.lk()===IPCC.Web.UI.MarkType.TextLine){J.zA(as);}J.cR();}}this.aP();};IPCC.eH.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.eH.prototype.lO=function(){this.aP();};IPCC.qU=function(){this.ax=false;this.J=false;this.bp=IPCC.bO.AddLineMark;};IPCC.qU.prototype.mN=function(J){J.aw().set_cursor(this.bp);this.J=J;};IPCC.qU.prototype.ff=function(){this.J=false;};IPCC.qU.prototype.aP=function(){if(this.ax){this.H=null;this.J.qi(null);this.J.aw().set_cursor(this.je);this.ax=false;this.J.cR();}};IPCC.qU.prototype.ta=function(){this.aP();};IPCC.qU.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(this.bp);this.ax=true;this.H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.H.get_points().setPoint(0,K.imagePoint);this.H.get_points().setPoint(1,K.imagePoint);this.J.qi(this.H);this.rI=K.imagePoint;this.uj=K.windowPoint;}};IPCC.qU.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){this.H.get_points().setPoint(1,K.imagePoint);this.J.cR();}};IPCC.qU.prototype.jF=function(K){if(this.ax&&K.domEvent.button===0){var dS=K.windowPoint.x-this.uj.x;var gS=dS*dS;dS=K.windowPoint.y-this.uj.y;gS+=dS*dS;if(gS>25){var J=this.J;var qZ={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.H.get_points().setPoint(1,K.imagePoint);this.J.qi(null);this.J.fb().addMark(this.H,qZ);J.cR();}}this.aP();};IPCC.qU.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.qU.prototype.lO=function(){this.aP();};IPCC.oa=function(){this.ax=false;this.J=false;this.bp=IPCC.bO.AddFreehandMark;};IPCC.oa.prototype.mN=function(J){J.aw().set_cursor(this.bp);this.J=J;};IPCC.oa.prototype.ff=function(){this.J=false;};IPCC.oa.prototype.aP=function(){if(this.ax){this.H=null;this.ql=null;this.J.qi(null);this.J.aw().set_cursor(this.je);this.ax=false;}};IPCC.oa.prototype.ta=function(){this.aP();};IPCC.oa.prototype.lo=function(K){this.aP();if(K.domEvent.button===0){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(this.bp);this.ax=true;this.H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.H.get_points().addPoint(K.imagePoint);this.ql=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.J.qi(this.H,this.ql);this.H.set_lineWidth(this.ql.gp);this.H.set_lineColor(this.ql.gi);this.H.set_opacity(this.ql.dz);this.rI=K.imagePoint;this.uj=K.windowPoint;this.J.cR();}};IPCC.oa.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){this.H.get_points().addPoint(K.imagePoint);this.J.cR();}};IPCC.oa.prototype.jF=function(K){if(this.ax&&K.domEvent.button===0){this.H.get_points().addPoint(K.imagePoint);var ait=this.H.get_points();var aT=[];var gM=Number.MAX_VALUE,gk=0,_top=Number.MAX_VALUE,jg=0;var G=0;for(G=0;G<ait.get_length();G++){var tY=ait.getPoint(G);if(tY.x<gM){gM=tY.x;}if(tY.x>gk){gk=tY.x;}if(tY.y<_top){_top=tY.y;}if(tY.y>jg){jg=tY.y;}aT.push({x:tY.x,y:tY.y});}var Au=3;var tC;var rU=(aT.length<Au)?aT:IPCC.aY.filter(aT,function(ak){if(tC){var aD=ak.x-tC.x,dZ=ak.y-tC.y,eK=aD*aD+dZ*dZ;if(Math.sqrt(eK)<4){return false;}}ak.x=ak.x-gM;ak.y=ak.y-_top;tC=ak;return true;});if(rU.length<Au){rU=[aT[0],aT[aT.length-1]];}var cr='';tC=undefined;if(rU.length<Au){cr+=this.Nh(rU);}else{cr='M'+IPCC.aY.bspline(rU);cr=cr.replace(/\d*\.?\d*/g,function(dm){var Jm=dm.indexOf('.');if(dm.length&&Jm>0){return dm.substr(0,Jm+3);}else if(dm!==""){return dm;}else{return dm;}});}var bf=gk-gM;var cY=jg-_top;var qZ={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.ql.set_rectangle({x:gM,y:_top,width:bf,height:cY});this.ql.set_pathString(cr);this.ql.set_pathWidth(bf);this.ql.set_pathHeight(cY);this.J.qi(null);this.J.fb().addMark(this.ql,qZ);this.J.cR();}this.aP();};IPCC.oa.prototype.Nh=function(gG,JR){var ZW=(JR&&IPCC.aY.DC)?'m':'M';var ZG=(JR&&IPCC.aY.DC)?'l':'L';return IPCC.aY.map(gG,function(ak,G){if(G===0){return ZW+ak.x+','+ak.y;}else{return ZG+ak.x+','+ak.y;}}).join('');};IPCC.oa.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.oa.prototype.lO=function(){this.aP();};IPCC.nc=function(bE){this.ax=false;this.J=false;this.bE=bE;switch(this.bE){case IPCC.Web.UI.MarkType.Polygon:this.bp=IPCC.bO.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.bp=IPCC.bO.AddPolylineMark;this.Wx=false;break;}};IPCC.nc.prototype.mN=function(J){J.aw().set_cursor(this.bp);this.J=J;};IPCC.nc.prototype.ff=function(){this.J=false;};IPCC.nc.prototype.aP=function(){if(this.ax){if(arguments[0]){if(arguments[0]===true){if(this.H&&this.Wx===false){this.J.fb().addMark(this.H);this.Wx=true;this.J.cR();}}}this.H=null;this.J.qi(null);this.J.aw().set_cursor(this.je);this.ax=false;this.J.cR();}};IPCC.nc.prototype.ta=function(){this.aP();};IPCC.nc.prototype.lo=function(K){if(K.domEvent.button===0){if(!this.ax){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(this.bp);this.ax=true;this.H=new IPCC.Web.UI.Mark(this.bE);this.H.get_points().addPoint(K.imagePoint);this.J.qi(this.H);}var aT=this.H.get_points();if(aT.get_length()>0){aT.setPoint(aT.get_length()-1,K.imagePoint);}aT.addPoint(K.imagePoint);this.rI=K.imagePoint;this.uj=K.windowPoint;this.J.cR();}else{this.aP();}};IPCC.nc.prototype.vP=function(K){if(this.ax&&K.domEvent.button===0){var aT=this.H.get_points(),cc=aT.get_length(),WD,WV;if(cc>2){var aeM=true;while(aeM){cc=aT.get_length();WD=aT.getPoint(cc-1);WV=aT.getPoint(cc-2);if(WD.x===WV.x&&WD.y===WV.y){aT.removePoint(cc-1);}else{aeM=false;}}}if(aT.get_length()>0){aT.setPoint(aT.get_length()-1,K.imagePoint);}this.J.qi(null);var qZ={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.J.fb().addMark(this.H,qZ);this.Wx=true;this.J.cR();}this.aP();};IPCC.nc.prototype.jV=function(K){if(K.domEvent.button!==0){this.aP();}if(this.ax){var aT=this.H.get_points();if(aT.get_length()>0){aT.setPoint(aT.get_length()-1,K.imagePoint);}this.J.cR();}};IPCC.nc.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.nc.prototype.lO=function(){this.aP();};IPCC.iu=true;IPCC.eL={acJ:1,acU:2,YS:3,acF:4,afP:5,HE:6,Lu:7,aiH:8,aiP:9,agb:10,agg:11,agY:12,agx:13,afZ:14,abX:15,aet:16};IPCC.ajy=null;IPCC.gz=function(ZF,aCP){this.J=false;this.ZF=ZF;var nx=IPCC.Web.UI;var aW=aCP;if(!aW||aW===null){aW=IPCC.ajy;}this.aW=aW;var alH={ar:aW.zoomInMenuItem,fv:IPCC.eL.acJ,T:1.25};var ann={ar:aW.zoomOutMenuItem,fv:IPCC.eL.acU,T:1.25};var arL={ar:aW.fullImageMenuItem,T:nx.FitType.FullImage};var arE={ar:aW.fullWidthMenuItem,T:nx.FitType.FullWidth};var arz={ar:aW.fullHeightMenuItem,T:nx.FitType.FullHeight};var aEb={ar:aW.oneToOneRatioMenuItem,T:nx.FitType.OneToOne};var awQ={ar:aW.actualSizeMenuItem,T:nx.FitType.ActualSize};var aAv={ar:aW.rotateRightMenuItem,fv:IPCC.eL.YS,T:90};var azY={ar:aW.rotateLeftMenuItem,fv:IPCC.eL.YS,T: -90};var aEl={ar:aW.mirrorHorizontalMenuItem,fv:IPCC.eL.acF};var aDn={ar:aW.mirrorVerticalMenuItem,fv:IPCC.eL.afP};var Ud={ar:aW.panToolMenuItem,T:nx.MouseTool.HandPan};var Xv={ar:aW.areaSelectionToolMenuItem,T:nx.MouseTool.Select};var Zz={ar:aW.zoomRectangleToolMenuItem,T:nx.MouseTool.RectangleZoom};var Xb={ar:aW.flyingMagnifierToolMenuItem,T:nx.MouseTool.Magnifier};var ath={ar:aW.createTextMarkToolMenuItem,T:nx.MouseTool.CreateTextMark};var arS={ar:aW.createLineMarkToolMenuItem,T:nx.MouseTool.CreateLineMark};var art={ar:aW.createRectangleMarkToolMenuItem,T:nx.MouseTool.CreateRectangleMark};var asH={ar:aW.createEllipseMarkToolMenuItem,T:nx.MouseTool.CreateEllipseMark};var aqK={ar:aW.editMarksToolMenuItem,T:nx.MouseTool.EditMarks};var ars={ar:aW.createStampMarkToolMenuItem,T:nx.MouseTool.CreateStampMark};var asD={ar:aW.createHighlightMarkToolMenuItem,T:nx.MouseTool.CreateHighlightTextMark};var aeZ={bf:55,dc:[{ar:aW.thicknessMenu.item1,T:1},{ar:aW.thicknessMenu.item2,T:2},{ar:aW.thicknessMenu.item3,T:3},{ar:aW.thicknessMenu.item4,T:4},{ar:aW.thicknessMenu.item5,T:5},{ar:aW.thicknessMenu.item6,T:6},{ar:aW.thicknessMenu.item7,T:7},{ar:aW.thicknessMenu.item8,T:8}]};var axI={bf:145,dc:[{ar:aW.opacityMenu.translucent,T:127},{ar:aW.opacityMenu.opaque,T:255}]};var Qe={ar:aW.borderThicknessMenuItem,fv:IPCC.eL.HE,cO:'lineWidth',mH:aeZ};var PJ={ar:aW.borderColorMenuItem,fv:IPCC.eL.Lu,cO:'lineColor'};var Lc={ar:aW.fillColorMenuItem,fv:IPCC.eL.Lu,cO:'fillColor'};var ahN={ar:aW.lineThicknessMenuItem,fv:IPCC.eL.HE,cO:'lineWidth',mH:aeZ};var aiL={ar:aW.lineColorMenuItem,fv:IPCC.eL.Lu,cO:'lineColor'};var arA={ar:aW.fontMenuItem,fv:IPCC.eL.aiH};var MF={ar:aW.opacityMenuItem,fv:IPCC.eL.HE,cO:'opacity',mH:axI};var aCe={ar:aW.moveToBackMenuItem,fv:IPCC.eL.agb};var aCl={ar:aW.moveBackwardMenuItem,fv:IPCC.eL.agg};var aBy={ar:aW.moveForwardMenuItem,fv:IPCC.eL.agY};var aBL={ar:aW.moveToFrontMenuItem,fv:IPCC.eL.agx};var yM={ar:aW.deleteMarkMenuItem,fv:IPCC.eL.afZ};var amD={bf:180,dc:[arL,arE,arz,aEb,awQ]};var alU={ar:aW.zoomToFitMenuItem,fv:IPCC.eL.abX,mH:amD};var axN={bf:200,dc:[aAv,azY,aEl,aDn]};var aye={ar:aW.orientationMenuItem,mH:axN};var Pb;if(IPCC.au){if(IPCC.iu===false){Pb={bf:180,dc:[Ud,Zz,Xb,Xv,null]};}else{Pb={bf:180,dc:[Ud,Zz,Xb,Xv,null,aqK,ath,arS,art,asH,ars,asD]};}}else{Pb={bf:180,dc:[Ud,Zz,Xb,Xv]};}var aEG={ar:aW.mouseToolsMenuItem,fv:IPCC.eL.aet,mH:Pb};var aAL={bf:150,dc:[Lc,Qe,PJ,null,MF]};var apy={bf:150,dc:[Lc,Qe,PJ,null,null]};var azq={bf:150,ar:aW.rectangleMarkPropertiesMenuItem,mH:aAL};var apu={bf:150,ar:aW.rectangleMarkPropertiesMenuItem,mH:apy};var alP={bf:150,dc:[arA,Lc,Qe,PJ,null,null,null,MF]};var amO={ar:aW.textMarkPropertiesMenuItem,mH:alP};var ays={bf:150,dc:[Lc,Qe,PJ,null,MF]};var ayT={ar:aW.polygonMarkPropertiesMenuItem,mH:ays};var axe={bf:140,dc:[ahN,aiL,null,MF]};var axp={ar:aW.polylineMarkPropertiesMenuItem,mH:axe};var aCd={bf:140,dc:[ahN,aiL,null,null]};var aBp={ar:aW.lineMarkPropertiesMenuItem,mH:aCd};var aBl={bf:140,dc:[aBL,aBy,aCl,aCe]};var xL={ar:aW.markOrderingMenuItem,mH:aBl};var apL={bf:150,dc:[Lc]};var alm={ar:aW.stampMarkPropertiesMenuItem,mH:apL};this.apm={bf:180,dc:[alH,ann,alU,aye,aEG]};this.alN={bf:140,dc:[amO,xL,yM]};this.azK={bf:140,dc:[azq,xL,yM]};this.apn={bf:140,dc:[alm,xL,yM]};this.aoa={bf:140,dc:[null,xL,yM]};this.aqW={bf:140,dc:[apu,xL,yM]};this.ayd={bf:140,dc:[ayT,xL,yM]};this.ayw={bf:140,dc:[axp,xL,yM]};this.azj={bf:140,dc:[aBp,xL,yM]};this.aBD={bf:140,dc:[alm,null,yM]};};IPCC.gz.prototype.mN=function(J){this.J=J;};IPCC.gz.prototype.ff=function(){this.J=false;};IPCC.gz.prototype.aP=function(){};IPCC.gz.prototype.NZ=function(K){var iA;if(K.mark&&this.ZF){var Pg=K.mark.jz();switch(K.mark.get_type()){case IPCC.Web.UI.MarkType.Line:iA=this.azj;break;case IPCC.Web.UI.MarkType.Polyline:iA=this.ayw;break;case IPCC.Web.UI.MarkType.Rectangle:iA=this.azK;break;case IPCC.Web.UI.MarkType.Ellipse:iA=this.aqW;break;case IPCC.Web.UI.MarkType.Polygon:iA=this.ayd;break;case IPCC.Web.UI.MarkType.Text:iA=this.alN;break;case IPCC.Web.UI.MarkType.Stamp:if(Pg===true){iA=this.aoa;}else{iA=this.apn;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(K.mark.mT==='y'){iA=this.aBD;}break;}}if(!iA){iA=this.apm;}var xs=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var vr=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var akT=new IPCC.Web.UI.Point(K.domEvent.clientX+xs,K.domEvent.clientY+vr);var C=this;function xC(aH){if(tM){var aV=aH.target;if(aV&&aV===null){return;}var Dv,alW;while(aV&&aV!==document.body&&aV.parentNode!==null){if(aV&&aV!==null){if(aV===tM){alW=true;}if(!Dv&&aV.ImGearCommand){Dv=aV.ImGearCommand;}aV=aV.parentNode;}}if(!alW||Dv){IPCC.Web.UI.aE.removeHandler(document.body,'mousedown',xC);IPCC.Web.UI.aE.removeHandler(document.body,'mousemove',ajc);document.body.removeChild(tM);tM=null;if(Dv){Dv.VW=K;C.aqR(Dv);}}}};function aaN(HV,Cc,zT,Gx){var gJ=false,G,aV;for(G=0;G<Cc.length;G++){if(HV===Cc[G]){gJ=true;}}if(!gJ&&HV.ImGearType==='menu'){HV.style.display='none';}else{HV.style.display='block';}aV=HV.firstChild;while(aV){if(aV.ImGearType==='menuItemHighlight'){if(aV===Gx){aV.style.display='block';}else{aV.style.display='none';}}if(aV.firstChild){aaN(aV,Cc,zT,Gx);}aV=aV.nextSibling;}};function ajc(aH){if(tM){var aV=aH.target;if(aV&&aV===null){return;}var Cc=[tM],zT,Gx;while(aV&&aV!==document.body&&aV.parentNode!==null){if(!zT&&aV.ImGearType==='menuItem'){zT=aV;}if(aV.ImGearType==='menu'){Cc.push(aV);}aV=aV.parentNode;}if(zT){aV=zT.firstChild;while(aV){if(aV.ImGearType==='menuItemHighlight'){Gx=aV;}else if(aV.ImGearType==='menu'){Cc.push(aV);}aV=aV.nextSibling;}}aaN(tM,Cc,zT,Gx);}};var bz;if(window.innerWidth){bz={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bz={x:xs,y:vr,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bz={x:xs,y:vr,width:document.body.clientWidth,height:document.body.clientHeight};}var tM=this.aiB(iA,false,false,akT,akT,true,bz,document.body,K.mark);aaN(tM,[tM],null,null);document.body.appendChild(tM);IPCC.Web.UI.aE.addHandler(document.body,'mousedown',xC);IPCC.Web.UI.aE.addHandler(document.body,'mousemove',ajc);};IPCC.gz.prototype.aiB=function(iA,fv,cO,Zj,SL,Gb,bz,ayb,H){var ajs=24,acc=1;var G,abm=0;for(G=0;G<iA.dc.length;G++){var aCw=iA.dc[G];if(aCw){abm+=ajs;}else{abm+=acc;}}var Sd;if(Gb){Sd=SL.x+iA.bf;if(Sd>bz.x+bz.width){Gb=false;}}if(!Gb){Sd=Zj.x-iA.bf;if(Sd<bz.x){Gb=true;}}var sl={x:SL.x,y:SL.y};if(!Gb){sl={x:Zj.x-iA.bf-2,y:Zj.y-2};}var amM=bz.y+bz.height-abm-8;if(sl.y>amM){sl.y=amM;}if(sl.y<bz.y+2){sl.y=bz.y+2;}function ez(ky){var st=document.createElement('div');var G;for(G in ky){if(ky.hasOwnProperty(G)){st.style[G]=ky[G];}}return st;};var NN=ez({zIndex:2,width:iA.bf+'px',left:sl.x+'px',top:sl.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});NN.ImGearType='menu';for(G=0;G<iA.dc.length;G++){var yq=iA.dc[G];var wk;if(yq){wk=ez({position:'relative',height:'24px'});wk.ImGearType='menuItem';var BL=ez({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});wk.appendChild(BL);var ais=ez({textOverflow:'ellipsis',whiteSpace:'nowrap',width:iA.bf-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});wk.appendChild(ais);var aja=ez({display:'none',position:'absolute',height:'24px',width:iA.bf+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});aja.ImGearType='menuItemHighlight';wk.appendChild(aja);ais.appendChild(document.createTextNode(yq.ar));var Pa=yq.fv||fv;var Hi=yq.cO||cO;if(Hi){if(Pa===IPCC.eL.HE){var avJ=H['get_'+Hi]();if(avJ===yq.T){if(this.J.mZ()){BL.style.backgroundImage='url(\''+this.J.mZ()+'/MenuIcons.png'+'\')';}else{BL.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}BL.style.backgroundPosition='0px';}}else if(Pa===IPCC.eL.aiP){var avj=H['get_'+Hi]();if(avj){if(this.J.mZ()){BL.style.backgroundImage='url(\''+this.J.mZ()+'/MenuIcons.png'+'\')';}else{BL.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}BL.style.backgroundPosition='24px 0px';}}}if(!yq.mH){wk.ImGearCommand={fv:Pa,cO:Hi,T:yq.T};}else{var aBd={x:bz.x-sl.x,y:bz.y-sl.y,width:bz.width,height:bz.height};this.aiB(yq.mH,Pa,Hi,{x:0,y: -1},{x:iA.bf,y: -1},Gb,aBd,wk,H);}sl.y+=ajs;}else{wk=ez({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});sl.y+=acc;}NN.appendChild(wk);}ayb.appendChild(NN);return NN;};IPCC.gz.prototype.arf=function(H,cg,J){var xs=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var vr=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bz;if(window.innerWidth){bz={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bz={x:xs,y:vr,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bz={x:xs,y:vr,width:document.body.clientWidth,height:document.body.clientHeight};}var oe=bz.x+bz.width/2;var nQ=bz.y+bz.height/2;var ih=document.createElement('div');ih.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(nQ-85)+'px;left:'+(oe-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aW.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aW.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aW.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aW.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aW.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aW.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ih);var UQ=document.getElementById('ImGearColorRed');var akI=document.getElementById('ImGearColorGreen');var ans=document.getElementById('ImGearColorBlue');var HO=document.getElementById('ImGearColorOKButton');var Jw=document.getElementById('ImGearColorCancelButton');var VJ=H['get_'+cg]();var NA;if(VJ.length===7&&VJ.charAt(0)==='#'){NA=parseInt(VJ.slice(1),16);}UQ.value=(NA>>16);akI.value=((NA>>8)&255);ans.value=(NA&255);function Rc(abc){var T=Math.floor(+(abc.value));if(!isFinite(T)){T=0;}if(T<0){T=0;}if(T>255){T=255;}return T;};function zN(){IPCC.Web.UI.aE.removeHandler(HO,'click',Kc);IPCC.Web.UI.aE.removeHandler(Jw,'click',Km);IPCC.Web.UI.aE.removeHandler(document.body,'mousedown',xC);};function Kc(){var ey=Rc(UQ)*65536+Rc(akI)*256+Rc(ans);H['set_'+cg]('#'+(0x1000000+ey).toString(16).slice(1));zN();document.body.removeChild(ih);ih=null;J.cR();};function Km(){zN();document.body.removeChild(ih);ih=null;};function xC(aH){if(ih){var aV=aH.target;var KQ;while(aV!==document.body){if(aV===ih){KQ=true;}aV=aV.parentNode;}if(!KQ){zN();document.body.removeChild(ih);ih=null;}}};IPCC.Web.UI.aE.addHandler(HO,'click',Kc);IPCC.Web.UI.aE.addHandler(Jw,'click',Km);IPCC.Web.UI.aE.addHandler(document.body,'mousedown',xC);UQ.focus();};IPCC.gz.prototype.apE=function(H,J){var xs=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var vr=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bz;if(window.innerWidth){bz={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bz={x:xs,y:vr,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bz={x:xs,y:vr,width:document.body.clientWidth,height:document.body.clientHeight};}var oe=bz.x+bz.width/2;var nQ=bz.y+bz.height/2;var ih=document.createElement('div');ih.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(nQ-85)+'px;left:'+(oe-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aW.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aW.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aW.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aW.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aW.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aW.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aW.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aW.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aW.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ih);var abM=document.getElementById('ImGearFontFamily');var acQ=document.getElementById('ImGearFontSize');var adm=document.getElementById('ImGearFontItalic');var adC=document.getElementById('ImGearFontBold');var acK=document.getElementById('ImGearFontUnderline');var acD=document.getElementById('ImGearFontStrikeout');var HO=document.getElementById('ImGearFontOKButton');var Jw=document.getElementById('ImGearFontCancelButton');var axr=H.get_fontName();var axt=H.get_fontSize();var uC=H.get_fontStyle();abM.value=axr;acQ.value=axt;adm.checked=uC&IPCC.Web.UI.FontStyle.Italic;adC.checked=uC&IPCC.Web.UI.FontStyle.Bold;acK.checked=uC&IPCC.Web.UI.FontStyle.Underline;acD.checked=uC&IPCC.Web.UI.FontStyle.Strikeout;function atM(abc){var T=Math.floor(+(abc.value));if(!isFinite(T)){T=12;}if(T<0.1){T=0.1;}if(T>288){T=288;}return T;};function zN(){IPCC.Web.UI.aE.removeHandler(HO,'click',Kc);IPCC.Web.UI.aE.removeHandler(Jw,'click',Km);IPCC.Web.UI.aE.removeHandler(document.body,'mousedown',xC);};function Kc(){H.set_fontName(abM.value);var di=atM(acQ);H.set_fontSize(di);var aq=0;if(adm.checked){aq|=IPCC.Web.UI.FontStyle.Italic;}if(adC.checked){aq|=IPCC.Web.UI.FontStyle.Bold;}if(acK.checked){aq|=IPCC.Web.UI.FontStyle.Underline;}if(acD.checked){aq|=IPCC.Web.UI.FontStyle.Strikeout;}H.set_fontStyle(aq);zN();document.body.removeChild(ih);ih=null;J.cR();};function Km(){zN();document.body.removeChild(ih);ih=null;};function xC(aH){if(ih){var aV=aH.target;var KQ;while(aV!==document.body){if(aV===ih){KQ=true;}aV=aV.parentNode;}if(!KQ){zN();document.body.removeChild(ih);ih=null;}}};IPCC.Web.UI.aE.addHandler(HO,'click',Kc);IPCC.Web.UI.aE.addHandler(Jw,'click',Km);IPCC.Web.UI.aE.addHandler(document.body,'mousedown',xC);abM.focus();};IPCC.gz.prototype.aqR=function(K){var H=K.VW.mark;switch(K.fv){case IPCC.eL.HE:H['set_'+K.cO](K.T);this.J.cR();break;case IPCC.eL.Lu:this.arf(H,K.cO,this.J);break;case IPCC.eL.aiH:this.apE(H,this.J);break;case IPCC.eL.aiP:H['set_'+K.cO](!H['get_'+K.cO]());this.J.cR();break;case IPCC.eL.agb:H.moveToBack();this.J.cR();break;case IPCC.eL.agg:H.moveBackward();this.J.cR();break;case IPCC.eL.agY:H.moveForward();this.J.cR();break;case IPCC.eL.agx:H.moveToFront();this.J.cR();break;case IPCC.eL.afZ:H.removeFromPage();this.J.cR();break;default:this.J.ayz(K);break;}};IPCC.dM=function(){this.J=false;this.Iy=0;this.aEd=1;this.amx=2;this.abp=3;};IPCC.dM.prototype.mN=function(J){this.J=J;this.cU=this.Iy;};IPCC.dM.prototype.ff=function(){this.J=false;};IPCC.dM.prototype.aP=function(){this.cU=this.Iy;};IPCC.dM.prototype.ajO=function(K){var aqA=new Date()-this.aqN;if(aqA<750){var fw=this.aeo.x-K.windowPoint.x;var eG=this.aeo.y-K.windowPoint.y;var gS=fw*fw+eG*eG;if(gS<2500){return true;}}return false;};IPCC.dM.prototype.acj=function(K){this.aqN=new Date();this.aeo=new IPCC.Web.UI.Point(K.windowPoint.x,K.windowPoint.y);};IPCC.dM.prototype.NH=function(K){var aH=K.domEvent.rawEvent;if(aH.touches.length===1){if(this.cU===this.amx&&this.ajO(K)){this.cU=this.abp;}else{this.cU=this.aEd;}this.acj(K);this.J.ho('lo',K);}else{this.cU=this.Iy;this.J.ho('ta',K);}};IPCC.dM.prototype.MV=function(K){var aH=K.domEvent.rawEvent;if(aH.touches.length===1){this.J.ho('jV',K);}};IPCC.dM.prototype.NK=function(K){var aH=K.domEvent.rawEvent;if(aH.touches.length===0){if(this.ajO(K)){if(this.cU===this.abp){this.cU=this.Iy;this.J.ho('jF',K);this.J.ho('vP',K);}else{this.acj(K);this.cU=this.amx;this.J.ho('jF',K);}}else{this.cU=this.Iy;this.J.ho('jF',K);}}};IPCC.dM.prototype.Iz=function(K){this.J.ho('ta',K);};IPCC.cj=function(aia){this.aia=aia;this.abF=0;this.PF=1;this.Qd=2;this.abS=3;this.abO=4;this.cU=this.abF;this.J=false;this.vt=0;};IPCC.cj.prototype.mN=function(J){this.J=J;this.bC=J.aw();};IPCC.cj.prototype.ff=function(){this.J=false;};IPCC.cj.prototype.aP=function(){if(this.cU===this.Qd){this.J.aw().hideMagnifier();}this.cU=this.abF;};IPCC.cj.prototype.NH=function(K){var aH=K.domEvent.rawEvent;switch(this.cU){case this.abF:if(aH.touches.length===1){this.arh(K);}else if(aH.touches.length===2){this.ajF(K);}else if(aH.touches.length===3){this.XN(K);}else{this.aP();}break;case this.PF:if(aH.touches.length===2){this.ajF(K);}else if(aH.touches.length===3){this.XN(K);}else{this.aP();}break;case this.abO:if(aH.touches.length!==3){this.aP();}break;case this.Qd:this.aP();break;case this.abS:if(aH.touches.length===3){this.XN(K);}else if(aH.touches.length!==2){this.aP();}break;}};IPCC.cj.prototype.MV=function(K){switch(this.cU){case this.PF:this.vt++;break;case this.Qd:this.ael(K);break;case this.abS:this.ayr(K);break;case this.abO:this.apJ(K);break;}};IPCC.cj.prototype.NK=function(){this.aP();};IPCC.cj.prototype.Iz=function(){this.aP();};IPCC.cj.prototype.arh=function(K){this.cU=this.PF;this.vt++;var aBK=this.vt;var C=this;function avU(){if(C.cU===this.PF&&aBK===C.vt){C.aqy(K);}};setTimeout(avU,1000);};IPCC.cj.prototype.aqy=function(K){this.J.ho('ta',K);this.ael(K);this.cU=this.Qd;};IPCC.cj.prototype.XN=function(K){var aH=K.domEvent.rawEvent;if(aH.touches.length!==3){this.aP();return;}var jl=aH.touches[0];var dw={x:jl.screenX,y:jl.screenY};var dK=this.bC.ge();dK.yd();this.RU=dw;this.awO=dw;this.YZ=dK.transform(dw);this.cU=this.abO;this.aGw=this.bC.ge();this.adn=true;this.ace=true;};IPCC.cj.prototype.apJ=function(K){var aH=K.domEvent.rawEvent;if(aH.touches.length!==3){this.aP();return;}var jl=aH.touches[0];var dw={x:jl.screenX,y:jl.screenY};var awv=Math.abs(dw.x-this.RU.x);var avn=Math.abs(dw.y-this.RU.y);if(awv>35){this.ace=false;}if(avn>35){this.adn=false;}if(this.adn){dw.y=this.RU.y;}if(this.ace){dw.x=this.RU.x;}this.awO=dw;var bu=this.bC.ge();var aJ=this.J.ee();var bL=this.J.cD();bu.ZE(this.YZ,dw);bu.jX(bL,aJ);this.bC.jj(bu);};IPCC.cj.prototype.aDc=function(){};IPCC.cj.prototype.akV=function(K){var aH=K.domEvent.rawEvent;if(aH.touches.length!==2){this.aP();return{};}var RM=aH.touches[0];var OC=aH.touches[1];var fw=RM.screenX-OC.screenX;var eG=RM.screenY-OC.screenY;var qm=Math.sqrt(fw*fw+eG*eG);var iQ=Math.atan2(fw,eG)*180/Math.PI;var aX={x:(RM.screenX+OC.screenX)/2,y:(RM.screenY+OC.screenY)/2};return{qm:qm,iQ:iQ,ajl:aX};};IPCC.cj.prototype.ajF=function(K){this.cU=this.abS;this.aBH=this.akV(K);this.OP=this.aBH;var dK=this.bC.ge();dK.yd();this.YZ=dK.transform(this.OP.ajl);this.GP=this.OP.iQ;};IPCC.cj.prototype.ael=function(K){var aH=K.domEvent.rawEvent;var jl=aH.touches[0];var dw={x:jl.screenX,y:jl.screenY};this.bC.showMagnifier(dw);};IPCC.cj.prototype.ayr=function(K){var zC=this.akV(K);var bk=zC.qm/this.OP.qm;var bu=this.bC.ge();var aJ=this.J.ee();var bL=this.J.cD();bu.scale(bk,bk);var Cx=this.GP-zC.iQ;var adZ=this.GP-zC.iQ-360;var afw=this.GP-zC.iQ+360;if(Math.abs(Cx)>Math.abs(adZ)){Cx=adZ;}if(Math.abs(Cx)>Math.abs(afw)){Cx=afw;}if(Cx< -40){bu.rotate(-90);this.GP=zC.iQ;}else if(Cx>40){bu.rotate(90);this.GP=zC.iQ;}bu.ZE(this.YZ,zC.ajl);bu.jX(bL,aJ);this.bC.jj(bu);this.OP=zC;};IPCC.cj.prototype.VX=function(K){var bu=this.bC.ge();var aJ=this.J.ee();var bL=this.J.cD();bu.WO(IPCC.Web.UI.FitType.FullImage,bL,aJ);bu.jX(bL,aJ);this.bC.jj(bu);};IPCC.cj.prototype.lO=function(){this.aP();};IPCC.nH=function(){this.ax=false;this.J=false;};IPCC.nH.prototype.mN=function(J){J.aw().set_cursor(IPCC.bO.Text);this.J=J;};IPCC.nH.prototype.ff=function(){this.J=false;};IPCC.nH.prototype.aP=function(){if(this.ax){this.J.aw().VD();this.J.aw().set_cursor(this.je);this.ax=false;}};IPCC.nH.prototype.ta=function(){this.aP();};IPCC.nH.prototype.lo=function(K){if(K.domEvent.button===0){var bC=this.J.aw();this.je=bC.get_cursor();bC.set_cursor(IPCC.bO.Text);this.ax=true;var cL=this.J.JK(K.constrainedImagePoint);this.J.gI=cL;if(!cL){return;}this.J.zI(cL);bC.zI(cL);bC.wO(undefined);this.J.cR();}};IPCC.nH.prototype.jV=function(K){var J=this.J;J.aCF=true;if(K.domEvent.button!==0){this.aP();}if(this.ax){var bC=J.aw();var cL=J.JK(K.constrainedImagePoint);var iX=bC.Fp();if(iX===cL){return;}J.wO(cL);J.cR();}};IPCC.nH.prototype.jF=function(K){if(K.domEvent.button===0){this.ax=false;}var J=this.J;var bC=this.J.aw();var cl=bC.iS.length;if(cl===0){this.aP();return;}var an=bC.iS[0].cL;var cs=bC.iS[cl-1].cL;if(J.Ho===true){if(an>cs){an=cs;}var G;var kA=IPCC.BY();this.H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.H.an=an;this.H.dv=J.Cv();this.H.dQ=cl;this.H.set_fillColor(J.uG);this.H.mT='y';this.H.dF=kA;for(G=0;G<bC.iS.length;G++){var ba=bC.iS[G];var FE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var BC=ba.H.fr();FE.set_fillColor(J.uG);FE.set_opacity(ba.H.get_opacity());FE.set_rectangle(BC);FE.dF=kA;FE.mT='y';this.J.fb().addMark(FE);}bC.iS=[];if(cl>0){this.J.fb().addMark(this.H);}J.ks().removeAllMarks();}cl=bC.iS.length;var abI=new IPCC.Web.UI.TextSelectedEventArgs();abI.text=J.Cv();J.ay('selectTextMouseToolCompleted',abI);J.cR();this.aP();};IPCC.nH.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.nH.prototype.lO=function(){this.aP();};IPCC.ahD=function(pz){var bC;var bb;var kl;var aJ;var ap=this;var AL;var EQ='';var _debug=false;var ll=IPCC.Web.UI.DebugErrorLevel.Production;var mA=[];var bw=new IPCC.Web.UI.gb();var bA;var fH;var pF=null;var Dx=false;var wB=false;var Xh;var Kb=IPCC.Web.UI.ImGearArtDataServices.None;var HH=false;var om='';var mr;var ahR=false;var aji=false;var yt=0;var uo=true;var EG;var fV;var nM=false;var aeQ=true,ke=false;var aiU=false;this.PP=0.0;this.gm=function(xk){if(!_debug){return false;}return ll>=xk;};this.iU=function(gq,Jl,bm){IPCC.fK.iU(gq,Jl,bm,EQ,AL);};this.V=function(eO,hF){if(!this.gm(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aM=eO+'() threw an exception ('+hF.name+'), "'+hF.message+'"';aM=aM.replace(/\n/g," ");this.iU(aM,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);ap.ay('exceptionThrown',{"function_name":eO,"exception":hF,"pageNumber":ap.aQ});};this.get_debug=function(){return _debug;};this.set_debug=function(T){var yS= ! !T;if(_debug===yS){return;}_debug=yS;this.aG('debug');};this.pk=function(){return ll;};this.rA=function(T){if(ll===T){return;}ll=T;this.aG('debugErrorLevel');};this.adw=function(T){EQ=T;};this.atg=function(){return EQ;};this.ado=function(T){AL=T;};this.eh=function(aBZ){this.pP(false);var G;for(G=mA.length-1;G>=0;G--){if(mA[G]instanceof IPCC.nc){mA[G].aP(true);}else{mA[G].aP();}if(mA[G]instanceof IPCC.oH){mA[G].ff(true);}else{mA[G].ff();}}mA=aBZ;bC.set_cursor(IPCC.bO.Default);for(G=0;G<mA.length;G++){mA[G].mN(this);}};this.aGo=function(){var G;for(G=0;G<mA.length;G++){mA[G].aP();}};this.ho=function(amK,K){var G;for(G=0;G<mA.length;G++){if(K&&K.akR&&K.akR()){return;}if(mA[G][amK]){mA[G][amK](K);}}};this.axD=function(iE,cI){switch(iE){case 'touchstart':kl.TJ&&kl.TJ(cI);break;case 'touchmove':kl.Zf&&kl.Zf(cI);break;case 'touchend':kl.abj&&kl.abj(cI);break;case 'doubleTap':kl.air&&kl.air(cI);break;}};this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.add_mouseDown=function(h){bw.addHandler('mouseDown',h);};this.remove_mouseDown=function(h){bw.removeHandler('mouseDown',h);};this.add_mouseMove=function(h){bw.addHandler('mouseMove',h);};this.remove_mouseMove=function(h){bw.removeHandler('mouseMove',h);};this.add_mouseUp=function(h){bw.addHandler('mouseUp',h);};this.remove_mouseUp=function(h){bw.removeHandler('mouseUp',h);};this.add_contextMenu=function(h){bw.addHandler('contextMenu',h);};this.remove_contextMenu=function(h){bw.removeHandler('contextMenu',h);};this.awE=function(h){bw.addHandler('contextMenuCommand',h);};this.aEj=function(h){bw.removeHandler('contextMenuCommand',h);};this.add_mouseWheel=function(h){bw.addHandler('mouseWheel',h);};this.remove_mouseWheel=function(h){bw.removeHandler('mouseWheel',h);};this.add_mouseOut=function(h){bw.addHandler('mouseOut',h);};this.remove_mouseOut=function(h){bw.removeHandler('mouseOut',h);};this.ahM=function(h){bw.addHandler('resize',h);};this.aFI=function(h){bw.removeHandler('resize',h);};this.avD=function(h){bw.addHandler('userModifiedViewState',h);};this.aGv=function(h){bw.removeHandler('userModifiedViewState',h);};this.add_scaleChanged=function(h){bw.addHandler('scaleChanged',h);};this.remove_scaleChanged=function(h){bw.removeHandler('scaleChanged',h);};this.add_markAdded=function(h){bw.addHandler('markAdded',h);};this.remove_markAdded=function(h){bw.removeHandler('markAdded',h);};this.add_markCreating=function(h){bw.addHandler('markCreating',h);};this.remove_markCreating=function(h){bw.removeHandler('markCreating',h);};this.add_markChanged=function(h){bw.addHandler('markChanged',h);};this.remove_markChanged=function(h){bw.removeHandler('markChanged',h);};this.add_inProgressMarkChanged=function(h){bw.addHandler('inProgressMarkChanged',h);};this.remove_inProgressMarkChanged=function(h){bw.removeHandler('inProgressMarkChanged',h);};this.add_markRemoved=function(h){bw.addHandler('markRemoved',h);};this.remove_markRemoved=function(h){bw.removeHandler('markRemoved',h);};this.add_markReordered=function(h){bw.addHandler('markReordered',h);};this.remove_markReordered=function(h){bw.removeHandler('markReordered',h);};this.add_marksLoaded=function(h){bw.addHandler('marksLoaded',h);};this.remove_marksLoaded=function(h){bw.removeHandler('marksLoaded',h);};this.add_marksSaved=function(h){bw.addHandler('marksSaved',h);};this.remove_marksSaved=function(h){bw.removeHandler('marksSaved',h);};this.add_markSelectionChanged=function(h){bw.addHandler('markSelectionChanged',h);};this.remove_markSelectionChanged=function(h){bw.removeHandler('markSelectionChanged',h);};this.add_markTextSelectionChanged=function(h){bw.addHandler('markTextSelectionChanged',h);};this.remove_markTextSelectionChanged=function(h){bw.removeHandler('markTextSelectionChanged',h);};this.add_pageOpenFailed=function(h){bw.addHandler('pageOpenFailed',h);};this.add_pageDisplayed=function(h){bw.addHandler('pageDisplayed',h);};this.remove_pageOpenFailed=function(h){bw.removeHandler('pageOpenFailed',h);};this.add_textPageReady=function(h){bw.addHandler('textPageReady',h);};this.remove_textPageReady=function(h){bw.removeHandler('textPageReady',h);};this.add_selectTextMouseToolCompleted=function(h){bw.addHandler('selectTextMouseToolCompleted',h);};this.remove_selectTextMouseToolCompleted=function(h){bw.removeHandler('selectTextMouseToolCompleted',h);};this.add_exceptionThrown=function(h){bw.dh('exceptionThrown',h);};this.remove_exceptionThrown=function(h){bw.ce('exceptionThrown',h);};this.add_textExtractionFailed=function(h){bw.dh('textExtractionFailed',h);};this.remove_textExtractionFailed=function(h){bw.ce('textExtractionFailed',h);};this.aG=function(cg,xB){var h=bw.getHandler("propertyChanged");if(h){h(this,new IPCC.qP(cg,xB));}};this.kS=function(){var _parent=document.getElementById(AL);return _parent;};this.aw=function(){return bC;};this.aGb=function(){return bw;};function Ep(az,K){HH=true;K.pageIndex=ap.aQ;ap.ay('markAdded',K);ap.ho('hQ',K);};function Eh(az,K){HH=true;K.pageIndex=ap.aQ;ap.ay('markChanged',K);ap.ho('tc',K);};function abt(az,K){K=new IPCC.Web.UI.MarkEventArgs();K.mark=pF;K.pageIndex=ap.aQ;ap.ay('inProgressMarkChanged',K);ap.ho('_onInProgressMarkChanged',K);};function CX(az,K){HH=true;K.pageIndex=ap.aQ;ap.ay('markRemoved',K);ap.ho('Eq',K);};function avs(az,K){ap.ay('textPageReady',K);};function avX(az,K){ap.ay('textExtractionFailed',K);};function DR(az,K){HH=true;K.pageIndex=ap.aQ;ap.ay('markReordered',K);ap.ho('alc',K);};function Ed(az,K){K.pageIndex=ap.aQ;ap.ay('marksLoaded',K);ap.ho('ajZ',K);};function DY(az,K){K.pageIndex=ap.aQ;ap.ay('markSelectionChanged',K);ap.ho('Ez',K);};function alg(az,K){K.pageIndex=ap.aQ;ap.ay('markTextSelectionChanged',K);};this.ayP=function(az,K){this.ho('_onTextMarkEditCompleted',K);};function Dc(az,K){K.pageIndex=ap.aQ;ap.ay('propertyChanged',K);};this.lw=function(T){if(T===bA){return;}if(bA){bA.remove_markAdded(Ep);bA.remove_markChanged(Eh);bA.remove_markRemoved(CX);bA.remove_markReordered(DR);bA.remove_marksLoaded(Ed);bA.remove_markSelectionChanged(DY);bA.kc(Dc);bA.EZ(true);}bA=T;if(bA){bA.add_markAdded(Ep);bA.add_markChanged(Eh);bA.add_markRemoved(CX);bA.add_markReordered(DR);bA.add_marksLoaded(Ed);bA.add_markSelectionChanged(DY);bA.add_markTextSelectionChanged(alg);bA.iO(Dc);}this.aG('artPage');};this.fb=function(){return bA;};this.Mc=function(T){if(T===fH){return;}if(fH){fH.remove_markAdded(Ep);fH.remove_markChanged(Eh);fH.remove_markRemoved(CX);fH.remove_markReordered(DR);fH.remove_marksLoaded(Ed);fH.remove_markSelectionChanged(DY);fH.kc(Dc);fH.EZ(true);}fH=T;if(fH){fH.add_markAdded(Ep);fH.add_markChanged(Eh);fH.add_markRemoved(CX);fH.add_markReordered(DR);fH.add_marksLoaded(Ed);fH.add_markSelectionChanged(DY);fH.add_markTextSelectionChanged(alg);fH.iO(Dc);}this.aG('documentArtPage');};this.Ou=function(){return fH;};this.ks=function(){return fV;};this.tx=function(T){if(T===fV){return;}if(fV){fV.remove_markAdded(Ep);fV.remove_markChanged(Eh);fV.remove_markRemoved(CX);fV.remove_markReordered(DR);fV.remove_marksLoaded(Ed);fV.remove_markSelectionChanged(DY);fV.kc(Dc);}fV=T;if(fV){fV.add_markAdded(Ep);fV.add_markChanged(Eh);fV.add_markRemoved(CX);fV.add_markReordered(DR);fV.add_marksLoaded(Ed);fV.add_markSelectionChanged(DY);fV.iO(Dc);}this.aG('transientArtPage');};var gd;this.yT=function(){if(!gd){if(IPCC.Web.UI.Mark){gd=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gd.set_opacity(100);gd.set_fillColor('#3366CC');gd.set_fillVisible(true);}}return gd;};this.yl=function(T){Kb=T;this.aG('artServiceOption');};this.yB=function(){return Kb;};this.qi=function(H,ql){if(pF===H){return;}if(pF){pF.remove_propertyChanged(abt);}if(H&& !pF){var K=new IPCC.Web.UI.MarkEventArgs();K.mark=ql?ql:H;K.pageIndex=this.aQ;this.ay('markCreating',K);}pF=H;if(pF){pF.add_propertyChanged(abt);}this.aG('inProgressMark');};this.atC=function(){return pF;};this.wH=function(T){if(T===bb){return;}bb=T;this.BK=false;bC.rg();this.aG('image');};this.cD=function(){return bb;};this.adM=function(T){if(T===Dx){return;}Dx=T;this.aG('Dx');};this.ach=function(){return Dx;};this.zA=function(H){this.pP(false);kl.aBB(H);wB=true;Xh=H;this.aG('wB');};this.MB=function(an,cl){if(this.hX()&&this.dq().nm()===true){var fi=this.dq().eJ();var G=an;for(;G<an+cl;G++){var fd=fi.lB(G);var wd='#3366CC';var GQ='#3366CC';fV.So(fd.bz,GQ,wd,false,G);}}};this.aGy=function(bH){var G;try{var as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gd){gd=ap.yT();}for(G in gd){if(gd.hasOwnProperty(G)){as[G]=gd[G];}}as.set_rectangle({x:bH.x,y:bH.y,width:bH.width,height:bH.height});ap.qi(as);fV.addMark(as);return as;}catch(apZ){var aBX=apZ.message;window.console.log(aBX);}};this.JK=function(cZ){var Iu;var fi;var YA;Iu=ap.dq();fi=ap.dq().eJ();function aub(ZB){var uu=ZB.wq();if((cZ.x>=uu.x-10&&cZ.x<=uu.x+uu.width+1)&&(cZ.y>=uu.y-1&&cZ.y<=uu.y+uu.height+1)){return true;}uu=undefined;};if(!YA){for(var G=0;G<fi.dY();G++){if(aub(fi.lB(G))){YA=G;break;}}}return YA;};this.aCF=false;this.zI=function(cL){if(cL===undefined){return;}if(ap.hX()&&ap.dq().nm()===true){var LE=ap.dq().eJ().dY();IPCC.bB.oX(cL,'textIndex',0,LE);ap.aw().zI(cL);ap.ks().CU(function(H){if(H.xr!==true){ap.ks().wK(H);}});if(ap.Aq()===true){ap.cR();}}};this.Sh=function(){var Er=ap.aw().get_transientHighlightMarks();while(Er.length>0){ap.ks().removeMark(Er.pop());}};this.Ow=function(wj,cl){if(ap.hX()&&ap.dq().nm()===true){var G=wj;var fi=this.dq().eJ();var cs=wj+cl;if(!gd){gd=ap.yT();}var Er=ap.aw().get_transientHighlightMarks();for(;G<cs;G++){var fd=fi.lB(G);Er.push(fV.apT(fd.bz,gd,G));}}};this.aEX=function(aDk,cl){var bC=ap.aw();for(var ag=cl-1;ag>cl;ag--){var ba=bC.iS[ag];fV.removeMark(ba.H);}};this.wO=function(cL){if(cL===undefined){return;}var fd;var bC=ap.aw();var iX=bC.Fp();var wd='#3366CC';var GQ='#3366CC';var dz=100;if(!gd){gd=ap.yT();}dz=gd.get_opacity();if(!dz){dz=100;}wd=gd.get_fillColor();if(wd===undefined){wd='#3366CC';}var fi=ap.dq().eJ();if(iX===undefined){fd=fi.lB(cL);var H=fV.So(fd.bz,GQ,wd,false,dz,cL);bC.wO(cL,H,fd.kh);return;}var ag;function alA(bP,aqp){for(ag=bC.iS.length-1;ag>=0;ag--){var ba=bC.iS[ag];if(ba.cL===bP){bC.iS.splice(ag,1);fV.removeMark(ba.H);bC.aAx(aqp);bC.amW(bP);return ag;}}return-1;};function KD(bP){fd=fi.lB(bP);var aip=fV.So(fd.bz,GQ,wd,false,dz,bP);if(bC.wO(bP,aip,fd.kh)===false){fV.removeMark(aip);}};var QD=bC.acA();var G;if(cL>iX){for(G=iX;G<=cL;G++){if(G===cL){if(G<QD){continue;}KD(G);}else if(G>=QD){if(G===iX){continue;}KD(G);}else{alA(G,cL);}}}else if(cL<iX){for(G=iX;G>=cL;G--){if(G===cL){if(G>=QD){continue;}KD(G);}else if(G<QD){if(G===iX){continue;}KD(G);}else{alA(G,cL);}}}};this.Cv=function(){var afx="";try{var bC=ap.aw();if(ap.aw().Jb()){var anu=ap.dq().eJ();if(bC.iS.length>0){var FP=[];for(var G=0;G<bC.iS.length;G++){FP.push(bC.iS[G].cL);}if(FP[0]>FP[1]){FP.reverse();}for(G=0;G<FP.length;G++){afx+=anu.lB(FP[G]).arK();}}}return afx;}catch(e){window.console.log(e.message);}};this.pP=function(azB){if(wB){if(azB){kl.azQ();}wB=false;Xh=null;this.ayP();this.aG('wB');ap.cR();}};this.afN=function(){return wB;};this.akw=function(){return Xh;};this.Nd=function(T){aji=T;};this.Kk=function(){return aji;};this.yY=function(T){if(T===yt){return;}yt=T;this.aG('yt');};this.JH=function(){return yt;};this.EZ=function(T){if(bA){bA.EZ(T);}};this.Fb=function(){if(bA){return bA.Fb();}return true;};this.afO=function(aFG){var aJ=kl.acn(this.kS());this.apr(aJ);};this.apr=function(T){if(T===aJ){return;}aJ=T;this.aG('windowSpace');};this.ee=function(){return aJ;};this.cR=function(){kl.cR(bb,bC,aJ);};this.tX=function(T){mr=T;};this.mZ=function(){return mr;};this.dq=function(){return EG.dq();};var mw=0;this.nl=function(){return EG;};this.sZ=function(T){if(T===this.nl()){return;}EG=T;if(EG){EG.vp(avs);EG.BQ(avX);}};this.hX=function(){return uo;};this.yH=function(T){uo=T;this.aG('textRequired');};this.pn=function(){return nM;};this.rR=function(T){if(nM===T){return;}nM=T;this.aG('requireRequestsOptimize');};this.Aq=function(){return aeQ;};this.Wo=function(T){aeQ=T;this.aG('autoUpdate');};var pU=false;this.lT=function(){return pU;};this.qn=function(T){if(typeof T!=="boolean"){return;}if(T===pU){return;}pU=T;if(bA){var afu=false;bA.forEachMark(function(H){if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){afu=true;}});if(afu===true){bA.qn(pU);}}};this.jE=function(){return mw;};this.sc=function(T){if(mw===T){return;}if(isNaN(T)){return;}mw=T;this.aG('serviceResponseTimeout');};var qV='';this.Vw=function(fn,bq){if(fn!==''){fn='/'+fn;}bq=bq||'';if(bq===null||bq===''){if(fn==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bb.get_identifier())){return qV+'/Page/q/'+bb.aQ.toString()+fn+'?DocumentID=u'+encodeURIComponent(bb.get_identifier());}else{return qV+'/Page/q/'+bb.aQ.toString()+fn+'?DocumentID=e'+bb.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bb.get_identifier())){return qV+'/Page/q/'+bb.aQ.toString()+fn+'?DocumentID=u'+encodeURIComponent(bb.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return qV+'/Page/q/'+bb.aQ.toString()+fn+'?DocumentID=e'+bb.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bb.get_identifier())){return qV+'/Page/q/'+bb.aQ.toString()+fn+'?DocumentID=u'+encodeURIComponent(bb.get_identifier())+'&'+bq;}else{return qV+'/Page/q/'+bb.aQ.toString()+fn+'?DocumentID=e'+bb.get_encodedIdentifier()+'&'+bq;}}};this.arM=function(fn,bq){fn=fn||'Art';bq=bq||'';if(bq===null||bq===''){if(fn==='Art'){return qV+'/Page/q/'+bb.aQ.toString()+'/'+fn+'?DocumentID=e'+bb.get_encodedIdentifier();}}else{return qV+'/Page/q/'+bb.aQ.toString()+'/'+fn+'?DocumentID=e'+bb.get_encodedIdentifier()+'&'+bq;}};this.EB=function(Aw){if(HH===false){if(Aw){Aw();}return;}var yJ=new XMLHttpRequest();function ma(){if(Aw){Aw();}};var axh=bA.saveToJson();yJ.open('POST',this.arM('Art'),true);yJ.setRequestHeader('Content-Type','application/json');yJ.onreadystatechange=function(){if(yJ.readyState!==4){return;}if(yJ.status!==200&&yJ.status!==304){return;}ma(yJ);};yJ.send(axh);};this.mU=function(){return qV;};this.Fd=function(T){qV=T;this.aG('imageHandlerUrl');if(!IPCC.Web.uK){if(IPCC.Web.wR===false){IPCC.Web.MD(T);}}};this.sq=function(){return ahR;};this.LC=function(T){ahR=T;};this.Qq=function(){return aiU;};this.acS=function(T){aiU=T;};this.gr=function(){return om;};this.qt=function(T){om=T;om.tabIndex= -1;};this.ea=function(){return ke;};this.jw=function(T){if(typeof T!=="boolean"){return;}if(T===ke){return;}ke=T;};this.ayh=function(K){if(wB){this.pP(true);}else{this.ay('mouseDown',K);this.ho('lo',K);}};this.aym=function(K){this.ay('mouseMove',K);this.ho('jV',K);};this.axm=function(K){this.ay('mouseUp',K);this.ho('jF',K);};this.axq=function(K){this.ay('mouseWheel',K);this.ho('lO',K);};this.ayo=function(K){this.ay('mouseDoubleClick',K);this.ho('vP',K);};this.ayp=function(K){this.ay('contextMenu',K);this.ho('NZ',K);};this.ayz=function(K){this.ay('contextMenuCommand',K);};this.ayQ=function(K){this.ay('mouseOut',K);this.ho('rc',K);};this.ayW=function(K){this.ay('touchStart',K);this.ho('lo',K);};this.ayM=function(K){this.ay('touchMove',K);this.ho('jV',K);};this.axU=function(K){this.ay('touchEnd',K);this.ho('jF',K);};this.ayD=function(K){this.ay('touchCancel',K);this.ho('Iz',K);};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(ap,K);}};var ahw=function(J,pz){bC=new IPCC.aoW();function pm(az,K){ap.ay('propertyChanged',K);};bC.iO(pm);if(IPCC.wz.BP()){kl=new IPCC.agy(J,pz);}else{kl=new IPCC.Hk(J);}if(IPCC.au){kl.qA=new IPCC.au.ad(J);kl.avl=new IPCC.au.ad(J);}};if(pz===false){ahw(this,false);}else{ahw(this,true);}return this;};IPCC.wz={BP:function(){var xd=IPCC.wz;if(xd.wL===null){
/*@cc_on@if(@_jscript)xd.wL=document.documentMode>8;@else@*/ xd.wL=true;/*@end@*/}return xd.wL;},wL:null};IPCC.bO={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fE:function(bp){switch(bp){case IPCC.bO.Default:case IPCC.bO.Magnifier:case IPCC.bO.None:case IPCC.bO.RunMarks:return 'auto';case IPCC.bO.Arrow:case IPCC.bO.EditMarks:return 'default';case IPCC.bO.Crosshair:case IPCC.bO.RectangleZoom:case IPCC.bO.AddRectangleMark:case IPCC.bO.AddEllipseMark:case IPCC.bO.AddLineMark:case IPCC.bO.AddFreehandLineMark:case IPCC.bO.AddPolygonMark:case IPCC.bO.AddPolylineMark:case IPCC.bO.AddTextMark:case IPCC.bO.AddRectangleRedactionMark:case IPCC.bO.AddImageStampMark:case IPCC.bO.AddStampMark:return 'crosshair';case IPCC.bO.Link:return 'pointer';case IPCC.bO.HandOpen:case IPCC.bO.HandClosed:case IPCC.bO.Move:return 'move';case IPCC.bO.ResizeN:return 'n-resize';case IPCC.bO.ResizeE:return 'e-resize';case IPCC.bO.ResizeS:return 's-resize';case IPCC.bO.ResizeW:return 'w-resize';case IPCC.bO.ResizeNW:return 'nw-resize';case IPCC.bO.ResizeNE:return 'ne-resize';case IPCC.bO.ResizeSE:return 'se-resize';case IPCC.bO.ResizeSW:return 'sw-resize';case IPCC.bO.Text:return 'text';}return 'auto';}};IPCC.aoW=function(){var dK=new IPCC.fm();var Gl=false;var vk;var rV;var LH=false;var Db=new IPCC.DF(200,150,96,96);var wv={x:0,y:0};var Mr=3;var NB=0,Op=0;var gN=0.2;var tW=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Dw=new IPCC.fm();var Hm=0;var Kt=0;var Fl=false;var Vx;this.iS=[];var Zt=IPCC.Web.UI.ScrollBars.Auto;var Er=[];this.get_transientHighlightMarks=function(){return Er;};this.get_scrollBars=function(){return Zt;};this.get_overflow=function(){switch(Zt){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(T){Zt=T;this.aG('scrollBars');};var bw=new IPCC.Web.UI.gb();this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};var onSelectionChanged=function(bC){var K={};K.selectionIsVisible=Gl;K.selectionRectangle=bC.yV();bC.aG('selection');};this.rg=function(){vk={x:0,y:0};rV={x:0,y:0};if(!Gl){return;}Gl=false;onSelectionChanged(this);};this.showSelection=function(eV){vk.x=eV.x;vk.y=eV.y;rV.x=eV.x+eV.width;rV.y=eV.y+eV.height;Gl=true;onSelectionChanged(this);};this.FN=function(cZ){vk.x=cZ.x;vk.y=cZ.y;rV.x=cZ.x;rV.y=cZ.y;Gl=true;onSelectionChanged(this);};this.BD=function(cZ){rV.x=cZ.x;rV.y=cZ.y;onSelectionChanged(this);};this.zJ=function(){return Gl;};this.yV=function(){var F=new IPCC.Web.UI.Rectangle(Math.min(vk.x,rV.x),Math.min(vk.y,rV.y),0,0);F.width=Math.max(vk.x,rV.x)-F.x;F.height=Math.max(vk.y,rV.y)-F.y;return F;};var Ja=function(){if(!LH){Dw.aoZ();return;}Dw.Qw(dK);Dw.op(-wv.x,-wv.y);Dw.scale(Mr,Mr);Dw.op(Db.width/2,Db.height/2);};this.hideMagnifier=function(){LH=false;Ja();this.aG('magnifierIsVisible');};this.showMagnifier=function(dw){wv.x=dw.x;wv.y=dw.y;LH=true;Ja();this.aG('magnifierWindowPosition');this.aG('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return LH;};this.get_magnifierWindowPosition=function(){return{x:wv.x,y:wv.y};};this.get_magnifierMagnification=function(){return Mr;};this.set_magnifierMagnification=function(T){Mr=T;Ja();this.aG('magnifierMagnification');};this.Rm=function(){return NB;};this.Yt=function(T){NB=T;this.aG('magnifierXOffset');};this.Rv=function(){return Op;};this.XY=function(T){Op=T;this.aG('magnifierYOffset');};this.wN=function(){return{width:Db.width,height:Db.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Db.width=newMagnifierSize.width;Db.height=newMagnifierSize.height;Ja();this.aG('magnifierWindowSize');};this.aud=function(){return Dw.clone();};this.ge=function(){return dK.clone();};this.Te=function(){return gN;};this.Xz=function(T){gN=T;this.aG('markHandleSize');};this.zF=function(){return tW;};this.Mi=function(T){tW=T;this.aG('markHandleMode');};this.jj=function(T){if(T===dK||T.aBe(dK)){return;}if(!T.adt()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dK.Qw(T);Ja();this.aG('displayedPageRectangle');};var abw='0';this.get_presentationQuality=function(){return abw;};this.set_presentationQuality=function(T){abw=T;this.aG('presentationQuality');};var bp=IPCC.bO.Default;this.get_cursor=function(){return bp;};this.set_cursor=function(T){if(bp!==T&&bp!== -1){bp=T;this.aG('cursor');}};var ND=IPCC.bO.Default;this.FA=function(){if(ND===IPCC.bO.Default){return bp;}return ND;};this.GC=function(T){if(ND!==T){ND=T;this.aG('markCursor');}};this.zI=function(cL){Hm=cL;Fl=false;Kt=0;};this.Ow=function(wj,cl){if(wj!==Hm){Hm=wj;}Kt=cl;Fl=true;};this.VD=function(){if(Fl===true){for(var G=0;G<this.iS.length;G++){this.iS[G].H.set_visible(false);}Fl=false;}};this.Jb=function(){return Fl;};this.wO=function(cL,H,kh){Vx=cL;if(cL!==undefined){if(this.iS.length>0&&this.iS[this.iS.length-1].cL===cL){return false;}this.iS.push({cL:cL,H:H,kh:kh});Fl=true;Kt++;}else{this.iS=[];Kt=0;}return true;};this.Fp=function(){return Vx;};this.aAx=function(T){if(T===undefined){return;}Vx=T;};var ahO;this.aFF=function(){return ahO;};this.amW=function(T){if(T===undefined){return;}ahO=T;};this.acA=function(){return Hm;};this.aGD=function(){return Hm+Kt;};this.CY=function(){return this.iS.length;};this.rg();this.hideMagnifier();return this;};IPCC.ad=function(){this.Qz=false;this.ZN=false;this.En=true;this.VT=false;this.Im=false;this.Al=0;this.AB=0;return this;};IPCC.ad.viewerCounter=0;IPCC.ad.tileCounter=0;IPCC.ad.imageIDCounter=0;IPCC.ad.prototype.ahk=function(J){this.Av=IPCC.ad.viewerCounter.toString();IPCC.ad.viewerCounter++;this.J=J;if(IPCC.au){this.qJ=new IPCC.Web.UI.MarkCollection();}var C=this;function atI(az,K){C.aDf(K);};function yu(az,K){C.aCM(K);};J.iO(atI);J.add_markAdded(yu);J.add_markChanged(yu);J.add_inProgressMarkChanged(yu);J.add_markRemoved(yu);J.add_markReordered(yu);J.add_marksLoaded(yu);J.add_markSelectionChanged(yu);J.add_markTextSelectionChanged(yu);};IPCC.ad.prototype.ZM=function(){var cV='igtile'+IPCC.ad.tileCounter.toString();IPCC.ad.tileCounter++;return cV;};IPCC.ad.prototype.yO=function(){this.Qz=true;this.En=this.En&&this.ZN;var C=this;var ayL=function(){if(!C.Qz){return;}C.cR(C.J.cD(),C.J.aw(),C.J.ee());C.En=true;};window.setTimeout(ayL,0);};IPCC.ad.prototype.aDf=function(K){var wM=K.get_propertyName();switch(wM){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.J.aw().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.IA=true;if(this.J.Aq()===true){this.yO();}return;case 'displayedPageRectangle':if(this.J.BK===true){this.yO();return;}break;case 'redactionDraftMode':this.IA=true;this.yO();return;}if(this.J.Aq()===true){this.yO();}};IPCC.ad.prototype.aCM=function(K){if(K.mark&& !this.IA){this.qJ.addMark(K.mark);}else{this.IA=true;}if(this.J.Aq()===true){this.yO();}};IPCC.ad.prototype.VS=function(){this.qy=this.dR.clone();this.qy.op(this.akq,this.alo);this.qy.jX(this.J.cD(),this.J.ee());this.sO=this.qy.clone();this.sO.yd();};IPCC.ad.prototype.cR=function(bb,bC,aJ){try{this.Qz=false;if(this.KR===true){return;}var bN=this.J.kS();if(bN===null){return;}var gF=bN.igElements;try{this.KR=true;if(this.Ip===undefined||bb===undefined|| !(this.Ip.equals(bb))){if(this.VT){if(this.jP){this.aiO(this.jP);var fD=gF.mu;IPCC.Web.UI.aE.removeHandler(fD,"mousedown",this.Yp);IPCC.Web.UI.aE.removeHandler(fD,"mousemove",this.Za);IPCC.Web.UI.aE.removeHandler(fD,"mouseup",this.Zs);IPCC.Web.UI.aE.removeHandler(fD,"contextmenu",this.Uo);IPCC.Web.UI.aE.removeHandler(gF.iJ,"blur",this.Vs);IPCC.Web.UI.aE.removeHandler(gF.gD,"blur",this.abV);}delete this.jP;this.agE(gF.rv);this.agE(gF.Eb);this.VT=false;if(this.GS!==undefined){this.GS.unlockAllItems();}if(this.He!==undefined){this.He.unlockAllItems();}this.GS=undefined;this.He=undefined;bN.igElements.oy.onscroll=null;bN.igElements.oy.onresize=null;}if(bN.querySelectorAll){if(bN.querySelectorAll(".pccPageLoadFail").length===0){bN.innerHTML='';}}this.J.pP(true);if(bb===undefined){this.KR=false;this.Ip=undefined;this.afB();return;}this.Ip=bb.clone();this.GS=new IPCC.xH();this.GS.createPyramid(this,this.J);this.He=new IPCC.xH();this.He.createPyramid(this,this.J);this.VT=true;this.aqS(this.Av);}this.dR=bC.ge();var QQ=this.dR.sn(bb);this.dR.op(-QQ.x,-QQ.y);this.awm=this.dR.clone();this.awm.yd();this.akq=Math.round(QQ.x);this.alo=Math.round(QQ.y);this.VS();this.aol(bb,bC,aJ);if(bb.aQ===0){this.VS();}}finally{this.KR=false;this.IA=false;if(this.qJ){this.qJ.removeAllMarks();}}this.abK(true);}catch(e){this.J.V('display',e);throw e;}};IPCC.ad.prototype.qv=function(xn,zl,xo){if(xn[zl]===xo){return;}xn[zl]=xo;};IPCC.ad.prototype.kD=function(xn,zl,xo){if(xn.getAttribute(zl)===xo){return;}xn.setAttribute(zl,xo);};IPCC.ad.prototype.eW=function(xn,zl,xo){if(xn.style[zl]===xo){return;}xn.style[zl]=xo;};IPCC.ad.prototype.abK=function(awY){if(this.KR){return;}if(this.Qz&& !this.En){return;}if(!awY){try{this.ZN=true;var bN=this.J.kS();if(bN){this.Al=bN.igElements.oy.scrollLeft;this.AB=bN.igElements.oy.scrollTop;}this.amZ();this.VS();this.J.aw().jj(this.qy);this.J.ay('userModifiedViewState',{});this.J.pP(false);}finally{this.ZN=false;}}};IPCC.ad.prototype.azM=function(ot,dR,Yh){var qj=ot.aAN(dR,Yh);if(!this.J.BK&&qj.tilesToRequest.length===0&&(qj.opaqueTiles.length+qj.translucentTiles.length)>0){this.J.BK=true;this.J.ay('pageDisplayed',{aa:this.J.aQ});}ot.aCE(qj);if(this.J.sq()===false){this.agC(qj.tilesToRequest);this.aaW(qj.opaqueTiles,1,dR);this.aaW(qj.translucentTiles,qj.opacity,dR);}};IPCC.ad.prototype.aqS=function(Av){var J=this.J;var bN=J.kS();var bC=J.aw();var ap=this;function ez(ky){var st=document.createElement('div');var G;for(G in ky){if(ky.hasOwnProperty(G)){st.style[G]=ky[G];}}return st;};var gF={};bN.igElements=gF;var kB=ez({width:'100%',height:'100%',position:'relative',overflow:bC.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});gF.oy=kB;kB.setAttribute('class','igViewerScroller');kB.onscroll=function(){ap.abK(false);};kB.onresize=function(){var aJ=J.ee();aJ.width=kB.clientWidth;aJ.height=kB.clientHeight;J.ay('resize',{});};var fD=ez({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kB.appendChild(fD);gF.mu=fD;fD.setAttribute('class','igViewerGraphics');this.Bz=2;this.CA=2;this.Al=0;this.AB=0;var bx={};bx.ot=this.GS;bx.Ya='ig'+Av+'level';gF.rv=bx;this.adu(bx,fD,ez);bx.qA=this.qA;var nk;if(J.sq()===false){nk=ez({position:'absolute',display:'none',width:(bC.wN().width+4)+'px',height:(bC.wN().height+4)+'px',backgroundColor:'#000000'});}else{nk=ez({position:'absolute',display:'none',width:(bC.wN().width+4)+'px',height:(bC.wN().height+4)+'px',backgroundColor:'#cccccc'});}fD.appendChild(nk);gF.nk=nk;nk.setAttribute('class','igMagnifierFrame');var su=ez({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});gF.su=su;nk.appendChild(su);bx={};bx.ot=this.He;bx.Ya='ig'+Av+'maglevel';gF.Eb=bx;this.adu(bx,su,ez);bx.qA=this.avl;var OY=document.createTextNode('');gF.OY=OY;var iJ=document.createElement('textarea');iJ.appendChild(OY);iJ.style.position='absolute';iJ.style.overflow='auto';iJ.style.width='80px';iJ.style.height='80px';iJ.style.resize='none';iJ.style.display='none';kB.appendChild(iJ);gF.iJ=iJ;var Wz=document.createTextNode('');gF.Wz=Wz;var gD=document.createElement('input');gD.type="text";gD.style.position='absolute';gD.style.overflow='hidden';gD.style.width='80px';gD.style.height='80px';gD.style.resize='none';gD.style.display='none';gD.style.padding='0px';gD.style.margin='0px';gD.style.lineHeight='normal';gD.className="no-ms-clear";var agz=function(ev){var Jo=gD,bf=parseFloat(Jo.style['width']),cY=parseFloat(Jo.style['height']),kk=Jo.style['fontFamily'];var iB=IPCC.aY.uT(Jo.value,kk,{wF:'pre',eC:gF.rv.EK}),nz=12*bf/(iB.width||1),nK=12*cY/(iB.height||1),Dk=Math.floor(Math.min(nz,nK))*0.9;Jo.style.fontSize=Dk+'px';};gD.onkeyup=agz;gD.onfocus=function(ev){agz(ev);if(gD.setSelectionRange){var ie=gD.value.length*2;gD.setSelectionRange(ie,ie);}};kB.appendChild(gD);gF.gD=gD;this.jP={};this.agv(this.jP);IPCC.Web.UI.aE.addHandler(fD,"mousedown",this.Yp);IPCC.Web.UI.aE.addHandler(fD,"mousemove",this.Za);IPCC.Web.UI.aE.addHandler(fD,"mouseup",this.Zs);IPCC.Web.UI.aE.addHandler(fD,"contextmenu",this.Uo);IPCC.Web.UI.aE.addHandler(iJ,"blur",this.Vs);IPCC.Web.UI.aE.addHandler(gD,"blur",this.abV);bN.appendChild(kB);};IPCC.ad.prototype.adu=function(bx,hw,ez){var uB=ez({width:'2px',height:'2px',position:'absolute'});bx.hw=hw;hw.appendChild(uB);bx.WG=uB;uB.setAttribute('class','igAnchor');this.acV(bx,uB,bx.ot,bx.Ya);bx.xq=ez({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});uB.appendChild(bx.xq);var jT=ez({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jT.style[this.anb]=this.ana(0.5);uB.appendChild(jT);bx.jT=jT;};IPCC.ad.prototype.agE=function(bx){if(bx&&bx.Im){bx.qA.agR();bx.Im=false;}bx.hw=null;};IPCC.ad.prototype.aol=function(bb,bC,aJ){var J=this.J;var vi=this.qy.sn(bb);var bN=J.kS();var aqM=J.atg();var gF=bN.igElements;var rv=gF.rv;var Eb=gF.Eb;var kB=gF.oy;var fD=gF.mu;var uB=rv.WG;var nk=gF.nk;var su=gF.su;var aiM=Eb.WG;var aaC=Math.max(0,-vi.x);var abg=Math.max(0,-vi.y);var aCK=Math.max(vi.width,aJ.width);var aCg=Math.max(vi.height,aJ.height);var pf=Math.max(0,vi.x);var nF=Math.max(0,vi.y);var ajH=false;var FY=false;if(bC.zJ()){FY=bC.yV();}var avY=this.Bz;this.Bz=Math.floor(aCK-1);if(this.Bz<0){this.Bz=0;}var avy=this.CA;this.CA=Math.floor(aCg-1);if(this.CA<0){this.CA=0;}if(J.sq()===true){if(this.CA===0){this.CA=2;}if(this.Bz===0){this.Bz=2;}}var axy=this.Al;var axG=this.AB;if(!this.En){this.Al=Math.floor(aaC);this.AB=Math.floor(abg);}if(this.UZ){this.eW(uB,'left',pf+'px');this.eW(uB,'top',nF+'px');}var dR=bC.ge();dR.op(aaC-pf,abg-nF);this.aaj(rv,bC.ge(),dR,bb,aJ,FY,pf,nF);this.eW(kB,'overflow',bC.get_overflow());if(aJ.width!==kB.clientWidth||aJ.height!==kB.clientHeight){aJ.width=kB.clientWidth;aJ.height=kB.clientHeight;ajH=true;}this.qv(uB.style,'visibility','visible');if(bC.get_magnifierIsVisible()){var wv=bC.get_magnifierWindowPosition();var AS=bC.wN();var NB=bC.Rm();var Op=bC.Rv();var Vz=bC.aud();var aCb=Math.round(wv.x-AS.width/2+aaC+NB);var aBJ=Math.round(wv.y-AS.height/2+abg+Op);var LL=Vz.sn(bb);var aCh=Math.max(0,-LL.x);var aBG=Math.max(0,-LL.y);this.eW(aiM,'left',LL.x+'px');this.eW(aiM,'top',LL.y+'px');var KC=2;nk.style.width=(AS.width+KC*2)+'px';nk.style.height=(AS.height+KC*2)+'px';su.style.width=AS.width+'px';su.style.height=AS.height+'px';su.style.left=KC+'px';su.style.top=KC+'px';nk.style.left=aCb+'px';nk.style.top=aBJ+'px';var akv=Vz.clone();akv.op(aCh,aBG);this.aaj(Eb,Vz,akv,bb,AS,FY,0,0);nk.style.display='block';}else{nk.style.display='none';}if(J.afN()){var wY=J.akw();var anF=wY.fr();var ik=this.qy.sz(anF);var nS=(wY.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var akP=0,ajQ=0;if(ik.width<nS){ik.width=nS;}if(ik.height<nS){ik.height=nS;}if(ik.width>aJ.width){ik.width=aJ.width;}if(ik.height>aJ.height){ik.height=aJ.height;}if(ik.x<0){ik.x=0;}if(ik.y<0){ik.y=0;}if(ik.x+ik.width+1>=aJ.width){ik.x=aJ.width-ik.width;akP= -8;}if(ik.y+ik.height+1>=aJ.height){ik.y=aJ.height-ik.height;ajQ= -8;}var kw=this.SK(wY);kw.style.left=this.Al+ik.x+1+'px';kw.style.top=this.AB+ik.y+1+'px';kw.style.width=ik.width+akP+'px';kw.style.height=ik.height+ajQ+'px';if(kw.style.display!=='block'){kw.style.display='block';var uC=wY.fI;var va='';if(uC&IPCC.Web.UI.FontStyle.Italic){kw.style.fontStyle="italic";}if(uC&IPCC.Web.UI.FontStyle.Bold){kw.style.fontWeight="bold";}if(uC&IPCC.Web.UI.FontStyle.Underline){va+="underline";}if(uC&IPCC.Web.UI.FontStyle.Strikeout){if(uC&IPCC.Web.UI.FontStyle.Underline){va+=" line-through";}else{va="line-through";}}kw.style.textDecoration=va;kw.style.color=wY.pO;kw.style.backgroundColor=wY.cW;kw.style.fontFamily=wY.fW;kw.style['z-index']=100;var Dk=wY.mb*this.qy.uW();kw.style.fontSize=Dk+"px";switch(wY.pG){case IPCC.Web.UI.HorizontalAlignment.Center:kw.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:kw.style.textAlign='right';break;default:kw.style.textAlign='left';break;}kw.focus();}}else{gF.iJ.style.display='none';gF.gD.style.display='none';if(document.activeElement===gF.iJ){gF.iJ.blur();}if(document.activeElement===gF.gD){gF.gD.blur();}}if(bC.get_cursor()!== -1){var hK=IPCC.bO.fE(bC.get_cursor());this.qv(fD.style,'cursor',hK);}if(ajH){J.ay('resize',{});}if(this.Bz!==avY){this.eW(fD,'width','100%');}if(this.CA!==avy){this.eW(fD,'height','100%');}if(this.Al!==axy){kB.scrollLeft=this.Al;}if(this.AB!==axG){kB.scrollTop=this.AB;}if(aqM==="PageView"&& !this.En){bC=J.aw();var bu=bC.ge();var yD=(+bu.uW().toFixed(6));if(J.PP!==yD){J.PP=yD;setTimeout(function(){J.ay('scaleChanged',{scaleFactor:yD,pageNumber:J.aQ});},1);J.ay('scaleChanged',{scaleFactor:yD,pageNumber:J.aQ});}}};IPCC.ad.prototype.aaj=function(bx,qy,dR,bL,aJ,FY,pf,nF){var vi=qy.sn(bL);var mf={};mf.width=Math.max(vi.width,aJ.width);mf.height=Math.max(vi.height,aJ.height);this.aod(bx,qy,dR,bL,aJ,pf,nF);this.Rs(bx,dR,mf,bL,pf,nF);var sO=qy.clone();sO.yd();var Yh=sO.sz({x:0,y:0,width:aJ.width,height:aJ.height});if(this.J.sq()===false){this.azM(bx.ot,dR,Yh);}else{this.aCc(bx);}if(FY){var FC=dR.sz(FY);if(this.UZ){bx.jT.style.left=(FC.x-2)+'px';bx.jT.style.top=(FC.y-2)+'px';}else{bx.jT.style.left=(FC.x-2+pf)+'px';bx.jT.style.top=(FC.y-2+nF)+'px';}bx.jT.style.width=FC.width+'px';bx.jT.style.height=FC.height+'px';bx.jT.style.display='block';}else{bx.jT.style.display='none';}};IPCC.ad.prototype.aod=function(bx,qy,dR,bL,aJ,pf,nF){var bA=this.J.fb();var fV=this.J.ks();var fH=this.J.Ou();var ahF=0;var C=this;if(bx.lv){ahF=bx.lv.length;}if(!bx.qA|| !bA){return;}var pF=this.J.atC();if(bA.get_markCount()<=0&&fV.get_markCount()<=0&&fH.get_markCount()<=0&&ahF<=0&& !pF){return;}if(!bx.Im){bx.qA.abT(this.J,bx,bL);bx.lv=[];bx.Im=true;}fV=this.J.ks();var aK=[];function atG(H){if((C.J.hX()&&C.J.dq().nm()===true)||H.get_type()!==IPCC.Web.UI.MarkType.Highlight){aK.push(H);}};function ahH(H){aK.push(H);};fH.forEachMark(ahH);if(this.J.hX()&&this.J.dq().nm()===true){fV.forEachMark(ahH);}bA.forEachMark(atG);if(pF){aK.push(pF);}var G,lv=bx.lv;for(G=0;G<lv.length;G++){while(G<lv.length&&(G>=aK.length||lv[G].H!==aK[G])){bx.qA.IP(lv[G]);lv.splice(G,1);}if(G<lv.length&&(this.IA||this.qJ.contains(lv[G].H))){bx.qA.QT(lv[G]);}}for(G=lv.length;G<aK.length;G++){lv[G]={H:aK[G]};bx.qA.aaO(lv[G]);}if(this.J.mZ()){if(this.UZ){bx.qA.ald(this.J,bx,aK,dR,this.J.ach());}else{var eF=dR.clone();eF.op(pf,nF);bx.qA.ald(this.J,bx,aK,eF,this.J.ach());}}};IPCC.ad.prototype.Rs=function(){};IPCC.ad.prototype.amZ=function(){var bN=this.J.kS();if(bN){this.akq=bN.igElements.mu.offsetLeft-this.Al;this.alo=bN.igElements.mu.offsetTop-this.AB;}};IPCC.ad.prototype.rD=function(K,cR){var kW=this.J.kS().igElements;var jD=K.domEvent;var ep;if(kW.mu.getBoundingClientRect){ep=kW.mu.getBoundingClientRect();}else{var cG=kW.mu;var vN=document.documentElement;ep={left:vN.clientLeft-vN.scrollLeft,top:vN.clientTop-vN.scrollTop};cG=cG.offsetParent;while(cG){ep.top+=cG.offsetTop-cG.scrollTop;ep.left+=cG.offsetLeft-cG.scrollLeft;cG=cG.offsetParent;}}if(jD.rawEvent.touches){if(jD.rawEvent.touches.length>0){this.QB=new IPCC.Web.UI.Point(jD.rawEvent.touches[0].clientX-kW.oy.scrollLeft-ep.left,jD.rawEvent.touches[0].clientY-kW.oy.scrollTop-ep.top);}if(!this.QB){this.QB=new IPCC.Web.UI.Point(0,0);}K.windowPoint=new IPCC.Web.UI.Point(this.QB.x,this.QB.y);jD.button=0;}else{K.windowPoint=new IPCC.Web.UI.Point(jD.clientX-ep.left-kW.oy.scrollLeft,jD.clientY-ep.top-kW.oy.scrollTop);}var Sc=this.sO.transform(K.windowPoint);K.imagePoint=new IPCC.Web.UI.Point(Sc.x,Sc.y);K.constrainedImagePoint=new IPCC.Web.UI.Point(Sc.x,Sc.y);K.constrainedImagePoint.x=Math.min(Math.max(K.constrainedImagePoint.x,0),this.Ip.width);K.constrainedImagePoint.y=Math.min(Math.max(K.constrainedImagePoint.y,0),this.Ip.height);K.pointLiesWithinImage=(K.constrainedImagePoint.x===K.imagePoint.x&&K.constrainedImagePoint.y===K.imagePoint.y);K.mark=null;try{var cJ=jD.target;while(!(cJ.ImGearMarkRelation)&&cJ.parentNode&&cJ!==document.body){cJ=cJ.parentNode;}if(cJ.ImGearMarkRelation){K.mark=cJ.ImGearMarkRelation.H;}}catch(aH){}};IPCC.ad.prototype.lo=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;this.rD(K);this.J.ayh(K);}catch(ex){this.J.V('mouseDown',ex);}};IPCC.ad.prototype.jV=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;this.rD(K);this.J.aym(K);}catch(ex){this.J.V('mouseMove',ex);}};IPCC.ad.prototype.lO=function(aH){try{var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;this.rD(K);if(!aH.rawEvent.wheelDelta){K.wheelDelta= -aH.rawEvent.detail*120;}else{K.wheelDelta=aH.rawEvent.wheelDelta;}this.J.axq(K);}catch(ex){this.J.V('mouseWheel',ex);}};IPCC.ad.prototype.vP=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;this.rD(K);this.J.ayo(K);}catch(ex){this.J.V('mouseDoubleClick',ex);}};IPCC.ad.prototype.jF=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;this.rD(K);this.J.axm(K);}catch(ex){this.J.V('mouseUp',ex);}};IPCC.ad.prototype.NZ=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;this.rD(K);this.J.ayp(K);}catch(ex){this.J.V('contextMenu',ex);}};IPCC.ad.prototype.alG=function(aH){try{this.J.pP(true);}catch(ex){this.J.V('textAreaBlur',ex);}};IPCC.ad.prototype.alR=function(aH){try{this.J.pP(true);}catch(ex){this.J.V('textInputBlur',ex);}};IPCC.ad.prototype.aBB=function(H){var iJ=this.SK(H);iJ.value=H.ar||"";};IPCC.ad.prototype.azQ=function(){var J=this.J;var H=J.akw();if(!H|| !J.afN()){return;}var ar=this.SK(H).value;ar=ar.replace(/(\n|\n\r|\r\n|\r)/g,'\n');H.set_text(ar);};IPCC.ad.prototype.SK=function(H){var kW=this.J.kS().igElements,iJ=null;if(H.get_type()===IPCC.Web.UI.MarkType.TextLine){iJ=kW.gD;}else if(H.get_type()===IPCC.Web.UI.MarkType.Text){iJ=kW.iJ;}return iJ;};IPCC.xH=function(){this.fa=[];return this;};IPCC.xH.prototype.aAN=function(dK,eV){var bk=dK.uW();var G,lU,qB;var dz=1;var Qf;var Bo=[];var xl=[];var zs=[];var EA,OE;qB=this.fa.length;for(G=0;G<this.fa.length;G++){if(this.fa[G].bk>bk){qB=G;break;}}lU=qB-1;if(lU<0){lU=0;}if(qB>=this.fa.length){qB=this.fa.length-1;}if(lU!==qB){Qf=(bk-this.fa[lU].bk)/(this.fa[qB].bk-this.fa[lU].bk);dz=Qf*1.0;if(dz>=0.15){dz=1;lU=qB;}if(dz<=0.15){dz=1;qB=lU;}}xl=this.fa[lU].Qu(eV);zs=this.fa[qB].Qu(eV);var PK=function(ob){var G;for(G=0;G<ob.length;G++){ob[G].level.pool.SG(ob[G]);}};var ZL=function(ob){var ahj=[];var G;for(G=0;G<ob.length;G++){if(!ob[G].get_isLockedAndLoaded()){ahj.push(ob[G]);}}return ahj;};var akF=function(ob){var aix=[];var G;for(G=0;G<ob.length;G++){if(ob[G].get_isLockedAndLoaded()){aix.push(ob[G]);}}return aix;};if(lU>0&&lU===qB&&this.fa[qB].tiles.length>1){lU=qB-1;xl=this.fa[lU].Qu(eV);}PK(xl);Bo=ZL(xl);if(Bo.length>0){for(EA=lU-1;EA>=0;EA--){OE=this.fa[EA].Qu(eV);PK(OE);if(ZL(OE).length<1){break;}}if(EA<0){xl=akF(xl);}else{lU=EA;xl=OE;dz=1;}}else{PK(zs);Bo=ZL(zs);}PK(zs);zs=akF(zs);if(Bo.length>3){Bo.splice(3,Bo.length-3);}function auE(){var bQ;function abu(Go){var bQ='',G,bm;if(Go.length<1){return '';}bm=Go[0].level;bQ+='level '+bm.id.toString()+' - ';for(G=0;G<Go.length;G++){if(G>0){bQ+=', ';}bQ+='('+(Go[G].x/bm.oI).toString()+','+(Go[G].y/bm.Cz).toString()+')';if(Go[G].get_isLockedAndLoaded()){bQ+='*';}}return bQ;};bQ='tilesToRequest: '+abu(this.tilesToRequest)+'<br/>';bQ+='opaqueTiles: '+abu(this.opaqueTiles)+'<br/>';bQ+='translucentTiles: '+abu(this.translucentTiles)+'<br/>';bQ+='opacity: '+this.opacity.toString()+'<br/>';bQ+='aiy: '+this.aiy.toString()+'<br/>';bQ+='dK: '+this.dK.toString()+'<br/>';return bQ;};return{opaqueTiles:xl,translucentTiles:zs,opacity:dz,tilesToRequest:Bo,toString:auE,aiy:bk,dK:dK.toString()};};IPCC.xH.prototype.aCE=function(qj){var Gd=[];var uH=[];var G,j;var bm,tile;for(G=0;G<this.fa.length;G++){bm=this.fa[G];for(j=0;j<bm.tiles.length;j++){tile=bm.tiles[j];if(tile.poolItem!==undefined){Gd.push(tile);}}}var aik=function(SI,afA){var G,j,Zm,YB;for(G=0;G<afA.length;G++){Zm=afA[G];YB=true;for(j=0;j<SI.length;j++){if(Zm===SI[j]){YB=false;break;}}if(YB){SI.push(Zm);}}};uH=qj.tilesToRequest.concat();aik(uH,qj.opaqueTiles);aik(uH,qj.translucentTiles);for(G=Gd.length-1;G>=0;G--){var avm=Gd[G];for(j=0;j<uH.length;j++){if(uH[j]===avm){Gd.splice(G,1);break;}}}for(G=0;G<Gd.length;G++){Gd[G].unlock();}for(G=0;G<uH.length;G++){uH[G].relock();}for(G=0;G<uH.length;G++){if(uH[G].poolItem===undefined){uH[G].lock();}}};IPCC.xH.prototype.unlockAllItems=function(){var G,j,bm;for(G=0;G<this.fa.length;G++){bm=this.fa[G];for(j=0;j<bm.tiles.length;j++){if(bm.tiles[j].poolItem!==undefined){bm.pool.adz(bm.tiles[j]);}}}};IPCC.xH.prototype.aDP=function(){var G;for(G=0;G<this.fa.length;G++){this.fa[G].pool.arn();}};IPCC.xH.prototype.toString=function(){var bQ='',G,j,bm;for(G=0;G<this.fa.length;G++){bm=this.fa[G];bQ+='Level '+G.toString()+':   scaleFactor='+bm.bk.toString()+'  image='+bm.width.toString()+'x'+bm.height.toString()+'  tile='+bm.oI.toString()+'x'+bm.Cz.toString()+'\n';for(j=0;j<bm.tiles.length;j++){if(j>0){bQ+=', ';}bQ+='('+bm.tiles[j].x.toString()+', '+bm.tiles[j].y.toString()+')';}bQ+='\n';}return bQ;};IPCC.xH.prototype.createPyramid=function(kl,J){var aBF=6000000;var aiN=5000;var oI=1024;var aAZ=oI*oI*3*150;var aau=0.5;var aDQ=2;var bb=J.cD();var AU=bb.width*bb.height*3;var xA;var bm;var bk;var G;var x,y;var tile;var AN,Ac;this.fa=[];if(bb.rK){bk=1.0;xA=AU*bk*bk;while(this.fa.length<aDQ||xA>aiN){bm=new IPCC.PL();bm.bk=bk;this.fa.unshift(bm);bk*=aau;xA=AU*bk*bk;}}else{if(J.sq()===true){AU=bb.width*bb.height;}bk=Math.sqrt(aiN/AU);var azv=bk*bb.gE;bk=Math.ceil(azv)/bb.gE;xA=AU*bk*bk;if(J.sq()===false){while(xA<aAZ){bm=new IPCC.PL();bm.bk=bk;this.fa.push(bm);bk/=aau;xA=AU*bk*bk;}}else{bm=new IPCC.PL();bm.bk=1;this.fa.push(bm);}}bb.rC=this.fa[this.fa.length-1].bk*8;for(G=0;G<this.fa.length;G++){bm=this.fa[G];bm.LX=85;if(G===this.fa.length-1){bm.LX=100;}bm.pyramid=this;bm.id=G;bm.pool=new IPCC.aeF();bm.pool.uiDirector=kl;xA=AU*bm.bk*bm.bk;bm.width=Math.round(bb.width*bm.bk);bm.height=Math.round(bb.height*bm.bk);bm.oI=bm.width;bm.Cz=bm.height;if(G>2&&G>this.fa.length-2){bm.oI=Math.min(oI/2,bm.width);bm.Cz=Math.min(oI/2,bm.height);}if(xA>aBF){bm.oI=Math.min(oI,bm.width);bm.Cz=Math.min(oI,bm.height);}bm.tiles=[];AN=bm.oI;for(x=0;x<bm.width;x+=AN){AN=bm.oI;if(x+AN*1.25>bm.width){AN=bm.width-x;}Ac=bm.Cz;for(y=0;y<bm.height;y+=Ac){Ac=bm.Cz;if(y+Ac*1.25>bm.height){Ac=bm.height-y;}tile=new IPCC.JE();tile.level=bm;tile.x=x;tile.y=y;tile.right=tile.x+AN;if(tile.right<bm.width){tile.right++;}tile.bottom=tile.y+Ac;if(tile.bottom<bm.height){tile.bottom++;}var El='jpeg';if(J.sq()===false){if(bm.LX>=100){El='png';}if(AN!==bm.width||Ac!==bm.height){tile.url=J.Vw('Tile/'+x.toString()+'/'+y.toString()+'/'+AN.toString()+'/'+Ac.toString(),'Scale='+bm.bk.toString()+'&Quality='+bm.LX+'&ContentType='+El);}else{tile.url=J.Vw('','Scale='+bm.bk.toString()+'&Quality='+bm.LX+'&ContentType='+El);}}else{if(document.documentMode===10||IPCC.aY.Bc){El='svg';}else{El='svga';}tile.url=J.Vw('','Scale='+bm.bk.toString()+'&ContentType='+El);tile.aEI=kl.ZM();}bm.tiles.push(tile);}}}};IPCC.PL=function(){this.bk=1;this.width=0;this.height=0;this.oI=0;this.Cz=0;this.pool=undefined;return this;};IPCC.PL.prototype.Qu=function(eV){if(eV.width<1||eV.height<1){return[];}var mG=Math.floor(eV.x*this.bk);var mv=Math.floor(eV.y*this.bk);var pa=Math.ceil((eV.x+eV.width)*this.bk);var ps=Math.ceil((eV.y+eV.height)*this.bk);var ob=[];var G,iR;var cc=this.tiles.length;for(G=0;G<cc;G++){iR=this.tiles[G];if(iR.x<=pa&&iR.right>=mG&&iR.y<=ps&&iR.bottom>=mv){ob.push(iR);}}return ob;};IPCC.JE=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};IPCC.JE.prototype.unlock=function(){this.level.pool.adz(this);};IPCC.JE.prototype.lock=function(){this.level.pool.lockTile(this);};IPCC.JE.prototype.relock=function(){return this.level.pool.SG(this);};IPCC.JE.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};IPCC.aeF=function(){this.dc=[];this.parentElementID='';this.lockTile=function(iR){var dE,G,VQ,Xr;if(this.SG(iR)){return;}VQ=0;for(G=this.dc.length-1;G>=0;G--){if(!(this.dc[G].locked)){VQ++;Xr=G;}}if(VQ>4){dE=this.dc[Xr];this.uiDirector.YT(dE);this.dc.splice(Xr,1);}dE=new IPCC.aCz();dE.pool=this;this.uiDirector.aeC(dE);this.dc.push(dE);dE.locked=true;dE.tile=iR;iR.poolItem=dE;return;};this.SG=function(iR){var dE,G;if(this.locked){return true;}for(G=0;G<this.dc.length;G++){if(this.dc[G].tile===iR){dE=this.dc[G];dE.locked=true;iR.poolItem=dE;return true;}}return false;};this.adz=function(iR){var fC,G;fC=iR.poolItem;if(fC!==undefined&&fC.locked){this.uiDirector.ane(fC);fC.locked=false;iR.poolItem=undefined;for(G=0;G<this.dc.length;G++){if(this.dc[G]===fC){this.dc.splice(G,1);this.dc.push(fC);return;}}}};return this;};IPCC.aeF.prototype.arn=function(){var G;for(G=0;G<this.dc.length;G++){if(!this.dc[G].locked){this.uiDirector.YT(this.dc[G]);}}};IPCC.aCz=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};(function(aqT){var aY={};aY.anR=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();aY.Bc=(function(){var Bc=false;var ue=navigator.userAgent,aaJ=((ue.indexOf('Mozilla/5.0')> -1&&ue.indexOf('Android ')> -1&&ue.indexOf('AppleWebKit')> -1)&& !(ue.indexOf('Chrome')> -1)),adl=new RegExp(/AppleWebKit\/([\d.]+)/),aAI=adl.exec(ue),agA=(aAI===null?null:parseFloat(adl.exec(ue)[1]));Bc=aaJ&&agA!==null&&agA<537;return Bc;})();aY.aGu=(function(){var aiX=false;var ue=navigator.userAgent,aaJ=/Android/i.test(ue),aBE=/iPhone|iPad|iPod/i.test(ue),aBC=/IEMobile/i.test(ue);aiX=(aaJ||aBE||aBC);return aiX;})();aY.DC=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();aY.Es=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();aY.Hw=aY.Es||(function(){return('ontouchstart'in document.documentElement);})();aY.aAK=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();aY.akb=function(){return aY.aws.btoa((Math.random().toString(36).slice(-4))+'_'+aY.xD(new Date())+'_'+(Math.random().toString(36).slice(-6)));};aY.inArray=function(eB,dE){for(var i=0,l=eB.length;i<l;i++){if(eB[i]===dE){return true;}}return false;};aY.forEach=function(ba,ck,du){var pR=[].forEach,aAY=Object.prototype.hasOwnProperty;if(pR&&ba.forEach===pR){ck&&ba.forEach(ck,du);}else if(ba.length=== +ba.length){for(var i=0,length=ba.length;i<length;i++){ck&&ck.call(du,ba[i],i,ba);}}else{for(var cO in ba){if(aAY.call(ba,cO)){ck&&ck.call(du,ba[cO],cO,ba);}}}};aY.map=function(eB,ck,du){var pR=[].map,vL=[];if(pR&&eB.map===pR){vL=eB.map(ck,du);}else{aY.forEach(eB,function(el,i){vL.push(ck.call(du,el,i,eB));});}return vL;};aY.filter=function(eB,ck,du){var pR=[].filter,vL=[],ajm=false;if(pR&&eB.filter===pR){vL=eB.filter(ck,du);}else{aY.forEach(eB,function(ak,i){ajm=ck.call(du,ak,i,eB);if(ajm){vL.push(ak);}});}return vL;};aY.reduce=function(eB,ck,ej,du){var pR=[].reduce;var IU=(arguments.length===2)?undefined:ej;if(pR&&typeof pR==='function'&&eB.reduce===pR&&du===undefined){if(ej!==undefined){return eB.reduce(ck,ej,du);}return eB.reduce(ck);}IPCC.aY.forEach(eB,function(dm,cT){if(IU===undefined){IU=dm;return;}IU=ck.call(du,IU,dm,cT,eB);});return IU;};aY.reduceLeft=function(eB,ck,ej,du){var vL=eB.reverse();return aY.reduce.call(undefined,vL,ck,ej,du);};aY.contains=function(eB,dm){var cl=eB.length;while(cl--){if(eB[cl]===dm){return true;}}return false;};aY.awq=function(XH,aii){if(XH.length!==aii.length){return false;}for(var i=0,l=XH.length;i<l;i++){if(XH[i]!==aii[i]){return false;}}return true;};aY.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};aY.aeO=function aeO(RV,api,aek){var FS;return function(){var du=this,cI=arguments;var azh=function(){FS=undefined;if(!aek){RV.apply(du,cI);}};var avR=aek&& !FS;clearTimeout(FS);FS=setTimeout(azh,api);if(avR){RV.apply(du,cI);}};};aY.adH=function adH(bV,uU){if(bV.classList){bV.classList.add(uU);}else{bV.className+=' '+uU;}};aY.alw=function alw(bV,uU){if(bV.classList){bV.classList.remove(uU);}else{bV.className=bV.className.replace(uU,'');}};aY.UM=function(jk){return{width:jk.width||(jk.right-jk.left),height:jk.height||(jk.bottom-jk.top),top:jk.top,bottom:jk.bottom,left:jk.left,right:jk.right};};aY.HZ=function(axV){var ss,Lf={method:'GET',body:null,headers:{}},pj=PCCViewer.Deferred(),aO={},aB;PCCViewer.Bu.uE(aO,Lf,axV);try{ss=new XMLHttpRequest();}catch(e){pj.reject(new PCCViewer.Error("Error",e.message));}ss.open(aO.method,aO.url,true);ss.onreadystatechange=function(){if(ss.readyState===4){if(ss.status>=200&&ss.status<300){pj.resolve(ss.responseText);}else{pj.reject(new PCCViewer.Error("Error","An AJAX problem occurred: "+ss.status+" "+ss.statusText));}}};aB=null;for(aB in aO.headers){if(aO.headers.hasOwnProperty(aB)){ss.setRequestHeader(aB,aO.headers[aB]);}}if(aO.method==='POST'&&typeof aO.headers['Content-Type']==='undefined'){pj.reject(new PCCViewer.Error("Error","An Ajax request with a method of POST must have a Content-Type header set."));}aB=null;if(aO.method==='POST'&&aO.headers['Content-Type']==="application/x-www-form-urlencoded"&&aO.dataType==='json'){var adJ=[];for(aB in aO.body){if(aO.body.hasOwnProperty(aB)){adJ.push(encodeURIComponent(aB)+'='+encodeURIComponent(aO.body[aB]));}}aO.body=adJ.join('&');}ss.send(aO.body);return pj.getPromise();};aY.Ox=function(fi,la,ff){var jN=[],vb=null,vR=null,ag;var aBr=function(vR,vb){if(!vb){return false;}else{return Math.abs(vR.y-vb.y)<1&&Math.abs(vR.height-vb.height)<1&&vR.x+vR.width>=vb.x+vb.width;}};for(ag=la;ag<ff+1;ag++){vR=fi.lB(ag).bz;if(aBr(vR,vb)){vb.union(vR);}else{vb=vR.clone();jN.push(vb);}}return jN;};aY.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};aY.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};aY.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(aT){var apz=aY.map(aT,function(ak){return[ak.x,ak.y];});return d3_svg_lineBasis(apz);};})();aY.aFn=function(cr){if(cr.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aBk=aY.filter(cr.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqh=aY.map(aBk,function(el){var aqQ=el.replace(/[a-zA-Z]/g,'|').split('|');return aY.map(aqQ,function(fv){var adb=fv.split(',');return{x: +adb[0],y: +adb[1]};});});return aqh;};aY.ajR=function(cr,kk,kL,kd,aO){aO.di="12px";var iB=aY.uT(cr,kk,aO),nz=12*kL/(iB.width||1),nK=12*kd/(iB.height||1),aow=Math.min(nz,nK);aO.di=aow;return aY.ajX(cr,kk,kL,kd,aO);};aY.ajX=function(cr,kk,kL,kd,aO,Si){Si=Si||1;var hO={},iB=aY.uT(cr,kk,aO),di=aO.di;hO.width=iB.width;hO.height=iB.height;hO.fontSize=di;if(Si>3){return hO;}if((iB.width<kL+1)&&(iB.height<kd+1)){return hO;}else{var nz=di*kL/(iB.width||1),nK=di*kd/(iB.height||1),Dk=Math.min(nz,nK);if(Dk>=aO.di){return hO;}else{aO.di=Dk;return aY.ajX(cr,kk,kL,kd,aO,Si+1);}}};aY.uT=function(cr,kk,aO){aO=aO||{};if(document.createElementNS){return aY.atb(cr,kk,aO);}else{return aY.aki(cr,kk,aO);}};aY.atb=function(cr,kk,aO){var svg,aiw=false;if(aO.eC){svg=aO.eC;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');aiw=true;document.body.appendChild(svg);}var di=aO.di||"12px";if(typeof di==="number"){di=di+"px";}var fg=document.createElementNS("http://www.w3.org/2000/svg","text");aY.forEach({x:0,y:0,'font-size':di,'stroke':"none",'fill':"#000000",'font-family':kk},function(value,name){fg.setAttribute(name,value);});if(aO.wF){fg.setAttribute('style','white-space:'+aO.wF);}var tN=document.createTextNode(cr);fg.appendChild(tN);svg.appendChild(fg);var wX=fg.getBBox(),Ir=wX.width,HW=wX.height;svg.removeChild(fg);if(aiw){document.body.removeChild(svg);}if(Ir===0&&HW===0&&cr!=="M"){return aY.uT("M",kk,aO);}else{return{width:Ir,height:HW};}};aY.aki=function(cr,kk,aO){var tN=document.createTextNode(cr),DP=document.createElement('div');var di=aO.di||"12px";if(typeof di==="number"){di=di+"px";}aY.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:di,fontFamily:kk},function(value,name){DP.style[name]=value;});if(aO.wF){DP.style.whiteSpace=aO.wF;}DP.appendChild(tN);document.body.appendChild(DP);var wX=DP.getBoundingClientRect(),Ir=wX.width||wX.right-wX.left,HW=wX.height||wX.bottom-wX.top;document.body.removeChild(DP);if(Ir===0&&HW===0&&cr!=="M"){return aY.aki("M",kk,di);}else{return{width:Ir,height:HW};}};aY.VI=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};aY.ys=(aY.anR)?{SVG:function SVG(Su){var eC=document.createElementNS("http://www.w3.org/2000/svg","svg");eC.setAttribute('viewBox',Su);return eC;},Path:function Path(sa,qW){var dr=document.createElementNS("http://www.w3.org/2000/svg","path");dr.style.fill='none';dr.style.stroke=qW.color||'#000000';dr.style.strokeWidth=qW.thickness||4;if(sa){dr.setAttribute('d',sa.toString().trim());}return dr;},Rect:function Rect(bf,cY,aq){var bH=document.createElementNS("http://www.w3.org/2000/svg","rect");bH.setAttribute('width',bf||0);bH.setAttribute('height',cY||0);if(aq){bH.setAttribute('style',aq);}return bH;}}:{SVG:function(Su,OQ){var bV=document.createElement("div");bV.style.left="0px";bV.style.top="0px";bV.style.position="relative";bV.baseInit=false;bV.baseX=0;bV.baseY=0;var ayO=bV.setAttribute;bV.setAttribute=function(aB,T){if(aB==="width"){this.style.width=T*(+OQ||1);}else if(aB==="height"){this.style.height=T*(+OQ||1);}else if(aB==="x"){this.style.left=T;}else if(aB==="y"){this.style.top=T;}else if(aB==="viewBox"){var sQ=T.split(" ");this.style.height= +sQ.pop()*(+OQ||1)+'px';this.style.width= +sQ.pop()*(+OQ||1)+'px';}else{ayO(aB,T);}};bV.setAttribute('viewBox',Su);bV.setAttribute('data-pcc-mark','signature');return bV;},Path:function(sa,qW){var bV=document.createElement("v:shape");bV.style.width=qW.width*(+qW.multiplier||1);bV.style.height=qW.height*(+qW.multiplier||1);bV.coordsize=[qW.width,qW.height].join(', ');bV.style.position="absolute";bV.setAttribute=function(aB,T){if(aB==="d"){var Fy=0;var Gk=0;T=T.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var Nn=T.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var aeR="",gG=[];for(var i=0;i<Nn.length;i++){var fv=Nn[i].substring(0,1);var mt=Nn[i].substring(1,Nn[i].length);mt=mt.split(/[, ]/);for(var j=0;j<mt.length;j++){mt[j]=Math.round(mt[j]);}mt=mt.join();switch(fv){case "M":fv="m";gG=mt.split(/[, ]/);Fy=parseInt(gG[0],10);Gk=parseInt(gG[1],10);break;case "m":fv="t";gG=mt.split(/[, ]/);gG[0]=parseInt(gG[0],10)+parseInt(Fy,10);gG[1]=parseInt(gG[1],10)+parseInt(Gk,10);Fy=parseInt(gG[0],10);Gk=parseInt(gG[1],10);break;case "A":fv="ae";var cI=mt.split(/[, ]+/);cI[0]=parseInt(cI[0],10);cI[1]=parseInt(cI[1],10);cI[2]=parseInt(cI[2],10);cI[3]=parseInt(cI[3],10);cI[4]=parseInt(cI[4],10);cI[5]=parseInt(cI[5],10);mt=cI[4]+" "+cI[5]+" "+cI[2]*2+" "+cI[3]*2+" 0 360";break;case "L":fv="l";gG=mt.split(/[, ]+/);Fy=parseInt(gG[0],10);Gk=parseInt(gG[1],10);break;case "l":fv="r";gG=mt.split(/[, ]+/);gG[0]=parseInt(gG[0],10)+parseInt(Fy,10);gG[1]=parseInt(gG[1],10)+parseInt(Gk,10);Fy=parseInt(gG[0],10);Gk=parseInt(gG[1],10);break;case "c":fv="v";break;case "z":fv="xe";mt="";break;default:fv=fv.toLowerCase();}aeR+=fv+mt;}this.path=aeR;return;}else if(aB==="stroke"){this.stroked=(T==="none"?0:1);this.strokecolor=T;return;}else if(aB==="stroke-width"){this.strokeweight=parseFloat(T)/1.2+"pt";return;}else if(aB==="fill"){this.filled=(T==="none"?0:1);this.fillcolor=T;return;}};if(sa){bV.setAttribute('d',sa);}bV.setAttribute('stroke-width',qW.thickness||4);bV.setAttribute('stroke',qW.color||'#000000');bV.filled=0;bV.fillcolor='none';return bV;},Rect:function(bf,cY){var bV=document.createElement("v:roundrect");bV.rxy=0;bV.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};bV.setAttribute=function(aB,T,awU){if(this.svg2vmlStyle[aB]){this.svg2vmlStyle[aB]["value"]=T;this.svg2vmlStyle[aB]["valueSource"]=(awU||"user");}if(aB==="x"){this.style.left=parseInt(T,10)+'px';return;}else if(aB==="y"){this.style.top=parseInt(T,10)+'px';return;}else if(aB==="stroke"){this.stroked=(T==="none"?0:1);this.strokecolor=T;return;}else if(aB==="stroke-width"){this.strokeweight=parseFloat(T)/1.2+"pt";return;}else if(aB==="fill"){this.filled=(T==="none"?0:1);this.fillcolor=T;return;}else if(aB==="width"||aB==="height"||aB==="rx"||aB==="ry"){if(aB==="width"){this.style.width=parseInt(T,10)+'px';}else if(aB==="height"){this.style.height=parseInt(T,10)+'px';}else if(aB==="rx"||aB==="ry"){if(parseInt(T,10)){this.rxy=parseInt(T,10);}}if(this.rxy!==0){var GN=parseInt(this.style.width,10);var PZ=parseInt(this.style.height,10);if(!GN){GN=0;}if(!PZ){PZ=0;}if(PZ<GN){GN=PZ;}var Qf=this.rxy/GN;this.arcsize=Qf;}else{this.arcsize=0;}return;}};if(bf){bV.setAttribute('width',bf);}if(cY){bV.setAttribute('height',cY);}for(var aB in bV.svg2vmlStyle){if((bV.svg2vmlStyle[aB]["value"])&&(bV.svg2vmlStyle[aB]["valueSource"]==="default")){bV.setAttribute(aB,bV.svg2vmlStyle[aB]["value"],"default");}}return bV;}};aY.IJ=function IJ(iH){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(iH);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(iH+' cannot be parsed as an ISO 8601 date.');}};aY.xD=function aDp(gy){if(gy.toISOString&&typeof gy.toISOString==='function'){return gy.toISOString();}else if(gy instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return gy.getUTCFullYear()+'-'+pad(gy.getUTCMonth()+1)+'-'+pad(gy.getUTCDate())+'T'+pad(gy.getUTCHours())+':'+pad(gy.getUTCMinutes())+':'+pad(gy.getUTCSeconds())+'.'+(gy.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(gy+' is not a Date object.');}};aY.vs=function vs(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};aY.KS=function KS(o){if(aY.vs(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};aY.Wq=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};aY.akY=function(dm){dm=String(dm).replace(/[^0-9a-f]/gi,"");if(dm.length<6){dm=dm[0]+dm[0]+dm[1]+dm[1]+dm[2]+dm[2];}var Us=function(cr){return parseInt(cr,16);};var r=Us(dm.substring(0,2));var g=Us(dm.substring(2,4));var b=Us(dm.substring(4,6));return{r:r,g:g,b:b};};aY.azC=function(dm){var Pz="";var MC=function(n){while(n.length<2){n='0'+n;}return n;};var ZX=function(n){return MC(n.toString(16));};Pz+=ZX(Math.floor(dm.r));Pz+=ZX(Math.floor(dm.g));Pz+=ZX(Math.floor(dm.b));return '#'+Pz;};aY.amo=function(aqn,awu,apD){var FW=apD,Wc=aY.akY(aqn),oD=aY.akY(awu);oD.r=(1-FW)*oD.r+(Wc.r*FW);oD.g=(1-FW)*oD.g+(Wc.g*FW);oD.b=(1-FW)*oD.b+(Wc.b*FW);oD.r=Math.floor(oD.r);oD.g=Math.floor(oD.g);oD.b=Math.floor(oD.b);return aY.azC(oD);};aY.ajz=function(aqY,wP){var apK=aY.reduceLeft(aqY,function(ej,ey){if(ey.opacity===undefined){ey.opacity=127;}var axk=ey.opacity/255;return aY.amo(ey.color,ej,axk);},wP);return apK;};aY.akz=function(fZ){if(fZ.length===0){return fZ;}var fo=fZ.slice(0);fo.sort(function(a,b){return a.startIndex-b.startIndex;});var YJ=null;var kr=[];var XL=0,Pf=[];var G=fo[0].startIndex;while(fo.length>0){XL=0;Pf=null;Pf=[];var ag=0;while(ag<fo.length&&fo[ag].startIndex<=G){if(G<=fo[ag].startIndex+fo[ag].length-1){XL++;Pf.push(fo[ag]);ag++;}else{fo.splice(ag,1);}}if(XL>0){var FH=aY.ajz(Pf,'#ffffff');if(FH===YJ){kr[kr.length-1].endIndex=G;}else{kr.push({startIndex:G,endIndex:G,color:FH});}YJ=FH;G++;}else{if(fo.length>0){G=fo[0].startIndex;}YJ=null;}}return kr;};aY.Ko=function(Yu){return Yu.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};aY.MC=function(jm,cl){var cr=""+jm;while(cr.length<cl){cr='0'+cr;}return cr;};aY.aEi=function(eK){var kX=eK.getTimezoneOffset();kX=((kX<0?'+':'-')+aY.MC(parseInt(Math.abs(kX/60),10),2)+aY.MC(Math.abs(kX%60),2));return kX;};aY.afJ=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];aY.Yn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];aY.ale=function(SS){var azd=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,bQ=azd.exec(SS),age,Ds,afD,amN,ahg,yi,Kw;if(!bQ){return null;}else{age=bQ[1].toLowerCase();afD=bQ[2];amN=bQ[3];ahg=bQ[4];yi=bQ[5];Kw=bQ[6];for(Ds=0;Ds<12;Ds++){if(aY.Yn[Ds].toLowerCase()===age){break;}}if(Ds>=12){return null;}return new Date(Date.UTC(Kw,Ds,afD,amN,ahg,yi));}};aY.alr=function(eK){return(aY.afJ[eK.getUTCDay()]+" "+aY.Yn[eK.getUTCMonth()]+" "+eK.getUTCDate()+" "+eK.getUTCHours()+':'+eK.getUTCMinutes()+':'+eK.getUTCSeconds()+" "+"GMT+0000 "+eK.getUTCFullYear());};aY.arr=function(eK){return(aY.afJ[eK.getUTCDay()]+" "+aY.Yn[eK.getUTCMonth()]+" "+eK.getUTCDate()+" "+eK.getUTCFullYear());};aY.asZ=function(eK){return(eK.getUTCHours()+':'+eK.getUTCMinutes()+':'+eK.getUTCSeconds()+" "+"GMT+0000");};aY.Gc=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};aY.abb=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};aY.aws=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();aY.qd=(function(){var qd=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var ang={};qd.forEach(function(ame){ang[ame]='pointer'+ame;});return ang;}if(window.navigator.msPointerEnabled){var agG={};for(var G=0;G<qd.length;G++){var WI=qd[G];var aCA='MSPointer'+WI.charAt(0).toUpperCase()+WI.slice(1);agG[WI]=aCA;}return agG;}return{};})();aqT.aY=aY;})(IPCC||{});IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619};IPCC.Web.UI.MarkType.registerEnum('IPCC.Web.UI.MarkType',false);IPCC.Web.UI.HighLightType=function(){};IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3};IPCC.Web.UI.HighLightType.registerEnum('IPCC.Web.UI.HighLight',false);IPCC.Web.UI.MarkInteractionMode=function(){};IPCC.Web.UI.MarkInteractionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkInteractionMode.prototype={Full:0,SelectionDisabled:1};IPCC.Web.UI.MarkInteractionMode.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum('IPCC.Web.UI.LineStyle',false);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum('IPCC.Web.UI.LineHeadType',false);IPCC.Web.UI.CalloutType=function(){};IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum('IPCC.Web.UI.CalloutType',false);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum('IPCC.Web.UI.FontStyle',true);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum('IPCC.Web.UI.VerticalAlignment',false);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum('IPCC.Web.UI.Orientation',false);IPCC.Web.UI.MarkEventArgs=function(){return this;};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass('IPCC.Web.UI.MarkEventArgs');IPCC.Web.UI.MarkCollection=function(){var aK=[];var bw=new IPCC.Web.UI.gb();this.KU=function(H){if(this.Hd(H)=== -1){aK.push(H);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=H;this.ay('markAdded',K);}};this.axc=function(zW){var K=new IPCC.Web.UI.MarkEventArgs();K.length=zW.get_length();var C=this;function lY(H){if(C.Hd(H)=== -1){aK.push(H);}};zW.forEach(lY,{});if(K.length>0){this.ay('markAdded',K);}};this.mF=function(nG,du){var IE=[].concat(aK);var G;for(G=0;G<IE.length;G++){nG.call(du,IE[G],G,this);}};this.dY=function(){return aK.length;};this.wK=function(H){var G=this.Hd(H);if(G> -1){aK.splice(G,1);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=H;this.ay('markRemoved',K);}};this.Hd=function(H){var G;for(G=0;G<aK.length;G++){if(aK[G]===H){return G;}}return-1;};this.AP=function(h){bw.addHandler('markAdded',h);};this.xg=function(h){bw.removeHandler('markAdded',h);};this.Ad=function(h){bw.addHandler('markRemoved',h);};this.yQ=function(h){bw.removeHandler('markRemoved',h);};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(this,K);}};return this;};IPCC.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.KU(mark);},addMarks:function(markCollection){this.axc(markCollection);},forEach:function(method,context){this.mF(method,context);},get_length:function(){return this.dY();},contains:function(mark){return this.Hd(mark)> -1;},removeMark:function(mark){this.wK(mark);},removeAllMarks:function(){this.mF(function(H,bP,zW){zW.wK(H);});},add_markAdded:function(handler){this.AP(handler);},remove_markAdded:function(handler){this.xg(handler);},add_markRemoved:function(handler){this.Ad(handler);},remove_markRemoved:function(handler){this.yQ(handler);}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass('IPCC.Web.UI.MarkCollection');IPCC.Web.UI.aBV=1;IPCC.Web.UI.Mark=function(type){var ae=type;type=undefined;var tO=new Date();var sS=new Date();var bA=null;var F;var aT;var bX;var dj=new IPCC.Web.UI.Data();var bw=new IPCC.Web.UI.gb();var C=this;var jG;this.ei=function(kM,cg){if((jG&kM)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cg+' is not a valid property for this type of Mark.');}};if(ae===IPCC.Web.UI.MarkType.SignatureText){this.gi='#000000';this.hG=IPCC.Web.UI.LineStyle.Solid;this.gp=0;}else{this.gi='#000000';this.hG=IPCC.Web.UI.LineStyle.Solid;this.gp=1;}this.dz=255;this.od=IPCC.Web.UI.MarkInteractionMode.Full;var im=false;switch(ae){case IPCC.Web.UI.MarkType.Line:im=true;aT=new IPCC.Web.UI.PointCollection();aT.addPoint({x:0,y:0});aT.addPoint({x:0,y:0});jG=1;this.gi='#18385F';this.gp=6;break;case IPCC.Web.UI.MarkType.Polyline:im=true;this.mq=false;aT=new IPCC.Web.UI.PointCollection();jG=2;this.gp=2;break;case IPCC.Web.UI.MarkType.Rectangle:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=4;this.cW='#FB0404';this.gp=4;break;case IPCC.Web.UI.MarkType.Ellipse:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=8;this.gp=4;break;case IPCC.Web.UI.MarkType.Polygon:aT=new IPCC.Web.UI.PointCollection();jG=16;break;case IPCC.Web.UI.MarkType.Text:this.Ek='#000000';this.Bq=false;this.tk=IPCC.Web.UI.LineStyle.Solid;this.DZ=1;this.oJ=new IPCC.Web.UI.Point(0,0);this.JY=IPCC.Web.UI.CalloutType.Triangle;this.AM=false;this.fW='Arial';this.di=12;this.fI=IPCC.Web.UI.FontStyle.Regular;this.hG=IPCC.Web.UI.LineStyle.Solid;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ar='';this.pG=IPCC.Web.UI.HorizontalAlignment.Left;this.zg=IPCC.Web.UI.VerticalAlignment.Top;this.pO='#000000';this.uc=255;this.xw=IPCC.Web.UI.Orientation.TopLeft;this.fo=[];this.gp=4;this.dz=127;jG=32;break;case IPCC.Web.UI.MarkType.Stamp:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=128;break;case IPCC.Web.UI.MarkType.Highlight:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.dF='';this.mT='n';this.an=0;this.dv='';this.dQ=0;this.dz=127;jG=256;break;case IPCC.Web.UI.MarkType.HighlightText:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.dF='';this.mT='n';this.an=0;this.dv='';this.dQ=0;this.dz=127;this.cW='#FFFF00';jG=512;this.fo=[];this.cf=[];break;case IPCC.Web.UI.MarkType.Freehand:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=64;this.gp=4;this.gi='#000000';this.gZ=false;this.aaz=1;this.aan=1;this.sU='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=1024;this.gp=4;this.gi='#000000';this.gZ=false;this.aaz=1;this.aan=1;this.sU='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=2048;this.ar='John Doe';this.pO='#000000';this.cW='#000000';this.fW="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=4096;this.fW='Arial';this.di=8;this.fI=IPCC.Web.UI.FontStyle.Regular;this.ar='';this.pG=IPCC.Web.UI.HorizontalAlignment.Center;this.zg=IPCC.Web.UI.VerticalAlignment.Center;this.cW='#000000';this.pO='#FFFFFF';this.uc=255;this.xw=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.cf=[];this.dF='';this.fB='';this.ar='';this.fW='Arial';this.di=8;this.an=0;this.dQ=0;jG=8192;this.fo=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oU='';this.gp=2;this.dv='';this.dF='';this.mT='n';this.an=0;this.dQ=0;jG=1<<14;this.fo=[];this.cf=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);jG=16384;this.bb='';this.pB='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oU='';this.yZ='';this.CG='';this.FM=0;this.Fa=0;this.pr=255;jG=32768;break;case IPCC.Web.UI.MarkType.TextLine:jG=65536;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ar='';this.pO='#000000';this.fW="Courier New";this.gp=1;this.gZ=true;this.Ff=0;this.LG=false;var iB=IPCC.aY.uT("M",this.fW,{wF:'pre'});this.vT=iB.width;this.wl=iB.height;break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',ae);}if(ae!==IPCC.Web.UI.MarkType.SignaturePath&&ae!==IPCC.Web.UI.MarkType.Freehand&&ae!==IPCC.Web.UI.MarkType.SignatureText&&ae!==IPCC.Web.UI.MarkType.DocumentHyperlink&&ae!==IPCC.Web.UI.MarkType.HighlightText&&ae!==IPCC.Web.UI.MarkType.TextLine){if(im){this.Eu=15;this.EN=25;this.lV=IPCC.Web.UI.LineHeadType.None;this.tL='#000000';this.Fo=15;this.EC=25;this.Ev=IPCC.Web.UI.LineHeadType.None;}else{this.ye=true;this.gZ=true;if(ae===IPCC.Web.UI.MarkType.Highlight){this.gZ=false;this.dz=100;}}}this.WH=IPCC.Web.UI.aBV++;this.gJ=true;this.bF={};this.cF=[];var Pg=false;function auG(az,K){C.ay('commentAdded',K);};function auy(az,K){C.ay('commentRemoved',K);};function MT(az,K){C.ay('commentChanged',K);};bX=new IPCC.Web.UI.Conversation(C);bX.add_commentAdded(auG);bX.add_commentChanged(MT);bX.add_commentRemoved(auy);this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(this,K);}};function SX(az,K){var akk='points';if(ae===IPCC.Web.UI.MarkType.Line){akk=K.index===0?'startPoint':'endPoint';}C.aG(akk,K);};if(aT){aT.add_pointAdded(SX);aT.add_pointChanged(SX);aT.add_pointRemoved(SX);}this.lk=function(){return ae;};this.aey=function(){return tO;};this.adN=function(T){tO=T;};this.afH=function(){return sS;};this.Ws=function(T){sS=T;};this.fb=function(){return bA;};this.lw=function(value){if(bA!==value){bA=value;this.aG('artPage');}};this.jz=function(){return Pg;};this.kn=function(T){Pg=T;};this.aeS=function(){var pu=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(ae){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return aT.wq();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:return F.clone();case IPCC.Web.UI.MarkType.Text:var gk=F.x+F.width,jg=F.y+F.height;var amd=F.x+this.oJ.x,anv=F.y+this.oJ.y;pu.x=Math.min(F.x,Math.min(gk,amd));pu.y=Math.min(F.y,Math.min(jg,anv));pu.width=Math.max(F.x,Math.max(gk,amd))-pu.x;pu.height=Math.max(F.y,Math.max(jg,anv))-pu.y;break;}return pu;};this.fr=function(){return F.clone();};this.wH=function(T){this.GE(16384,'image','bb',T);};this.cD=function(){return this.bb;};this.qY=function(){return aT;};this.arU=function(){return bX;};this.xv=function(){return dj;};this.Dy=function(T){var mj;if(!F.equals(T)){F=new IPCC.Web.UI.Rectangle(T.x,T.y,T.width,T.height);if(ae===IPCC.Web.UI.MarkType.Stamp||ae===IPCC.Web.UI.MarkType.SignatureText||ae===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){mj=0;if(F.width>=F.height){mj=(F.width/14)/2;}else{mj=F.width/15;}if(mj*15>=F.width){mj=(F.width/15)/2;}this.stampSize=Math.round(mj);}else{var textFontSize=(F.width/6);if(textFontSize>F.height){textFontSize=(F.height-(F.height/6));}var pp=this.get_text();if(!pp){pp=(ae===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}mj=pp.length*textFontSize;if(mj>F.width){textFontSize=((F.width/pp.length));}var Ff=Math.round(textFontSize);this.stampSize=Ff.toString();}}this.aG('rectangle');}};this.iY=function(){return this.WH;};this.Jp=function(fw,eG){if(fw!==0||eG!==0){switch(ae){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:aT.agO(fw,eG);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(ae===IPCC.Web.UI.MarkType.RectangleRedaction&&this.dF!==undefined){break;}F.x+=fw;F.y+=eG;this.aG('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;}}};this.Wt=function(Xt){if(this.fo&&Xt!==this.fo){while(this.fo.length>0){this.fo.pop();}if(Xt){this.fo=Xt.slice(0);}this.ay('markTextSelectionChanged',{});}};this.Kl=function(h){if(this.fo){bw.addHandler('markTextSelectionChanged',h);}};this.IY=function(h){if(this.fo){bw.removeHandler('markTextSelectionChanged',h);}};this.AG=function(h){bw.addHandler('commentAdded',h);};this.FR=function(h){bw.removeHandler('commentAdded',h);};this.zi=function(h){bw.addHandler('commentRemoved',h);};this.FT=function(h){bw.removeHandler('commentRemoved',h);};this.uq=function(h){bw.addHandler('commentChanged',h);};this.vx=function(h){bw.removeHandler('commentChanged',h);};this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};this.iO(function(H){H.Ws(new Date());});return this;};IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qY().getPoint(0)+' to '+this.qY().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qY().dY()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fr();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fr();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fr();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qY().dY()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.ar+'", at '+this.fr();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fr();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fr();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fr();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fr();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fr();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fr();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.sU+'", at '+this.fr();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.sU+'", at '+this.fr();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fr();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fr();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fr();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fr();}return 'Mark';},initializeDates:function(tO,sS){IPCC.bB.gy(tO,"dateCreated");IPCC.bB.gy(sS,"dateModified");this.adN(tO);this.Ws(sS);},get_dateCreated:function(){return this.aey();},get_dateModified:function(){return this.afH();},na:function(kM,cg,kv,T){this.ei(kM,cg);if(this[kv]!==T){this[kv]=T;this.aG(cg);}},Js:function(kM,cg,kv,T){IPCC.bB.WS(T,cg);this.na(kM,cg,kv,T);},Gr:function(kM,cg,kv,T){IPCC.bB.jm(T,cg);this.na(kM,cg,kv,T);},zM:function(kM,cg,kv,T,Ag,xW){IPCC.bB.mX(T,cg,Ag,xW);this.na(kM,cg,kv,T);},SC:function(kM,cg,kv,T,Ag,xW){IPCC.bB.oX(T,cg,Ag,xW);this.na(kM,cg,kv,T);},GE:function(kM,cg,kv,T){IPCC.bB.ae(T,cg,'string');this.na(kM,cg,kv,T);},vy:function(kM,cg,kv,T,jn){IPCC.bB.jn(T,cg,jn);this.na(kM,cg,kv,T);},anB:function(kM,cg,kv,T,jn){IPCC.bB.jn(T,cg,jn,true);this.na(kM,cg,kv,T);},anQ:function(kM,cg,kv,T){IPCC.bB.aX(T,cg);this.na(kM,cg,kv,T);},get_artPage:function(){return this.fb();},get_boundingRectangle:function(){return this.aeS();},get_selected:function(){var bA=this.fb();if(!bA){return false;}var ek=bA.AD();return ek.contains(this);},set_selected:function(value){var bA=this.fb();if(bA){if(this.od!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var ek=bA.AD();if(value!==ek.contains(this)){if(value){ek.KU(this);}else{ek.wK(this);}this.aG('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.ei(32,'calloutLineColor');return this.Ek;},set_calloutLineColor:function(value){this.Js(32,'calloutLineColor','Ek',value);},get_calloutLineIsDistinct:function(){this.ei(32,'calloutLineIsDistinct');return this.Bq;},set_calloutLineIsDistinct:function(value){this.na(32,'calloutLineIsDistinct','Bq',value);},get_calloutLineStyle:function(){this.ei(32,'calloutLineStyle');return this.tk;},set_calloutLineStyle:function(value){this.vy(32,'calloutLineStyle','tk',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.ei(32,'calloutLineWidth');return this.DZ;},set_calloutLineWidth:function(value){this.zM(32,'calloutLineWidth','DZ',value,0,50);},get_calloutPoint:function(){this.ei(32,'calloutPoint');return this.oJ;},set_calloutPoint:function(value){this.anQ(32,'calloutPoint','oJ',value);},get_calloutType:function(){this.ei(32,'calloutType');return this.JY;},set_calloutType:function(value){this.vy(32,'calloutType','JY',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.ei(32,'calloutVisible');return this.AM;},set_calloutVisible:function(value){if(!this.AM&&value&&this.lk()===IPCC.Web.UI.MarkType.Text){if(this.oJ.x===0&&this.oJ.y===0){var F=this.fr();this.set_calloutPoint({x:F.width,y:F.height*1.5});}}this.na(32,'calloutVisible','AM',value);},get_endHeadAngle:function(){this.ei(3,'endHeadAngle');return this.Eu;},set_endHeadAngle:function(value){this.zM(3,'endHeadAngle','Eu',value,0,180);},get_endHeadLength:function(){this.ei(3,'endHeadLength');return this.EN;},set_endHeadLength:function(value){this.zM(3,'endHeadLength','EN',value,0,100);},get_endHeadType:function(){this.ei(3,'endHeadType');return this.lV;},set_endHeadType:function(value){this.vy(3,'endHeadType','lV',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.ei(1<<14|1<<15,'href');return this.oU;},set_href:function(value){this.GE(1<<14|1<<15,'href','oU',value);},get_borderType:function(){this.ei(32768,'borderType');return this.yZ;},set_borderType:function(value){this.GE(32768,'borderType','yZ',value);},get_borderHorizontalRadius:function(){this.ei(32768,'borderHorizontalRadius');return this.FM;},set_borderHorizontalRadius:function(value){this.Gr(32768,'borderHorizontalRadius','FM',value);},get_borderVerticalRadius:function(){this.ei(1<<15,'borderVerticalRadius');return this.Fa;},set_borderVerticalRadius:function(value){this.Gr(32768,'borderVerticalRadius','Fa',value);},get_borderOpacity:function(){this.ei(32768,'pr');return this.pr;},set_borderOpacity:function(value){this.SC(32768,'pr','pr',value,0,255);},get_borderPattern:function(){this.ei(32768,'CG');return this.CG;},set_borderPattern:function(value){this.na(32768,'CG','CG',value,0,255);},get_fillColor:function(){this.ei(16380,'fillColor');return this.cW;},set_fillColor:function(value){this.Js(16380,'fillColor','cW',value);},get_fillVisible:function(){this.ei(16380,'fillVisible');return this.ye;},set_fillVisible:function(value){this.na(16380,'fillVisible','ye',value);},get_fontName:function(){this.ei(6176+8192+65536,'fontName');return this.fW;},set_fontName:function(value){this.GE(6176+8192+65536,'fontName','fW',value);if(this.lk()===IPCC.Web.UI.MarkType.SignatureText||this.lk()===IPCC.Web.UI.MarkType.TextLine){var aO=(this.lk()===IPCC.Web.UI.MarkType.TextLine)?{wF:'pre'}:{};var iB=IPCC.aY.uT(this.ar,this.fW,aO);this.vT=iB.width;this.wl=iB.height;}if(this.lk()===IPCC.Web.UI.MarkType.TextLine){this.LG=false;}},get_fontSize:function(){this.ei(32+2048+4096+8192,'fontSize');return this.di;},set_fontSize:function(value){this.zM(32+2048+4096+8192,'fontSize','di',value,0.1,288);},get_fontStyle:function(){this.ei(6176,'fontStyle');return this.fI;},set_fontStyle:function(value){this.anB(6176,'fontStyle','fI',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.ei(3,'headFillColor');return this.tL;},set_headFillColor:function(value){this.Js(3,'headFillColor','tL',value);},get_interactionMode:function(){this.ei(~0,'interactionMode');return this.od;},set_interactionMode:function(value){this.vy(~0,'interactionMode','od',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_isClosed:function(){this.ei(2,'isClosed');return this.mq;},set_isClosed:function(value){this.na(2,'isClosed','mq',value);},get_lineColor:function(){return this.gi;},set_lineColor:function(value){this.Js(13567+32768,'lineColor','gi',value);},get_lineStyle:function(){return this.hG;},set_lineStyle:function(value){this.vy(63+32768,'lineStyle','hG',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.gp;},set_lineWidth:function(value){this.zM(13567+32768,'lineWidth','gp',value,0,50);},get_lineVisible:function(){this.ei(172+65536,'lineVisible');return this.gZ;},set_lineVisible:function(value){this.na(172+65536,'lineVisible','gZ',value);},get_opacity:function(){return this.dz;},set_opacity:function(value){this.SC(895+2048+1024,'opacity','dz',value,0,255);},get_points:function(){this.ei(19,'points');return this.qY();},get_conversation:function(){return this.arU();},get_data:function(){return this.xv();},get_image:function(){this.ei(16384,'image');return this.cD();},set_image:function(value){this.ei(16384,'image');this.wH(value);},get_rectangle:function(){this.ei(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fr();},set_rectangle:function(value){this.ei(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.bB.F(value,'rectangle');this.Dy(value);if(this.lk()===IPCC.Web.UI.MarkType.TextLine){this.LG=false;}},get_startHeadAngle:function(){this.ei(3,'startHeadAngle');return this.Fo;},set_startHeadAngle:function(value){this.zM(3,'startHeadAngle','Fo',value,0,180);},get_startHeadLength:function(){this.ei(3,'startHeadLength');return this.EC;},set_startHeadLength:function(value){this.zM(3,'startHeadLength','EC',value,0,100);},get_startHeadType:function(){this.ei(3,'startHeadType');return this.Ev;},set_startHeadType:function(value){this.vy(3,'startHeadType','Ev',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.ei(14496+65536,'text');return this.ar;},set_text:function(value){if(this.ar===value){return;}this.GE(14496+65536,'text','ar',value);if(this.lk()===IPCC.Web.UI.MarkType.SignatureText||this.lk()===IPCC.Web.UI.MarkType.TextLine){var aO=(this.lk()===IPCC.Web.UI.MarkType.TextLine)?{wF:'pre'}:{};var iB=IPCC.aY.uT(this.ar,this.fW,aO);this.vT=iB.width;this.wl=iB.height;}if(this.fo){while(this.fo.length>0){this.fo.pop();}}},get_textHorizontalAlignment:function(){this.ei(32+2048,'textHorizontalAlignment');return this.pG;},set_textHorizontalAlignment:function(value){this.vy(32+2048,'textHorizontalAlignment','pG',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.ei(32,'textVerticalAlignment');return this.zg;},set_textVerticalAlignment:function(value){this.vy(32,'textVerticalAlignment','zg',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.ei(6176+65536,'textColor');return this.pO;},set_textColor:function(value){this.Js(6176+65536,'textColor','pO',value);},get_textOpacity:function(){this.ei(32,'textOpacity');return this.uc;},set_textOpacity:function(value){this.SC(32,'textOpacity','uc',value,0,255);},get_textOrientation:function(){this.ei(32,'textOrientation');return this.xw;},set_textOrientation:function(value){this.vy(32,'textOrientation','xw',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.lk();},get_visible:function(){return this.gJ;},set_visible:function(value){this.na(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','gJ',value);},get_markID:function(){return this.iY();},get_pathString:function(){return this.sU;},set_pathString:function(value){var sU=this.get_pathString();if(sU!==value){this.PR=true;}this.GE(1088,'pathString','sU',value);},get_pathWidth:function(){return this.aaz;},set_pathWidth:function(value){this.Gr(1088,'pathWidth','aaz',value);},get_pathHeight:function(){return this.aan;},set_pathHeight:function(value){this.Gr(1088,'pathHeight','aan',value);},get_startIndex:function(){this.ei((1<<14)+8192+512,'startIndex');return this.an;},set_startIndex:function(value){this.Gr((1<<14)+8192+512,'startIndex','an',value);},get_textLength:function(){this.ei((1<<14)+8192+512,'textLength');return this.dQ;},set_textLength:function(value){this.Gr((1<<14)+8192+512,'textLength','dQ',value);},add_propertyChanged:function(handler){this.iO(handler);},remove_propertyChanged:function(handler){this.kc(handler);},add_markTextSelectionChanged:function(handler){this.Kl(handler);},remove_markTextSelectionChanged:function(handler){this.IY(handler);},move:function(deltaX,deltaY){IPCC.bB.jm(deltaX,'deltaX');IPCC.bB.jm(deltaY,'deltaY');this.Jp(deltaX,deltaY);},moveBackward:function(){if(this.fb()){var index=this.fb().ou(this);var cB=this.fb().afy();if(index>cB){this.fb().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.fb()){var index=this.fb().ou(this);if(index<this.fb().SD()-1){this.fb().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.fb()){var cB=0;cB=this.fb().afy();this.fb().reorderMark(this,cB);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.fb()){this.fb().reorderMark(this,this.fb().SD()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.fb()){this.fb().removeMark(this);}},selectText:function(textRanges){this.Wt(textRanges);},aAn:function(){var fA={};var C=this;var aT,WM,aX,F,G;function co(cg,Pj){fA[Pj]=C[cg];};var im=false;var jH=false;var yn=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:im=true;yn=true;fA.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:im=true;yn=true;fA.__type='PolyLineMark:#IPCC.Web';co('mq','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jH=true;fA.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jH=true;fA.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:jH=true;fA.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:yn=true;fA.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:jH=true;fA.__type='TextMark:#IPCC.Web';co('Ek','clc');co('Bq','clid');co('tk','cls');co('DZ','clw');co('JY','ct');co('AM','cv');co('fW','fn');co('di','fs');co('fI','fst');co('hG','ls');co('ar','te');co('pG','tha');co('zg','tva');co('pO','tc');co('uc','to');co('xw','tor');aX=this.oJ;if(aX.x!==0||aX.y!==0){fA.cp={x:aX.x,y:aX.y};}break;case IPCC.Web.UI.MarkType.Stamp:jH=true;fA.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:jH=true;fA.__type='HighlightText:#IPCC.Web';break;}if(im){co('Eu','eha');co('EN','ehl');co('lV','eht');co('tL','hfc');co('Fo','sha');co('EC','shl');co('Ev','sht');}else{co('cW','fc');co('ye','fv');co('gZ','lv');}if(jH){F=this.get_rectangle();fA.r={x:F.x,y:F.y,width:F.width,height:F.height};}fA.t=this.get_type();co('gi','lc');co('hG','ls');co('gp','lw');co('dz','o');co('gJ','v');if(yn){aT=this.qY();WM=[];for(G=0;G<aT.get_length();G++){aX=aT.getPoint(G);WM.push({x:aX.x,y:aX.y});}fA.p=WM;}return fA;},aBu:function(fA){var C=this;var aT,G;function co(cg,Pj){if(fA.hasOwnProperty(Pj)){C[cg]=fA[Pj];}};var im=false;var jH=false;var yn=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:im=true;if(fA.p&&fA.p.length===2){aT=this.qY();aT.setPoint(0,new IPCC.Web.UI.Point(fA.p[0].x,fA.p[0].y));aT.setPoint(1,new IPCC.Web.UI.Point(fA.p[1].x,fA.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:im=true;yn=true;co('mq','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jH=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:jH=true;break;case IPCC.Web.UI.MarkType.Ellipse:jH=true;break;case IPCC.Web.UI.MarkType.Polygon:yn=true;break;case IPCC.Web.UI.MarkType.Text:jH=true;co('Ek','clc');co('Bq','clid');co('tk','cls');co('DZ','clw');co('JY','ct');co('AM','cv');co('fW','fn');co('di','fs');co('fI','fst');co('hG','ls');co('ar','te');co('pG','tha');co('zg','tva');co('pO','tc');co('uc','to');co('xw','tor');if(fA.cp){this.oJ=new IPCC.Web.UI.Point(fA.cp.x,fA.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:jH=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:jH=true;break;}if(im){co('Eu','eha');co('EN','ehl');co('lV','eht');co('tL','hfc');co('Fo','sha');co('EC','shl');co('Ev','sht');}else{co('cW','fc');co('ye','fv');co('gZ','lv');}if(jH){if(fA.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fA.r.x,fA.r.y,fA.r.width,fA.r.height));}}fA.t=this.get_type();co('gi','lc');co('hG','ls');co('gp','lw');co('dz','o');co('gJ','v');if(fA.p&&yn){aT=this.qY();for(G=0;G<fA.p.length;G++){aT.addPoint(new IPCC.Web.UI.Point(fA.p[G].x,fA.p[G].y));}}return fA;}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass('IPCC.Web.UI.Mark');IPCC.Web.UI.ArtPage=function(){var aK=[];var bw=new IPCC.Web.UI.gb();var ek=new IPCC.Web.UI.MarkCollection();var C=this;var Gj=true;this.aCy=[];function onMarkSelectionChanged(az,K){var H=K.mark;if(H.cf&&H.cf[0]&&H.cf[0].gJ===false){return;}var fJ;var nR=K.mark.get_selected();if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.dF!==undefined){ek.remove_markAdded(onMarkSelectionChanged);ek.remove_markRemoved(onMarkSelectionChanged);for(var G=0;G<aK.length;G++){if(aK[G].dF===H.dF){if(aK[G].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fJ=aK[G];}else{aK[G].set_selected(K.mark.get_selected());}}}ek.add_markAdded(onMarkSelectionChanged);ek.add_markRemoved(onMarkSelectionChanged);if(fJ){fJ.set_selected(nR);}return;}else if(H.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){ek.remove_markAdded(onMarkSelectionChanged);ek.remove_markRemoved(onMarkSelectionChanged);for(var aN=0;aN<H.cf.length;aN++){H.cf[aN].set_selected(K.mark.get_selected());}ek.add_markAdded(onMarkSelectionChanged);ek.add_markRemoved(onMarkSelectionChanged);}var fu=new IPCC.Web.UI.MarkEventArgs();fu.mark=H;fu.zIndex=C.ou(H);fu.length=1;C.ay('markSelectionChanged',fu);};ek.add_markAdded(onMarkSelectionChanged);ek.add_markRemoved(onMarkSelectionChanged);var ayu=ek.addMark;ek.addMark=function(H){if(C.ou(H)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ek.contains(H)){ayu.call(ek,H);H.aG('selected');}};var axF=ek.addMarks;ek.addMarks=function(zW){var qJ=[];function Zy(H){if(C.ou(H)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ek.contains(H)){qJ.push(H);}};zW.forEach(Zy,{});axF.call(ek,zW);var G;for(G=0;G<qJ.length;G++){qJ[G].aG('selected');}};var ayF=ek.removeMark;ek.removeMark=function(H){if(ek.contains(H)){ayF.call(ek,H);H.aG('selected');}};var axH=ek.removeAllMarks;ek.removeAllMarks=function(){var qJ=[];function Zy(H){if(ek.contains(H)){qJ.push(H);}};ek.forEach(Zy,{});axH.call(ek);var G;for(G=0;G<qJ.length;G++){qJ[G].aG('selected');}};function agc(mL){IPCC.bB.oX(mL,'zIndex',0,aK.length-1);};this.SD=function(){return aK.length;};this.afy=function(){var G=0;for(;G<aK.length;G++){if(aK[G].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&aK[G].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(aK[G].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&aK[G].dF!==undefined)){break;}}return G;};this.AD=function(){return ek;};this.EZ=function(T){if(T===Gj){return;}Gj=T;this.aG('Gj');};this.Fb=function(){return Gj;};var pU=false;this.lT=function(){return pU;};this.qn=function(T){if(typeof T!=="boolean"){return;}pU=T;this.aG('redactionDraftMode');};function tc(az,K){if(K.get_propertyName()==='selected'){return;}var fu=new IPCC.Web.UI.MarkEventArgs();fu.mark=az;fu.zIndex=C.ou(az);fu.propertyName=K.cg;fu.length=1;if(fu.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(fu.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&fu.mark.dF!=='undefined')){C.amg(az);}C.ay('markChanged',fu);};function Ct(az){var fu=new IPCC.Web.UI.MarkEventArgs();fu.mark=az;fu.zIndex=C.ou(az);fu.length=1;C.ay('markTextSelectionChanged',fu);};function Nz(az,K){var fu=new IPCC.Web.UI.CommentEventArgs();fu.mark=az;fu.comment=K.comment;fu.index=K.index;C.ay('commentAdded',fu);};function Ny(az,K){var fu=new IPCC.Web.UI.CommentEventArgs();fu.mark=az;fu.comment=K.comment;fu.index=K.index;C.ay('commentRemoved',fu);};function NR(az,K){var fu=new IPCC.Web.UI.CommentEventArgs();fu.mark=az;fu.comment=K.comment;fu.index=K.index;C.ay('commentChanged',fu);};this.KU=function(H,qZ){qZ=qZ||{};var mL=this.ou(H);if(mL>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(H.fb()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}aK.push(H);H.lw(this);H.add_propertyChanged(tc);H.add_markTextSelectionChanged(Ct);H.AG(Nz);H.zi(Ny);H.uq(NR);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=H;if(H.get_type()===IPCC.Web.UI.MarkType.Highlight||H.get_type()===IPCC.Web.UI.MarkType.HighlightText||H.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||H.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.dF!==undefined)){this.aeK(H,0);}else{K.zIndex=aK.length-1;}K.clientX=qZ.clientX;K.clientY=qZ.clientY;K.length=1;C.ay('markAdded',K);};this.CU=function(nG,du){var IE=[].concat(aK);var G;for(G=0;G<IE.length;G++){nG.call(du,IE[G],G,this);}};this.Pu=function(mL){agc(mL);return aK[mL];};this.ou=function(H){var G;for(G=0;G<aK.length;G++){if(aK[G]===H){return G;}}return-1;};this.aCD=function(fe){var fA;if(typeof JSON!=='undefined'){fA=JSON.parse(fe);}else{fA=IPCC.ct.nP(fe,true);}this.RR();var GX=[];var G;var OM=fA.m;if(OM){for(G=0;G<OM.length;G++){var as=new IPCC.Web.UI.Mark(OM[G].t);as.aBu(OM[G]);as.lw(this);as.add_propertyChanged(tc);as.add_markTextSelectionChanged(Ct);GX.push(as);}}aK=GX;C.ay('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.arD=function(){var kx=new Array(36);var bP=0;var G;var ag;for(G=0;G<8;G++){kx[bP++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(G=0;G<3;G++){kx[bP++]=45;for(ag=0;ag<4;ag++){kx[bP++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kx[bP++]=45;var amy=new Date().getTime();var amc=("0000000"+amy.toString(16).toUpperCase()).substr(-8);for(G=0;G<8;G++){kx[bP++]=amc.charCodeAt(G);}for(G=0;G<4;G++){kx[bP++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kx);};function Tj(lf){var aD=lf.firstChild;while(aD.nodeType!==1){aD=aD.nextSibling;}return aD;};function NJ(vu,afr,arv){var ayS=parseFloat(vu.getAttribute(afr));var axZ=parseFloat(vu.getAttribute(afr+'aay'));return arv/(ayS/axZ);};function atA(NX,bJ,ao){var akg=NX.getAttribute('pageWidth');var akD=NX.getAttribute('pageHeight');var Os,TG,av,vu,G;if(akg&&akD){Os=parseFloat(akg);TG=parseFloat(akD);if(isFinite(Os)&&isFinite(TG)&&Os>0&&TG>0){return bJ/Os;}}for(G=0;G<NX.childNodes.length;G++){vu=NX.childNodes[G];if(vu.nodeName!=='annotation'){continue;}av=NJ(vu,'width',bJ);if(isFinite(av)&&av>0){return av;}av=NJ(vu,'height',ao);if(isFinite(av)&&av>0){return av;}av=NJ(vu,'x',bJ);if(isFinite(av)&&av>0){return av;}av=NJ(vu,'y',ao);if(isFinite(av)&&av>0){return av;}}return 1;};this.afV=function(kR,aa,bJ,ao,YD,stampImages,vE,uf){var C=this;if(vE!==true){this.RR();}if(kR){var jZ;if(IPCC.wz.BP()){jZ=kR.firstChild;}else{var SF=kR.firstChild.nodeName;if(SF.toLowerCase()==='xml'){jZ=kR.firstChild.nextSibling;}else{jZ=kR.firstChild;}}var dG=Tj(jZ);if(dG.nodeName!=='pages'){throw 'ERROR: pages';}if(dG.hasChildNodes()){var G;for(G=0;G<dG.childNodes.length;G++){var ai=dG.childNodes[G];if(ai.nodeName!=='page'){continue;}var Aj=ai.getAttribute('id');var kZ=false;var zf;var rz='';var Mq=[];var kY;var rf,aN=0;var dQ,dv,an;if(YD){var aew=ai.getAttribute('pageWidth'),adS=ai.getAttribute('pageHeight');if(aew){YD.aoJ(aew);}if(adS){YD.anj(adS);}}var po=[],RX={};if((Aj&&parseInt(Aj,10))===(aa+1)){kZ=true;var GX=[];var ag;var as;var jH,io,pL,tO,sS;var vU=1;var acx=atA(ai,bJ,ao);if(acx>0){vU=acx;}for(ag=0;ag<ai.childNodes.length;ag++){var bI=ai.childNodes[ag];if(bI.nodeName!=='annotation'){continue;}var kj=parseFloat(bI.getAttribute('width'))*vU;var kU=parseFloat(bI.getAttribute('height'))*vU;var hC=parseFloat(bI.getAttribute('x'))*vU;var gQ=parseFloat(bI.getAttribute('y'))*vU;var afl=bI.getAttribute('fillColor'),YM,sj,Tm=bI.getAttribute('lineColor'),ahT,lb;if(afl==='transparent'){YM=sj=afl;}else{YM=parseInt(bI.getAttribute('fillColor'),10);sj=parseInt(YM,10).toString(16);while(sj.length<6){sj='0'+sj;}sj='#'+sj;}if(Tm==='transparent'){lb=Tm;}else{ahT=parseInt(Tm,10);lb=parseInt(ahT,10).toString(16);while(lb.length<6){lb='0'+lb;}lb='#'+lb;}var awS=bI.getAttribute('stampSize');var QV=bI.getAttribute('dragDirection');var Ic=parseInt(bI.getAttribute('opacity'),10);if(isNaN(Ic)){Ic=0;}if(bI.nodeName==='annotation'){var ahX=bI.getAttribute('label');if(!ahX){ahX='';}var lG=bI.getAttribute('drawType');var kN;switch(lG){case 'imagestamp':case 'imagestamp_redact':var pB=bI.getAttribute('imageStampId');var bE=(lG==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;as=new IPCC.Web.UI.Mark(bE);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_image(stampImages[pB].base64format);as.pB=pB;jH=true;if(lG==='imagestamp_redact'){as.kn(true);}break;case 'circle':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});jH=true;as.set_lineColor(lb);as.set_fillVisible(false);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});jH=true;as.set_fillColor(sj);as.set_lineColor(lb);as.set_fillVisible(true);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));break;case 'text':case 'text_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fontName('verdana');as.set_fontSize(10);as.set_opacity(0);zf=undefined;as.set_fillColor('#000000');if(lG==='text_redact'){as.kn(true);}if(lG==='text'){as.set_fillColor(sj);as.set_lineColor(lb);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));as.set_fillVisible(true);as.set_opacity(Ic);}po=[];io=bI.firstChild;while((io)&&(io.nodeType!==4)){io=io.nextSibling;}if((io)&&(io.nodeType===4)){kN=io.innerText||io.textContent||io.data;as.bF.ar=kN;rf=kN.split("</TEXTFORMAT>");rz='';Mq=[];for(aN=0;aN<rf.length;aN++){if(rf[aN].match(/<TEXTFORMAT/)){rf[aN]=rf[aN]+"</TEXTFORMAT>";po.push(rf[aN]);}}for(aN=0;aN<po.length;aN++){if(po[aN].match(/<P/)){zf=this.alh(po[aN]);Mq.push(zf);rz+=zf+" ";if(aN===0){kY=this.aiK(po[aN]);amS(kY,as);}}rz=rz.replace(/\s+$/g,"");as.set_text(rz);var awR=this.asF(po[aN]);switch(awR){case 'CENTER':as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var aT=as.qY();if(QV==='br'){aT.setPoint(1,new IPCC.Web.UI.Point(hC+kj,gQ+kU));aT.setPoint(0,new IPCC.Web.UI.Point(hC,gQ));}else if(QV==='bl'){aT.setPoint(1,new IPCC.Web.UI.Point(hC,gQ+kU));aT.setPoint(0,new IPCC.Web.UI.Point(hC+kj,gQ));}else if(QV==='tr'){aT.setPoint(1,new IPCC.Web.UI.Point(hC+kj,gQ));aT.setPoint(0,new IPCC.Web.UI.Point(hC,gQ+kU));}else if(QV==='tl'){aT.setPoint(1,new IPCC.Web.UI.Point(hC,gQ));aT.setPoint(0,new IPCC.Web.UI.Point(hC+kj,gQ+kU));}as.set_lineColor(lb);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));if(lG==='arrow'){as.set_headFillColor(lb);as.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);as.set_startHeadAngle(30);as.set_startHeadLength(35);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fillColor(lb);if(lG==='stamp_redact'){as.kn(true);as.set_fillColor('#000000');}io=bI.firstChild;while((io)&&(io.nodeType!==4)){io=io.nextSibling;}if((io)&&(io.nodeType===4)){kN=io.innerText||io.textContent||io.data;as.bF.ar=kN;as.set_text(kN);}break;case 'highlightText':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fillColor(lb);as.dF=bI.getAttribute('highlightGroupID');if(bI.getAttribute('textLength')){as.dQ=parseInt(bI.getAttribute('textLength'),10);}as.dv=bI.getAttribute('selectedText');if(bI.getAttribute('startIndex')){as.an=parseInt(bI.getAttribute('startIndex'),10);}as.mT=bI.getAttribute('isHighlight');as.set_opacity(127);var cf=ama(bI,vU);if(cf){as.cf=cf;}break;case 'rectangle_filled_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fillColor('#000000');as.set_lineColor(lb);as.set_fillVisible(true);as.kn(true);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));pL=bI.getAttribute('highlightGroupID');as.set_text(bI.getAttribute('meta'));if(pL){as.set_lineWidth(0);as.dF=pL;var fJ=RX[pL];if(!fJ){fJ=RX[pL]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);fJ.dF=pL;fJ.set_rectangle(as.get_rectangle());fJ.kn(true);fJ.set_text(bI.getAttribute('meta'));}else{var KE=false;var ra=fJ.get_rectangle();var gM=ra.x,gk=ra.x+ra.width,_top=ra.y,jg=ra.y+ra.height;if(ra.x>hC){KE=true;gM=hC;}if(ra.y>gQ){KE=true;_top=gQ;}if(ra.x+ra.width<hC+kj){KE=true;gk=hC+kj;}if(ra.y+ra.height<gQ+kU){KE=true;jg=gQ+kU;}if(KE===true){fJ.set_rectangle({x:gM,y:_top,width:gk-gM,height:jg-_top});}}}break;case 'text_selection_redaction':pL=bI.getAttribute('highlightGroupID');as=RX[pL];if(!as){as=RX[pL]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);as.dF=pL;as.set_rectangle({x:0,y:0,width:0,height:0});as.kn(true);as.set_text(bI.getAttribute('meta'));}dQ=bI.getAttribute('textLength');if(dQ){as.dQ=parseInt(dQ,10);}dv=bI.getAttribute('selectedText');if(dv){as.dv=dv;}an=bI.getAttribute('startIndex');if(an){as.an=parseInt(an,10);}break;case 'text_hyperlink_annotation':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);pL=bI.getAttribute('highlightGroupID');as.dF=pL;var oU=bI.getAttribute('href');if(oU){as.set_href(oU);}dQ=bI.getAttribute('textLength');if(dQ){as.dQ=parseInt(dQ,10);}dv=bI.getAttribute('selectedText');if(dv){as.dv=dv;}an=bI.getAttribute('startIndex');if(an){as.an=parseInt(an,10);}var mT=bI.getAttribute('isHighlight');as.mT=mT?mT:'n';as.cf=ama(bI,vU);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});break;case 'rectangle':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_lineVisible(true);as.set_lineColor(lb);as.set_fillVisible(false);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));break;case 'rectangle_filled':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fillColor(sj);as.set_lineColor(lb);as.set_fillVisible(true);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fillColor(sj);as.set_lineColor(lb);as.set_fillVisible(true);if(lG==='rectangle_trans_redact'){as.kn(true);}as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(lG==='freehand'){as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);}as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_pathWidth(parseFloat(bI.getAttribute('pathWidth')));as.set_pathHeight(parseFloat(bI.getAttribute('pathHeight')));as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));as.set_lineColor(lb);var vZ=bI.firstChild;while((vZ)&&(vZ.nodeType!==4)){vZ=vZ.nextSibling;}if((vZ)&&(vZ.nodeType===4)){kN=vZ.innerText||vZ.textContent||vZ.data;as.bF.ar=kN;as.set_pathString(kN);}break;case 'signature_text':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});as.set_fontSize(10);as.set_lineWidth=0;as.set_fillVisible(true);as.set_opacity(1);io=bI.firstChild;this.ajS(io,as);as.vT=parseFloat(bI.getAttribute('fontWidth'));as.wl=parseFloat(bI.getAttribute('fontHeight'));break;case 'text_input_signature':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);as.set_rectangle({x:hC,y:gQ,width:kj,height:kU});io=bI.firstChild;this.ajS(io,as);as.vT=parseFloat(bI.getAttribute('fontWidth'));as.wl=parseFloat(bI.getAttribute('fontHeight'));as.set_lineVisible(false);break;case 'polyline':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);as.set_lineWidth(parseFloat(bI.getAttribute('lineWidth')));as.set_lineColor(lb);var wg=bI.firstChild;while((wg)&&(wg.nodeType!==4)){wg=wg.nextSibling;}var Di;if((wg)&&(wg.nodeType===4)){kN=wg.innerText||wg.textContent||wg.data;if(kN&&kN!=='undefined'){if(typeof JSON!=='undefined'){Di=JSON.parse(kN);}else{Di=IPCC.ct.nP(kN,true);}aT=as.qY();if(Di){for(G=0;G<Di.length;G++){aT.addPoint(new IPCC.Web.UI.Point(Di[G].x*vU,Di[G].y*vU));}}}}break;default:}if(as){as.bF.ld=bI.getAttribute('nodeId');if(Ic>=0&&(lG==='rectangle_trans_redact'|| !as.jz())&&lG!=='stamp'&&lG!=='imagestamp'&&lG!=='imagestamp_redact'&&lG!=='text_hyperlink_annotation'&&lG!=='text_input_signature'){as.set_opacity(Ic);}as.bF.Ff=awS;as.bF.aFS=lG;as.bF.gp=bI.getAttribute('lineWidth');as.bF.cW=bI.getAttribute('fillColor');as.bF.gi=bI.getAttribute('lineColor');as.bF.aGj=bI.getAttribute('dragDirection');as.bF.Aj=Aj;as.bF.aD=bI.getAttribute('x');as.bF.dZ=bI.getAttribute('y');as.bF.cY=bI.getAttribute('height');as.bF.bf=bI.getAttribute('width');as.bF.aDB=bI.getAttribute('x_percent');as.bF.aDx=bI.getAttribute('y_percent');as.bF.aEF=bI.getAttribute('height_percent');as.bF.aFv=bI.getAttribute('width_percent');as.bF.aDM=bI.getAttribute('formUser');as.bF.aEh=bI.getAttribute('created');as.bF.aDu=bI.getAttribute('modified');as.bF.aFP=bI.getAttribute('saveDate');as.bF.aDD=bI.getAttribute('saveTime');as.bF.qW=bI.getAttribute('meta');var Bb=bI.firstChild;while((Bb)&&(Bb.nodeType!==4)){Bb=Bb.nextSibling;}if((Bb)&&(Bb.nodeType===4)){as.cF.push(Bb.data);}else{as.cF.push('');}var od=parseInt(bI.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;as.set_interactionMode(od);as.lw(this);as.add_propertyChanged(tc);as.add_markTextSelectionChanged(Ct);as.AG(Nz);as.zi(Ny);as.uq(NR);GX.push(as);auO(bI,as);tO=IPCC.aY.ale(bI.getAttribute('created'));sS=IPCC.aY.ale(bI.getAttribute('modified'));tO=tO||new Date();sS=sS||new Date();as.initializeDates(tO,sS);if(uf){as.set_visible(false);}}}}aK=aK.concat(GX);C.ay('marksLoaded',{});}if(kZ){aut(kR,aa);break;}}}}};this.ajS=function(ub,as){var G,kN,rf,rz,Mq,zf,po=[],kY;while((ub)&&(ub.nodeType!==4)){ub=ub.nextSibling;}if((ub)&&(ub.nodeType===4)){kN=ub.innerText||ub.textContent||ub.data;as.bF.ar=kN;rf=kN.split("</TEXTFORMAT>");for(G=0;G<rf.length;G++){if(rf[G].match(/<TEXTFORMAT/)){rf[G]=rf[G]+"</TEXTFORMAT>";po.push(rf[G]);}}rz='';Mq=[];for(G=0;G<po.length;G++){if(po[G].match(/<P/)){zf=this.alh(po[G]);Mq.push(zf);rz+=zf+" ";if(G===0){kY=this.aiK(po[G]);amS(kY,as);}}rz=rz.replace(/\s+$/g,"");as.set_text(rz);if(as.get_type()!==IPCC.Web.UI.MarkType.TextLine){as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);}}}};function Yd(adR,dj){for(var i=0;i<adR.childNodes.length;i++){var YO=adR.childNodes[i];if(YO.nodeName==='kvp'){var aB=YO.getAttribute("key");var T=YO.getAttribute("value");dj.set_data(aB,T);}}};function atw(OO,bX){var cK=new IPCC.Web.UI.Comment(IPCC.aY.abb(OO.getAttribute("text")));cK.set_creationTime(OO.getAttribute("created"));bX.addComment(cK);for(var i=0;i<OO.childNodes.length;i++){var acp=OO.childNodes[i];if(acp.nodeName==='data'){Yd(acp,cK.get_data());}}};function aum(aje,bX){for(var i=0;i<aje.childNodes.length;i++){var Re=aje.childNodes[i];if(Re.nodeName==='comments'){var hi=Re;for(var j=0;j<hi.childNodes.length;j++){var abZ=hi.childNodes[j];if(abZ.nodeName==='comment'){atw(abZ,bX);}}}else if(Re.nodeName==='data'){Yd(Re,bX.get_data());}}};function auO(ajp,H){for(var i=0;i<ajp.childNodes.length;i++){var Mb=ajp.childNodes[i];if(Mb.nodeName==='conversation'){aum(Mb,H.get_conversation());}else if(Mb.nodeName==='data'){Yd(Mb,H.get_data());}}};function ama(us,xY){var jN=null,CL;for(var i=0;i<us.childNodes.length;i++){CL=us.childNodes[i];if(CL.nodeName==='line-rectangles'){if(!jN){jN=atN(CL,xY);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return jN;};function atN(us,xY){var jN=[],CL;for(var i=0;i<us.childNodes.length;i++){CL=us.childNodes[i];if(CL.nodeName==='rectangle'){jN.push(avb(CL,xY));}}return jN;};function avb(us,xY){var aD=parseFloat(us.getAttribute("x"))*xY;var dZ=parseFloat(us.getAttribute("y"))*xY;var bf=parseFloat(us.getAttribute("width"))*xY;var cY=parseFloat(us.getAttribute("height"))*xY;return new IPCC.Web.UI.Rectangle(aD,dZ,bf,cY);};this.So=function(bH,GQ,wd,gZ,dz,bP){var as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);as.set_rectangle({x:bH.x,y:bH.y,width:bH.width,height:bH.height});as.set_fillColor(wd);as.set_fillVisible(true);as.an=bP;as.dQ=1;if(dz){as.set_opacity(dz);}else{as.set_opacity(127);}C.addMark(as);return as;};this.apT=function(bH,aaD,bP){var as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);as.set_rectangle({x:bH.x,y:bH.y,width:bH.width,height:bH.height});as.set_fillColor(aaD.get_fillColor());as.set_fillVisible(true);as.an=bP;as.dQ=1;if(aaD.get_opacity()){as.set_opacity(aaD.get_opacity());}else{as.set_opacity(127);}C.addMark(as);return as;};function amS(kY,as){for(var cA=0;cA<kY.length;cA++){var dc=kY[cA].attribs;var kZ=false;if(kY[cA].attribs.length>1&& !kZ&&kY[cA].Hx==='font'){kZ=true;for(var ag=0;ag<dc.length;ag++){if(dc[ag].cO==="FACE"){as.set_fontName(dc[ag].T);}else if(dc[ag].cO==="SIZE"&&as.get_type()!==IPCC.Web.UI.MarkType.TextLine){var tA=parseFloat(dc[ag].T);as.set_fontSize(tA);}else if(dc[ag].cO==="COLOR"){var abW=dc[ag].T;if(as.get_type()===IPCC.Web.UI.MarkType.SignatureText){as.set_fillColor(abW);}else{as.set_textColor(abW);}}}var lq=false;if(kY[cA+1]&&as.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(kY[cA+1].tagName==='font'){break;}else{var yR=kY[cA+1].Hx;if(yR==='b'||yR==='i'||yR==='u'||yR==='s'){if(yR==='b'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(yR==='i'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(yR==='u'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(yR==='s'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}lq=true;}}if(kY[cA+2]){var anL=kY[cA+2].Hx;lq=Wb(as,lq,anL);}if(kY[cA+3]){var anJ=kY[cA+3].Hx;lq=Wb(as,lq,anJ);}if(kY[cA+4]){var apa=kY[cA+4].Hx;lq=Wb(as,lq,apa);}if(kZ){break;}}}}};function Wb(H,aij,xU){var lq=aij;var as=H;if(aij){if(xU==='b'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);lq=true;}else if(xU==='i'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);lq=true;}else if(xU==='u'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);lq=true;}else if(xU==='s'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);lq=true;}}else{if(xU==='b'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);lq=true;}else if(xU==='i'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);lq=true;}else if(xU==='u'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);lq=true;}else if(xU==='s'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);lq=true;}}return lq;};function DG(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var ahp=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ahL=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,awF=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aqr=DG("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var Qg=DG("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aBT=DG("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var aqL=DG("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var arg=DG("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var amH=DG("script,style");this.aeJ=function(html,handler){var bP,xp,wp,mQ=[],wi=html;function parseEndTag(tag,tagName){var ie;if(!tagName){ie=0;}else{for(ie=mQ.length-1;ie>=0;ie--){if(mQ[ie]===tagName){break;}}}if(ie>=0){for(var i=mQ.length-1;i>=ie;i--){if(handler.end){handler.end(mQ[i]);}}mQ.length=ie;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(Qg[tagName]){while(mQ.last()&&aBT[mQ.last()]){parseEndTag("",mQ.last());}}if(aqL[tagName]&&mQ.last()===tagName){parseEndTag("",tagName);}unary=aqr[tagName]|| ! !unary;if(!unary){mQ.push(tagName);}if(handler.start){var attrs=[];rest.replace(awF,function(wp,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:arg[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};mQ.last=function(){return this[this.length-1];};function atW(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){xp=true;if(!mQ.last()|| !amH[mQ.last()]){if(html.indexOf("<!--")===0){bP=html.indexOf("-->");if(bP>=0){if(handler.comment){handler.comment(html.substring(4,bP));}html=html.substring(bP+3);xp=false;}}else if(html.indexOf("</")===0){wp=html.match(ahL);if(wp){html=html.substring(wp[0].length);wp[0].replace(ahL,parseEndTag);xp=false;}}else if(html.indexOf("<")===0){wp=html.match(ahp);if(wp){html=html.substring(wp[0].length);wp[0].replace(ahp,parseStartTag);xp=false;}}if(xp){bP=html.indexOf("<");var text=bP<0?html:html.substring(0,bP);text=IPCC.aY.abb(text);html=bP<0?"":html.substring(bP);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+mQ.last()+"[^>]*>"),atW);parseEndTag("",mQ.last());}if(html===wi){throw " Parse Error in annotation Html Text: "+html;}wi=html;}parseEndTag();};this.alh=function(html){var results="";this.aeJ(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aiK=function(html){var ha=[];this.aeJ(html,{start:function(tag,attrs){var dS;dS=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var yb={};yb.Hx=tag;yb.attribs=[];if(tag==='b'){yb.aDI=true;}else if(tag==='i'){yb.aDJ=true;}else if(tag==='u'){yb.aEk=true;}else if(tag==='s'){yb.aCU=true;}else{for(var i=0;i<attrs.length;i++){var BS={};BS.cO=attrs[i].name;BS.T=attrs[i].value;yb.attribs.push(BS);}}ha.push(yb);}},end:function(){},chars:function(){},comment:function(){}});return ha;};this.asF=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];switch(alignment){case 'CENTER':return alignment;case 'RIGHT':return alignment;default:return 'LEFT';}};function aut(kR,ayJ){var mo=kR.getElementsByTagName("highlights")[0];if(mo.hasChildNodes()){var kF;var cv;for(var G=0;G<mo.childNodes.length;G++){kF=mo.childNodes[G];if(kF.nodeType===1){cv=kF.getAttribute('page');if(cv&&parseInt(cv,10)===ayJ+1){var jd=new IPCC.Web.UI.aCL();jd.aCt=kF.nodeName;switch(jd.aCt){case 'tag':jd.OZ=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jd.OZ=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jd.OZ=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jd.OZ=IPCC.Web.UI.HighLightType.Redaction;break;default:jd.OZ=undefined;}if(kF.childNodes[0].data){jd.cF.push(kF.childNodes[0].data);}jd.bF.cV=kF.getAttribute('id');jd.bF.aDe=kF.getAttribute('userid');jd.bF.aFi=kF.getAttribute('mode');jd.bF.ey=kF.getAttribute('color');jd.bF.aEo=kF.getAttribute('occurence');jd.bF.bI=kF.getAttribute('annotation');jd.bF.ai=kF.getAttribute('page');jd.bF.aFH=kF.getAttribute('documentname');jd.bF.aGk=kF.getAttribute('tooltip');jd.bF.aFl=kF.getAttribute('allowdelete');jd.bF.la=kF.getAttribute('start');jd.bF.aGe=kF.getAttribute('end');C.aCy.push(jd);}}}}};this.RR=function(){var K;if(aK.length<1){return;}ek.removeAllMarks();var G;for(G=aK.length-1;G>=0;G--){aK[G].remove_propertyChanged(tc);aK[G].remove_markTextSelectionChanged(Ct);aK[G].lw(null);K=new IPCC.Web.UI.MarkEventArgs();K.length=aK.length;K.zIndex=0;K.mark=aK.pop();C.ay('markRemoved',K);}K=new IPCC.Web.UI.MarkEventArgs();K.length=aK.length;K.zIndex=0;C.ay('markRemoved',K);};this.wK=function(H){var mL=this.ou(H);var vl=H.dF;if(mL>=0){H.remove_propertyChanged(tc);H.remove_markTextSelectionChanged(Ct);H.lw(null);aK.splice(mL,1);ek.removeMark(H);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=H;K.zIndex=mL;K.length=1;C.ay('markRemoved',K);if(vl){this.apI(vl);}}};this.aGg=function(ro){var vo=aK.length;var vl=ro.dF;while(vo--){var H=aK[vo];if(H.dF===vl){H.set_fillColor(ro.get_fillColor());}}};this.amg=function(ro){var vo=aK.length;var vl=ro.dF;if(!vl){ro.set_text(ro.get_text());return;}while(vo--){var H=aK[vo];if(H.dF===vl){if(H.get_text()!==ro.get_text()){H.set_text(ro.get_text());}if(H.get_fontName()!==ro.get_fontName()){H.set_fontName(ro.get_fontName());}if(H.get_fontSize()!==ro.get_fontSize()){H.set_fontSize(ro.get_fontSize());}}}};this.apI=function(vl){var vo=aK.length;while(vo--){var H=aK[vo];if(H.dF===vl){var mL=this.ou(H);ek.removeMark(H);aK.splice(vo,1);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=H;K.zIndex=mL;K.length=1;}}};this.aeK=function(H,mL){var Mz=this.ou(H);if(Mz<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Mz===mL){return;}agc(mL);aK.splice(Mz,1);aK.splice(mL,0,H);if(H.get_type()===IPCC.Web.UI.MarkType.Highlight||H.get_type()===IPCC.Web.UI.MarkType.HighlightText||H.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||H.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.dF!==undefined)){return;}var K=new IPCC.Web.UI.MarkEventArgs();K.mark=H;K.zIndex=mL;K.oldZIndex=Mz;K.length=1;C.ay('markReordered',K);};function akt(jN,fl,da){if(!jN){return undefined;}var nv={gg:'line-rectangles',cF:[],bF:{}};IPCC.aY.forEach(jN,function(F){nv.cF.push({gg:'rectangle',cF:[],bF:{x:F.x,y:F.y,height:F.height,width:F.width}});});return nv;};function SZ(dj){if(!dj){return undefined;}var rZ=dj.get_dataKeys();if(rZ.length===0){return undefined;}var nv={gg:'data',cF:[],bF:{}};IPCC.aY.forEach(rZ,function(aB){var T=dj.get_data(aB);nv.cF.push({gg:'kvp',cF:[],bF:{key:aB,value:T}});});return nv;};function aui(cK){if(!cK){return undefined;}var zb={gg:'comment',cF:[],bF:{}};zb.bF.text=IPCC.aY.Gc(cK.get_text());zb.bF.created=cK.get_creationTime();var nv=SZ(cK.get_data());if(nv){zb.cF.push(nv);}return zb;};function auZ(bX){if(!bX||bX.get_length()===0){return undefined;}var Uu={gg:'conversation',cF:[],bF:{}};var aaw={gg:'comments',cF:[],bF:{}};Uu.cF.push(aaw);bX.forEach(function(cK){var zb=aui(cK);if(zb){aaw.cF.push(zb);}});var nv=SZ(bX.get_data());if(nv){Uu.cF.push(nv);}return Uu;};this.azx=function(aa,fl,da,aO){var jZ={gg:'documentAnnotations',cF:[],bF:{}};var dG={gg:'pages',cF:[],bF:{}};jZ.cF.push(dG);var mo={gg:'highlights',cF:[],bF:{}};jZ.cF.push(mo);var vw={},ud=[];var ai={gg:'page',cF:[],bF:{id:(aa+1).toString(),pageWidth:fl,pageHeight:da}};dG.cF.push(ai);aO=aO||{};var aez=(aO.includeAnnotations!==undefined)? ! !aO.includeAnnotations:true,afK=(aO.includeRedactions!==undefined)? ! !aO.includeRedactions:true,aeG=(aO.includeSignatures!==undefined)? ! !aO.includeSignatures:false,JV=(aO.JV!==undefined)? ! !aO.JV:false,aqj= ! !JV;var G;var im=false;var mB;var iZ;var kq,yw,wJ,ar;for(G=0;G<aK.length;G++){if(aez===false&&afK===false&&aeG===false){break;}var H=aK[G];var bE=H.get_type();if(aqj&& !H.get_visible()){continue;}if(aez===false){if(bE===IPCC.Web.UI.MarkType.Rectangle||bE===IPCC.Web.UI.MarkType.Ellipse||bE===IPCC.Web.UI.MarkType.Line||bE===IPCC.Web.UI.MarkType.Text||bE===IPCC.Web.UI.MarkType.Stamp||bE===IPCC.Web.UI.MarkType.Highlight||bE===IPCC.Web.UI.MarkType.HighlightText||bE===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bE===IPCC.Web.UI.MarkType.Freehand||bE===IPCC.Web.UI.MarkType.ImageStampAnnotation||bE===IPCC.Web.UI.MarkType.Polyline){if(H.jz()===false){continue;}}}if(afK===false){if(H.jz()===true){continue;}if(bE===IPCC.Web.UI.MarkType.RectangleRedaction||bE===IPCC.Web.UI.MarkType.TextSelectionRedaction||bE===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aeG===false){if(bE===IPCC.Web.UI.MarkType.SignaturePath||bE===IPCC.Web.UI.MarkType.SignatureText||bE===IPCC.Web.UI.MarkType.SignatureImage||bE===IPCC.Web.UI.MarkType.TextLine){continue;}}var bD={gg:'annotation',cF:[],bF:{}};if(!H.bF.ld){bD.bF.nodeId=C.arD();}else{bD.bF.nodeId=H.bF.ld;}var ail,Ld="",wn="";if(H.get_lineColor()){var Ra=H.get_lineColor();if(Ra==='transparent'){bD.bF.lineColor=Ra;}else{ail=Ra.replace(/#/,"");Ld=parseInt(ail,16);wn=Ld.toString();bD.bF.lineColor=wn;}}bD.bF.interactionMode=H.get_interactionMode();bD.bF.stampSize='122';var Oi={};Oi[IPCC.Web.UI.MarkType.Stamp]=true;Oi[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;Oi[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bE===IPCC.Web.UI.MarkType.Rectangle&&H.get_opacity()<255|| !H.jz())&&Oi[bE]!==true){bD.bF.opacity=H.get_opacity();}if(H.get_conversation().get_length()>0){bD.cF.push(auZ(H.get_conversation()));}var nv=SZ(H.get_data());if(nv){bD.cF.push(nv);}im=false;switch(bE){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:iZ=H.get_fillColor();if(iZ==='transparent'){bD.bF.fillColor=iZ;}else if(iZ){mB=iZ.replace(/#/,"");bD.bF.fillColor=parseInt(mB,16).toString();}else{bD.bF.fillColor=wn;}if(H.get_fillVisible()){if(H.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(H.get_opacity()===255){if(H.jz()===true){bD.bF.drawType='rectangle_filled_redact';if(H.dF){bD.bF.highlightGroupID=H.dF;}}else{bD.bF.drawType='rectangle_filled';}}else{if(H.jz()===true){bD.bF.drawType='rectangle_trans_redact';}else{bD.bF.drawType='rectangle_trans';}}}else{if(H.get_opacity()===255){bD.bF.drawType='circle_filled';if(H.jz()){bD.bF.drawType='circle_filled_redact';}}else{bD.bF.drawType='circle_trans';if(H.jz()){bD.bF.drawType='circle_trans_redact';}}}}else{if(H.get_type()===IPCC.Web.UI.MarkType.Rectangle){bD.bF.drawType='rectangle';bD.bF.fillColor=wn;}else{bD.bF.drawType='circle';bD.bF.fillColor=wn;}}bD.bF.dragDirection='br';var F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bD.bF.lineWidth=H.get_lineWidth();im=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bD.bF.highlightGroupID=H.dF;bD.bF.drawType='text_selection_redaction';if(H.dv&&H.dv.length>0){bD.bF.startIndex=H.an;bD.bF.selectedText=H.dv;bD.bF.textLength=H.dQ;}break;case IPCC.Web.UI.MarkType.Text:var xu=H.get_rectangle();bD.bF.x=xu.x;bD.bF.y=xu.y;bD.bF.x_percent=xu.x/fl;bD.bF.y_percent=xu.y/da;bD.bF.height_percent=xu.height/da;bD.bF.width_percent=xu.width/fl;bD.bF.height=xu.height;bD.bF.width=xu.width;iZ=H.get_fillColor();if(H.jz()===true){bD.bF.drawType='text_redact';}else{bD.bF.drawType='text';bD.bF.opacity=H.get_opacity();}if(iZ==='transparent'){bD.bF.fillColor=iZ;}else if(iZ){mB=iZ.replace(/#/,"");bD.bF.fillColor=parseInt(mB,16).toString();}else{bD.bF.fillColor='16776960';}var dN='';dN="<TEXTFORMAT LEADING=\"2\">";switch(H.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:dN+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:dN+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:dN+="<P ALIGN=\"right\" ";break;}dN+=">";dN+="<FONT ";yw=H.get_fontName();dN+="FACE="+"\""+yw+"\" ";wJ=H.get_fontSize().toString();dN+="SIZE= \""+wJ+"\" ";kq="\""+H.get_textColor()+"\" ";dN+="COLOR="+kq+" ";dN+="LETTERSPACING=\"0\" ";dN+="KERNING=\"0\" ";dN+=">";var fI=H.get_fontStyle();if(fI&IPCC.Web.UI.FontStyle.Bold){dN+="<B>";}if(fI&IPCC.Web.UI.FontStyle.Italic){dN+="<I>";}if(fI&IPCC.Web.UI.FontStyle.Underline){dN+="<U>";}if(fI&IPCC.Web.UI.FontStyle.Strikeout){dN+="<S>";}ar=H.get_text();ar=IPCC.aY.Gc(ar);dN+=ar;if(fI&IPCC.Web.UI.FontStyle.Strikeout){dN+="</S>";}if(fI&IPCC.Web.UI.FontStyle.Underline){dN+="</U>";}if(fI&IPCC.Web.UI.FontStyle.Italic){dN+="</I>";}if(fI&IPCC.Web.UI.FontStyle.Bold){dN+="</B>";}dN+="</FONT>";dN+="</P>";dN+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.drawType='highlight';bD.bF.highlightGroupID=H.dF;bD.bF.isHighlight=H.mT;iZ=H.get_fillColor();if(iZ){mB=iZ.replace(/#/,"");bD.bF.fillColor=parseInt(mB,16).toString();bD.bF.lineColor=parseInt(mB,16).toString();}else{bD.bF.fillColor=wn;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.drawType='text_hyperlink_annotation';bD.bF.href=H.oU;bD.bF.startIndex=H.an;bD.bF.selectedText=H.dv;bD.bF.textLength=H.dQ;bD.bF.highlightGroupID=H.dF;bD.bF.isHighlight=H.mT;bD.cF.push(akt(H.cf,fl,da));break;case IPCC.Web.UI.MarkType.HighlightText:F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.drawType='highlightText';bD.bF.startIndex=H.an;bD.bF.selectedText=H.dv;bD.bF.textLength=H.dQ;bD.bF.highlightGroupID=H.dF;bD.bF.isHighlight=H.mT;iZ=H.get_fillColor();if(iZ){mB=iZ.replace(/#/,"");bD.bF.fillColor=parseInt(mB,16).toString();bD.bF.lineColor=parseInt(mB,16).toString();}else{bD.bF.fillColor=wn;}bD.cF.push(akt(H.cf,fl,da));break;case IPCC.Web.UI.MarkType.RectangleRedaction:F=H.get_rectangle();bD.bF.drawType='rectangle_filled_redact';bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.meta=H.get_text();bD.bF.stampSize=H.get_fontSize();if(H.dF){bD.bF.highlightGroupID=H.dF;}break;case IPCC.Web.UI.MarkType.Stamp:iZ=H.get_fillColor();if(iZ){mB=iZ.replace(/#/,"");bD.bF.fillColor=parseInt(mB,16).toString();bD.bF.lineColor=parseInt(mB,16).toString();}else{bD.bF.fillColor=wn;}F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;if(H.jz()===true){bD.bF.drawType='stamp_redact';}else{bD.bF.drawType='stamp';}ar=H.get_text();bD.bF.stampSize=H.stampSize;bD.cF.push('<![CDATA['+ar+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(H.get_type()===IPCC.Web.UI.MarkType.Freehand){bD.bF.drawType='freehand';}else{bD.bF.drawType='signature_path';}dN=H.get_pathString();bD.bF.pathWidth=H.get_pathWidth();bD.bF.pathHeight=H.get_pathHeight();F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;break;case IPCC.Web.UI.MarkType.SignatureText:iZ=H.get_fillColor();var cW;if(iZ){mB=iZ.replace(/#/,"");bD.bF.fillColor="";bD.bF.lineColor="";cW=parseInt(mB,16).toString();}else{bD.bF.fillColor="";cW=wn;}F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.opacity=0;bD.bF.drawType='signature_text';bD.bF.stampSize=H.stampSize;bD.bF.fontWidth=H.vT;bD.bF.fontHeight=H.wl;dN='';dN="<TEXTFORMAT LEADING=\"2\">";dN+="<P ALIGN=\"center\" ";dN+=">";dN+="<FONT ";yw=H.get_fontName();dN+="FACE="+"\""+yw+"\" ";wJ=H.stampSize.toString();dN+="SIZE= \""+wJ+"\" ";kq="\""+H.get_fillColor()+"\" ";dN+="COLOR="+kq+" ";dN+="LETTERSPACING=\"0\" ";dN+="KERNING=\"0\" ";dN+=">";ar=IPCC.aY.Gc(H.get_text());dN+=ar;dN+="</FONT>";dN+="</P>";dN+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!JV){F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.opacity=0;bD.bF.drawType='text_input_signature';bD.bF.stampSize=H.stampSize;bD.bF.fontWidth=H.vT;bD.bF.fontHeight=H.wl;dN='';dN="<TEXTFORMAT LEADING=\"2\">";dN+="<P ALIGN=\"left\" ";dN+=">";dN+="<FONT ";yw=H.get_fontName();dN+="FACE="+"\""+yw+"\" ";wJ=H.stampSize.toString();dN+="SIZE= \""+wJ+"\" ";kq="\""+H.get_textColor()+"\" ";dN+="COLOR="+kq+" ";dN+="LETTERSPACING=\"0\" ";dN+="KERNING=\"0\" ";dN+=">";ar=IPCC.aY.Gc(H.get_text());dN+=ar;dN+="</FONT>";dN+="</P>";dN+="</TEXTFORMAT>";}else{F=H.get_rectangle();var FD=H.stampSize;var qh;if(!H.LG|| !H.qh){var ami=IPCC.aY.ajR(H.get_text(),H.get_fontName(),F.width,F.height,{wF:"pre",di:FD+"px"});qh=ami;H.LG=true;H.qh=qh;}else{qh=H.qh;}FD=qh.fontSize;var jb=qh.width/F.width,bk=1.0,MIN_BUFFER=0.85;if(/mono/i.test(H.get_fontName())){MIN_BUFFER=0.75;}if(jb>MIN_BUFFER){bk=MIN_BUFFER*F.width/qh.width;FD=FD*bk;}var alu=F.width,arb=qh.height*bk,alx=F.height-(F.height-arb)/2,akK=F.x,ako=F.y+(F.height-qh.height)/2+(qh.height*(1-bk));bD.bF.x=akK;bD.bF.y=ako;bD.bF.x_percent=akK/fl;bD.bF.y_percent=ako/da;bD.bF.height_percent=alx/da;bD.bF.width_percent=alu/fl;bD.bF.height=alx;bD.bF.width=alu;bD.bF.opacity=0;bD.bF.drawType='text_redact';dN='';dN="<TEXTFORMAT>";dN+="<P ALIGN=\"left\" ";dN+=">";dN+="<FONT ";yw=H.get_fontName();dN+="FACE="+"\""+yw+"\" ";if(H.adh){wJ=(FD/H.adh).toString();}else{wJ=FD.toString();}dN+="SIZE= \""+wJ+"\" ";kq="\""+H.get_textColor()+"\" ";dN+="COLOR="+kq+" ";dN+="LETTERSPACING=\"0\" ";dN+="KERNING=\"0\" ";dN+=">";ar=IPCC.aY.Gc(H.get_text());dN+=ar;dN+="</FONT>";dN+="</P>";dN+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bD.bF.drawType=(bE===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';F=H.get_rectangle();bD.bF.x=F.x;bD.bF.y=F.y;bD.bF.height=F.height;bD.bF.width=F.width;bD.bF.lineWidth=H.get_lineWidth();bD.bF.x_percent=F.x/fl;bD.bF.y_percent=F.y/da;bD.bF.height_percent=F.height/da;bD.bF.width_percent=F.width/fl;bD.bF.imageStampId=H.pB;vw[H.pB]={gg:'stampImage',cF:[],bF:{imageStampId:H.pB,base64format:H.cD()}};break;}if(im){bD.bF.lineWidth=H.get_lineWidth();var bH=H.get_boundingRectangle();bD.bF.x=bH.x;bD.bF.y=bH.y;bD.bF.x_percent=bH.x/fl;bD.bF.y_percent=bH.y/da;bD.bF.height_percent=bH.height/da;bD.bF.width_percent=bH.width/fl;bD.bF.height=bH.height;bD.bF.width=bH.width;if(bE===IPCC.Web.UI.MarkType.Line){if(H.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bD.bF.drawType='line';}else{bD.bF.drawType='arrow';}}else{bD.bF.drawType='polyline';}bD.bF.lineWidth=H.get_lineWidth();var aT=H.get_points();if(bE===IPCC.Web.UI.MarkType.Line){if((aT.getPoint(0).x<aT.getPoint(1).x)&&(aT.getPoint(0).y>aT.getPoint(1).y)){bD.bF.dragDirection='tr';}else if((aT.getPoint(0).x>aT.getPoint(1).x)&&(aT.getPoint(0).y>aT.getPoint(1).y)){bD.bF.dragDirection='tl';}else if((aT.getPoint(0).x>aT.getPoint(1).x)&&(aT.getPoint(0).y<aT.getPoint(1).y)){bD.bF.dragDirection='bl';}else if((aT.getPoint(0).x<aT.getPoint(1).x)&&(aT.getPoint(0).y<aT.getPoint(1).y)){bD.bF.dragDirection='br';}else{bD.bF.dragDirection='br';}}else{var ya=[];var cc=aT.get_length(),aX;if(cc>1){for(var ag=0;ag<aT.get_length();ag++){aX=aT.getPoint(ag);ya.push({x:aX.x,y:aX.y});}dN=IPCC.ct.ZV(ya);}}if(Ld){bD.bF.fillColor=Ld;}else{bD.bF.fillColor="";}}else{bD.bF.lineWidth=H.get_lineWidth();bD.bF.dragDirection='br';}if(H.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bD.bF.meta='';}bD.bF.label='';var eK=new Date();bD.bF.saveDate=IPCC.aY.arr(eK);bD.bF.saveTime=IPCC.aY.asZ(eK);bD.bF.uuid='';bD.bF.formUser='';bD.bF.created=IPCC.aY.alr(H.get_dateCreated());bD.bF.modified=IPCC.aY.alr(H.get_dateModified());if(H.get_type()===IPCC.Web.UI.MarkType.Text||H.get_type()===IPCC.Web.UI.MarkType.Freehand||H.get_type()===IPCC.Web.UI.MarkType.SignaturePath||H.get_type()===IPCC.Web.UI.MarkType.SignatureText||H.get_type()===IPCC.Web.UI.MarkType.Polyline||H.get_type()===IPCC.Web.UI.MarkType.TextLine){bD.cF.push('<![CDATA['+dN+']]>');}else{bD.cF.push('');}if(H.get_type()!==IPCC.Web.UI.MarkType.Highlight){ai.cF.push(bD);}}for(var IM in vw){if(vw.hasOwnProperty(IM)){ud.push(vw[IM]);}}return{jZ:jZ,ud:ud};};this.azR=function(){var fA={m:[]};var G;for(G=0;G<aK.length;G++){fA.m.push(aK[G].aAn());}C.ay('marksSaved',{});var aiD="";aiD=IPCC.ct.ZV(fA);return aiD;};this.AP=function(h){bw.addHandler('markAdded',h);};this.xg=function(h){bw.removeHandler('markAdded',h);};this.Cw=function(h){bw.addHandler('markChanged',h);};this.Fj=function(h){bw.removeHandler('markChanged',h);};this.Ad=function(h){bw.addHandler('markRemoved',h);};this.yQ=function(h){bw.removeHandler('markRemoved',h);};this.BE=function(h){bw.addHandler('markReordered',h);};this.Gm=function(h){bw.removeHandler('markReordered',h);};this.OJ=function(h){bw.addHandler('marksLoaded',h);};this.OS=function(h){bw.removeHandler('marksLoaded',h);};this.awf=function(h){bw.addHandler('marksSaved',h);};this.aAm=function(h){bw.removeHandler('marksSaved',h);};this.CQ=function(h){bw.addHandler('markSelectionChanged',h);};this.Fg=function(h){bw.removeHandler('markSelectionChanged',h);};this.Kl=function(h){bw.addHandler('markTextSelectionChanged',h);};this.IY=function(h){bw.removeHandler('markTextSelectionChanged',h);};this.AG=function(h){bw.addHandler('commentAdded',h);};this.FR=function(h){bw.removeHandler('commentAdded',h);};this.zi=function(h){bw.addHandler('commentRemoved',h);};this.FT=function(h){bw.removeHandler('commentRemoved',h);};this.uq=function(h){bw.addHandler('commentChanged',h);};this.vx=function(h){bw.removeHandler('commentChanged',h);};this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(this,K);}};this.aG=function(cg){var h=bw.getHandler("propertyChanged");if(h){h(this,new IPCC.qP(cg));}};return this;};IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.SD();},get_selectedMarks:function(){return this.AD();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.KU(mark,mouseLocation);},forEachMark:function(method,context){this.CU(method,context);},getMark:function(zIndex){return this.Pu(zIndex);},getZIndexOfMark:function(mark){return this.ou(mark);},loadFromJson:function(json){this.aCD(json);},removeAllMarks:function(){this.RR();},removeMark:function(mark){this.wK(mark);},reorderMark:function(mark,zIndex){this.aeK(mark,zIndex);},saveToJson:function(){return this.azR();},add_markAdded:function(handler){this.AP(handler);},remove_markAdded:function(handler){this.xg(handler);},add_markChanged:function(handler){this.Cw(handler);},remove_markChanged:function(handler){this.Fj(handler);},add_markRemoved:function(handler){this.Ad(handler);},remove_markRemoved:function(handler){this.yQ(handler);},add_markReordered:function(handler){this.BE(handler);},remove_markReordered:function(handler){this.Gm(handler);},add_marksLoaded:function(handler){this.OJ(handler);},remove_marksLoaded:function(handler){this.OS(handler);},add_markSelectionChanged:function(handler){this.CQ(handler);},remove_markSelectionChanged:function(handler){this.Fg(handler);},add_markTextSelectionChanged:function(handler){this.Kl(handler);},remove_markTextSelectionChanged:function(handler){this.IY(handler);},add_commentAdded:function(handler){this.AG(handler);},remove_commentAdded:function(handler){this.FR(handler);},add_commentRemoved:function(handler){this.zi(handler);},remove_commentRemoved:function(handler){this.FT(handler);},add_commentChanged:function(handler){this.uq(handler);},remove_commentChanged:function(handler){this.vx(handler);}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass('IPCC.Web.UI.ArtPage');IPCC.Web.UI.aCL=function(){this.gg=undefined;this.cF=[];this.bF={};};IPCC.Je=function(){};IPCC.Je.prototype.mN=function(J){this.J=J;this.bC=J.aw();this.je=this.bC.get_cursor();this.bC.set_cursor(IPCC.bO.RunMarks);this.bC.GC(IPCC.bO.Link);};IPCC.Je.prototype.ff=function(){this.bC.set_cursor(this.je);this.bC.GC(IPCC.bO.Default);this.J=false;};IPCC.Je.prototype.aP=function(){};IPCC.oH=function(){this.ax=false;this.J=false;};IPCC.oH.prototype.mN=function(J){this.J=J;this.J.adM(true);this.bC=J.aw();this.je=this.bC.get_cursor();this.bC.set_cursor(IPCC.bO.EditMarks);this.bC.GC(IPCC.bO.Move);};IPCC.oH.prototype.ff=function(){this.bC.set_cursor(this.je);this.bC.GC(IPCC.bO.Default);if(arguments[0]){if(arguments[0]===true){this.J=false;return;}}this.J.adM(false);this.J=false;};IPCC.oH.prototype.aP=function(){if(this.ax){this.bC.set_cursor(IPCC.bO.EditMarks);this.bC.GC(IPCC.bO.Move);this.J.EZ(true);this.bC.rg();this.ax=false;this.J.cR();}};IPCC.oH.prototype.vP=function(K){this.aP();var H=K.mark;if(H&&H.lk()===IPCC.Web.UI.MarkType.Text){this.J.zA(H);this.J.cR();}};IPCC.oH.prototype.lo=function(K){this.aP();var jD=K.domEvent;if(jD.button===0){var cJ=jD.target;this.dB=cJ.ImGearMarkHandle;if(this.dB){this.wr=this.dB.ae;this.or=this.dB.bP;}else{this.wr=null;this.or=null;}while(!(cJ.ImGearMarkRelation)&&cJ.parentNode&&cJ!==document.body){cJ=cJ.parentNode;}this.R=cJ.ImGearMarkRelation;if(this.R){this.H=this.R.H;}else{this.H=null;}this.ax=true;this.RK=K.imagePoint;this.Df=K.imagePoint;var H=this.H;if(!H||H.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!jD.shiftKey){this.J.fb().AD().removeAllMarks();}this.bC.FN(K.imagePoint);}else{var hj,F;switch(this.wr){case IPCC.au.ad.prototype.Wr:this.iI=H.fr();this.Zh=Math.abs(this.iI.width);this.Ka=Math.abs(this.iI.height);hj={x:this.iI.x,y:this.iI.y};this.QH={x:this.iI.x+this.iI.width,y:this.iI.y+this.iI.height};if(this.or>0&&this.or<3){hj.x+=this.iI.width;this.QH.x-=this.iI.width;}if(this.or>1){hj.y+=this.iI.height;this.QH.y-=this.iI.height;}this.aCY=hj;break;case IPCC.au.ad.prototype.Xc:F=H.fr();this.iI=F;hj={x:F.x+F.width/2,y:F.y+F.height/2};switch(this.or){case 0:this.CR=F.y+F.height;hj.y=F.y;break;case 1:this.CR=F.x;hj.x=F.x+F.width;break;case 2:this.CR=F.y;hj.y=F.y+F.height;break;case 3:this.CR=F.x+F.width;hj.x=F.x;break;}break;case IPCC.au.ad.prototype.HB:this.aT=H.qY();if(this.or<0||this.or>this.aT.dY()){this.aP();}hj=this.aT.getPoint(this.or);break;case IPCC.au.ad.prototype.HU:break;case IPCC.au.ad.prototype.Zk:F=H.fr();hj={x:F.x+H.oJ.x,y:F.y+H.oJ.y};break;default:var yx=H.get_selected();if(jD.ctrlKey||jD.shiftKey){yx= !yx;H.set_selected(yx);}else{if(!yx){yx=true;this.J.fb().AD().removeAllMarks();if(H.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var G=0;G<this.J.fb().get_markCount();G++){var Xo=this.J.fb().getMark(G);if(Xo.lk()===608&&Xo.dF===H.dF){Xo.set_selected(yx);}}}else{H.set_selected(yx);}}}if(!yx){this.aP();}break;}if(this.ax&&hj){this.arl=hj.x-this.RK.x;this.apU=hj.y-this.RK.y;if(this.dB){this.bC.set_cursor(this.dB.bp);this.bC.GC(this.dB.bp);}}}if(this.ax){this.J.EZ(false);}}this.J.cR();};IPCC.oH.prototype.jV=function(K){var jD=K.domEvent;var Df;function atH(azN){azN.Jp(K.imagePoint.x-Df.x,K.imagePoint.y-Df.y);};if(jD.button!==0){this.aP();}if(this.ax){var H=this.H;if(!H||H.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.bC.BD(K.imagePoint);}else{var hj={x:K.imagePoint.x+this.arl,y:K.imagePoint.y+this.apU};var F;switch(this.wr){case IPCC.au.ad.prototype.Wr:var ri={x:hj.x,y:hj.y};var nt={x:this.QH.x,y:this.QH.y};if(jD.ctrlKey){nt.x=this.iI.x+this.iI.width/2;nt.y=this.iI.y+this.iI.height/2;}if(jD.shiftKey){var uY=Math.abs(ri.x-nt.x);var tw=Math.abs(ri.y-nt.y);if(uY*this.Ka<tw*this.Zh){if(this.Ka>0.001){uY=tw*this.Zh/this.Ka;}}else{if(this.Ka>0.001){tw=uY*this.Ka/this.Zh;}}if(ri.x<nt.x){uY= -uY;}if(ri.y<nt.y){tw= -tw;}ri.x=nt.x+uY;ri.y=nt.y+tw;}if(jD.ctrlKey){nt={x:nt.x-(ri.x-nt.x),y:nt.y-(ri.y-nt.y)};}F={};F.x=Math.min(nt.x,ri.x);F.width=Math.max(nt.x,ri.x)-F.x;F.y=Math.min(nt.y,ri.y);F.height=Math.max(nt.y,ri.y)-F.y;H.set_rectangle(F);break;case IPCC.au.ad.prototype.Xc:F=H.fr();var BA;if(this.or&1){if(jD.ctrlKey){BA=this.iI.x+this.iI.width/2;F.width=Math.abs(hj.x-BA)*2;F.x=BA-F.width/2;}else{F.x=Math.min(hj.x,this.CR);F.width=Math.max(hj.x,this.CR)-F.x;}}else{if(jD.ctrlKey){BA=this.iI.y+this.iI.height/2;F.height=Math.abs(hj.y-BA)*2;F.y=BA-F.height/2;}else{F.y=Math.min(hj.y,this.CR);F.height=Math.max(hj.y,this.CR)-F.y;}}H.set_rectangle(F);break;case IPCC.au.ad.prototype.HB:this.aT=H.qY();hj=this.aT.setPoint(this.or,hj);break;case IPCC.au.ad.prototype.HU:break;case IPCC.au.ad.prototype.Zk:F=H.fr();H.set_calloutPoint({x:hj.x-F.x,y:hj.y-F.y});break;default:Df=this.Df;this.Df=K.imagePoint;this.J.fb().AD().mF(atH);break;}}this.J.cR();}};IPCC.oH.prototype.jF=function(){function avI(H){var Iv=H.aeS();if(acZ.contains(Iv)&&acZ.contains({x:Iv.x+Iv.width,y:Iv.y+Iv.height})){H.set_selected(true);}};if(this.ax){if(!this.H){var acZ=this.bC.yV();this.J.fb().CU(avI);this.bC.rg();}this.aP();}};IPCC.oH.prototype.rc=function(K){var aJ=this.J.ee();if(K.windowPoint.x<=0||K.windowPoint.x>=aJ.width-2){this.aP();}if(K.windowPoint.y<=0||K.windowPoint.y>=aJ.height-2){this.aP();}};IPCC.oH.prototype.lO=function(){this.aP();};IPCC.Web.UI.Comment=function(text){var bw=new IPCC.Web.UI.gb();var dj=new IPCC.Web.UI.Data();this.XP=IPCC.aY.xD(new Date());this.ar=text;this.apg=function(ar){if(ar===this.ar){return;}this.ar=ar;var K=new IPCC.Web.UI.CommentEventArgs();K.comment=this;K.length=1;this.ay('commentChanged',K);};this.ast=function(){return this.ar;};this.azz=function(aCi){this.XP=aCi;};this.arN=function(){return this.XP;};this.uq=function(h){bw.addHandler('commentChanged',h);};this.vx=function(h){bw.removeHandler('commentChanged',h);};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(this,K);}};this.xv=function(){return dj;};return this;};IPCC.Web.UI.Comment.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.uq(handler);},remove_commentChanged:function(handler){this.vx(handler);},get_text:function(){return this.ast();},set_text:function(text){this.apg(text);},get_creationTime:function(){return this.arN();},set_creationTime:function(isoTimeString){this.azz(isoTimeString);},get_data:function(){return this.xv();}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Comment.registerClass('IPCC.Web.UI.Comment');IPCC.Web.UI.Conversation=function(avH){var hi=[];var bw=new IPCC.Web.UI.gb();var dj=new IPCC.Web.UI.Data();var H=avH;var C=this;function MT(az,K){C.ay('commentChanged',K);};this.Lb=function(cK){cK.add_commentChanged(MT);hi.push(cK);var K=new IPCC.Web.UI.CommentEventArgs();K.comment=cK;K.length=1;K.index=hi.length-1;this.ay('commentAdded',K);};this.aAQ=function(cK){var XC= -1;IPCC.aY.forEach(hi,function(el,idx){if(el===cK){XC=idx;}});if(XC=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var afG=hi.splice(XC,1)[0];afG.vx(MT);var K=new IPCC.Web.UI.CommentEventArgs();K.comment=afG;K.length=1;this.ay('commentRemoved',K);};this.mF=function(nG,du){var G;for(G=0;G<hi.length;G++){nG.call(du,hi[G],G,this);}};this.dY=function(){return hi.length;};this.AG=function(h){bw.addHandler('commentAdded',h);};this.FR=function(h){bw.removeHandler('commentAdded',h);};this.uq=function(h){bw.addHandler('commentChanged',h);};this.vx=function(h){bw.removeHandler('commentChanged',h);};this.zi=function(h){bw.addHandler('commentRemoved',h);};this.FT=function(h){bw.removeHandler('commentRemoved',h);};this.xv=function(){return dj;};this.Ri=function(){return H;};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(this,K);}};return this;};IPCC.Web.UI.Conversation.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Lb(comment);},removeCommentInstance:function(comment){this.aAQ(comment);},forEach:function(method,context){this.mF(method,context);},get_length:function(){return this.dY();},add_commentAdded:function(handler){this.AG(handler);},remove_commentAdded:function(handler){this.FR(handler);},add_commentChanged:function(handler){this.uq(handler);},remove_commentChanged:function(handler){this.vx(handler);},add_commentRemoved:function(handler){this.zi(handler);},remove_commentRemoved:function(handler){this.FT(handler);},get_data:function(){return this.xv();},get_mark:function(){return this.Ri();}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass('IPCC.Web.UI.Conversation');IPCC.Web.UI.Data=function(){this.dj={};this.xv=function(key){if(typeof key==='undefined'){return IPCC.aY.extend({},this.dj);}else if(typeof key==='string'){return this.dj[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.azc=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dj[key]=value;}else if(typeof value==='undefined'){delete this.dj[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.atO=function(){var keys=[];IPCC.aY.forEach(this.dj,function(value,key){keys.push(key);});return keys;};return this;};IPCC.Web.UI.Data.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.xv(key);},set_data:function(key,value){return this.azc(key,value);},get_dataKeys:function(){return this.atO();}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass('IPCC.Web.UI.Data');IPCC.au={};IPCC.Hk=function(J){var ap=this;this.anb='filter';this.ana=function(dz){return 'progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(dz*100)+');';};this.UZ=true;this.Rs=function(bx,dR,mf,bL,pf,nF){if(bx.Im){bx.qA.aeU(dR,mf,bL,bx.lv);}};this.afB=function(){};this.ahk(J);this.acn=function(bU){return new IPCC.DF(bU.clientWidth,bU.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI);};this.Yp=function(aH){ap.lo(aH);};this.ahA=function(aH){ap.vP(aH);};this.Za=function(aH){ap.jV(aH);};this.EE=function(aH){ap.lO(aH);};this.Zs=function(aH){ap.jF(aH);};this.TJ=function(aH){aH.returnValue=false;ap.lo(aH);};this.Zf=function(aH){aH.returnValue=false;ap.jV(aH);};this.abj=function(aH){aH.returnValue=false;ap.jF(aH);};this.Uo=function(aH){ap.NZ(aH);};this.Vs=function(aH){if(aH.target!==document.activeElement){ap.alG(aH);}};this.abV=function(aH){if(aH.target!==document.activeElement){ap.alR(aH);}};this.agv=function(){var fD=J.kS().igElements.mu;IPCC.Web.UI.aE.addHandler(fD,"mousewheel",this.EE);IPCC.Web.UI.aE.addHandler(fD,"dblclick",this.ahA);};this.aiO=function(){var fD=J.kS().igElements.mu;IPCC.Web.UI.aE.removeHandler(fD,"mousewheel",this.EE);IPCC.Web.UI.aE.removeHandler(fD,"dblclick",this.ahA);};this.acV=function(bx,hw,ot,Av){var G,bm,bU;for(G=0;G<ot.fa.length;G++){bm=ot.fa[G];bU=document.createElement('div');bm.pool.parentElementID=Av+G.toString();bU.id=bm.pool.parentElementID;bU.style.width='0px';bU.style.height='0px';bU.setAttribute('tabindex','-1');hw.appendChild(bU);}};this.aeC=function(fC){var Pm=this.ZM();var CT=fC.pool;var hw=document.getElementById(CT.parentElementID);var bU;bU=document.createElement('img');bU.id=Pm;if(J.aw().get_presentationQuality()>49){bU.style.msInterpolationMode='bicubic';}else{bU.style.msInterpolationMode='nearest-neighbor';}bU.style.position='absolute';bU.style.display='none';bU.setAttribute('tabindex','-1');bU.setAttribute('hidefocus','true');hw.appendChild(bU);fC.elementID=Pm;bU.poolItem=fC;};this.ane=function(fC){var bU=document.getElementById(fC.elementID);this.qv(bU.style,'display','none');};this.YT=function(fC){var bU=document.getElementById(fC.elementID);if(bU===null){fC.elementID='';return;}bU.src='';bU.parentElement.removeChild(bU);fC.elementID='';};var Fv=function(aH){try{IPCC.Web.UI.aE.removeHandler(aH.target,'load',Fv);aH.target.onabort=null;aH.target.onerror=null;var fC=aH.target.poolItem;fC.loaded=true;ap.yO();}catch(ex){J.V('downloadImage',ex);var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}};var aBo=function(){try{var aH=window.event;IPCC.Web.UI.aE.removeHandler(aH.srcElement,'load',Fv);aH.srcElement.onabort=null;aH.srcElement.onerror=null;var fC=aH.srcElement.poolItem;fC.loaded=false;var dP='An image download was aborted by the user';if(typeof(J.kS)==='function'){dP+='Div Id = '+J.kS().id;}throw new IPCC.Web.UI.ImGearException(dP,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){J.V('downloadImage',ex);var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}};var aDv=function(){try{var aH=window.event;IPCC.Web.UI.aE.removeHandler(aH.srcElement,'load',Fv);aH.srcElement.onabort=null;aH.srcElement.onerror=null;var fC=aH.srcElement.poolItem;fC.loaded=false;var dP='An image failed to load. Error status ';if(typeof(J.kS)==='function'){dP+='Div Id = '+J.kS().id;}throw new IPCC.Web.UI.ImGearException(dP,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){J.V('downloadImage',ex);var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}};this.TX=function(bU,cb,sd){var ij=true;var lj=0;if(J.jE()===0){ij=false;}var bh=new XMLHttpRequest(),ja,ly=false;if(J.Qq()&&J.ea()===true){var hk=IPCC.Web.oq.Ql(4);var lM=IPCC.Web.gH.DX.lL(hk);var Yy=cb+'&iv='+lM;bh.open('GET',Yy,true);bh.responseType='text';}else{bh.open('GET',cb,true);bh.responseType='text';}function ma(){var dp;try{var dH,bQ,db,ko;var ku;var jq=dH;if(bh.readyState===4){dH=bh.status;if(bh.status===200){bQ=null;try{if(ij===true){if(ja){clearTimeout(ja);}}var nr=bh.getResponseHeader("Accusoft-Data-Encrypted");if(nr==='true'){var sV=IPCC.Web.gH.qk.rE(bh.getResponseHeader("Accusoft-Data-SK"));var aB=IPCC.Web.EI(sV,hk);var cQ=IPCC.Web.BB(bh);var sG=IPCC.Web.zL(cQ,aB,hk);var Ub=IPCC.Web.gH.qk.lL(sG,0,0);bU.setAttribute('src','data:'+sd+';base64,'+Ub);}else{bU.setAttribute('src',cb);}}catch(ex){db="Image error, Error message = "+ex.message;dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);throw new IPCC.Web.UI.ImGearArgumentException(null,db);}}else if((dH<200)||(dH>=300)){if(ij===true){if(ja){clearTimeout(ja);}}jq=bh.status;if(dH===403){lj++;if(bh.statusText&&bh.statusText!==""){db="Expired viewer session ID, error message from the server: "+bh.statusText;}else{db="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}ko=bh.getResponseHeader('Accusoft-Status-Message');if(ko){var nD;ku=bh.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wy(ku)){nD=parseInt(ku,10);}throw new IPCC.Web.UI.ImGearHttpException(jq,ko,nD);}else if(ly){throw new IPCC.Web.UI.ImGearHttpException(jq,"Client Image load timeout");}else{if(bh.statusText&&bh.statusText!==""){db=bh.statusText;}else{db="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(jq,db);}}}}catch(e){J.V('openPage',e);if(typeof(J.ay)==='function'){dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};bh.onreadystatechange=ma;if(ij===true){ja=setTimeout(function(){ly=true;bh.abort();},J.jE());}bh.send();};this.agC=function(jI){var G;for(G=0;G<jI.length;G++){var bU=document.getElementById(jI[G].poolItem.elementID);bU.style.visibility='hidden';IPCC.Web.UI.aE.addHandler(bU,'load',Fv);bU.onabort=aBo;bU.onerror=aDv;if(J.Qq()&&J.ea()===true){this.TX(bU,jI[G].url,'image/png');}else{bU.setAttribute('src',jI[G].url);}}};this.RE=function(hB,aqb,Zw,wf){var mg=document.getElementById(hB.poolItem.elementID);if(Zw){this.qv(mg,'width',Math.round(wf.height));this.qv(mg,'height',Math.round(wf.width));}else{this.qv(mg,'width',Math.round(wf.width));this.qv(mg,'height',Math.round(wf.height));}this.qv(mg.style,'left',wf.x.toString());this.qv(mg.style,'top',wf.y.toString());this.qv(mg.style,'filter',aqb);this.qv(mg.style,'visibility','visible');this.qv(mg.style,'display','block');};this.aaW=function(jI,dz,dR){var G;if(jI.length<1){return;}var EO='';if(dz<1){EO='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(dz*100).toString()+')';}var eF=dR.clone();var Ck=1/jI[0].level.bk;var Dr=IPCC.fm(Ck,0,0,Ck,0,0);eF.AK(Dr);var oj=eF.Jh();if(oj){Dr=new IPCC.fm(-1,0,0,1,0,0);eF.append(Dr);}var sD=Math.round(eF.Dg()/90);Dr=new IPCC.fm(1,0,0,1,0,0);Dr.rotate(sD*90);eF.AK(Dr);var aen='';if(oj||sD!==0){aen+='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oj?'1':'0')+', rotation='+sD.toString()+')';}var Zw=(sD===1||sD===3);var iR,GJ,wf;for(G=0;G<jI.length;G++){iR=jI[G];Ck=1/iR.level.bk;GJ={x:iR.x*Ck,y:iR.y*Ck};GJ.width=iR.right*Ck-GJ.x;GJ.height=iR.bottom*Ck-GJ.y;wf=dR.sz(GJ);this.RE(jI[G],EO+aen,Zw,wf);}};};IPCC.Hk.prototype=new IPCC.ad();IPCC.au.Hk=function(){};IPCC.au.Hk.prototype={abT:function(J,bx,bL){this.J=J;this.bC=J.aw();this.bx=bx;this.fl=bL.width;this.da=bL.height;this.Cd=bL.gE;this.aAW=bL.gK;if(!document.namespaces.igvml){document.namespaces.add('igvml','urn:schemas-microsoft-com:vml');var style=document.createStyleSheet();style.addRule('igvml\\:group','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:oval','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:rect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:polyline','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:shape','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:skew','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:stroke','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textpath','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:roundrect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textbox','behavior: url(#default#VML); display:inline-block;');}bx.sI=document.createElement('div');bx.WG.insertBefore(bx.sI,bx.xq);},Kg:function(R){var fM='vmltextmark-'+R.H.iY();var me=document.createElement('div');me.style.position='absolute';me.style.top=me.style.left='0';me.style.width=me.style.height='100%';me.style.background='blue';me.style['filter']="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";me.setAttribute('data-pcc-mark',fM);return me;},aaO:function(R){R.pY=[];R.kP=[];var fM='vmlmark-'+R.H.iY(),C=this,tu,np,ix,fs,Qn;switch(R.H.get_type()){case IPCC.Web.UI.MarkType.Rectangle:R.bK=this.bG('rect');R.sB=this.bG('fill');R.bK.appendChild(R.sB);if(R.H.jz()&&R.H.get_opacity()===255){IPCC.Web.UI.aE.addHandler(R.bK,"mouseover",function(){R.bK.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(127/2.55)+')';});IPCC.Web.UI.aE.addHandler(R.bK,"mouseout",function(){R.bK.style.filter='';});}break;case IPCC.Web.UI.MarkType.HighlightText:fM="highlighttextannotation-"+R.H.iY();R.bK=this.bG('group');R.bK.setAttribute('data-pcc-mark',fM);this.eW(R.bK,{width:this.fl*100+'px',height:this.da*100+'px'});R.hm=this.bG('group');R.bK.appendChild(R.hm);this.eW(R.hm,{width:this.fl*100+'px',height:this.da*100+'px'});R.pg=this.bG('shape');R.pY.push(R.pg);R.vK=this.bG('stroke');this.bi(R.vK,{on:'true'});R.pg.appendChild(R.vK);R.vK.imgearUnstyled=true;R.bK.appendChild(R.pg);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:fM="texthyperlinkannotation-"+R.H.iY();R.bK=this.bG('group');R.bK.setAttribute('data-pcc-mark',fM);this.eW(R.bK,{width:this.fl*100+'px',height:this.da*100+'px'});R.hm=this.bG('group');R.bK.appendChild(R.hm);this.eW(R.hm,{width:this.fl*100+'px',height:this.da*100+'px'});R.pg=this.bG('shape');R.pY.push(R.pg);this.eW(R.pg,{cursor:IPCC.bO.fE(IPCC.bO.Link)});R.vK=this.bG('stroke');this.bi(R.vK,{on:'true'});R.pg.appendChild(R.vK);R.vK.imgearUnstyled=true;R.bK.appendChild(R.pg);R.wS=this.bG('shape');R.pY.push(R.wS);this.eW(R.wS,{cursor:IPCC.bO.fE(IPCC.bO.Link)});R.Jk=this.bG('stroke');R.kP.push(R.Jk);this.bi(R.Jk,{on:'true'});R.wS.appendChild(R.Jk);R.Jk.imgearUnstyled=true;R.bK.appendChild(R.wS);IPCC.Web.UI.aE.addHandler(R.bK,"mouseover",function(){R.wS.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.au.ad.yp(true,R.H.get_selected())*100+")";});IPCC.Web.UI.aE.addHandler(R.bK,"mouseout",function(){R.wS.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.au.ad.yp(false,R.H.get_selected())*100+")";});break;case IPCC.Web.UI.MarkType.DocumentHyperlink:fM="documenthyperlink-"+R.H.iY();R.bK=this.bG('group');R.bK.setAttribute('data-pcc-mark',fM);R.F=this.bG('roundrect');R.Ve=this.bG('fill');R.vd=this.bG('stroke');R.F.appendChild(R.Ve);R.F.appendChild(R.vd);R.bK.appendChild(R.F);this.eW(R.F,{cursor:IPCC.bO.fE(IPCC.bO.Link)});if(R.H.yZ==='Underline'&&R.H.gp>0){R.md=this.bG('rect');R.amf=this.bG('stroke');R.YQ=this.bG('fill');R.md.appendChild(R.amf);R.md.appendChild(R.YQ);R.bK.appendChild(R.md);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R.bK=this.bG('shape');R.hl=document.createElement('img');R.hl.setAttribute('data-pcc-mark',fM);R.hl.setAttribute("src",R.H.get_image());R.hl.setAttribute("class",'pcc-image-stamp-img');R.hl.removeAttribute('height');R.hl.removeAttribute('width');var me=this.Kg(R);me.setAttribute('data-pcc-mark',fM);R.bK.appendChild(R.hl);R.bK.appendChild(me);break;case IPCC.Web.UI.MarkType.RectangleRedaction:R.bK=this.bG('group');this.eW(R.bK,{width:this.fl*100+'px',height:this.da*100+'px'});R.gL=this.bG('rect');R.bK.appendChild(R.gL);R.mn=this.bG('shape');R.sN=document.createTextNode('');R.Sj=document.createElement('div');R.Sj.setAttribute('class','pcc-valign-mid');R.tZ=document.createElement('div');R.tZ.setAttribute('class','pcc-cell-content');R.tZ.style.height='1px';R.tZ.style.width='1px';R.bZ=document.createElement('div');R.bZ.style.position='absolute';R.bZ.style.overflow='hidden';R.bZ.style.display='table';if(document.documentMode>=8){R.bZ.style.whiteSpace='pre-wrap';}R.tZ.appendChild(R.sN);R.bZ.appendChild(R.Sj);R.Sj.appendChild(R.tZ);R.sB=R.mn;fM='vmltextmark-'+R.H.iY();R.mn.setAttribute('data-pcc-mark',fM);R.bZ.setAttribute('data-pcc-mark',fM);R.Sj.setAttribute('data-pcc-mark',fM);R.tZ.setAttribute('data-pcc-mark',fM);IPCC.Web.UI.aE.addHandler(R.bZ,"mouseover",function(){if(C.J.lT()===false){R.bZ.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";R.bZ.style.color='#000000';}});IPCC.Web.UI.aE.addHandler(R.bZ,"mouseout",function(){if(C.J.lT()===false){R.bZ.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";R.bZ.style.color='#ffffff';}});break;case IPCC.Web.UI.MarkType.Ellipse:R.bK=this.bG('oval');R.sB=this.bG('fill');R.bK.appendChild(R.sB);break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:R.bK=this.bG('group');this.eW(R.bK,{width:this.fl*100+'px',height:this.da*100+'px'});R.bK.setAttribute('data-pcc-mark',fM);R.hZ=this.bG('shape');this.bi(R.hZ,{filled:'f'});R.pY.push(R.hZ);R.BG=this.bG('stroke');R.kP.push(R.BG);this.bi(R.BG,{on:'true'});R.hZ.appendChild(R.BG);R.wU=this.bG('shape');R.pY.push(R.wU);R.Gn=this.bG('stroke');R.kP.push(R.Gn);this.bi(R.Gn,{on:'true'});R.wU.appendChild(R.Gn);R.Gn.imgearUnstyled=true;R.vB=this.bG('shape');R.pY.push(R.vB);R.IC=this.bG('stroke');R.kP.push(R.IC);this.bi(R.IC,{on:'true'});R.vB.appendChild(R.IC);R.IC.imgearUnstyled=true;R.bK.appendChild(R.hZ);R.bK.appendChild(R.wU);R.bK.appendChild(R.vB);break;case IPCC.Web.UI.MarkType.Polygon:R.bK=this.bG('shape');R.pY.push(R.bK);break;case IPCC.Web.UI.MarkType.Text:R.bK=this.bG('group');this.eW(R.bK,{width:this.fl*100+'px',height:this.da*100+'px'});R.mn=this.bG('shape');R.pY.push(R.mn);R.HY=this.bG('stroke');R.kP.push(R.HY);R.mn.appendChild(R.HY);R.bK.appendChild(R.mn);R.HY.imgearUnstyled=true;R.sB=this.bG('fill');R.mn.appendChild(R.sB);R.hZ=this.bG('shape');this.bi(R.hZ,{filled:'f'});R.pY.push(R.hZ);R.BG=this.bG('stroke');R.kP.push(R.BG);this.bi(R.BG,{on:'true'});R.hZ.appendChild(R.BG);R.bK.appendChild(R.hZ);R.pw=this.bG('shape');this.bi(R.pw,{filled:'f'});R.pY.push(R.pw);R.yv=this.bG('stroke');R.kP.push(R.yv);this.bi(R.yv,{on:'true'});R.pw.appendChild(R.yv);R.bK.appendChild(R.pw);R.yv.imgearUnstyled=true;R.sN=document.createTextNode('');R.bZ=document.createElement('div');R.bZ.style.position='absolute';R.bZ.style.overflow='hidden';if(document.documentMode>=8){R.bZ.style.whiteSpace='pre-wrap';}R.bZ.appendChild(R.sN);fM='vmltextmark-'+R.H.iY();R.mn.setAttribute('data-pcc-mark',fM);R.HY.setAttribute('data-pcc-mark',fM);R.hZ.setAttribute('data-pcc-mark',fM);R.pw.setAttribute('data-pcc-mark',fM);R.yv.setAttribute('data-pcc-mark',fM);R.bZ.setAttribute('data-pcc-mark',fM);break;case IPCC.Web.UI.MarkType.Highlight:R.bK=this.bG('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:R.bK=this.bG('group');R.hm=R.bK;this.eW(R.bK,{width:this.fl*100+'px',height:this.da*100+'px'});break;case IPCC.Web.UI.MarkType.Stamp:R.bK=this.bG('roundrect');R.uh=document.createTextNode('');R.ec=document.createElement('div');ix=R.H.ar;R.H.ye=false;R.H.gi=R.H.cW;fs={};fs.color=R.H.cW;fs.fontFamily="Arial";this.eW(R.ec,fs);if(!ix){ix=R.H.cF[0];R.H.ar=ix;if(!ix){ix="APPROVED";}}me=this.Kg(R);me.setAttribute('data-pcc-mark',fM);R.uh.data=ix;R.ec.appendChild(R.uh);R.bK.appendChild(R.ec);R.bK.appendChild(me);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var H=R.H;var vg=H.get_pathWidth();var tF=H.get_pathHeight();var sU=H.get_pathString();var dr=IPCC.aY.ys.Path(sU,{width:vg,height:tF,multiplier:100,thickness:(H.IR>0)?H.IR:H.get_lineWidth(),color:H.get_lineColor()});R.bK=dr;var ayG=this.Kg(R);R.bK.appendChild(ayG);break;case IPCC.Web.UI.MarkType.SignatureText:R.bK=this.bG('rect');R.uh=document.createTextNode('');R.ec=document.createElement('div');R.ec.setAttribute('data-pcc-mark',fM);tu=R.H.ar;R.H.ye=false;R.H.gi="none";R.H.dz=255;np={};np.color=R.H.cW;np.fontFamily=R.H.get_fontName();np.textAlign="center";this.eW(R.ec,np);if(np.fontFamily){R.ec.style.fontFamily='"'+np.fontFamily+'", cursive';}if(!tu){tu=R.H.cF[0];R.H.ar=tu;}Qn=this.Kg(R);R.uh.data=tu;R.ec.appendChild(R.uh);R.bK.appendChild(R.ec);R.bK.appendChild(Qn);break;case IPCC.Web.UI.MarkType.TextLine:R.bK=this.bG('rect');R.uh=document.createTextNode('');R.ec=document.createElement('div');R.ec.setAttribute('data-pcc-mark',fM);tu=R.H.ar;np={};np.color=R.H.cW;np.fontFamily=R.H.get_fontName();np.whiteSpace="pre";np.textAlign="left";this.eW(R.ec,np);if(np.fontFamily){R.ec.style.fontFamily='"'+np.fontFamily+'", cursive';}if(!tu){tu=R.H.cF[0];R.H.ar=tu;}Qn=this.Kg(R);R.uh.data=tu;R.ec.appendChild(R.uh);R.bK.appendChild(R.ec);R.bK.appendChild(Qn);break;}if(!R.sB&&R.bK){R.sB=R.bK;}if(R.bK&&R.bK.tagName!=='group'){R.DQ=this.bG('stroke');R.kP.push(R.DQ);this.bi(R.DQ,{on:'true'});R.bK.appendChild(R.DQ);}var ag;for(ag=0;ag<R.pY.length;ag++){this.bi(R.pY[ag],{coordorigin:'0,0',coordsize:this.fl*100+','+this.da*100});this.eW(R.pY[ag],{width:this.fl*100+'px',height:this.da*100+'px'});}for(ag=0;ag<R.kP.length;ag++){this.bi(R.kP[ag],{joinstyle:'miter'});}R.uR=this.bG('group');this.QT(R);this.eW(R.uR,{left:'0px',top:'0px',width:'300px',height:'300px',position:'absolute'});this.bi(R.uR,{coordorigin:'0,0',coordsize:this.fl*100+','+this.da*100});R.uR.ImGearMarkRelation=R;R.uR.setAttribute('data-pcc-mark','vmlmark-'+R.H.iY());if(R.bK){R.uR.appendChild(R.bK);}this.bx.sI.appendChild(R.uR);if(R.bZ){R.bZ.ImGearMarkRelation=R;this.bx.sI.appendChild(R.bZ);}},mP:function(aoP,kV,mq){var dr=this.Ym(kV,mq);this.bi(aoP,{path:dr});},Ym:function(kV,mq){var dr='m';if(kV.length<1){dr='';}else{dr='m'+Math.round(kV[0].x*100)+','+Math.round(kV[0].y*100);var G;for(G=1;G<kV.length;G++){if(G>1){dr+=',';}else{dr+='l';}dr+=Math.round(kV[G].x*100)+','+Math.round(kV[G].y*100);}if(mq&&kV.length>2){dr+='x';}dr+='e';}return dr;},aqP:function(jN,Gw){var dr='';IPCC.aY.forEach(jN,function(F){var pq=this.apA(F,Gw);dr=dr+this.Ym(pq,false)+", ";},this);return dr;},apW:function(jN){var dr='';IPCC.aY.forEach(jN,function(F){var pq=this.aqZ(F);dr=dr+this.Ym(pq,true)+", ";},this);return dr;},aqZ:function(F){var pq=[];pq.push({x:F.x,y:F.y});pq.push({x:F.x+F.width,y:F.y});pq.push({x:F.x+F.width,y:F.y+F.height});pq.push({x:F.x,y:F.y+F.height});return pq;},apA:function(F,Gw){Gw=Gw||0;var pq=[];pq.push({x:F.x,y:F.y+F.height+Gw});pq.push({x:F.x+F.width,y:F.y+F.height+Gw});return pq;},Kz:function(fF,iM,vn,qx,sH,EL,pS,aCC){var cB=this.acw(fF,iM,vn,qx,sH);var aq={display:'block'},bF={fillcolor:EL,filled:false},qo={color:EL};switch(sH){case IPCC.Web.UI.LineHeadType.None:aq.display='none';break;case IPCC.Web.UI.LineHeadType.Pointer:this.mP(pS,[cB.tm,fF,cB.vh],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.mP(pS,[cB.tm,fF,cB.vh],true);bF.filled=true;break;case IPCC.Web.UI.LineHeadType.Open:this.mP(pS,[cB.tm,fF,cB.vh],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:bF.filled=true;this.mP(pS,[cB.tm,fF,cB.vh,cB.zG],true);break;}if(sH!==IPCC.Web.UI.LineHeadType.None){this.eW(pS,aq);this.bi(pS,bF);this.bi(aCC,qo);}return cB;},VF:function(R){var H=R.H;var dW,Fz,If,rn;dW=this.IZ(H);if(dW.length<2||H.mq){this.eW(R.wU,{display:'none'});this.eW(R.vB,{display:'none'});}else{H.tL=H.gi;rn=this.Qx(dW,true);Fz=this.Kz(rn.fF,rn.iM,H.Fo,H.EC,H.Ev,H.tL,R.wU,R.Gn);rn=this.Qx(dW,false);If=this.Kz(rn.fF,rn.iM,H.Eu,H.EN,H.lV,H.tL,R.vB,R.IC);dW[0]=Fz.zG;dW[dW.length-1]=If.zG;}this.mP(R.hZ,dW,H.mq);},VG:function(R){var nA=this.aeb(R);this.mP(R.mn,nA.Sz,true);var II={},BV={};var H=R.H;if(nA.PW||H.gi==='transparent'){BV.on=false;}else{BV.color=H.gi;BV.dashstyle=this.xN(H.hG);BV.on=true;BV.opacity=H.dz/255;}if(nA.Lk){this.mP(R.hZ,nA.Lk,false);R.hZ.style.visibility='visible';}else{R.hZ.style.visibility='hidden';}if(nA.DK){this.mP(R.pw,nA.DK,false);R.pw.style.visibility='visible';}else{R.pw.style.visibility='hidden';}if(H.Bq){II.color=H.Ek;II.dashstyle=this.xN(H.tk);R.yv.imgearCalloutSized=true;}else{II.color=H.gi;II.dashstyle=this.xN(H.hG);R.yv.imgearCalloutSized=false;}this.bi(R.yv,II);this.bi(R.HY,BV);},aos:function(R,dR,bk){var H=R.H;var F=H.fr();var gh=1;if(H.gZ){gh+=H.gp/2;}F.width-=2*gh;F.height-=2*gh;F.x+=gh;F.y+=gh;F=dR.sz(F);var SJ=F.x,SN=F.y;var eF=new IPCC.fm(1,0,0,1,0,0);switch(H.xw){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:eF.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:eF.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:eF.rotate(180);eF.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:eF.scale(-1,1);eF.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:eF.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:eF.scale(-1,1);eF.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:eF.rotate(270);break;}eF.append(dR);var fs={};var mb;if(H.get_type()===IPCC.Web.UI.MarkType.TextLine){mb=H.di*bk;}else{mb=H.di*this.Cd/72*bk;}fs.fontSize=Math.round(mb)+'px';var oj=eF.Jh();var de=eF.Dg();if(oj){de=(360-de)%360;}var sD=Math.round(de/90);var yz='';if(oj||sD){yz='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oj?'1':'0')+', rotation='+sD.toString()+');';}if(H.uc<255){yz+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(H.uc/255*100)+');';}R.ec.style.filter=yz;var dS;if((de>45&&de<135)||(de>225&&de<315)){dS=F.width;F.width=F.height;F.height=dS;}fs.left=SJ+'px';fs.top=SN+'px';fs.width=F.width+'px';fs.height=F.height+'px';R.ec.style.width=F.width+'px';R.ec.style.height=F.height+'px';R.ec.style.lineHeight=R.ec.style.height;R.ec.style.fontSize=Math.round(mb)+'px';},aok:function(R,dR,bk){var H=R.H;var F=H.fr();var gh=1;if(H.gZ){gh+=H.gp/2;}F.width-=2*gh;F.height-=2*gh;F.x+=gh;F.y+=gh;F=dR.sz(F);var SJ=F.x,SN=F.y;var eF=new IPCC.fm(1,0,0,1,0,0);switch(H.xw){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:eF.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:eF.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:eF.rotate(180);eF.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:eF.scale(-1,1);eF.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:eF.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:eF.scale(-1,1);eF.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:eF.rotate(270);break;}eF.append(dR);var fs={};var mb=H.di*this.Cd/72*bk;H.mb=mb;fs.fontSize=Math.round(mb)+'px';var oj=eF.Jh();var de=eF.Dg();if(oj){de=(360-de)%360;}var sD=Math.round(de/90);var yz='';if(oj||sD){yz='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oj?'1':'0')+', rotation='+sD.toString()+');';}if(this.J.lT()===true){yz+=" progid:DXImageTransform.Microsoft.Alpha(opacity=50)";R.bZ.style.color='#000000';}else if(H.uc<255){yz+=' progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(H.uc/255*100)+');';}R.bZ.style.filter=yz;var dS;if((de>45&&de<135)||(de>225&&de<315)){dS=F.width;F.width=F.height;F.height=dS;}fs.left=SJ+'px';fs.top=SN+'px';fs.width=F.width+'px';fs.height=F.height+'px';this.eW(R.bZ,fs);if(R.tZ!==undefined){R.tZ.style.width=F.width+'px';}},Hu:function(R){var H=R.H;var aph={},fs={};fs.lineHeight=1;if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){fs.backgroundColor='#000000';}else{fs.backgroundColor='transparent';}fs.color=H.pO;fs.fontFamily=H.fW;if(H.fI&IPCC.Web.UI.FontStyle.Italic){fs.fontStyle='italic';}else{fs.fontStyle='';}if(H.fI&IPCC.Web.UI.FontStyle.Bold){fs.fontWeight='bold';}else{fs.fontWeight='';}if((H.fI&IPCC.Web.UI.FontStyle.Underline)&&(H.fI&IPCC.Web.UI.FontStyle.Strikeout)){fs.textDecoration='underline line-through';}else if(H.fI&IPCC.Web.UI.FontStyle.Underline){fs.textDecoration='underline';}else if(H.fI&IPCC.Web.UI.FontStyle.Strikeout){fs.textDecoration='line-through';}else{fs.textDecoration='';}switch(H.pG){case IPCC.Web.UI.HorizontalAlignment.Center:fs.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:fs.textAlign='right';break;default:fs.textAlign='left';break;}if(document.documentMode<8){var aCq=H.ar.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br/>');R.bZ.innerHTML=aCq;}else{this.abR(R);}this.bi(R.bZ,aph);this.eW(R.bZ,fs);if(R.H.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(H.cW==="#000000"){H.cW='#ffffff';}if(H.jz()===true){H.cW='white';}else{H.set_opacity(H.dz);}}},QT:function(R){var H=R.H,C=this;if(!H){return;}var bK=R.bK;var G,F,dW,aq={},bF={},mJ={},qo={},gZ=true,De,tq,aaV,aaH,OI,Jj,ix,ML,nz,nK,yj,fs;var im=false;switch(H.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:im=true;this.VF(R);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Highlight:F=H.get_rectangle();if(F.x===0&&F.y===0){var fi=this.J.dq().eJ();if(fi.dY()>0){var fd=fi.lB(H.an);F=fd.bz;}H.mT='y';}aq.left=F.x*100+'px';aq.top=F.y*100+'px';aq.width=F.width*100+'px';aq.height=F.height*100+'px';break;case IPCC.Web.UI.MarkType.HighlightText:this.FL(R);aq={display:(H.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(H.dz/2.55)+")",color:H.cW};bF={fillcolor:H.cW,filled:true};qo={color:H.cW};this.eW(R.pg,aq);this.bi(R.pg,bF);this.bi(R.vK,qo);this.Ca(R);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.FL(R);aq={display:(H.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.au.ad.Pd(false,R.H.get_selected())*100+")",color:"blue"};bF={fillcolor:"blue",filled:true};qo={color:"blue"};var amA={filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.au.ad.yp(false,R.H.get_selected())*100+")",weight:0};this.eW(R.pg,aq);this.bi(R.pg,bF);this.bi(R.vK,qo);this.eW(R.wS,amA);this.bi(R.Jk,qo);this.Ca(R);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=H.get_rectangle();aq.left=F.x*100+'px';aq.top=F.y*100+'px';aq.width=F.width*100+'px';aq.height=F.height*100+'px';R.F.style.width='100%';R.F.style.height='100%';var afU=0;if(R.H.yZ!=='Underline'&&(R.H.FM>0||R.H.Fa>0)){afU=0.4;}R.F.setAttribute('arcsize',afU);if(R.md){R.md.style.width='100%';R.md.style.top='100%';R.md.style.height='10000px';R.md.setAttribute('fill',true);R.md.setAttribute('fillcolor',R.H.gi);R.amf.setAttribute('on',false);R.YQ.setAttribute('type','solid');R.YQ.setAttribute('opacity',R.H.pr/255);}R.Ve.setAttribute('type','solid');R.Ve.setAttribute('opacity',IPCC.au.ad.Pd());if(R.H.yZ==='Underline'||R.H.gp===0){R.vd.setAttribute('on',false);}else if(R.H.yZ==='Dashed'){R.vd.setAttribute('dashstyle','dash');R.vd.setAttribute('color',R.H.gi);R.vd.setAttribute('weight',R.H.gp+'px');R.vd.setAttribute('opacity',R.H.pr/255);}else{R.vd.setAttribute('on',true);R.vd.setAttribute('color',R.H.gi);R.vd.setAttribute('weight',R.H.gp+'px');R.vd.setAttribute('opacity',R.H.pr/255);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=H.get_rectangle();aq.left=F.x*100+'px';aq.top=F.y*100+'px';aq.width=F.width*100+'px';aq.height=F.height*100+'px';R.hl.src=R.H.bb;var KX=R.bK.getBoundingClientRect();var jv=R.hl.getBoundingClientRect();if(jv.bottom!==undefined&&KX.bottom!==undefined){var LQ=KX.bottom-KX.top;var aqo=KX.right-KX.left;var da=jv.bottom-jv.top;var fl=jv.right-jv.left;R.hl.style['position']='relative';if(LQ===da&&aqo===fl){R.hl.style['max-height']='100%';R.hl.style['height']='auto';R.hl.style['max-width']='100%';R.hl.style['width']='auto';R.hl.style['top']='0';}else if(LQ<=da){R.hl.style['max-height']='100%';R.hl.style['height']='100%';R.hl.style['max-width']='available';R.hl.style['width']='auto';R.hl.style['top']='0';}else{R.hl.style['max-height']='available';R.hl.style['height']='auto';R.hl.style['max-width']='100%';R.hl.style['width']='100%';R.hl.style['top']='';}if(LQ>da){var aEM=100*((LQ/2-da/2)/LQ);R.hl.style.top=aEM+'%';}}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(C.J.lT()===true){R.bZ.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";R.bZ.style.color='#000000';}else{R.bZ.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";R.bZ.style.color='#ffffff';}this.Hu(R);setTimeout(function(){De=R.bZ.cloneNode(true);De.style.visibility='hidden';document.body.appendChild(De);tq=De.getElementsByTagName('div');aaV=tq[0];aaH=tq[1];aaH.style.height='inherit';OI=aaH.getBoundingClientRect();Jj=aaV.getBoundingClientRect();if(OI.top!==0){if(OI.top===Jj.top&&OI.bottom===Jj.bottom&&R.bZ.style.height!==''){R.tZ.style.height=R.bZ.style.height;}else{R.tZ.style.height='inherit';}}document.body.removeChild(De);De=undefined;},0);break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Ca(R);return;case IPCC.Web.UI.MarkType.Ellipse:F=H.get_rectangle();aq.left=F.x*100+'px';aq.top=F.y*100+'px';aq.width=F.width*100+'px';aq.height=F.height*100+'px';break;case IPCC.Web.UI.MarkType.Polygon:dW=this.IZ(H);this.mP(bK,dW,true);break;case IPCC.Web.UI.MarkType.Text:this.VG(R);this.Hu(R);break;case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:F=H.get_rectangle();aq.left=F.x*100+'px';aq.top=F.y*100+'px';aq.width=F.width*100+'px';aq.height=F.height*100+'px';ix=H.get_text();if(!ix){if(H.get_type()===IPCC.Web.UI.MarkType.Stamp){ix="APPROVED";}else{ix="";}}R.uh.data=ix;ML=this.asp(F.width,F.height);R.ec.style.textAlign='center';R.ec.style.fontSize=ML+'px';if(H.get_type()===IPCC.Web.UI.MarkType.SignatureText){nz=12*F.width/(H.vT||1);nK=12*F.height/(H.wl||1);yj=Math.min(nz,nK)/2;if(H.get_visible()){R.bK.style.display='block';}else{R.bK.style.display='none';}}H.di=yj||ML;H.stampSize=Math.floor(yj||ML);R.ec.style.width=F.width/3.25;R.ec.style.height=F.height/3.25;R.ec.style.lineHeight=R.ec.style.height;if(R.H.get_type()===IPCC.Web.UI.MarkType.SignatureText){R.ec.style.fontFamily=R.H.get_fontName()+', cursive';}if(H.get_type()===IPCC.Web.UI.MarkType.Stamp){R.H.gi=R.H.cW;}else{H.gZ=false;}fs={};fs.color=R.H.cW;this.eW(R.ec,fs);break;case IPCC.Web.UI.MarkType.TextLine:F=H.get_rectangle();aq.left=F.x*100+'px';aq.top=F.y*100+'px';aq.width=F.width*100+'px';aq.height=F.height*100+'px';ix=H.get_text()||"";R.uh.data=ix;nz=12*F.width/(H.vT||1);nK=12*F.height/(H.wl||1);yj=Math.min(nz,nK);var bk=0.9;yj*=bk;H.di=yj;H.mb=yj;H.adh=this.Cd/72;H.stampSize=yj;R.ec.style.width=F.width;R.ec.style.height=F.height;R.ec.style.lineHeight=R.ec.style.height;R.ec.style.fontFamily=R.H.get_fontName()+', sans-serif';fs={};fs.color=R.H.pO;this.eW(R.ec,fs);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:try{bK.setAttribute('stroke',H.get_lineColor());if(H.PR===true){H.PR=false;bK.setAttribute("d",H.get_pathString());var vg=H.get_pathWidth();var tF=H.get_pathHeight();bK.setAttribute('width',vg*100);bK.setAttribute('height',tF*100);bK.coordsize=[vg,tF].join(', ');}if(H.get_visible()===false){bK.style.display='none';}else{bK.style.display='';}var JI;var Kp;var Yc;var SH;var WC=H.get_pathWidth()/H.get_pathHeight();F=H.get_rectangle();var aAl=F.width/F.height;if(aAl>WC){Kp=F.height;JI=F.height*WC;Yc=F.x-(JI-F.width)/2;SH=F.y;H.IR=H.gp*JI/H.get_pathWidth();}else{JI=F.width;Kp=F.width/WC;SH=F.y-(Kp-F.height)/2;Yc=F.x;H.IR=H.gp*Kp/H.get_pathHeight();}aq.left=Yc*100+'px';aq.top=SH*100+'px';aq.width=JI*100+'px';aq.height=Kp*100+'px';}catch(e){}break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',H.get_type());}if(H.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&H.get_type()!==IPCC.Web.UI.MarkType.Freehand&&H.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&H.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(im){mJ.filled=false;}else{if(H.ye&&H.cW!=='transparent'){if(R.sB.tagName==='fill'){mJ.on=true;mJ.opacity=H.dz/255;mJ.color=H.cW;}else{mJ.filled=true;mJ.fillColor=H.cW;}}else{if(R.sB.tagName==='fill'){mJ.on=true;mJ.opacity=0.01;mJ.color='white';}else{mJ.filled=false;}}gZ=H.gZ;}if(gZ&&H.get_lineColor()!=='transparent'){qo.color=H.get_lineColor();qo.dashstyle=this.xN(H.hG);qo.on=true;}else{qo.on=false;}}var EO='';switch(H.lk()){case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;default:var QL={};QL[IPCC.Web.UI.MarkType.Rectangle]=true;QL[IPCC.Web.UI.MarkType.Ellipse]=true;QL[IPCC.Web.UI.MarkType.Text]=true;if(QL[H.lk()]===true){qo.opacity=H.dz/255;}else{if(H.dz<255){EO='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(H.dz/2.55)+')';}var Gy=bK.firstChild;if(Gy&&Gy.nodeName==='shape'){while(Gy){Gy.style.filter=EO;Gy=Gy.nextSibling;}}else{bK.style.filter=EO;}}break;}if(H.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&H.get_type()!==IPCC.Web.UI.MarkType.Freehand){if(H.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&H.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(H.gJ){aq.visibility='visible';if(R.bZ){R.bZ.style.visibility='visible';}}else{aq.visibility='hidden';if(R.bZ){R.bZ.style.visibility='hidden';}}}aq.cursor=IPCC.bO.fE(this.bC.FA());if(R.bZ){R.bZ.style.cursor=IPCC.bO.fE(this.bC.FA());}this.eW(bK,aq);this.bi(R.sB,mJ);this.bi(bK,bF);for(G=0;G<R.kP.length;G++){if(!R.kP[G].imgearUnstyled){this.bi(R.kP[G],qo);}}}else{this.eW(bK,aq);}},Ca:function(R){var H=R.H,G,aq={},mJ={};var hm=R.hm;while(hm.firstChild){hm.removeChild(hm.firstChild);}var fO;for(G=0;G<H.fo.length;G++){for(var ag=0;ag<H.fo[G].length;ag++){var Lt=this.J.dq().eJ();if(Lt.dY()>0){var TN=Lt.lB(H.fo[G].startIndex+ag);fO=TN.bz;}var bH=this.bG('rect');aq.left=fO.x*100+'px';aq.top=fO.y*100+'px';aq.width=fO.width*100+'px';aq.height=fO.height*100+'px';aq.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(H.fo[G].opacity/2.55)+')';this.eW(bH,aq);mJ.fillColor=H.fo[G].color;mJ.filled=true;this.bi(bH,mJ);var DQ=this.bG('stroke');this.bi(DQ,{on:'f'});bH.appendChild(DQ);hm.appendChild(bH);}}},FL:function(R){var H=R.H;if(H.cf===null||H.cf===undefined){return;}if(H.cf.length===0&&H.dQ>0&&this.J.dq().nm()){H.cf=IPCC.aY.Ox(this.J.dq().eJ(),H.an,H.an+H.dQ-1);}if(!R.an|| !R.dQ||R.an!==H.an||H.gJ===false||H.gJ===true||R.dQ!==H.dQ){var dr=this.apW(H.cf);this.bi(R.pg,{path:dr});if(R.wS){dr=this.aqP(H.cf,H.gp/ -2);this.bi(R.wS,{path:dr});}R.an=H.an;R.dQ=H.dQ;}},asp:function(JD,aAg){var mj=0;if(JD>=aAg){mj=(JD/14)/2;}else{mj=JD/15;}if(mj*15>=JD){mj=(JD/15)/2;}return mj;},xN:function(hG){switch(hG){case IPCC.Web.UI.LineStyle.Dash:return 'dash';case IPCC.Web.UI.LineStyle.Dot:return 'dot';case IPCC.Web.UI.LineStyle.DashDot:return 'dashdot';case IPCC.Web.UI.LineStyle.DashDotDot:return 'shortdashdotdot';default:break;}return 'solid';},IP:function(R){this.bx.sI.removeChild(R.uR);if(R.bZ){this.bx.sI.removeChild(R.bZ);}delete R.uR;},aeU:function(dR,mf,bL,lv){var lW=dR.transform({x:0,y:0});var kb=dR.transform({x:1,y:0});var oA=lW.x-kb.x;var Hy=oA*oA;oA=lW.y-kb.y;Hy+=oA*oA;var bk=Math.sqrt(Hy);var Cf={width:bL.width*bk+'px',height:bL.height*bk+'px'};var oj=dR.Jh();if(oj){Cf.flip='x';}else{Cf.flip='';}var de=dR.Dg();if((de>45&&de<135)||(de>225&&de<315)){Cf.left=(bL.height-bL.width)*bk/2+'px';Cf.top=(bL.width-bL.height)*bk/2+'px';}else{Cf.left='0px';Cf.top='0px';}var G,ag,R;for(G=0;G<lv.length;G++){R=lv[G];this.bi(R.uR,{rotation:oj? -de:de});this.eW(R.uR,Cf);for(ag=0;ag<R.kP.length;ag++){if(R.kP[ag].imgearCalloutSized){this.bi(R.kP[ag],{weight:R.H.DZ*bk});}else{if(R.H.get_type()!==IPCC.Web.UI.MarkType.SignaturePath){this.bi(R.kP[ag],{weight:R.H.gp*bk});}else{this.bi(R.kP[ag],{weight:(R.H.IR>0)?R.H.IR:R.H.gp*bk});}}}if(R.bZ){this.aok(R,dR,bk);}if(R.ec){this.aos(R,dR,bk);}}},agR:function(){this.bx=undefined;},bG:function(ae){return document.createElement('igvml:'+ae);},eW:function(bK,ky){var G;for(G in ky){if(ky.hasOwnProperty(G)){if(bK.style[G]!==ky[G]){bK.style[G]=ky[G];}}}},bi:function(bK,bF){var G;if(document.documentMode===8){for(G in bF){if(bF.hasOwnProperty(G)){var val=bF[G];var str=val.toString();if(bK[G]!==str){bK[G]=str;}}}}else{for(G in bF){if(bF.hasOwnProperty(G)){if(bF[G]){bK.setAttribute(G,bF[G].toString());}}}}}};IPCC.agy=function(J,pz){var ap=this;this.anb='opacity';this.ana=function(dz){return dz.toString();};var ahn=function ahn(bx,dR,mf,bL,pf,nF){var jU;if(this.J.sq()===true){bx.EK.setAttribute('width',mf.width);bx.EK.setAttribute('height',mf.height);bx.wP.setAttribute('width',mf.width);bx.wP.setAttribute('height',mf.height);jU=dR.pJ().toString()+','+dR.rj().toString()+','+dR.rH().toString()+','+dR.uI().toString()+','+(dR.xz()+pf).toString()+','+(dR.xJ()+nF).toString();this.kD(bx.GO,'transform','matrix('+jU+')');}else{bx.EK.setAttribute('width',mf.width);bx.EK.setAttribute('height',mf.height);bx.wP.setAttribute('width',mf.width);bx.wP.setAttribute('height',mf.height);jU=dR.pJ().toString()+','+dR.rj().toString()+','+dR.rH().toString()+','+dR.uI().toString()+','+(dR.xz()+pf).toString()+','+(dR.xJ()+nF).toString();this.kD(bx.GO,'transform','matrix('+jU+')');}};var Xp,Xm;this.Rs=function(bx,dR,mf,bL,pf,nF){if(bx.Ya.match('maglevel')){ahn.apply(this,arguments);return;}var bz=bx.hw.parentElement.getBoundingClientRect();var lx=bz.width/bL.width;var agK=function(val){return Math.abs(val)<1.0e-14;};var eb=0,fj=0;var asO=function(){var pV=dR.rj();if(agK(pV)){pV=0;}var qr=dR.rH();if(agK(qr)){qr=0;}var ayf=dR.pJ();var de=(pV>=0&&qr<0)?90:(pV<0&&qr>=0)?270:(ayf<0)?180:(pV>=0&&qr>=0)?0:0;switch(de){case 90:eb=bz.width;break;case 180:eb=bz.width;fj=bz.height;break;case 270:fj=bz.height;break;}return de*(Math.PI/180);};var de=asO();if(parseInt(de,10)===1||parseInt(de,10)===4){lx=bz.height/bL.width;}if(lx===Xp&&de===Xm){return;}else{Xp=lx;Xm=de;}var fk=1,iP=0;if(de!==0){fk=Math.cos(de);iP=Math.sin(de);}var bu={lx:fk*lx,sg:fk*lx,pV:iP*lx,qr:iP* -1*lx,eb:eb,fj:fj};var aBa=new IPCC.fm(bu.lx,bu.pV,bu.qr,bu.sg,bu.eb,bu.fj);dR.Qw(aBa);J.aw().jj(dR);var jU='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';jU=jU.replace('{scaleX}',bu.lx).replace('{scaleY}',bu.sg).replace('{skewX}',bu.pV).replace('{skewY}',bu.qr).replace('{moveX}',bu.eb).replace('{moveY}',bu.fj);this.kD(bx.GO,'transform',jU);};this.afB=function(){Xp=undefined;Xm=undefined;};this.ahk(J);this.acn=function(bU){var aJ=new IPCC.DF(bU.clientWidth,bU.clientHeight,96,96);return aJ;};this.TJ=function(aH){aH.preventDefault();ap.lo(aH);};this.Zf=function(aH){aH.preventDefault();ap.jV(aH);};this.abj=function(aH){aH.preventDefault();ap.jF(aH);};this.Yp=function(aH){ap.lo(aH);};this.air=function(aH){ap.vP(aH);};this.Za=function(aH){ap.jV(aH);};this.EE=function(aH){ap.lO(aH);};this.Qb=0;this.Zs=function(aH){if(aH.rawEvent.detail>1){if(window.navigator.msPointerEnabled){var VB=false;if(! !(navigator.userAgent.match('6.1'))&&document.documentMode===11){VB=true;}if(!this.Qb){if(aH.target instanceof SVGPolylineElement&&VB===true){ap.vP(aH);}else{ap.jF(aH);}this.Qb=aH.rawEvent.timeStamp;return;}var aig=500;if(VB){aig=8000;}if(aH.rawEvent.timeStamp-this.Qb>aig){ap.jF(aH);}else{ap.vP(aH);}this.Qb=aH.rawEvent.timeStamp;}else{ap.vP(aH);}}else{ap.jF(aH);}};this.Uo=function(aH){ap.NZ(aH);};this.Vs=function(aH){if(aH.target!==document.activeElement){ap.alG(aH);}};this.abV=function(aH){if(aH.target!==document.activeElement){ap.alR(aH);}};this.rc=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;ap.rD(K);J.ayQ(K);}catch(ex){J.V('mouseOut',ex);}};this.NH=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;ap.rD(K);J.ayW(K);}catch(ex){J.V('touchStart',ex);}};this.MV=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;ap.rD(K);J.ayM(K);}catch(ex){J.V('touchMove',ex);}};this.NK=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;ap.rD(K);J.axU(K);}catch(ex){J.V('touchEnd',ex);}};this.Iz=function(aH){try{aH.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;ap.rD(K);J.ayD(K);}catch(ex){J.V('touchCancel',ex);}};this.ahq=function(aH){try{aH.preventDefault();}catch(ex){J.V('dragStart',ex);}};this.agv=function(){var fD=J.kS().igElements.mu;IPCC.Web.UI.aE.addHandler(fD,"mousewheel",this.EE);IPCC.Web.UI.aE.addHandler(fD,"DOMMouseScroll",this.EE);if(pz){IPCC.Web.UI.aE.addHandler(fD,"touchstart",this.NH);IPCC.Web.UI.aE.addHandler(fD,"touchmove",this.MV);IPCC.Web.UI.aE.addHandler(fD,"touchend",this.NK);IPCC.Web.UI.aE.addHandler(fD,"touchcancel",this.Iz);}IPCC.Web.UI.aE.addHandler(fD,"mouseout",this.rc);IPCC.Web.UI.aE.addHandler(fD,"dragstart",this.ahq);};this.aiO=function(){var fD=J.kS().igElements.mu;IPCC.Web.UI.aE.removeHandler(fD,"DOMMouseScroll",this.EE);IPCC.Web.UI.aE.removeHandler(fD,"mouseout",this.rc);if(pz){IPCC.Web.UI.aE.removeHandler(fD,"touchstart",this.NH);IPCC.Web.UI.aE.removeHandler(fD,"touchmove",this.MV);IPCC.Web.UI.aE.removeHandler(fD,"touchend",this.NK);IPCC.Web.UI.aE.removeHandler(fD,"touchcancel",this.Iz);}IPCC.Web.UI.aE.removeHandler(fD,"dragstart",this.ahq);};this.acV=function(bx,hw,ot,Av){var G,bm,bU,aaE;var KI=function(ae,cV,bF){var bU=document.createElementNS('http://www.w3.org/2000/svg',ae);var G;if(cV){bU.setAttribute('id',cV);}for(G in bF){if(bF.hasOwnProperty(G)){bU.setAttribute(G,bF[G]);}}return bU;};var eC=KI('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});bx.wP=KI('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});eC.appendChild(bx.wP);var Vc=KI('g',null,{});bx.GO=Vc;eC.appendChild(Vc);var cc;if(J.sq()===false){cc=ot.fa.length;}else{cc=1;}for(G=0;G<cc;G++){bm=ot.fa[G];bm.pool.parentElementID=Av+G.toString();aaE=1/bm.bk;bU=KI('g',bm.pool.parentElementID,{transform:'matrix('+aaE.toString()+',0,0,'+aaE.toString()+',0,0)'});Vc.appendChild(bU);}bx.EK=eC;hw.appendChild(eC);};this.aeC=function(fC){var Pm=this.ZM();fC.elementID=Pm;};this.ane=function(fC){var bU=document.getElementById(fC.elementID);this.kD(bU,'display','none');};this.YT=function(fC){var bU=document.getElementById(fC.elementID);if(bU===null){fC.elementID='';return;}bU.setAttributeNS('http://www.w3.org/1999/xlink','href','');bU.parentNode.removeChild(bU);fC.elementID='';};var Fv=function(aH){try{aH.target.onload=undefined;aH.target.onerror=undefined;aH.target.onabort=undefined;var fC=aH.target.poolItem;fC.loaded=true;ap.yO();}catch(ex){J.V('downloadImage',ex);}};var afY=function(aH){try{aH.target.onload=undefined;aH.target.onerror=undefined;aH.target.onabort=undefined;aH.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');aH.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){J.V('downloadImage',ex);var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}};this.agC=function(jI){var G;var cc=jI.length;if(J.sq()===false){cc=jI.length;}else{cc=1;}for(G=0;G<cc;G++){var hB=jI[G];var bU=document.getElementById(hB.poolItem.elementID);if(bU===null){var fC=hB.poolItem;var CT=fC.pool;var hw=document.getElementById(CT.parentElementID);bU=document.createElementNS('http://www.w3.org/2000/svg','image');this.kD(bU,'id',fC.elementID);this.kD(bU,'externalResourcesRequired','true');bU.poolItem=fC;bU.onload=Fv;bU.onerror=afY;bU.onabort=afY;if(document.documentMode>8){fC.loaded=true;}if(J.Qq()&&J.ea()===true){this.TX(bU,hB.url,'image/png');}else{bU.setAttributeNS('http://www.w3.org/1999/xlink','href',hB.url);}hw.appendChild(bU);this.kD(bU,'display','block');var bf=hB.right-hB.x;var cY=hB.bottom-hB.y;this.kD(bU,'x',hB.x);this.kD(bU,'y',hB.y);this.kD(bU,'width',bf);this.kD(bU,'height',cY);}this.kD(bU,'display','block');}if(document.documentMode>8&&jI.length>0){ap.yO();}};this.TX=function(bU,cb,sd){var ij=true;var lj=0;if(J.jE()===0){ij=false;}var bh=new XMLHttpRequest(),ja,ly=false;if(J.Qq()&&J.ea()===true){var hk=IPCC.Web.oq.Ql(4);var lM=IPCC.Web.gH.DX.lL(hk);var Yy=cb+'&iv='+lM;bh.open('GET',Yy,true);bh.responseType='text';}else{bh.open('GET',cb,true);bh.responseType='text';}function ma(){var dp;try{var dH,bQ,db,ko;var ku;var jq=dH;if(bh.readyState===4){dH=bh.status;if(bh.status===200){bQ=null;try{if(ij===true){if(ja){clearTimeout(ja);}}var nr=bh.getResponseHeader("Accusoft-Data-Encrypted");if(nr==='true'&&J.ea()===true){var sV=IPCC.Web.gH.qk.rE(bh.getResponseHeader("Accusoft-Data-SK"));var aB=IPCC.Web.EI(sV,hk);var cQ=IPCC.Web.BB(bh);var sG=IPCC.Web.zL(cQ,aB,hk);var Ub=IPCC.Web.gH.qk.lL(sG,0,0);bU.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+sd+';base64,'+Ub);}else{bU.setAttributeNS('http://www.w3.org/1999/xlink','href',cb);}}catch(ex){db="Image error, Error message = "+ex.message;dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);throw new IPCC.Web.UI.ImGearArgumentException(null,db);}}else if((dH<200)||(dH>=300)){if(ij===true){if(ja){clearTimeout(ja);}}jq=bh.status;if(dH===403){lj++;if(bh.statusText&&bh.statusText!==""){db="Expired viewer session ID, error message from the server: "+bh.statusText;}else{db="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}ko=bh.getResponseHeader('Accusoft-Status-Message');if(ko){var nD;ku=bh.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wy(ku)){nD=parseInt(ku,10);}throw new IPCC.Web.UI.ImGearHttpException(jq,ko,nD);}else if(ly){throw new IPCC.Web.UI.ImGearHttpException(jq,"Client Image load timeout");}else{if(bh.statusText&&bh.statusText!==""){db=bh.statusText;}else{db="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(jq,db);}}}}catch(e){J.V('openPage',e);if(typeof(J.ay)==='function'){dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};bh.onreadystatechange=ma;if(ij===true){ja=setTimeout(function(){ly=true;bh.abort();},J.jE());}bh.send();};this.aCc=function(bx){var lj=0;var hB=bx.ot.fa[0].tiles[0];if(!hB){return;}var CT=hB.level.pool;var hw=document.getElementById(CT.parentElementID);var ij=true;if(J.jE()===0){ij=false;}var yt=J.JH();if(bx.HL){if(yt===2){delete bx.HL;if(hw.childNodes.length>0){hw.removeChild(hw.childNodes[0]);}}else if(yt===1){if(hw.childNodes.length>0){hw.removeChild(hw.childNodes[0]);}}else{if(hw.childNodes.length===0){hw.appendChild(bx.ani);}}J.BK=true;return;}if(yt>0){return;}var bh=new XMLHttpRequest(),ja,ly=false;function ma(){try{var dH,bQ,db,ko;var ku;var jq=dH;var dp;if(bh.readyState===4){dH=bh.status;if(bh.status===200){if(ij===true){if(ja){clearTimeout(ja);}}bQ=null;try{var lA;var nr=bh.getResponseHeader("Accusoft-Data-Encrypted");if(nr==='true'&&J.ea()===true){var sV=IPCC.Web.gH.qk.rE(bh.getResponseHeader("Accusoft-Data-SK"));var aB=IPCC.Web.EI(sV,hk);var cQ=IPCC.Web.BB(bh);var sG=IPCC.Web.zL(cQ,aB,hk);lA=IPCC.Web.gH.Fr.lL(sG);}else{lA=bh.responseText;}aBs(lA);}catch(ex){db="SVG image error, Error message = "+ex.message;dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=ex;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);throw new IPCC.Web.UI.ImGearArgumentException(null,db);}}else if((dH<200)||(dH>=300)){if(ij===true){if(ja){clearTimeout(ja);}}jq=bh.status;if(dH===480){lj++;if(bh.statusText&&bh.statusText!==""){db=db="PDF file password required, error message from the server: "+bh.statusText;}else{db="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}if(dH===403){lj++;if(bh.statusText&&bh.statusText!==""){db="Expired viewer session ID, error message from the server: "+bh.statusText;}else{db="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(dH,db);}ko=bh.getResponseHeader('Accusoft-Status-Message');if(ko){var nD;ku=bh.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wy(ku)){nD=parseInt(ku,10);}throw new IPCC.Web.UI.ImGearHttpException(jq,ko,nD);}else if(ly){throw new IPCC.Web.UI.ImGearHttpException(jq,"Client SVG load timeout");}else{if(bh.statusText&&bh.statusText!==""){db=bh.statusText;}else{db="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(jq,db);}}}}catch(e){J.V('openPage',e);if(typeof(J.ay)==='function'){dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=J.aQ;J.ay('pageOpenFailed',dp);}}};var amu=function(){J.BK=true;J.ay('pageDisplayed',{aa:J.aQ});};var aBs=function(gT){var vt=CT.parentElementID.toString();gT=gT.replace(/href="#/g,'href="#'+vt);gT=gT.replace(/="url\(#/g,'="url(#'+vt);gT=gT.replace(/fill:url\(#/g,'fill:url(#'+vt);gT=gT.replace(/ id="/g,' id="'+vt);gT=gT.replace(/<use([^>]+)\/>/g,' <use$1></use>');var RO=document.createElement('div');RO.innerHTML=gT;var qK=RO.querySelectorAll('style');IPCC.aY.forEach(qK,function(ak){var adi=(ak.styleSheet)?ak.styleSheet.cssText:ak.textContent;if(ak.styleSheet){ak.styleSheet.cssText=adi;}else{ak.appendChild(document.createTextNode(adi));}});var lf=null;var JA=RO.firstChild;while(JA!==null){if(JA.nodeName==='svg'){lf=JA;break;}JA=JA.nextSibling;}if(lf===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!bx.HL){bx.ani=lf;hw.appendChild(lf);bx.HL=true;if(!J.BK&&bx.HL){setTimeout(amu,1);}}};var cb;var hk,lM;J.BK=false;if(J.ea()===true){hk=IPCC.Web.oq.VR(4,IPCC.Web.Rr());lM=IPCC.Web.gH.DX.lL(hk);cb=hB.url+'&iv='+lM;}else{cb=hB.url;}bh.open('GET',cb,true);bh.responseType='text';if(document.documentMode===10||IPCC.aY.Bc){bh.setRequestHeader('Content-Type','svg');}else{bh.setRequestHeader('Content-Type','svga');}bh.onreadystatechange=ma;if(ij===true){ja=setTimeout(function(){ly=true;bh.abort();},J.jE());}bh.send();};this.RE=function(hB,dz){if(!hB){return;}var mg=document.getElementById(hB.poolItem.elementID);this.kD(mg,'x',hB.x);this.kD(mg,'y',hB.y);this.kD(mg,'width',hB.right-hB.x);this.kD(mg,'height',hB.bottom-hB.y);this.kD(mg,'opacity',dz);this.kD(mg,'display','block');};this.aaW=function(jI,dz,dR){var G;if(J.sq()===false){for(G=0;G<jI.length;G++){this.RE(jI[G],dz);}}};return this;};IPCC.agy.prototype=new IPCC.ad();IPCC.au.ahe=function(){};IPCC.au.DS=1;IPCC.au.ahe.prototype={abT:function(J,bx,bL){this.J=J;this.bC=J.aw();this.bx=bx;this.fl=bL.width;this.da=bL.height;this.Cd=bL.gE;this.aAW=bL.gK;bx.sI=this.bG('g');this.bi(bx.sI,{'fill-opacity':1});bx.GO.appendChild(bx.sI);},aaO:function(R){var fM='',F,C=this;switch(R.H.get_type()){case IPCC.Web.UI.MarkType.Rectangle:R.bK=this.bG('rect');if(R.H.jz()&&R.H.get_opacity()===255){R.bK.addEventListener("mouseover",function(K){if(R.H.get_selected()===false&&R.bK&&(K.which===0||K.buttons===0)){R.bK.style.opacity=127/255;}},false);R.bK.addEventListener("mouseout",function(K){if(R.bK&&(K.which===0||K.buttons===0)){R.bK.style.opacity=R.H.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:fM="highlighttextannotation-"+R.H.iY();R.bK=this.bG('g');R.hm=this.bG('g');R.bK.appendChild(R.hm);R.pl=this.bG('g');R.pl.setAttribute('data-pcc-mark',fM);R.bK.appendChild(R.pl);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:fM="texthyperlinkannotation-"+R.H.iY();R.bK=this.bG('g');R.bK.style.cursor=IPCC.bO.fE(IPCC.bO.Link);R.hm=this.bG('g');R.bK.appendChild(R.hm);R.pl=this.bG('g');R.pl.style.opacity=IPCC.au.ad.Pd();R.pl.style.fill="blue";R.pl.setAttribute('data-pcc-mark',fM);R.bK.appendChild(R.pl);R.kC=this.bG('g');R.kC.style.stroke="blue";R.kC.style.opacity=IPCC.au.ad.yp(false);R.kC.setAttribute('data-pcc-mark',fM);R.bK.appendChild(R.kC);R.bK.addEventListener("mouseover",function(K){if(R.kC){R.kC.style.opacity=IPCC.au.ad.yp(true,R.H.get_selected());}},false);R.bK.addEventListener("mouseout",function(K){if(R.kC){R.kC.style.opacity=IPCC.au.ad.yp(false,R.H.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:fM="documenthyperlink-"+R.H.iY();R.bK=this.bG('g');R.bK.style.cursor=IPCC.bO.fE(IPCC.bO.Link);R.F=this.bG('rect');R.F.style['fill-opacity']=IPCC.au.ad.Pd();if(R.H.yZ!=='Underline'){R.F.style.stroke=R.H.gi;R.F.style['stroke-width']=R.H.gp+'px';R.F.style['stroke-opacity']=(R.H.gp===0)?0:R.H.pr/255;if(R.H.yZ==='Dashed'){R.F.style['stroke-dasharray']=R.H.CG.join(', ');}R.F.setAttribute('rx',R.H.FM);R.F.setAttribute('ry',R.H.Fa);}else{R.md=this.bG('line');R.md.style.stroke=R.H.gi;R.md.style['stroke-opacity']=R.H.pr/255;R.md.style['stroke-width']=R.H.gp+'px';R.bK.appendChild(R.md);}R.F.style.fill='transparent';R.F.setAttribute('data-pcc-mark',fM);R.bK.appendChild(R.F);break;case IPCC.Web.UI.MarkType.RectangleRedaction:fM="textmark-"+R.H.iY();R.bK=this.bG('g');R.gL=this.bG('rect');R.jx=this.bG('g');R.jx.setAttribute('data-pcc-mark',fM);R.sN=document.createTextNode('');if(document.documentMode>8){R.fg=this.bG('text');R.fg.setAttribute('data-pcc-mark',fM);R.fg.appendChild(R.sN);R.Xa=0;R.Cj=this.bG('clipPath');R.BM=this.bG('rect');R.jx.appendChild(R.Cj);R.Cj.appendChild(R.BM);R.jx.appendChild(R.fg);R.Jy="PCC"+IPCC.au.DS;IPCC.au.DS++;this.bi(R.Cj,{id:R.Jy,clipPathUnits:"userSpaceOnUse"});F=R.H.get_rectangle();this.bi(R.BM,{x:0,y:0,width:F.width,height:F.height,"data-pcc-mark":fM});var acX=function(K){if(R.H.get_selected()===false&&R.gL&&(K.which===0||K.buttons===0)){if(C.J.lT()===false){R.bK.style.opacity=0.5;R.fg.style.opacity=0;}}};R.bK.addEventListener("mouseover",function(K){acX(K);},false);R.jx.addEventListener("mouseover",function(K){acX(K);},false);R.bK.addEventListener("mouseout",function(K){if(R.gL&&(K.which===0||K.buttons===0)){if(C.J.lT()===false){R.bK.style.opacity=1;R.fg.style.opacity=1;}}},false);}else{R.bZ=document.createElement('div');this.bi(R.bZ,{"data-pcc-mark":fM});R.bZ.appendChild(R.sN);R.rq=document.createElement('body');this.bi(R.rq,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":fM});R.rq.appendChild(R.bZ);R.Fn=this.bG('foreignObject');R.Fn.appendChild(R.rq);R.jx.appendChild(R.Fn);R.rq.addEventListener("mouseover",function(K){if(R.H.get_selected()===false&&R.gL&&(K.which===0||K.buttons===0)){R.gL.style.opacity=0.5;R.bZ.style.opacity=0;}},false);R.rq.addEventListener("mouseout",function(K){if(R.gL&&(K.which===0||K.buttons===0)){if(C.J.lT()===false){R.gL.style.opacity=1;R.bZ.style.opacity=1;}}},false);}R.bK.appendChild(R.gL);break;case IPCC.Web.UI.MarkType.Ellipse:R.bK=this.bG('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:R.bK=this.bG('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:R.bK=this.bG('g');R.hm=R.bK;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:R.bK=this.bG('g');R.hZ=this.bG('polyline');R.wU=this.bG('path');R.vB=this.bG('path');R.bK.appendChild(R.hZ);R.bK.appendChild(R.wU);R.bK.appendChild(R.vB);break;case IPCC.Web.UI.MarkType.Polygon:R.bK=this.bG('polygon');break;case IPCC.Web.UI.MarkType.Text:fM="textmark-"+R.H.iY();R.bK=this.bG('g');R.mn=this.bG('polygon');R.hZ=this.bG('path');R.pw=this.bG('path');R.jx=this.bG('g');R.bK.appendChild(R.mn);R.bK.appendChild(R.hZ);R.bK.appendChild(R.pw);this.bi(R.mn,{style:'stroke:none;'});R.jx.setAttribute('data-pcc-mark',fM);R.sN=document.createTextNode('');if(document.documentMode>8){R.fg=this.bG('text');R.fg.setAttribute('data-pcc-mark',fM);R.fg.appendChild(R.sN);R.Xa=0;R.Cj=this.bG('clipPath');R.BM=this.bG('rect');R.jx.appendChild(R.Cj);R.Cj.appendChild(R.BM);R.abN=this.bG('g');R.jx.appendChild(R.abN);R.jx.appendChild(R.fg);R.Jy="PCC"+IPCC.au.DS;IPCC.au.DS++;this.bi(R.Cj,{id:R.Jy,clipPathUnits:"userSpaceOnUse"});F=R.H.get_rectangle();this.bi(R.BM,{x:0,y:0,width:F.width,height:F.height,"data-pcc-mark":fM});}else{R.bZ=document.createElement('div');R.bZ.appendChild(R.sN);R.rq=document.createElement('body');this.bi(R.rq,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":fM});R.rq.appendChild(R.bZ);R.Fn=this.bG('foreignObject');R.Fn.appendChild(R.rq);R.jx.appendChild(R.Fn);}R.mn.setAttribute('data-pcc-mark',fM);break;case IPCC.Web.UI.MarkType.Stamp:R.bK=this.bG('g');R.wV=this.bG('rect');R.wV.style='fill:rgba(255, 255, 255, 0);stroke:none;';R.gL=this.bG('rect');R.Mt=this.ZD(R);R.bK.appendChild(R.wV);R.bK.appendChild(R.gL);R.bK.appendChild(R.Mt);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R.bK=this.bG('g');R.wV=this.bG('rect');R.wV.style='fill:rgba(255, 255, 255, 0);stroke:none;';R.gL=this.bG('rect');R.agW=this.asB(R);R.agW.setAttribute('data-pcc-mark',"mark-"+R.H.iY());R.bK.appendChild(R.wV);R.bK.appendChild(R.gL);R.bK.appendChild(R.agW);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var H=R.H;var abz=H.fr();var bf=abz.width;var cY=abz.height;var vg=H.get_pathWidth();var tF=H.get_pathHeight();var sU=H.get_pathString();var dr=IPCC.aY.ys.Path(sU,{width:bf,height:cY,multiplier:100,thickness:H.get_lineWidth(),color:H.get_lineColor()});var eC=IPCC.aY.ys.SVG('0 0 '+vg+' '+tF,100);var bH=IPCC.aY.ys.Rect(vg,tF,'fill:rgba(255, 255, 255, 0);stroke:none;');eC.appendChild(bH);eC.appendChild(dr);R.bK=eC;R.axO=dr;R.afF=bH;break;case IPCC.Web.UI.MarkType.SignatureText:R.bK=this.bG('g');R.gL=this.bG('rect');R.gL.style='fill:rgba(255, 255, 255, 0);stroke:none;';R.Mt=this.ZD(R);R.bK.appendChild(R.gL);R.bK.appendChild(R.Mt);R.H.gZ=false;break;case IPCC.Web.UI.MarkType.TextLine:R.bK=this.bG('g');R.gL=this.bG('rect');R.gL.style='fill:rgba(255, 255, 255, 0);stroke:none;';R.Mt=this.ZD(R,{alignment:"start"});R.bK.appendChild(R.gL);R.bK.appendChild(R.Mt);break;}R.bK.ImGearMarkRelation=R;R.bK.setAttribute('data-pcc-mark',"mark-"+R.H.iY());this.bx.sI.appendChild(R.bK);if(R.jx){R.jx.ImGearMarkRelation=R;this.bx.sI.appendChild(R.jx);}this.QT(R);},ZD:function(R,options){options=options||{};var alignment=options.alignment?options.alignment.toLowerCase():"middle";var H=R.H;var ix=H.ar;if(!ix){ix=H.cF[0];if(!ix){if(H.get_type()===IPCC.Web.UI.MarkType.Stamp){ix="APPROVED";}else{ix="";}}}var F=H.fr();R.fg=this.bG('text');R.Jy="PCC"+IPCC.au.DS;IPCC.au.DS++;var tN=document.createTextNode(ix);R.fg.setAttribute("font-size","22px");R.fg.setAttribute("text-anchor",alignment);if(H.get_type()===IPCC.Web.UI.MarkType.TextLine){R.fg.setAttribute("style",'white-space:pre;');}if(alignment==="middle"){R.fg.setAttribute("x",F.x+(F.width/2));R.fg.setAttribute("y",F.y+(F.height/2));}else if(alignment==="start"){R.fg.setAttribute("x",F.x);R.fg.setAttribute("y",F.y+(F.height/2));}else if(alignment==="end"){R.fg.setAttribute("x",F.x+F.width);R.fg.setAttribute("y",F.y+(F.height/2));}R.fg.appendChild(tN);return R.fg;},asB:function(R){var H=R.H;R.hl=document.createElementNS('http://www.w3.org/2000/svg','svg');R.yh=document.createElementNS('http://www.w3.org/2000/svg','image');R.yh.setAttribute('id','childimg');R.yh.setAttributeNS('http://www.w3.org/1999/xlink','href',H.get_image());R.hl.appendChild(R.yh);return R.hl;},atl:function(R,pG){var H=R.H;var F=H.fr();var ar=H.ar.trim().replace(/ {2,}/g,' ');var KV,gA,lE,ZO;var BX=R.fg;var yF=[];var cc=BX.childNodes.length;if(cc>1){var ayl=BX.parentNode;var YN=this.bG('text');YN.setAttribute('data-pcc-mark',R.jx.getAttribute('data-pcc-mark'));ayl.replaceChild(YN,BX);R.fg=YN;R.fg.appendChild(R.sN);R.jx.appendChild(R.fg);BX={};BX=R.fg;}var RG=2;if(pG){switch(pG){case IPCC.Web.UI.HorizontalAlignment.Center:RG=F.width/2;break;case IPCC.Web.UI.HorizontalAlignment.Right:RG=F.width-8.4;break;}}var aaq=0;aaq=F.height;var aea;var acT=0;var fq=this.Cd/72;var adg=0;var Xl=H.di*fq;var cY=F.height;var TC=0;var vF=0;var HM=ar.split('\n');for(var G=0;G<HM.length;G++){var Bf='';var ajA=2;if(HM[G].length>0){lE=HM[G].split(' ');ZO=lE[0];gA=this.bG('tspan');if(G>0){gA.setAttributeNS(null,"x",RG);gA.setAttributeNS(null,"dy",Xl*(TC+1));}KV=window.document.createTextNode(lE[0]);gA.appendChild(KV);BX.appendChild(gA);for(var ag=1;ag<lE.length;ag++){if(lE[ag].length>ZO.length){ZO=lE[ag];}cc=gA.firstChild.data.length;var Mh=lE[ag];if(lE[ag].length>0){if(gA.firstChild.data[gA.firstChild.data.length-1]!==' '){gA.firstChild.data+=" "+lE[ag];}else{gA.firstChild.data+=lE[ag];}}if(gA.firstChild.data[gA.firstChild.data.length-1]!==' '&&ag!==lE.length-1){gA.firstChild.data+=' ';Mh+=' ';}Bf=Bf+Mh;aea=Bf.length*(H.di*fq);try{acT=gA.getComputedTextLength();}catch(e){}var adk=acT*fq;if(adk===0){adg=aea;}else{adg=adk;}var Xa=gA.firstChild.data.length*(H.di/2);if(Xa>=F.width){ajA++;Bf='';gA.firstChild.data=gA.firstChild.data.slice(0,cc);Bf=Bf+Mh;if(Bf.length>1){if(gA.firstChild.data[gA.firstChild.data.length-1]!==' '){gA.firstChild.data+=' ';cc+=1;}yF.push({an:vF,afd:gA});vF+=cc;gA=this.bG('tspan');gA.setAttributeNS(null,"x",RG);gA.setAttributeNS(null,"dy",Xl);if(ag===lE.length-1){KV=window.document.createTextNode(lE[ag]);}else{KV=window.document.createTextNode(Mh);}gA.appendChild(KV);BX.appendChild(gA);}}aaq=Xl*ajA;if(aaq>=cY){break;}}if(gA.firstChild.data.length>0){yF.push({an:vF,afd:gA});}vF+=gA.firstChild.data.length+1;TC=0;}else{TC++;}}return yF;},aCp:function(kr,gA,hm,vF){if(kr.length>0){var afS=gA.getNumberOfChars();if(kr[0].an>vF+afS){return;}for(var G=Math.max(kr[0].an-vF,0);G<afS;G++){var F=gA.getExtentOfChar(G);var bH=this.bG('rect');this.bi(bH,{x:F.x,y:F.y,width:F.width,height:F.height,fill:kr[0].FH});hm.appendChild(bH);if(kr[0].cs===G+vF){kr.shift();if(kr.length===0){return;}G=kr[0].an-vF-1;}}}},mP:function(bU,kV,mq){var dr='M',G;for(G=0;G<kV.length;G++){if(G>0){dr+=' L';}dr+=kV[G].x+','+kV[G].y;}if(mq){dr+='Z';}this.bi(bU,{d:dr});},VY:function(bU,kV,mq){var Pk='',G;for(G=0;G<kV.length;G++){if(G>0){Pk+=' ';}Pk+=kV[G].x+','+kV[G].y;}if(mq&&kV.length>2){Pk+=' '+kV[0].x+','+kV[0].y;}this.bi(bU,{points:Pk});},Kz:function(fF,iM,vn,qx,sH,EL,pS){var cB=this.acw(fF,iM,vn,qx,sH);var aq='';aq+='stroke:'+EL+';';switch(sH){case IPCC.Web.UI.LineHeadType.None:aq='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.mP(pS,[cB.tm,fF,cB.vh],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.mP(pS,[cB.tm,fF,cB.vh],true);aq+='fill:'+EL+';';break;case IPCC.Web.UI.LineHeadType.Open:this.mP(pS,[cB.tm,fF,cB.vh],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.mP(pS,[cB.tm,fF,cB.vh,cB.zG],true);aq+='fill:'+EL+';';break;}this.bi(pS,{style:aq});return cB;},VF:function(R){var H=R.H;var aT,dW,G,Fz,If,hG='',rn;aT=H.get_points();dW=[];for(G=0;G<aT.get_length();G++){dW.push(aT.getPoint(G));}if(dW.length<2||H.mq){this.bi(R.wU,{style:'display:none;'});this.bi(R.vB,{style:'display:none;'});}else{H.tL=H.gi;rn=this.Qx(dW,true);Fz=this.Kz(rn.fF,rn.iM,H.Fo,H.EC,H.Ev,H.tL,R.wU);rn=this.Qx(dW,false);If=this.Kz(rn.fF,rn.iM,H.Eu,H.EN,H.lV,H.tL,R.vB);dW[0]=Fz.zG;dW[dW.length-1]=If.zG;}this.VY(R.hZ,dW,H.mq);var yg=this.xN(H.hG);if(yg!==''){hG+='stroke-dasharray:'+yg+';';}this.bi(R.hZ,{style:hG});},VG:function(R){var nA=this.aeb(R);this.VY(R.mn,nA.Sz,false);var ahm='',hG='fill:none;',tk='fill:none;';if(nA.PW){ahm='stroke:none;';}if(nA.Lk){this.mP(R.hZ,nA.Lk,false);}else{hG+='display:none;';}if(nA.DK){this.mP(R.pw,nA.DK,false);}else{tk+='display:none;';}var H=R.H;if(H.Bq){tk+='stroke:'+H.Ek+';stroke-width:'+H.DZ+';';var yg=this.xN(H.tk);if(yg!==''){tk+='stroke-dasharray:'+yg+';';}}this.bi(R.hZ,{style:hG});this.bi(R.pw,{style:tk});this.bi(R.mn,{style:ahm});},Hu:function(R){var H=R.H,Fm;if(!H){return;}var F=H.fr();var mb=H.di*this.Cd/72;H.mb=mb;var uS=F.width,sm=F.height,Ih=false,dS;var jU,fw=0,eG=0;var gh=1;if(H.gZ){gh+=H.gp/2;}switch(H.xw){case IPCC.Web.UI.Orientation.TopLeft:jU='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:jU='-1,0,0,1';fw=uS-gh;break;case IPCC.Web.UI.Orientation.BottomRight:jU='-1,0,0,-1';fw=uS-gh;eG=sm-gh;break;case IPCC.Web.UI.Orientation.BottomLeft:jU='1,0,0,-1';eG=sm-gh;break;case IPCC.Web.UI.Orientation.LeftTop:jU='0,1,1,0';Ih=true;break;case IPCC.Web.UI.Orientation.RightTop:jU='0,1,-1,0';fw=uS-gh;Ih=true;break;case IPCC.Web.UI.Orientation.RightBottom:jU='0,-1,-1,0';fw=uS-gh;eG=sm-gh;Ih=true;break;case IPCC.Web.UI.Orientation.LeftBottom:jU='0,-1,1,0';eG=sm-gh;Ih=true;break;}if(H.cW==="#c0c0c0"){H.cW='#ffffff';}if(H.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(H.jz()===true){H.cW='#ffffff';}else{H.set_opacity(H.dz);}}if(Ih){dS=uS;uS=sm;sm=dS;}uS-=2*gh;sm-=2*gh;if(uS<0){uS=0;}if(sm<0){sm=0;}var Zv='normal';var fI='normal';var oO='';var va;oO+='word-wrap:break-word;background-color:transparent;line-height:1;';var AR=0;if(H.pO.length===7&&H.pO.charAt(0)==='#'){AR=parseInt(H.pO.slice(1),16);}var dz=Math.min(1,Math.max(0,H.uc/255));if(document.documentMode>8){fI='normal';if(H.fI&IPCC.Web.UI.FontStyle.Italic){fI='italic';}Zv='normal';if(H.fI&IPCC.Web.UI.FontStyle.Bold){Zv='bold';}va='none';if((H.fI&IPCC.Web.UI.FontStyle.Underline)&&(H.fI&IPCC.Web.UI.FontStyle.Strikeout)){va='underline line-through';}else if(H.fI&IPCC.Web.UI.FontStyle.Underline){va='underline';}else if(H.fI&IPCC.Web.UI.FontStyle.Strikeout){va='line-through';}}else{oO+='color:rgba('+(AR>>16)+','+((AR>>8)&255)+','+(AR&255)+','+dz+');';oO+='font-family:'+H.fW+';';oO+='font-size:'+mb+'px;';if(H.fI&IPCC.Web.UI.FontStyle.Italic){oO+='font-style:italic;';}if(H.fI&IPCC.Web.UI.FontStyle.Bold){oO+='font-weight:bold;';}if((H.fI&IPCC.Web.UI.FontStyle.Underline)&&(H.fI&IPCC.Web.UI.FontStyle.Strikeout)){oO+='text-decoration:underline line-through;';}else if(H.fI&IPCC.Web.UI.FontStyle.Underline){oO+='text-decoration:underline;';}else if(H.fI&IPCC.Web.UI.FontStyle.Strikeout){oO+='text-decoration:line-through;';}}var Dz={x:2,anchor:'start'};switch(H.pG){case IPCC.Web.UI.HorizontalAlignment.Left:oO+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:oO+='text-align:center;';Dz.x=(F.width/2)-3;Dz.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:oO+='text-align:right;';Dz.x=F.width-8;Dz.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'){switch(H.zg){case IPCC.Web.UI.VerticalAlignment.Center:if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.bi(R.rq,{style:'display:table; width: 100%'});oO+='display: table-cell; white-space: normal; vertical-align: middle; height:'+sm+'px';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.bi(R.bZ,{style:oO});this.bi(R.jx,{transform:'matrix('+jU+','+(fw+F.x+gh)+','+(eG+F.y+gh)+')'});this.bi(R.Fn,{x:0,y:0,width:uS,height:sm});this.abR(R);}else{var yF=this.atl(R,H.pG);var ahi=yF.length;switch(H.zg){case IPCC.Web.UI.VerticalAlignment.Center:if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Fm=(F.height/2)+(H.di/4);if(ahi>1){Fm-=(ahi-1)*(H.di/2);}if(Fm<0){Fm=H.di;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.bi(R.BM,{x:0,y:0,width:F.width-5,height:F.height-5});var avF="url(#"+R.Jy+")";var Vv={x:Dz.x,y:(this.Cd/72)*H.di,width:F.width,height:F.height,'font-family':H.fW,'font-size':mb,fill:'rgba('+(AR>>16)+', '+((AR>>8)&255)+', '+(AR&255)+', '+dz+')','font-weight':Zv,'font-style':fI,'text-decoration':va,'text-anchor':Dz.anchor};if(typeof Fm!=='undefined'){delete Vv.y;Vv.dy=Fm;}this.bi(R.fg,Vv);R.fg.style.opacity=dz;this.bi(R.jx,{transform:'matrix('+jU+','+(fw+F.x+gh)+','+(eG+F.y+gh)+')','clip-path':avF});var hm=R.abN;while(hm&&hm.firstChild){hm.removeChild(hm.firstChild);}if(H.fo){var kr=this.akl(H.fo);for(var G=0;G<yF.length;G++){this.aCp(kr,yF[G].afd,hm,yF[G].an);}}}},FL:function(R){var H=R.H;if(H.cf===null||H.cf===undefined){return;}if(H.cf.length===0&&H.dQ>0&&this.J.dq().nm()){H.cf=IPCC.aY.Ox(this.J.dq().eJ(),H.an,H.an+H.dQ-1);}if(!R.an|| !R.dQ||R.an!==H.an||R.dQ!==H.dQ||H.gJ===false||H.gJ===true){while(R.pl.firstChild){R.pl.removeChild(R.pl.firstChild);}if(R.kC){while(R.kC.firstChild){R.kC.removeChild(R.kC.firstChild);}}if(H.gJ===false){return;}IPCC.aY.forEach(R.H.cf,function(js){var ahJ=this.bG('rect');R.pl.appendChild(ahJ);this.bi(ahJ,{x:js.x,y:js.y,width:js.width,height:js.height});if(R.kC){var ajv=this.bG('line');this.bi(ajv,{x1:js.x,y1:js.y+js.height-1,x2:js.x+js.width,y2:js.y+js.height-1,"stroke-width":2});R.kC.appendChild(ajv);}},this);R.an=H.an;R.dQ=H.dQ;}},QT:function(R){var H=R.H;if(!H){return;}var bK=R.bK;var F,aq='',aT,gZ=true,pp,nz,nK,XV,vz,Ff;var im=false;switch(H.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:im=true;this.VF(R);break;case IPCC.Web.UI.MarkType.Rectangle:F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.FL(R);R.pl.style.fill=H.cW;R.pl.style.opacity=(H.dz/255);this.Ca(R);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.FL(R);R.pl.style.fill="blue";R.kC.style.stroke="blue";if(R.H.get_selected()){R.kC.style.opacity=IPCC.au.ad.yp(false,R.H.get_selected());}else{R.kC.style.opacity=IPCC.au.ad.yp(false,R.H.get_selected());}this.Ca(R);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=H.get_rectangle();this.bi(R.F,{x:F.x,y:F.y,width:F.width,height:F.height});if(R.md){this.bi(R.md,{x1:F.x,y1:F.y+F.height,x2:F.x+F.width,y2:F.y+F.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof R.gL!=='undefined'){if(this.J.lT()===true){R.gL.style.opacity=0.5;if(typeof R.bZ!=='undefined'){R.bZ.style.opacity=0;}else{R.fg.style.opacity=0;}}else{R.gL.style.opacity=1;if(typeof R.bZ!=='undefined'){R.bZ.style.opacity=1;}}}F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});this.bi(R.gL,{x:F.x,y:F.y,width:F.width,height:F.height});if(this.J.lT()===false){this.Hu(R);}break;case IPCC.Web.UI.MarkType.Ellipse:F=H.get_rectangle();this.bi(bK,{cx:F.x+F.width/2,cy:F.y+F.height/2,rx:F.width/2,ry:F.height/2});break;case IPCC.Web.UI.MarkType.Polygon:aT=this.IZ(H);this.VY(bK,aT,false);aq+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.VG(R);this.Hu(R);if(typeof document.documentMode==='undefined'){R.rq.style.cursor=IPCC.bO.fE(this.bC.FA());}break;case IPCC.Web.UI.MarkType.Stamp:F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});this.bi(R.wV,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});R.wV.style.opacity=1;this.bi(R.gL,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':H.cW,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(F.width/6);if(textFontSize>F.height){textFontSize=(F.height-(F.height/6));}pp=R.H.get_text();if(!pp){pp='APPROVED';}R.fg.childNodes[0].data=pp;var mj=pp.length*textFontSize;if(mj>F.width){textFontSize=((F.width/pp.length));}Ff=Math.round(textFontSize);H.stampSize=Ff.toString();this.bi(R.fg,{x:F.x+(F.width/2),y:F.y+(F.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':H.cW,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});this.bi(R.wV,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});R.wV.style.opacity=1;this.bi(R.gL,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':H.cW,'stroke-width':'0','fill':'none'});R.yh.setAttribute('height',F.height);R.yh.setAttribute('width',F.width);R.yh.setAttribute('x',F.x);R.yh.setAttribute('y',F.y);R.yh.setAttributeNS('http://www.w3.org/1999/xlink','href',H.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Ca(R);break;case IPCC.Web.UI.MarkType.Highlight:F=H.get_rectangle();if(F.x===0&&F.y===0){var fi=this.J.dq().eJ();if(fi.dY()>0){var fd=fi.lB(H.an);F=fd.bz;}H.mT='y';}this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});var Nl=R.axO;if(H.PR===true){H.PR=false;Nl.setAttribute("d",H.get_pathString());var vg=H.get_pathWidth();var tF=H.get_pathHeight();bK.setAttribute('viewBox','0 0 '+vg+' '+tF);R.afF.setAttribute('width',vg);R.afF.setAttribute('height',tF);}if(H.get_visible()){R.bK.style.display='block';}else{R.bK.style.display='none';}Nl.style.stroke=H.get_lineColor();Nl.style.strokeWidth=H.get_lineWidth()+'px';Nl.style.opacity=H.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});this.bi(R.gL,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});R.gL.style.opacity=1;var apb=R.H.get_text()||"";R.fg.childNodes[0].data=apb;nz=12*F.width/(H.vT||1);nK=12*F.height/(H.wl||1);vz=Math.min(nz,nK);var amh=Math.floor(vz);H.stampSize=amh.toString();this.bi(R.fg,{x:F.x+(F.width/2),y:F.y+(F.height/2+(vz/3)),'font-size':vz,'stroke':"none",'fill':H.get_fillColor(),'font-family':H.get_fontName()});if(H.get_visible()){R.bK.style.display='block';}else{R.bK.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:F=H.get_rectangle();this.bi(bK,{x:F.x,y:F.y,width:F.width,height:F.height});aq='stroke:'+(H.gZ?'black':'none')+';stroke-width:1;';this.bi(R.gL,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':H.gZ?'black':'none','fill':'rgba(255, 255, 255, 0)','style':aq});R.fg.style.opacity=1;pp=R.H.get_text()||"";R.fg.childNodes[0].data=pp;XV=IPCC.aY.ajR(pp,H.get_fontName(),F.width,F.height,{wF:"pre",eC:R.bK});vz=XV.fontSize;H.mb=vz;H.stampSize=vz;H.LG=true;H.qh=XV;this.bi(R.fg,{x:F.x,y:F.y+(F.height/2+(vz/3)),'font-size':vz,'stroke':"none",'fill':H.get_textColor(),'font-family':H.get_fontName(),'white-space':'pre'});this.bi(bK,{style:'fill:none;opacity:1;'});break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',H.get_type());}if(H.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&H.get_type()!==IPCC.Web.UI.MarkType.Freehand&&H.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&H.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&H.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&H.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&H.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(im){aq+='fill:none;';}else{if(H.ye){aq+='fill:'+H.cW+';';}else{aq+='fill:none;';}gZ=H.gZ;var yg=this.xN(H.hG);if(yg!==''){aq+='stroke-dasharray:'+yg+';';}}if(gZ){aq+='stroke:'+H.get_lineColor()+';';aq+='stroke-width:'+H.gp+';';}else{aq+='stroke:none;';}if(H.get_type()===IPCC.Web.UI.MarkType.SignatureText){aq+='opacity:'+1+';';}else{aq+='opacity:'+(H.dz/255)+';';}if(!H.gJ){aq+='display:none;';if(R.jx){R.jx.style.display='none';}}else{if(R.jx){R.jx.style.display='block';}}aq+='cursor:'+IPCC.bO.fE(this.bC.FA())+';';this.bi(bK,{style:aq});}if(H.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!H.gJ){aq+='display:none;';}else{aq+='display:block;';}aq+='cursor:'+IPCC.bO.fE(this.bC.FA())+';';this.bi(bK,{style:aq});}},Ca:function(R){var H=R.H,aAO=H.get_visible();var F=H.get_rectangle();if(F.x===0&&F.y===0){return;}var hm=R.hm;while(hm.firstChild){hm.removeChild(hm.firstChild);}var fO;for(var G=0;G<H.fo.length;G++){for(var ag=0;ag<H.fo[G].length;ag++){var Lt=this.J.dq().eJ();if(Lt.dY()>0){var TN=Lt.lB(H.fo[G].startIndex+ag);fO=TN.bz;}var bH=this.bG('rect');this.bi(bH,{x:fO.x,y:fO.y,width:fO.width,height:fO.height,fill:H.fo[G].color,display:(aAO)?'block':'none'});bH.style.opacity=(H.fo[G].opacity)?(H.fo[G].opacity)/255.0:0.5;hm.appendChild(bH);}}},xN:function(hG){switch(hG){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},IP:function(R){this.bx.sI.removeChild(R.bK);if(R.jx){this.bx.sI.removeChild(R.jx);}delete R.bK;},aeU:function(){},agR:function(){this.bx=undefined;},bG:function(ae){return document.createElementNS('http://www.w3.org/2000/svg',ae);},bi:function(bK,bF){var G;for(G in bF){if(bF.hasOwnProperty(G)){var attr=bF[G];bK.setAttribute(G,attr!==undefined&&attr!==null?attr.toString():'');}}}};IPCC.au.wz={BP:function(){var xd=IPCC.au.wz;if(xd.wL===null){
/*@cc_on@if(@_jscript)xd.wL=document.documentMode>8;@else@*/ xd.wL=true;/*@end@*/}return xd.wL;},wL:null};if(IPCC.wz.BP()){IPCC.au.ad=IPCC.au.ahe;}else{IPCC.au.ad=IPCC.au.Hk;}IPCC.au.ad.yp=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};IPCC.au.ad.Pd=function(){return 31/255;};IPCC.au.ad.aDZ=function(isSelected){return isSelected?"purple":"blue";};IPCC.au.ad.prototype.acw=function(fF,iM,vn,qx,sH){var cB={fF:fF,iM:iM,vn:vn,qx:qx,sH:sH};if(fF.x===iM.x&&fF.y===iM.y){cB.sH=IPCC.Web.UI.LineHeadType.None;}var Lx=Math.atan2(fF.x-iM.x,-(fF.y-iM.y))+Math.PI/2;vn*=Math.PI/180;var iQ=Lx+vn;cB.tm={x:fF.x+Math.cos(iQ)*qx,y:fF.y+Math.sin(iQ)*qx};iQ=Lx-vn;cB.vh={x:fF.x+Math.cos(iQ)*qx,y:fF.y+Math.sin(iQ)*qx};switch(cB.sH){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cB.zG={x:(cB.tm.x+cB.vh.x)/2,y:(cB.tm.y+cB.vh.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cB.zG={x:fF.x+Math.cos(Lx)*qx/2,y:fF.y+Math.sin(Lx)*qx/2};break;default:cB.zG=fF;break;}return cB;};IPCC.au.ad.prototype.aeb=function(R){var H=R.H;var F=H.get_rectangle();var Hb={x:H.oJ.x+F.x+0.00001,y:H.oJ.y+F.y+0.00001};var bQ={};var gj=[{x:F.x,y:F.y},{x:F.x+F.width,y:F.y},{x:F.x+F.width,y:F.y+F.height},{x:F.x,y:F.y+F.height}];if(!H.AM){bQ.Sz=gj;bQ.PW= !H.gZ;return bQ;}var G,adK=[];for(G=0;G<4;G++){adK.push({x:(gj[G].x+gj[(G+3)%4].x)/2,y:(gj[G].y+gj[(G+3)%4].y)/2,aAq:true});}for(G=3;G>=0;G--){gj.splice(G,0,adK[G]);}function agN(Lz){var oA,Hy;oA=(Hb.x-(gj[Lz].x+gj[(Lz+1)%8].x)/2)*F.height;Hy=oA*oA;oA=(Hb.y-(gj[Lz].y+gj[(Lz+1)%8].y)/2)*F.width;return Hy+oA*oA;};var Zg=0,afs=agN(0),gS;for(G=1;G<8;G++){gS=agN(G);if(gS<afs){afs=gS;Zg=G;}}gj=gj.slice(Zg+1).concat(gj.slice(0,Zg+1));var DH=gj[0],Ej=gj[7];for(G=gj.length-1;G>=0;G--){if(gj[G].aAq){gj.splice(G,1);}}switch(H.JY){case IPCC.Web.UI.CalloutType.Triangle:gj.splice(0,0,{x:(DH.x*3+Ej.x)/4,y:(DH.y*3+Ej.y)/4});gj.push({x:(DH.x+Ej.x*3)/4,y:(DH.y+Ej.y*3)/4});if(H.Bq){bQ.PW=true;bQ.Lk=[].concat(gj);bQ.DK=[gj[0],Hb,gj[gj.length-1]];}gj.push(Hb);break;default:case IPCC.Web.UI.CalloutType.Line:bQ.DK=[{x:(DH.x+Ej.x)/2,y:(DH.y+Ej.y)/2},Hb];break;}bQ.Sz=gj;if(!H.gZ){bQ.PW=true;delete bQ.Lk;delete bQ.DK;}return bQ;};IPCC.au.ad.prototype.IZ=function(H){var aT=H.get_points();var dW=[],G;for(G=0;G<aT.get_length();G++){dW.push(aT.getPoint(G));}return dW;};IPCC.au.ad.prototype.Qx=function(dW,aBW){var bP=0,Ry=1,adO=dW.length-2,fF,iM;if(!aBW){bP=dW.length-1;Ry= -1;}fF=dW[bP];bP+=Ry;iM=dW[bP];bP+=Ry;while(fF.x===iM.x&&fF.y===iM.y&&adO>0){iM=dW[bP];bP+=Ry;adO--;}return{fF:fF,iM:iM};};IPCC.au.ad.prototype.ald=function(J,bx,aK,kJ){if(!bx.nb){bx.nb=[];}var nb=bx.nb;if(aK.length<1&&nb.length<1){if(bx.xq.firstChild){bx.xq.innerHTML='';}return;}var bA=J.fb();var ek=bA.AD();if(this.gN===undefined){this.gN=40;var AO=document.createElement("div");AO.className='pccMarkHandleTopLeft';AO.visibility='hidden';document.body.appendChild(AO);if(AO.currentStyle){this.gN=parseInt(AO.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aBM=document.defaultView.getComputedStyle(AO);this.gN=parseInt(aBM.width,10)||0;}document.body.removeChild(AO);}var G,KN=[];for(G=0;G<aK.length;G++){if(aK[G].get_visible()===true){if(ek.Hd(aK[G])>=0||(aK[G].get_selected()===true&&(aK[G].lm===true||aK[G].jM===true))||aK[G].xr===true){KN.push(aK[G]);}}}for(G=0;G<nb.length;G++){while(G<nb.length&&(G>=KN.length||nb[G].H!==KN[G])){bx.xq.removeChild(nb[G].iC);nb.splice(G,1);}if(G<nb.length&&J.mZ()){this.aat(nb[G],kJ);}}for(G=nb.length;G<KN.length;G++){nb[G]={H:KN[G]};this.arH(bx.xq,nb[G]);this.aat(nb[G],kJ);}};IPCC.au.ad.prototype.vj=function(iC,apx,GF,wr,arP,bp,cV){var df=[],G,dB;if(cV===undefined){cV='handle';}for(G=0;G<apx;G++){dB={bK:document.createElement('div')};dB.bK.ImGearMarkHandle=dB;dB.bp=bp;dB.ae=wr;dB.bP=arP+G;iC.appendChild(dB.bK);dB.bK.setAttribute('data-pcc-mark',cV+'-'+iC.ImGearMarkRelation.H.iY());df.push(dB);}return df;};IPCC.au.ad.prototype.anW=function(bY){if(bY.df===undefined){return;}var G;for(G=0;G<bY.df.length;G++){var dB=bY.df[G];dB.bK.style.cursor=IPCC.bO.fE(dB.bp);}};IPCC.au.ad.prototype.arH=function(xq,bY){bY.iC=document.createElement('div');bY.iC.style.width='0px';bY.iC.style.height='0px';bY.iC.style.left='0px';bY.iC.style.top='0px';bY.iC.style.zIndex='1';var G,H=bY.H,dB;bY.iC.ImGearMarkRelation=bY;switch(H.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bY.df=this.vj(bY.iC,2,this.gN,this.HU,0,IPCC.bO.Move);bY.df=bY.df.concat(this.vj(bY.iC,2,this.gN,this.HB,0,IPCC.bO.Move));break;case IPCC.Web.UI.MarkType.Polygon:bY.df=[];break;case IPCC.Web.UI.MarkType.Freehand:bY.df=[];bY.jr=document.createElement('div');bY.jr.style.border='1px solid gray';bY.jr.style.position='absolute';bY.iC.appendChild(bY.jr);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.dF!==undefined){break;}bY.jr=document.createElement('div');bY.jr.style.border='1px solid gray';bY.jr.style.position='absolute';bY.iC.appendChild(bY.jr);bY.df=this.vj(bY.iC,4,this.gN,this.Wr,0,-1);bY.df=bY.df.concat(this.vj(bY.iC,4,this.gN,this.Xc,0,-1));for(G=4;G<8;G++){dB=bY.df[G];dB.aqO=bY.df[G-4];dB.apO=bY.df[(G+1)%4];}if(H.get_type()===IPCC.Web.UI.MarkType.Text){bY.df=bY.df.concat(this.vj(bY.iC,1,this.gN,this.Zk,0,IPCC.bO.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bY.df=this.vj(bY.iC,1,this.gN,this.HU,0,IPCC.bO.Move,'texthandlestart');bY.df=bY.df.concat(this.vj(bY.iC,1,this.gN,this.HU,1,IPCC.bO.Move,'texthandleend'));break;}if(H.lk()===IPCC.Web.UI.MarkType.Text||H.lk()===IPCC.Web.UI.MarkType.TextLine){var rk=document.createElement('div');rk.className='pccEditMarkButton';rk.setAttribute('data-pcc-mark','edit-'+H.iY());rk.onclick=function(bv){bv=bv||{};bv.stopPropagation?bv.stopPropagation():bv.cancelBubble=true;bv.preventDefault?bv.preventDefault():bv.returnValue=false;var rr;var ki=bY.iC;while(ki&&(ki.parentNode||ki.ownerSVGElement)){if(ki.parentNode.id&&ki.parentNode.id.indexOf("__pViewId")!== -1){rr=ki.parentNode;}ki=ki.ownerSVGElement||ki.parentNode;}rr&&rr.aS.ayc(bv,H);};bY.iC.appendChild(rk);var avP={bK:rk};bY.df.push(avP);}xq.appendChild(bY.iC);};IPCC.au.ad.lp={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};IPCC.au.ad.prototype.Wr=0;IPCC.au.ad.prototype.Xc=1;IPCC.au.ad.prototype.HB=2;IPCC.au.ad.prototype.HU=3;IPCC.au.ad.prototype.Zk=4;IPCC.au.ad.prototype.aeB=function(dB,aCs){switch(aCs){case IPCC.au.ad.lp.TopLeft:dB.bK.className='pccMarkHandleTopLeft';break;case IPCC.au.ad.lp.TopCenter:dB.bK.className='pccMarkHandleTopCenter';break;case IPCC.au.ad.lp.TopRight:dB.bK.className='pccMarkHandleTopRight';break;case IPCC.au.ad.lp.MidLeft:dB.bK.className='pccMarkHandleMidLeft';break;case IPCC.au.ad.lp.MidRight:dB.bK.className='pccMarkHandleMidRight';break;case IPCC.au.ad.lp.BottomLeft:dB.bK.className='pccMarkHandleBottomLeft';break;case IPCC.au.ad.lp.BottomCenter:dB.bK.className='pccMarkHandleBottomCenter';break;case IPCC.au.ad.lp.BottomRight:dB.bK.className='pccMarkHandleBottomRight';break;case IPCC.au.ad.lp.Point:dB.bK.className='pccMarkHandlePoint';break;case IPCC.au.ad.lp.TextSelectionStart:dB.bK.className='pccMarkHandleTextSelectionStart';break;case IPCC.au.ad.lp.TextSelectionEnd:dB.bK.className='pccMarkHandleTextSelectionEnd';break;default:dB.bK.className='pccMarkHandlePoint';break;}};IPCC.au.ad.prototype.AC=function(dB,aya,kJ,GF,or){dB.aX=kJ.transform(aya);dB.bK.style.left=(dB.aX.x-GF/2)+'px';dB.bK.style.top=(dB.aX.y-GF/2)+'px';dB.bK.style.display='block';dB.bK.style.zIndex='1';this.aeB(dB,or);};IPCC.au.ad.prototype.aak=function(dB,GF,or){dB.bK.style.left=(dB.aX.x-GF/2)+'px';dB.bK.style.top=(dB.aX.y-GF/2)+'px';dB.bK.style.display='block';dB.bK.style.zIndex='1';this.aeB(dB,or);};IPCC.au.ad.prototype.ug=function(dB){dB.bK.style.display='none';};IPCC.au.ad.prototype.aat=function(bY,kJ){bY.iC.style.cursor=IPCC.bO.fE(this.bC.FA());var G,H=bY.H,df=bY.df,dB;var dW,F,lW,kb,wr,dV;var gS,GG,fw,eG,Rw;switch(H.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:dW=this.IZ(H);GG=dW.length+2-df.length;if(GG>0){bY.df=bY.df.concat(this.vj(bY.iC,GG,this.gN,this.HB,df.length-2,IPCC.bO.Move));df=bY.df;}for(G=0;G<dW.length;G++){this.AC(df[G+2],dW[G],kJ,this.gN,IPCC.au.ad.lp.Point);}for(G=dW.length+2;G<df.length;G++){this.ug(df[G+2]);}break;case IPCC.Web.UI.MarkType.Polygon:dW=this.IZ(H);GG=dW.length-df.length;if(GG>0){bY.df=bY.df.concat(this.vj(bY.iC,GG,this.gN,this.HB,df.length,IPCC.bO.Move));df=bY.df;}for(G=0;G<dW.length;G++){this.AC(df[G],dW[G],kJ,this.gN,IPCC.au.ad.lp.Point);}for(G=dW.length;G<df.length;G++){this.ug(df[G]);}break;case IPCC.Web.UI.MarkType.Freehand:F=H.fr();lW=kJ.transform({x:F.x,y:F.y});kb=kJ.transform({x:F.x+F.width,y:F.y+F.height});dV={x:Math.min(lW.x,kb.x),y:Math.min(lW.y,kb.y)};dV.width=Math.max(lW.x,kb.x)-dV.x;dV.height=Math.max(lW.y,kb.y)-dV.y;bY.jr.style.left=dV.x+'px';bY.jr.style.top=dV.y+'px';bY.jr.style.width=dV.width+'px';bY.jr.style.height=dV.height+'px';bY.jr.setAttribute('data-pcc-mark','outline-'+H.iY());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(H.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.dF!==undefined){break;}F=H.fr();df[0].aX=kJ.transform({x:F.x,y:F.y});df[1].aX=kJ.transform({x:F.x+F.width,y:F.y});df[2].aX=kJ.transform({x:F.x+F.width,y:F.y+F.height});df[3].aX=kJ.transform({x:F.x,y:F.y+F.height});dV={x:Math.min(df[0].aX.x,df[2].aX.x),y:Math.min(df[0].aX.y,df[2].aX.y)};dV.width=Math.max(df[0].aX.x,df[2].aX.x)-dV.x;dV.height=Math.max(df[0].aX.y,df[2].aX.y)-dV.y;Rw={x:dV.x+dV.width/2,y:dV.y+dV.height/2};for(G=0;G<4;G++){dB=df[G];wr=(dB.aX.x<Rw.x)?((dB.aX.y<Rw.y)?0:2):((dB.aX.y<Rw.y)?1:3);this.aak(dB,this.gN,wr);switch(wr){case 0:dB.bp=IPCC.bO.ResizeNW;break;case 1:dB.bp=IPCC.bO.ResizeNE;break;case 2:dB.bp=IPCC.bO.ResizeSW;break;case 3:dB.bp=IPCC.bO.ResizeSE;break;}}bY.jr.style.left=dV.x+'px';bY.jr.style.top=dV.y+'px';bY.jr.style.width=dV.width+'px';bY.jr.style.height=dV.height+'px';bY.jr.setAttribute('data-pcc-mark','outline-'+H.iY());var aCT=dV.x+dV.width/4;var aoG=dV.x+dV.width*3/4;var aDY=dV.y+dV.height/4;var anZ=dV.y+dV.height*3/4;if(this.bC.zF()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){lW=df[0].aX;kb=df[1].aX;var axl=df[2].aX;fw=lW.x-kb.x;eG=kb.y-axl.y;var amV=fw*fw;var amz=eG*eG;if(Math.min(amV,amz)<this.gN*this.gN*5){this.ug(df[0]);this.ug(df[1]);this.ug(df[2]);this.ug(df[3]);}}for(G=4;G<8;G++){dB=df[G];lW=dB.aqO.aX;kb=dB.apO.aX;fw=lW.x-kb.x;eG=lW.y-kb.y;gS=fw*fw+eG*eG;if(this.bC.zF()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gS<this.gN*this.gN*5){this.ug(dB);}else{dB.aX={x:(lW.x+kb.x)/2,y:(lW.y+kb.y)/2};this.aak(dB,this.gN,G);if(dB.aX.x<aCT){dB.bp=IPCC.bO.ResizeW;}else if(dB.aX.x>aoG){dB.bp=IPCC.bO.ResizeE;}else if(dB.aX.y<aDY){dB.bp=IPCC.bO.ResizeN;}else if(dB.aX.y>anZ){dB.bp=IPCC.bO.ResizeS;}}}if(H.get_type()===IPCC.Web.UI.MarkType.Text){if(H.AM){this.AC(df[8],{x:F.x+H.oJ.x,y:F.y+H.oJ.y},kJ,this.gN,IPCC.au.ad.lp.Callout);}else{this.ug(df[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:var fd,fO,za;var Iu=this.J.dq();var fi=Iu.eJ();if(H.lm===true){za=H.an;if(za>=fi.dY()){fd=fi.lB(fi.dY()-1);fO=fd.wq();this.AC(df[0],new IPCC.Web.UI.Point(fO.x+fO.width,fO.y),kJ,this.gN,IPCC.au.ad.lp.TextSelectionStart);break;}fd=fi.lB(H.an);fO=fd.wq();this.AC(df[0],new IPCC.Web.UI.Point(fO.x,fO.y),kJ,this.gN,IPCC.au.ad.lp.TextSelectionStart);}else{this.ug(df[0]);}if(H.jM===true){za=H.an+H.dQ-1;if(za<0){fd=fi.lB(0);fO=fd.wq();this.AC(df[1],new IPCC.Web.UI.Point(fO.x,fO.y+fO.height),kJ,this.gN,IPCC.au.ad.lp.TextSelectionEnd);break;}fd=fi.lB(za);fO=fd.wq();this.AC(df[1],new IPCC.Web.UI.Point(fO.x+fO.width,fO.y+fO.height),kJ,this.gN,IPCC.au.ad.lp.TextSelectionEnd);}else{this.ug(df[1]);}break;}if(H.get_type()===IPCC.Web.UI.MarkType.Text||H.get_type()===IPCC.Web.UI.MarkType.TextLine){var wC=df[df.length-1];if(wC.bK.className.match(/pcc/)){var Vh=bY.jr.clientHeight;var Wa=bY.jr.clientWidth;var alX=bY.jr.offsetTop;var aml=bY.jr.offsetLeft;var alq=wC.bK.clientHeight;var SO=wC.bK.clientWidth;wC.bK.style.position='absolute';wC.bK.style.zIndex='2';if(Vh>alq+10&&Wa>SO+10){wC.bK.style.top=(Vh-alq)/2+alX+'px';wC.bK.style.left=(Wa-SO)/2+aml+'px';}else{wC.bK.style.top=Vh+alX+10+'px';wC.bK.style.left=(Wa-SO)/2+aml+'px';}}}this.anW(bY);};IPCC.au.ad.prototype.akl=function(fZ,wP){var ayU=IPCC.aY.akz(fZ,wP||'#ffffff'),aAw=IPCC.aY.map(ayU,function(ak){return{an:ak.startIndex,cs:ak.endIndex,FH:ak.color};});return aAw;};IPCC.au.ad.prototype.abR=function(R){var H=R.H;if(H.fo){var kr=this.akl(H.fo);var EV=H.ar;var Bs='';for(var G=kr.length-1;G>=0;G--){var WY=kr[G];var an=WY.an;var cs=WY.cs;var ey=WY.FH;var dv=IPCC.aY.Ko(EV.substr(an,cs-an+1));var ams=IPCC.aY.Ko(EV.substr(cs+1,EV.length-cs+1));EV=EV.substr(0,an);Bs="<span style='background-color:"+ey+";'>"+dv+'</span>'+ams+Bs;}Bs=IPCC.aY.Ko(EV)+Bs;Bs=Bs.replace(/\n/g,'<br/>');R.bZ.innerHTML=Bs;}else{R.sN.data=H.ar;}};IPCC.Web.UI.ImGearDocumentHyperlink=function(mx){var aD=0,dZ=0,bf=0,cY=0,oU=mx.href||"",awx=mx.borderStyle||"Solid",qF=mx.borderThickness||0,CG=mx.borderPattern||[1],FM=mx.borderHorizontalRadius||0,Fa=mx.borderHorizontalRadius||0,pW=mx.borderColor||"#0000FF",pr=mx.borderOpacity||255,F,H;if(typeof pr==='string'){pr=parseInt(pr,10);}if(mx.rectangle){aD=mx.rectangle.x;dZ=mx.rectangle.y;bf=mx.rectangle.width;cY=mx.rectangle.height;}F=new IPCC.Web.UI.Rectangle(aD,dZ,bf,cY);this.fr=function(){var Zo=new IPCC.Web.UI.Rectangle(F.x,F.y,F.width,F.height);return Zo;};this.Dy=function(lQ){F.x=lQ.x;F.y=lQ.y;F.width=lQ.width;F.height=lQ.height;};this.acE=function(){return oU;};this.asz=function(){return awx;};this.arW=function(){return qF;};this.asu=function(){return CG;};this.asE=function(){return FM;};this.asG=function(){return Fa;};this.ask=function(){return pW;};this.ash=function(){return pr;};this.Ri=function(){return H;};this.alY=function(aCo){H=aCo;};};IPCC.Web.UI.ImGearTextCharacter=function(aD,dZ,bf,cY,zE,aAX){this.bz=new IPCC.Web.UI.Rectangle(aD,dZ,bf,cY);this.kh=zE;this.Hq=aAX;this.arK=function(){return zE;};this.wq=function(){var Zo=new IPCC.Web.UI.Rectangle(this.bz.x,this.bz.y,this.bz.width,this.bz.height);return Zo;};this.aGn=function(){return this.Hq;};};IPCC.Web.UI.ImGearTextCharacterCollection=function(){var jh=[];this.avQ=function(mW){jh.push(new IPCC.Web.UI.ImGearTextCharacter(mW.bz.x,mW.bz.y,mW.bz.width,mW.bz.height,mW.kh,mW.Hq));};this.aEr=function(aqv){function lY(mW){jh.push(mW);};aqv.forEach(lY,{});};this.aFd=function(bP,ajL){var ag;var cc=jh.length;if(bP>jh.length||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP,'index of theText Character Collection is out of range');}for(ag=0;ag<cc;ag++){if(jh[ag]===ajL){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same ar Character instance in a mW collection).');}}jh.splice(bP,0,ajL);};this.aAb=function(adF,acq){IPCC.aY.forEach(jh,function(kh){kh.bz.width=kh.bz.width*adF;kh.bz.height=kh.bz.height*acq;kh.bz.x=kh.bz.x*adF;kh.bz.y=kh.bz.y*acq;});};this.mF=function(nG,du){var Tn=[].concat(jh);var G;for(G=0;G<Tn.length;G++){nG.call(du,new IPCC.Web.UI.ImGearTextCharacter(Tn[G].x,Tn[G].y),G,this);}};function mE(bP){if(bP>jh.length-1||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP);}};this.lB=function(bP){mE(bP);var wZ=jh[bP];return new IPCC.Web.UI.ImGearTextCharacter(wZ.bz.x,wZ.bz.y,wZ.bz.width,wZ.bz.height,wZ.kh,wZ.Hq);};this.aEK=function(bP,mW){mE(bP);var CW=jh[bP];if(CW.bz.x===mW.bz.x&&CW.bz.y===mW.y&&CW.bz.width===mW.bz.width&&CW.bz.height===mW.bz.height&&CW.kh===mW.kh&&CW.Hq===mW.Hq){return;}jh[bP]=mW;};this.dY=function(){return jh.length;};this.aFY=function(bP){mE(bP);jh.splice(bP,1);};this.aEW=function(){if(jh.length<1){return;}jh=[];};return this;};IPCC.Web.UI.ImGearHyperlinkCollection=function(){var Gg=[];this.awB=function(aBv){Gg.push(aBv);};this.cl=function(){return Gg.length;};this.mF=function(nG,du){IPCC.aY.forEach(Gg,nG,du);};this.azW=function(){if(Gg.length<1){return;}Gg=[];};return this;};IPCC.Web.UI.ImGearHyperlinkPage=function(){var IB=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Jf=function(){return IB;};};IPCC.Web.UI.ImGearTextPage=function(){var apP=new IPCC.Web.UI.ImGearTextCharacterCollection();var Ur=false;var aaL=false;var Ze="";var vI=new IPCC.Web.UI.ImGearTextSectionCollection();this.eJ=function(){return apP;};this.nm=function(){return Ur;};this.LY=function(T){aaL=true;if(T===Ur){return;}if((T===true)||(T===false)){Ur=T;}};this.zm=function(){return aaL;};this.Gh=function(){return Ze;};this.azU=function(T){if(T===Ze){return;}Ze=T;};this.ZS=function(){return vI;};};IPCC.Web.UI.ImGearTextSection=function(){var F=null;var an=0;var cs=0;this.fr=function(){return F;};this.Dy=function(T){F=T;};this.amJ=function(){return an;};this.aqE=function(T){an=T;};this.aeY=function(){return cs;};this.aAG=function(T){cs=T;};};IPCC.Web.UI.ImGearTextSectionCollection=function(){var vI=[];this.aiS=function(jo){vI.push(jo);};function mE(bP){if(bP>vI.length-1||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP);}};this.arX=function(bP){mE(bP);return vI[bP];};this.dY=function(){return vI.length;};return this;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.ImGearThumbnailLayout=function(){};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum('IPCC.Web.UI.ImGearThumbnailLayout',false);IPCC.Web.UI.ImGearThumbnailSelectionMode=function(){};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailSelectionMode.prototype={Single:1,Multiple:2};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum('IPCC.Web.UI.ImGearThumbnailSelectionMode',false);IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');IPCC.Web.UI.ImGearPage=function(bq){this.aC=undefined;var aa=0;var bJ=0,akr=0,akn=0;var ao=0,aiu=0,aiq=0;var CZ='';var nR=false;var C=this;var bw=new IPCC.Web.UI.gb();this.gu=undefined;this.aDr=undefined;this.gO={uz:0,anT:false,tQ:1000,XZ:false};var ip=new IPCC.Web.UI.ImGearTextPage();var OV=new IPCC.Web.UI.ImGearHyperlinkPage();var mw=0;var ke=false;var KO=false,GY=0,Hf=0;function agQ(o){return!isNaN(o-0);};if(bq.pageNumber!==undefined){if(agQ(bq.pageNumber)){aa=bq.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}if(bq.caption!==undefined){IPCC.bB.ae(bq.caption,'caption','string');CZ=bq.caption;}var BO;if(bq.BO!==undefined){if(bq.textData.text&&bq.textData.rectangles){BO=bq.textData;}}if(bq.selected!==undefined){nR=bq.selected;}this.nu=function(){return aa;};this.aDH=function(T){if(agQ(bq.pageNumber)){aa=T;}};this.nq=function(){return bJ;};function agu(){var amj=ip.eJ();var qM=bJ/GY,qE=ao/Hf;amj.aAb(qM,qE);};function agT(){var IB=OV.Jf();var qM=bJ/GY,qE=ao/Hf;IB.mF(function(hV){hV.Dy(hV.fr().scale(qM,qE));var afW=hV.Ri();afW.set_rectangle(afW.get_rectangle().scale(qM,qE));});};this.IO=function(T){bJ=T;if(KO&&bJ&&bJ!==GY&&ao&&ao!==Hf){agu();agT();KO=false;}};this.mV=function(){return ao;};this.Lh=function(T){ao=T;if(KO&&bJ&&bJ!==GY&&ao&&ao!==Hf){agu();agT();KO=false;}};this.aEH=function(){return akr;};this.aoJ=function(T){akr=T;};this.aFc=function(){return aiu;};this.anj=function(T){aiu=T;};this.aDV=function(){return akn;};this.aEm=function(T){akn=T;};this.aFR=function(){return aiq;};this.aDz=function(T){aiq=T;};this.RY=function(){return nR;};this.Mj=function(T){if(nR!==T){nR=T;this.aG('selected');}};this.RA=function(){return CZ;};this.WB=function(T){IPCC.bB.iH(T,'caption');CZ=T;this.aG('caption');};this.atf=function(){return this.aC;};this.dq=function(){return ip;};this.jE=function(){return mw;};this.sc=function(T){if(mw===T){return;}if(isNaN(T)){return;}mw=T;this.aG('serviceResponseTimeout');};this.ea=function(){return ke;};this.jw=function(T){ke=T;};this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.vp=function(h){bw.addHandler('textPageReady',h);};this.xj=function(h){bw.removeHandler('textPageReady',h);};this.acY=function(){return OV;};this.YI=function(h){bw.addHandler('hyperlinkPageReady',h);};this.aed=function(h){bw.removeHandler('hyperlinkPageReady',h);};this.BQ=function(h){bw.dh('textExtractionFailed',h);};this.Fi=function(h){bw.ce('textExtractionFailed',h);};this.agL=function(hb){if(bJ===0&&ao===0){KO=true;GY=hb.width;Hf=hb.height;}};this.ahz=function(hb){if(ip.eJ().dY()>0){return;}else if(hb.errorCode==="1"||hb.errorCode===1){var Gf=new IPCC.Web.UI.ImGearException(hb.errorDescription,{name:'Text Extraction'});var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=Gf;dp.pageNumber=C.get_pageNumber();C.ay('textExtractionFailed',dp);return;}var aqF=ip.eJ();var Pe=false;var abq;function Ko(Yu){return Yu;};var qE=1;var qM=1;if(hb.height&&hb.height>0&&ao>0){if(hb.height!==ao){qE=ao/hb.height;}}if(hb.width&&hb.width>0&&bJ>0){if(hb.width!==bJ){qM=bJ/hb.width;}}var jo;var aaZ= -1;var NC;var hM,zE;for(var G=0;G<hb.rectangles.length;G++){hM=hb.rectangles[G];zE=Ko(hb.text[G]);Pe=false;if(hM[2]===0){zE="\n";Pe=true;if(G>0){abq=hb.rectangles[G-1];hM[2]=abq[2];}}if(qM===1&&qE===1){NC=new IPCC.Web.UI.ImGearTextCharacter(hM[0],hM[1],hM[2],hM[3],zE,Pe);}else{NC=new IPCC.Web.UI.ImGearTextCharacter(hM[0]*qM,hM[1]*qE,hM[2]*qM,hM[3]*qE,zE,Pe);}if(NC){aqF.avQ(NC);}if(jo===undefined||aaZ!==hM[1]||hM[0]<jo.fr().x){if(jo){ip.ZS().aiS(jo);}jo=new IPCC.Web.UI.ImGearTextSection();jo.Dy(new IPCC.Web.UI.Rectangle(hM[0],hM[1],hM[2],hM[3]));jo.aqE(G);}else{if(hM[0]+hM[2]-jo.fr().x>jo.fr().width){jo.fr().width=hM[0]+hM[2]-jo.fr().x;}}jo.aAG(G);aaZ=hM[1];}if(jo){ip.ZS().aiS(jo);}ip.azU(hb.text);if(hb.text.length>0){ip.LY(true);C.ay('textPageReady',{pageNumber:C.nu(),containsText:true});}else{ip.LY(false);C.ay('textPageReady',{pageNumber:C.nu(),containsText:false});}};this.aeW=function(ack,ME,MI){if(!ack){return;}OV.Jf().azW();var qE=1;var qM=1;if(ME&&ME>0&&ao>0){if(ME!==ao){qE=ao/ME;}}if(MI&&MI>0&&bJ>0){if(MI!==bJ){qM=bJ/MI;}}IPCC.aY.forEach(ack,function(act){var hV;switch(act.markType){case "DocumentHyperlink":hV=new IPCC.Web.UI.ImGearDocumentHyperlink(act.properties);hV.Dy(hV.fr().scale(qM,qE));OV.Jf().awB(hV);break;default:break;}});C.ay('hyperlinkPageReady',{pageNumber:C.nu()});};this.arG=function(){C.Bd();};this.Bd=function(){if(!C.aC){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(ip.zm()){return;}var Py=true;if(C.jE()===0){Py=false;}var fN,ja,ly=false;if(window.XMLHttpRequest){fN=new XMLHttpRequest();}function NI(ar){if(ar.pages){var aQ;if(ar.pages.length>0){if(ar.pages[0].number!==C.nu()){for(var G=0;G<ar.pages.length;G++){if(ar.pages[G].number===C.nu()){aQ=G;break;}}if(!aQ){C.gO.XZ=false;return;}}else{aQ=0;}var hb=ar.pages[aQ];C.gO.XZ=true;if(ar.pages[aQ].text&&ar.pages[aQ].text.length>0){ip.LY(true);}else{ip.LY(false);}C.gO.tQ=1000;setTimeout(function(){C.agL(hb);C.ahz(hb);C.aeW(hb.markup,hb.height,hb.width);},10);return;}}var rh=C.gO.tQ;if(!C.gO.XZ){if(C.gO.uz<6){if(C.gO.uz<2){rh=rh+1000;}else{rh=rh+3000;}C.gO.uz++;C.gO.tQ=rh;setTimeout(C.arG,rh);}else{C.gO.anT=true;}}};function VV(){var hk=C.aC.hk;try{var dH;var bQ;if(fN.readyState===0||fN.readyState===4){dH=fN.status;if(fN.status===200){if(Py===true){if(ja){clearTimeout(ja);}}bQ=null;var gT;var nr=fN.getResponseHeader("Accusoft-Data-Encrypted");if(nr==='true'){var sV=IPCC.Web.gH.qk.rE(fN.getResponseHeader("Accusoft-Data-SK"));var aB=IPCC.Web.EI(sV,hk);var cQ=IPCC.Web.BB(fN);var sG=IPCC.Web.zL(cQ,aB,hk);gT=IPCC.Web.gH.Fr.lL(sG);}else{gT=fN.responseText;}if(typeof JSON!=='undefined'){bQ=JSON.parse(gT);}else{bQ=IPCC.ct.nP(gT);}NI(bQ);}else if((dH<200)||(dH>=300)){if(Py===true){if(ja){clearTimeout(ja);}}if(ly){throw new IPCC.Web.UI.ImGearHttpException(dH,"Text extraction timeout");}else{if(fN.statusText){throw new IPCC.Web.UI.ImGearHttpException(dH,"Unable to obtain text, Error from the service = "+fN.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(dH,"Unable to obtain text from the service");}}}}}catch(e){var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;dp.pageNumber=C.get_pageNumber();C.ay('textExtractionFailed',dp);return;}};var an=C.get_pageNumber();var kI=C.aC.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(kI))){kI='e'+C.aC.get_encodedDocumentIdentifier();}else{kI='u'+encodeURIComponent(kI);}var hh=C.aC.nN;var lM=C.aC.lM;if(C.ea()){fN.open('GET',hh+'/Document/q/'+an.toString()+'-'+an.toString()+'/Text?DocumentID='+kI+'&iv='+lM,true);}else{fN.open('GET',hh+'/Document/q/'+an.toString()+'-'+an.toString()+'/Text?DocumentID='+kI,true);}fN.responseType='text';fN.setRequestHeader("accept","application/json");fN.onreadystatechange=VV;if(Py===true){ja=setTimeout(function(){ly=true;fN.abort();},C.jE());}fN.send();};this.dq=function(){return ip;};this.anz=function(T){if(typeof T.nm!=='function'){return;}ip=T;};this.Tz=function(CP,Cl){var C=this;if(C.nq()>0||C.mV()>0){CP(C.nq(),C.mV());}else{var rF=IPCC.fU.sL(C.aC.get_documentIdentifier());if(!rF||rF===""){Cl("Invalid encoded Identifier");}var bh=new XMLHttpRequest();var bQ;var ma=function(){if(bh.readyState===4){var it=bh.status;if(it===200){if(typeof JSON!=='undefined'){bQ=JSON.parse(bh.responseText);}else{bQ=IPCC.ct.nP(bh.responseText);}if(bQ.imageWidth&&bQ.imageHeight){CP(bQ.imageWidth,bQ.imageHeight);}else{Cl("Unable to obtain document information from the server");}}else if((it<200)||(it>=300)){Cl("Unable to obtain document information from the server");}}};var sd='';if(!IPCC.wz.BP()){sd='&ContentType=png';}var cb;if(!(/^[\x00-\x7F]*$/.test(rF))){cb=C.aC.nN+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=e'+rF+sd;}else{cb=C.aC.nN+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(C.aC.get_documentIdentifier())+sd;}bh.open('GET',cb,true);bh.setRequestHeader('Content-Type','application/json');bh.onreadystatechange=ma;bh.send();}};this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){try{h(C,K);}catch(e){IPCC.fK.NV('event raise, ImGearPage, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){var L=this.nu();return L;},get_pageWidth:function(){var L=this.nq();return L;},get_pageHeight:function(){var L=this.mV();return L;},get_textPage:function(){var L=this.dq();return L;},get_selected:function(){var L=this.RY();return L;},set_selected:function(value){this.Mj(value);},get_caption:function(){var L=this.RA();return L;},set_caption:function(value){this.WB(value);},get_encryption:function(){var L=this.ea();return L;},set_encryption:function(value){this.jw(value);},get_hyperlinkPage:function(){return this.acY();},get_document:function(){var L=this.atf();return L;},add_propertyChanged:function(handler){this.iO(handler);},remove_propertyChanged:function(handler){this.kc(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Tz(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass('IPCC.Web.UI.ImGearPage');IPCC.Web.UI.ImGearPageEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass('IPCC.Web.UI.ImGearPageEventArgs');IPCC.Web.UI.ImGearPageCollection=function(){var C=this;var dG=[];var bw=new IPCC.Web.UI.gb();this.alk=false;this.akW=true;this.aC=undefined;this.aim=function(ai){this.aiW(dG.length,ai);};function mE(bP){if(bP>dG.length-1||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP,'page index is out of range in the page collection');}};this.aiW=function(bP,ai){var ag;var cc=dG.length;if(bP>dG.length||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP,'index of the page Collection is out of range');}if(C.akW&&C.alk){if(cc>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(ag=0;ag<cc;ag++){if(dG[ag]===ai){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(C.aC){if(!ai.aC){ai.aC=C.aC;}}ai.add_propertyChanged(Bw);dG.splice(bP,0,ai);var K=new IPCC.Web.UI.ImGearPageEventArgs();K.imGearPage=ai;K.length=1;C.ay('pageAdded',K);};this.km=function(bP){mE(bP);var fS=dG[bP];return fS;};this.aoY=function(bP,ai){mE(bP);var Ta=dG[bP];if(Ta===ai){return;}dG[bP]=ai;var K=new IPCC.Web.UI.ImGearPageEventArgs();K.imGearPage=ai;K.length=1;this.ay('pageAdded',K);Ta.remove_propertyChanged(Bw);var zj=new IPCC.Web.UI.ImGearPageEventArgs();zj.imGearPage=Ta;zj.length=1;this.ay('pageRemoved',zj);};this.dY=function(){return dG.length;};this.mF=function(nG,du){var afM=[].concat(dG);var G;for(G=0;G<afM.length;G++){nG.call(du,afM[G],G,this);}};this.aeD=function(bP){mE(bP);var K=new IPCC.Web.UI.ImGearPageEventArgs();K.imGearPage=dG[bP];dG[bP].remove_propertyChanged(Bw);K.length=1;dG.splice(bP,1);C.ay('pageRemoved',K);};this.aru=function(ai){var cl=dG.length;for(var G=0;G<cl;G++){if(ai===dG[G]){return G;}}return-1;};this.azE=function(){var G=0;while(dG.length>0){this.aeD(G);}};function Bw(az,K){var zj=new IPCC.Web.UI.ImGearPageEventArgs();zj.imGearPage=az;zj.length=1;C.ay('pageChanged',zj);};this.Ht=function(h){bw.addHandler('pageAdded',h);};this.IH=function(h){bw.removeHandler('pageAdded',h);};this.Il=function(h){bw.addHandler('pageChanged',h);};this.Kx=function(h){bw.removeHandler('pageChanged',h);};this.GT=function(h){bw.addHandler('pageRemoved',h);};this.IL=function(h){bw.removeHandler('pageRemoved',h);};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){try{h(C,K);}catch(e){IPCC.fK.NV('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(page){this.aim(page);},insertPage:function(index,page){this.aiW(index,page);},forEach:function(method,context){this.mF(method,context);},getPage:function(index){return this.km(index);},setPage:function(index,page){this.aoY(index,page);},get_length:function(){return this.dY();},removePage:function(index){this.aeD(index);},removeAllPages:function(){this.azE();},add_pageAdded:function(handler){this.Ht(handler);},remove_pageAdded:function(handler){this.IH(handler);},add_pageChanged:function(handler){this.Il(handler);},remove_pageChanged:function(handler){this.Kx(handler);},add_pageRemoved:function(handler){this.GT(handler);},remove_pageRemoved:function(handler){this.IL(handler);}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass('IPCC.Web.UI.ImGearPageCollection');IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');IPCC.Web.UI.ImGearDocument=function(bq){var jO='';var gV='';var C=this;this.dG=new IPCC.Web.UI.ImGearPageCollection();this.pH=undefined;this.dG.aC=this;var RJ=false;this.nN=undefined;var fh=0;var MX=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var CZ;var bw=new IPCC.Web.UI.gb();this.hk=IPCC.Web.oq.VR(4,IPCC.Web.Rr());this.lM=IPCC.Web.gH.DX.lL(this.hk);var EF=[];var mK=0;var mk=[];var CF=[];var gO={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Zn=false;this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){try{h(C,K);}catch(e){IPCC.fK.NV('raise event error in ImGearDocument, error: '+e.message);IPCC.fK.iU(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Lm(az,K){if(K.length>0){C.ay('pageAdded',K);}};function KL(az,K){if(K.length>0){C.ay('pageRemoved',K);}};function Bw(az,K){C.ay('pageChanged',K);};this.dG.add_pageAdded(Lm);this.dG.add_pageRemoved(KL);this.dG.add_pageChanged(Bw);function auA(){function aup(eO,hF){var aM=eO+'() threw an exception ';if(hF.name){aM+='( '+hF.name+" ";}else{aM+=".";}if(hF.message){aM+="  exception message = "+hF.message;}if(hF.statusCode){aM+="  exception statusCode = "+hF.statusCode;}aM=aM.replace(/\n/g," ");IPCC.fK.iU(aM,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.V=aup;this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){h(C,K);}};};if(arguments.length===0){var aM="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',aM);}if(arguments.length>0){if(bq.documentIdentifier!==undefined){jO=bq.documentIdentifier;gV=IPCC.fU.sL(jO);}if(bq.encodedDocumentIdentifier!==undefined){var oA=bq.encodedDocumentIdentifier;if(bq.documentIdentifier!==undefined){gV=IPCC.fU.sL(jO);if(oA!==gV){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{jO=IPCC.fU.IX(bq.encodedDocumentIdentifier);}}if(bq.imageServicePath!==undefined){this.nN=bq.imageServicePath;if(!IPCC.Web.uK){IPCC.Web.MD(this.nN);}}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var tU;if(bq.includeAllPages!==undefined){RJ=bq.includeAllPages;if(RJ===true){var aCx=new auA();var Sx=0;C.bb=new IPCC.fU(gV,0,0,0,0,0);var nf=function(){fh=C.bb.fh;MX=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;Sx<fh;Sx++){var dO=new IPCC.Web.UI.ImGearPage({pageNumber:Sx,aC:C});dO.aC=C;C.dG.addPage(dO);}};MX=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bb.Iw(this.nN,aCx,nf);}catch(e){MX=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dp=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dp.exception=e;C.ay('pageOpenFailed',dp);throw e;}}}else if(bq.pages!==undefined){if(bq.pages.length>0){var G=0;for(G=0;G<bq.pages.length;G++){var cE=bq.pages[G];cE.document=this;this.dG.addPage(cE);}}}else if(bq.pageNumber!==undefined){if(bq.pageRangeCount!==undefined){var nh=bq.pageRangeCount;if(nh>0){var aN;for(aN=bq.pageNumber;aN<=nh;aN++){tU=new IPCC.Web.UI.ImGearPage(aN);tU.aC=C;this.dG.addPage(tU);}}else if(nh===0){tU=new IPCC.Web.UI.ImgearPage({pageNumber:bq.pageNumber,aC:C});tU.aC=C;C.dG.addPage(tU);}}else{if(bq.selected){tU=new IPCC.Web.UI.ImGearPage({pageNumber:bq.pageNumber,aC:C,selected:true});}else{tU=new IPCC.Web.UI.ImGearPage({pageNumber:bq.pageNumber,aC:C});}tU.aC=C;C.dG.addPage(tU);}}}this.vJ=function(){return jO;};this.AZ=function(){return gV;};this.atd=function(){return this.dG;};this.ati=function(){return fh;};this.ass=function(){return MX;};this.ase=function(){return RJ;};this.amE=function(T){RJ=T;this.aG('includeAllPages');};var ke=false;this.ea=function(){return ke;};this.jw=function(T){ke=T;};this.Ht=function(h){bw.addHandler('pageAdded',h);};this.IH=function(h){bw.removeHandler('pageAdded',h);};this.GT=function(h){bw.addHandler('pageRemoved',h);};this.IL=function(h){bw.removeHandler('pageRemoved',h);};this.Be=function(h){bw.addHandler('pageOpenFailed',h);};this.As=function(h){bw.removeHandler('pageOpenFailed',h);};this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.Il=function(h){bw.addHandler('pageChanged',h);};this.Kx=function(h){bw.removeHandler('pageChanged',h);};this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};this.RA=function(){return CZ;};this.WB=function(T){CZ=T;this.aG('caption');};this.awP=function(h){bw.addHandler('textPagesReceived',h);};this.azs=function(h){bw.removeHandler('textPagesReceived',h);};this.asJ=function(){return CF.length;};this.asL=function(){return EF.length;};this.arZ=function(){return gO;};this.ajI=function(){return Zn;};this.aot=function(T){Zn=T;};this.awA=function(ga){if(gO.stopRequests===true){var K={};K.error=0;K.textPagesReceived=Yq(ga);if(K.textPagesReceived.length===0){if(mK>0&&mK<ga){for(var cA=mK;cA<ga;cA++){K.textPagesReceived.push(cA);}}}K.length=2;C.ay('textPagesReceived',K);return;}var iF=true;var LT=false;for(var G=0;G<mK;G++){if(Array.prototype.indexOf){if(EF.indexOf(G)<0){iF=false;LT=true;break;}}else{if(IPCC.Web.hA(EF,G)<0){LT=true;break;}}}if(LT){C.Kh(G,undefined,ga);}else if(mK<ga){for(var ag=0;ag<ga;ag++){if(Array.prototype.indexOf){if(mk.indexOf(ag)<0){iF=false;break;}}else{if(IPCC.Web.hA(mk,ag)<0){iF=false;break;}}}if(!iF){LT=true;C.Kh(ag,undefined,ga);}else{C.Kh(mK,undefined,ga);}}else{LT=false;}};function Yq(ga){var UO=[],cA;if(mk.length>0){var iF=true;for(cA=0;cA<ga;cA++){iF=true;if(Array.prototype.indexOf){if(mk.indexOf(cA)<0){iF=false;}}else{if(IPCC.Web.hA(mk,cA)<0){iF=false;}}if(!iF){mk.push(cA);CF.push(cA);UO.push(cA);}}}else{for(cA=0;cA<ga;cA++){mk.push(cA);CF.push(cA);UO.push(cA);}}return UO;};this.Kh=function(ahy,aih,ga){Zn=true;var an;if(!isNaN(ahy)){an=ahy;}else{an=0;}var ET;if(!isNaN(ga)){ET=ga;}var cs;if(!isNaN(aih)){cs=aih;}else if(!isNaN(ET)){cs=ET-1;}else{ET=ga;if(!isNaN(ET)){cs=ET-1;}}if(isNaN(cs)){cs=an+1;}if(cs-an>9){cs=an+9;}var fN;if(window.XMLHttpRequest){fN=new XMLHttpRequest();}function NI(ar){var QX=mK;var ZR=[];var iF=true;var aL;for(var ai=0;ai<ar.pages.length;ai++){if(Array.prototype.indexOf){if(EF.indexOf(ar.pages[ai].number)<0){iF=false;}}else{if(IPCC.Web.hA(EF,ar.pages[ai].number)<0){iF=false;}}if(!iF){EF.push(ar.pages[ai].number);if(C.dG.km(ar.pages[ai].number).dq().zm()===false){aL=C.dG.km(ar.pages[ai].number);aL.agL(ar.pages[ai]);aL.ahz(ar.pages[ai]);aL.aeW(ar.pages[ai].markup,ar.pages[ai].height,ar.pages[ai].width);}mK++;ZR.push(ar.pages[ai].number);mk.push(ar.pages[ai].number);if(!ar.pages[ai].text){CF.push(ar.pages[ai].number);}}}var K={};if(ar.hasOwnProperty("errorCode")){K.error=0;C.pageExtractionFailed=true;K.textPagesReceived=ZR;K.length=2;for(var BF=gO.startPage;BF<gO.lastPage+1;BF++){iF=true;if(Array.prototype.indexOf){if(mk.indexOf(BF)<0){iF=false;}}else{if(IPCC.Web.hA(mk,BF)<0){iF=false;}}if(!iF){mk.push(BF);CF.push(BF);K.textPagesReceived.push(BF);}}C.ay('textPagesReceived',K);gO.stopRequests=true;return;}if(mK>QX){K.textPagesReceived=ZR;K.length=2;K.error=0;}var rh=gO.lastTimeout;if(gO.startPage===an&&gO.lastPage===cs&&mK===QX){if(gO.requestCount<25){rh=rh+1000;gO.requestCount++;}else{K.error=0;K.textPagesReceived=[];K.length=2;iF=true;var cA;for(cA=gO.startPage;cA<gO.lastPage+1;cA++){iF=true;if(Array.prototype.indexOf){if(mk.indexOf(cA)<0){iF=false;}}else{if(IPCC.Web.hA(mk,cA)<0){iF=false;}}if(!iF){mk.push(cA);CF.push(cA);K.textPagesReceived.push(cA);}}if(K.textPagesReceived.length===0){if(mK>0&&mK<ga){for(cA=mK;cA<ga;cA++){K.textPagesReceived.push(cA);}}}gO.stopRequests=true;C.ay('textPagesReceived',K);return;}}else{rh=1000;gO.requestCount=0;}gO.lastTimeout=rh;gO.startPage=an;gO.lastPage=cs;setTimeout(function(){C.awA(ga);},rh);if(mK>QX){C.ay('textPagesReceived',K);}};function VV(){var K={};try{var dH;var bQ=null;var gT;if(fN.readyState===0||fN.readyState===4){dH=fN.status;if(fN.status===200){var nr=fN.getResponseHeader("Accusoft-Data-Encrypted");if(nr==='true'){var sV=IPCC.Web.gH.qk.rE(fN.getResponseHeader("Accusoft-Data-SK"));var aB=IPCC.Web.EI(sV,C.hk);var cQ=IPCC.Web.BB(fN);var sG=IPCC.Web.zL(cQ,aB,C.hk);gT=IPCC.Web.gH.Fr.lL(sG);}else{gT=fN.responseText;}if(typeof JSON!=='undefined'){bQ=JSON.parse(gT);}else{bQ=IPCC.ct.nP(gT);}NI(bQ);}else if((dH<200)||(dH>=300)){if(fN.responseText){if(typeof JSON!=='undefined'){bQ=JSON.parse(fN.responseText);}else{bQ=IPCC.ct.nP(fN.responseText);}if(bQ.hasOwnProperty("errorCode")){K.error=0;if(mK>0){if(bQ.pages){if(bQ.pages.length>0){NI(bQ);return;}}}else{K.error= -1;}if(mk.length===0){K.error= -1;}C.pageExtractionFailed=true;K.textPagesReceived=[];K.length=2;K.textPagesReceived=Yq(ga);C.ay('textPagesReceived',K);return;}else{throw new IPCC.Web.UI.ImGearHttpException(dH,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(dH,"Unable to obtain text");}}}}catch(e){K.error= -1;Yq(ga);K.textPagesReceived=[];K.length=2;C.ay('textPagesReceived',K);return;}};var kI=jO;var hh=C.nN;if(!(/^[\x00-\x7F]*$/.test(kI))){kI='e'+gV;}else{kI='u'+kI;}if(C.ea()){fN.open('GET',hh+'/Document/q/'+an.toString()+'-'+cs.toString()+'/Text?DocumentID='+kI+'&iv='+C.lM,true);}else{fN.open('GET',hh+'/Document/q/'+an.toString()+'-'+cs.toString()+'/Text?DocumentID='+kI,true);}fN.responseType='text';fN.setRequestHeader("accept","application/json");fN.onreadystatechange=VV;fN.send();};return this;};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(jO){var gV;if(jO!==undefined){gV=IPCC.fU.sL(jO);}return gV;};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(gV){var abU;if(gV!==undefined){abU=IPCC.fU.IX(gV);}return abU;};IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){var L=this.vJ();return L;},get_encodedDocumentIdentifier:function(){var L=this.AZ();return L;},get_pages:function(){return this.atd();},get_pageCountStatus:function(){var r=this.ass();return r;},set_pageCountStatus:function(value){this.aDS(value);},get_pageCount:function(){var r=this.ati();return r;},get_includeAllPages:function(){try{var L=this.ase();return L;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.amE(value);}catch(e){throw e;}},get_caption:function(){var L=this.RA();return L;},set_caption:function(value){this.WB(value);},get_encryption:function(){var L=this.ea();return L;},set_encryption:function(value){this.jw(value);},add_pageChanged:function(handler){this.Il(handler);},remove_pageChanged:function(handler){this.Kx(handler);},add_pageRemoved:function(handler){this.GT(handler);},remove_pageRemoved:function(handler){this.IL(handler);},add_pageAdded:function(handler){this.Ht(handler);},remove_pageAdded:function(handler){this.IH(handler);},add_pageOpenFailed:function(handler){this.Be(handler);},remove_pageOpenFailed:function(handler){this.As(handler);},get_textRequestInfo:function(){try{var L=this.arZ();return L;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var L=this.asL();return L;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var L=this.asJ();return L;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.awP(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.azs(handler);}catch(e){this.V('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.iO(handler);},remove_propertyChanged:function(handler){this.kc(handler);}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass('IPCC.Web.UI.ImGearDocument');IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');IPCC.Web.UI.ImGearDocumentCollection=function(){var kf=[];var bw=new IPCC.Web.UI.gb();var C=this;function auP(az,K){if(K){var Qm=new IPCC.Web.UI.ImGearDocumentEventArgs();Qm.document=az;Qm.propertyName=K.get_propertyName();Qm.length=2;C.ay('documentChanged',Qm);}};this.Ml=function(aqk){this.ajo(kf.length,aqk);};this.ajo=function(bP,aC){var ag;var cc=kf.length;if(bP>kf.length||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP,'document index is out of range');}for(ag=0;ag<cc;ag++){if(kf[ag]===aC){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var akc=bw.getHandler('pageAdded');if(akc){aC.add_pageAdded(akc);}var ala=bw.getHandler('pageRemoved');if(ala){aC.add_pageRemoved(ala);}var akN=bw.getHandler('pageChanged');if(akN){aC.add_pageChanged(akN);}aC.add_propertyChanged(auP);kf.splice(bP,0,aC);var K=new IPCC.Web.UI.ImGearDocumentEventArgs();K.imGearDocument=aC;K.index=bP;K.length=1;this.ay('documentAdded',K);};function mE(bP){if(bP>kf.length-1||(bP<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bP,'document index is out of range');}};this.aiz=function(bP){mE(bP);return kf[bP];};this.dY=function(){return kf.length;};this.aFK=function(nG,du){var agH=[].concat(kf);var G;for(G=0;G<agH.length;G++){nG.call(du,agH[G],G,this);}};this.aef=function(bP){mE(bP);var K=new IPCC.Web.UI.ImGearDocumentEventArgs();K.imGearDocument=kf[bP];K.length=1;kf[bP].get_pages().removeAllPages();kf.splice(bP,1);this.ay('documentRemoved',K);};this.azf=function(){var G=0;while(kf.length>0){this.aef(G);}};this.awN=function(h){bw.addHandler('documentAdded',h);};this.aAR=function(h){bw.removeHandler('documentAdded',h);};this.avL=function(h){bw.addHandler('documentRemoved',h);};this.aAe=function(h){bw.removeHandler('documentRemoved',h);};this.avK=function(h){bw.addHandler('documentChanged',h);};this.aAf=function(h){bw.removeHandler('documentChanged',h);};this.Ht=function(h){bw.addHandler('pageAdded',h);};this.IH=function(h){bw.removeHandler('pageAdded',h);for(var ag=0;ag<kf.length;ag++){kf[ag].remove_pageAdded(h);}};this.Il=function(h){bw.addHandler('pageChanged',h);};this.Kx=function(h){bw.removeHandler('pageChanged',h);for(var ag=0;ag<kf.length;ag++){kf[ag].remove_pageChanged(h);}};this.GT=function(h){bw.addHandler('pageRemoved',h);};this.IL=function(h){bw.removeHandler('pageRemoved',h);for(var ag=0;ag<kf.length;ag++){kf[ag].remove_pageRemoved(h);}};this.ay=function(aF,K){var h=bw.getHandler(aF);if(h!==null){try{h(C,K);}catch(e){IPCC.fK.NV('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(imGearDocument){this.Ml(imGearDocument);},insertDocument:function(index,imGearDocument){this.ajo(index,imGearDocument);},forEach:function(method,context){this.mF(method,context);},getDocument:function(index){return this.aiz(index);},get_length:function(){return this.dY();},removeDocument:function(imGearDocument){this.aef(imGearDocument);},removeAllDocuments:function(){this.azf();},add_documentAdded:function(handler){this.awN(handler);},remove_documentAdded:function(handler){this.aAR(handler);},add_documentRemoved:function(handler){this.avL(handler);},remove_documentRemoved:function(handler){this.aAe(handler);},add_documentChanged:function(handler){this.avK(handler);},remove_documentChanged:function(handler){this.aAf(handler);},add_pageAdded:function(handler){this.Ht(handler);},remove_pageAdded:function(handler){this.IH(handler);},add_pageRemoved:function(handler){this.GT(handler);},remove_pageRemoved:function(handler){this.IL(handler);},add_pageChanged:function(handler){this.Il(handler);},remove_pageChanged:function(handler){this.Kx(handler);}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass('IPCC.Web.UI.ImGearDocumentCollection');IPCC.Web.UI.jL=function(bq){this.ah=undefined;var bw=new IPCC.Web.UI.gb();this.gu=undefined;this.ng=undefined;this.yP=undefined;this.zB=undefined;this.hH=undefined;this.eY=undefined;this.bA=undefined;this.Ai=false;this.DW=0;this.aqV=undefined;this.ia=false;this.gY=false;if(arguments.length>0){if(bq.page!==undefined){this.ah=bq.page;}}this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};return this;};IPCC.Web.UI.aEx=function(){this.fY=new IPCC.Web.UI.ImGearPageCollection();this.aEc=0;return this;};IPCC.Web.UI.Thumbnailcounter=1;IPCC.Web.UI.ImGearThumbnailList=function(element){var C=this;var oC='';var Kb=IPCC.Web.UI.ImGearArtDataServices.None;var AH='';var rN=null;var TQ=null;var aBw;var bM=[];var nN='';var mi=true;var xa;var bw=new IPCC.Web.UI.gb();var ll=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var Oe=IPCC.Web.UI.ImGearThumbnailSelectionMode.Single;var il='';var ph='';var sP=0;var rJ=IPCC.Web.UI.ImGearThumbnailLayout.VerticalScrollDirection;var Fw=140;var xc=124;var vG='gray';var NY=4;var xI=4;var Rj=2;var Qr='#000000';var ig=false;var xf="";var awg=false;this.kH=new IPCC.Web.UI.ImGearDocumentCollection();var fY=new IPCC.Web.UI.ImGearPageCollection();var Tl='#FFDA6A';fY.alk=true;var Do=0;var Co=10;var Vi=0;var abi=false;var Ue=0;var Sm;function gm(xk){if(!_debug){return false;}return ll>=xk;};this.V=function(eO,hF){if(!gm(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aM=eO+'() threw an exception ('+hF.name+'), "'+hF.message+'"';aM=aM.replace(/\n/g," ");IPCC.fK.iU(aM,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.get_igelement().id);};this.bo=function(eO,ef,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=')';this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.wA=function(eO,ef,hO,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.be=function(eO,ef,hO){if(!gm(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],0);}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.lX=function(gq,bm){IPCC.fK.iU(gq,IPCC.Web.UI.DebugItemCause.FunctionCall,bm,'ImGearThumbnailList',this.gr().id);};this.iU=function(gq){IPCC.fK.iU(gq,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.gr().id);};this.ti=function(){return _debug;};this.Bg=function(T){var yS= ! !T;if(_debug===yS){return;}_debug=yS;this.aG('debug');};this.pk=function(){return ll;};this.rA=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.DebugErrorLevel);if(ll===T){return;}ll=T;this.aG('debugErrorLevel');};function dh(aF,h){bw.addHandler(aF,h);};function ce(aF,h){bw.removeHandler(aF,h);};this.iO=function(h){bw.addHandler('propertyChanged',h);};this.kc=function(h){bw.removeHandler('propertyChanged',h);};this.aDq=function(h){dh('thumbnailSelectionChanged',h);};this.aFX=function(h){ce('thumbnailSelectionChanged',h);};this.awc=function(h){dh('pageSelectionChanged',h);};this.azl=function(h){ce('pageSelectionChanged',h);};this.awz=function(h){dh('pageAddFailed',h);};this.azu=function(h){ce('pageAddFailed',h);};var om;this.gr=function(){return om;};this.qt=function(T){om=T;};this.sR=0;this.Bn=0;this.ay=function(aF,K){try{var h=bw.getHandler(aF);if(h!==null){h(C,K);}}catch(e){C.V(aF+'Event',e);}};function qs(){var sv,fR;if(oC!==''){sv=document.getElementById(oC);if(sv){var HN=fY.get_length();var G=0;if(HN>0){fR="{\"selectedPages\":[";for(G=0;G<HN;G++){if(fY.getPage(G)){var ahb=fY.getPage(G).aC.get_encodedDocumentIdentifier();var alf=fY.getPage(G).get_pageNumber();if(ahb){if(alf>=0){if(G>0){fR+=",";}fR+='{\"encodedDocumentIdentifier\":"'+ahb;fR+='",\"pageNumber\":\"'+alf.toString()+"\"";fR+="}";}}}}fR+=']}';}sv.value=fR;}}};this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};this.aDW=function(zu){if(IPCC.Web.UI.Thumbnailcounter===undefined||IPCC.Web.UI.Thumbnailcounter===null){IPCC.Web.UI.Thumbnailcounter=1;}var cV=zu+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;return cV;};this.aDa=function(anK){var cV=anK+'_'+'_tViewId';return cV;};this.QM=function(){if(sP===undefined||sP===null){sP=1;}var cV=(this.gr().id.toString())+'_'+sP.toString();sP++;return cV;};this.Yx=function(eQ){if(IPCC.Web.mI.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mI.indexOf(eQ)>=0){return true;}}else{if(IPCC.Web.mI.aDb(eQ)>=0){return true;}}}};function zc(){for(var aN=0;aN<bM.length;aN++){if(bM[aN]){if(bM[aN].hH){bM[aN].hH=false;if(bM[aN].ah){bM[aN].ah.set_selected(false);for(var dn=0;dn<fY.get_length();dn++){if(fY.getPage(dn)===bM[aN].ah){fY.removePage(dn);}}}if(mi===true){document.getElementById(bM[aN].gu).style.backgroundColor=vG;}else{document.getElementById(bM[aN].gu).className='imGearTNItem';}}}}};function pK(Mg,aV,aA){if(aA){if(aA.ah){if(Mg===true){if(aV){aV.className='imGearTNSelected';}aA.ah.set_selected(true);aA.hH=true;}else{if(aV){aV.className='imGearTNItem';}aA.ah.set_selected(false);aA.hH=false;}}}};function qe(Mg,aV,aA){if(aA){if(aA.ah){if(Mg===true){if(aV){aV.style.backgroundColor=Tl;}aA.ah.set_selected(true);aA.hH=true;}else{if(aV){aV.style.backgroundColor=vG;}aA.ah.set_selected(false);aA.hH=false;}}}};function abf(Mg,aV,aA,oh){if(mi===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oh){document.getElementById(oh.gu).style.backgroundColor=vG;}qe(true,aV,aA);fY.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){qe(false,aV,aA);}}else{if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oh){document.getElementById(oh.gu).className='imGearTNItem';}pK(true,aV,aA);fY.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){pK(true,aV,aA);}}};var hz=0;var aCr=1;var aBh=50;function Tq(){Ni();};function Ni(){var G,jL,ds,nC,Ax;var sC,sp,acg,acH;var kp,qN,nL,Am;var Bx=[];var Rf,Uh,RH,Vu;if(ph===''){return;}sC=ph.scrollTop;sp=ph.scrollLeft;acg=sC+ph.clientHeight;acH=sp+ph.clientWidth;for(G=0;G<bM.length;G++){jL=bM[G];if(jL&&jL.ng){ds=document.getElementById(jL.gu);kp=ds.offsetTop;qN=ds.offsetLeft;nL=kp+ds.offsetHeight;Am=qN+ds.offsetWidth;Rf=sC-nL;Uh=sp-Am;RH=kp-acg;Vu=qN-acH;if(Rf>=0){Bx.push({jL:jL,Zi:true,qm:Rf});}else if(RH<0&&Uh>=0){Bx.push({jL:jL,Zi:true,qm:Uh});}else if(RH>=0){Bx.push({jL:jL,Zi:false,qm:RH});}else if(Rf<0&&Vu>=0){Bx.push({jL:jL,Zi:false,qm:Vu});}else{nC=document.getElementById(jL.ng);if(nC){Ax=nC.aS;Ax.yY(0);}}}}Bx.sort(function(a,b){return a.qm-b.qm;});for(G=0;G<Bx.length;G++){jL=Bx[G].jL;nC=document.getElementById(jL.ng);if(nC){Ax=nC.aS;if(Ax){if(G<aCr){Ax.yY(0);}else if(G<aBh){Ax.yY(1);}else{Ax.yY(2);}}}}};function AW(sender,eventArgs){if(eventArgs){if(eventArgs.domEvent.button!==0){return;}}else if(sender.button!==0){return;}var xb;var Nq="";var aV,aN;if(sender.id&&sender.id!==null){xb=sender.id.split('_');if(xb!==undefined){if(C.gr().id===xb[0]){Nq=sender.id;aV=sender;}}}else{if(sender.target){if(sender.target.tagName==="DIV"){if(sender.target.firstChild!==null){if(sender.target.firstChild.tagName==="DIV"){aV=sender.target;}}}if(!aV){if(sender.target.parentNode){if(sender.target.parentNode.id!==undefined&&sender.target.parentNode.id!==""){xb=sender.target.parentNode.id.split('_');if(xb!==undefined){if(C.gr().id===xb[0]){Nq=sender.target.parentNode.id;aV=sender.target.parentNode;}else{return;}}else{return;}}else{if(sender.target.parentNode.parentNode){if(sender.target.parentNode.parentNode.id!==undefined&&sender.target.parentNode.parentNode.id!==""){xb=sender.target.parentNode.parentNode.id.split('_');if(xb!==undefined){if(C.gr().id===xb[0]){Nq=sender.target.parentNode.parentNode.id;aV=sender.target.parentNode.parentNode;}else{return;}}else{return;}}}}}}}else{var agZ=sender.gr();Nq=agZ.parentNode.id;aV=agZ.parentNode;}}var oh;if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(aN=0;aN<bM.length;aN++){if(bM[aN].hH===true){if(bM[aN].ah){bM[aN].ah.set_selected(false);}if(mi===true){document.getElementById(bM[aN].gu).style.backgroundColor=vG;}else{document.getElementById(bM[aN].gu).className='imGearTNItem';}bM[aN].hH=false;oh=bM[aN];break;}}}if(aV!==undefined){var wt;var iT;var ahr=false;for(aN=0;aN<bM.length;aN++){wt=undefined;if(bM[aN].ah){wt=document.getElementById(bM[aN].gu);if(wt===aV){ahr=true;iT=bM[aN];break;}}}if(ahr===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===false){zc();}}else if(sender.ctrlKey){if(sender.ctrlKey===false){zc();}}else{zc();}}if(mi===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oh){document.getElementById(oh.gu).style.backgroundColor=vG;}qe(true,aV,iT);fY.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(iT.hH===true){qe(false,aV,iT);}else{qe(true,aV,iT);}}else{qe(true,aV,iT);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(iT.hH===true){qe(false,aV,iT);}else{qe(true,aV,iT);}}else{qe(true,aV,iT);}}else{qe(true,aV,iT);}}}else{if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(oh){document.getElementById(oh.gu).className='imGearTNItem';}pK(true,aV,iT);fY.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(iT.hH===true){pK(false,aV,iT);}else{pK(true,aV,iT);}}else{pK(true,aV,iT);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(iT.hH===true){pK(false,aV,iT);}else{pK(true,aV,iT);}}else{pK(true,aV,iT);}}else{pK(true,aV,iT);}}}qs();EW(iT);}}};function auL(aDX,te,apw){function h(sender,evnt){AW(sender,evnt);};IPCC.Web.UI.aE.addHandler(apw,"mouseDown",h);te.add_mouseDown(h);};function acs(te,wm){function atq(sender,evnt){auM(wm);C.scrollToSelectedThumbnail();Ni();wm.ah.IO(te.get_pageWidth());wm.ah.Lh(te.get_pageHeight());};te.add_pageOpened(atq);};function La(te,wm){function QE(sender,evnt){var cv=evnt.pageNumber;var zu=evnt.documentIdentifier;function alC(cv){var fh=C.kH.getDocument(0).fh;if(!fh){setTimeout(function(){alC(cv);},2000);return;}Vi++;if(Vi===1){if(fh<30){Co=Math.floor((fh)/3)+1;}else{Co=10;}}function amY(){var aa=Do;var aaR=Co;Do+=Co;if(Do+Co>fh){Co=fh-Do;}setTimeout(function(){C.kH.getDocument(0).Kh(aa,aa+aaR-1,aa+aaR);},50);};if(Vi===Do+Co){if(Do===0){if(C.kH.getDocument(0).ajI()===true){abi=true;}else{C.kH.getDocument(0).aot(true);amY();}}else{amY();}}};if(abi===false){alC(cv);}wm.ah.IO(te.get_pageWidth());wm.ah.Lh(te.get_pageHeight());for(var aN=0;aN<bM.length;aN++){if(bM[aN].ah.get_pageNumber()===cv&&bM[aN].ah.aC.get_documentIdentifier()===zu){bM[aN].gY=false;bM[aN].ia=true;var cw;if(bM[aN].eY===false){if(bM[aN].ng){cw=document.getElementById(bM[aN].ng).aS;}if(cw){cw.display();bM[aN].eY=true;}}if(hz>0){hz=hz-1;}break;}}Ni();if(hz===0){setTimeout(function(){ml();},60);}};te.add_pageOpened(QE);if(hz===0&&bM.length>1){if(hz===0){setTimeout(function(){ml();},100);}}};function ml(){var qa;var dm=aun();if(dm>0){qa=dm;}else{qa=aue(0);}if(qa&&qa>0){if(qa<bM.length){atV(bM[qa]);}}};function aue(oK){var Wn;for(var dn=oK;dn<bM.length;dn++){if(bM[dn].gY===false){if(bM[dn].ia===false){Wn=dn;break;}}}if(Wn){return Wn;}else{return-1;}};function aun(){var ajj=document.getElementById(xa);var aA=bM[0];var ak=document.getElementById(aA.gu);var Ke;if(bM.length>1){var aoD=bM[1];var arp=document.getElementById(aoD.gu);Ke=arp.offsetHeight+(ak.offsetTop*2);}else{Ke=ak.clientHeight+ak.clientTop+(ak.offsetTop*2);}var kT;if(Ke>0){var AJ=Math.ceil(ajj.offsetHeight/Ke);var Ef=Math.ceil(ajj.scrollTop/Ke);var YG=Ef+AJ+2;Ef=Ef-1;if(Ef<0){Ef=0;}if(YG>=bM.length){YG=bM.length-1;}for(var aN=Ef;aN<=YG;aN++){if(bM[aN].gY===false){if(bM[aN].ia===false){kT=aN;break;}}}}if(kT){return kT;}else{return(-1);}};function KW(te,wm){function atK(sender,evnt){C.ay('pageAddFailed',evnt);};te.add_pageOpenFailed(atK);};function ez(ky){var st=document.createElement('div');var G;for(G in ky){if(ky.hasOwnProperty(G)){st.style[G]=ky[G];}}return st;};function abr(){var ER=C.gr().id;var bN=document.getElementById(ER);var PO;if(il===''){ph=ez({width:bN.clientWidth+'px',height:bN.clientHeight+'px',position:'relative',margin:'0px',border:'1px solid #000000',overflow:'auto'});if(mi===true){if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){PO=xc;il=ez({width:PO+'px',margin:'4px'});ph.style.overflowY='hidden';C.sR=1;if(PO>0){C.Bn=bN.clientWidth/PO;}}else{il=ez({width:bN.clientWidth+'px',height:bN.clientHeight+'px',position:'relative',margin:'4px'});ph.style.overflowX='hidden';C.sR=1;if(xc>0){C.Bn=bN.clientWidth/xc;}C.sR=bN.clientHeight/Fw;}}else{il=ez({width:bN.clientWidth+'px',height:bN.clientHeight+'px',position:'relative',margin:'4px'});if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){ph.style.overflowY='hidden';}else{ph.style.overflowX='hidden';}}ph.onscroll=Tq;il.setAttribute('id',ER+'_ListContainer');ph.setAttribute('id',ER+'_ListWrapper');xa=ER+'_ListWrapper';ph.appendChild(il);bN.appendChild(ph);}};function Kq(ai){var wu;var ajk='';var jJ='';var zt='';var tz="";var G;if(xf!==""){if(xf.indexOf('{')!== -1){wu=xf.split('{');if(wu.length>0){for(G=0;G<wu.length;G++){jJ='';zt=wu[G];tz="";if(wu[G].indexOf('DC')!== -1){jJ=ai.aC.get_caption();if(jJ!==undefined){tz=zt.replace(/DC\}/,ai.aC.get_caption());}else{jJ=ai.aC.get_documentIdentifier();tz=zt.replace(/DC\}/,ai.aC.get_documentIdentifier());}}else if(wu[G].indexOf('PC')!== -1){jJ=ai.get_caption();if(jJ!==undefined&&jJ!==""&&jJ!==null){tz=zt.replace(/PC\}/,ai.get_caption());}else{tz=zt.replace(/PC\}/,'Page');}}else if(wu[G].indexOf('P#')!== -1){var JB=ai.aC.get_pages();var aN=JB.aru(ai);var fq=aN;if(typeof(fq)==='number'){jJ=(aN+1).toString();}else if(fq){var eQ=parseInt(fq,10);eQ++;jJ=eQ.toString();}if(jJ!==null){tz=zt.replace(/P#\}/,jJ);}}else if(wu[G].indexOf('PN')!== -1){jJ=(ai.get_pageNumber()+1).toString();if(jJ!==null){tz=zt.replace(/PN\}/,jJ);}}else if(wu[G].indexOf('PP')!== -1){jJ=ai.aC.get_pages().get_length().toString();if(jJ!==null){tz=zt.replace(/PP\}/,jJ);}}ajk+=tz;}}}}return ajk;};function afz(bq){var ai=bq;var CV=ai.get_pageNumber();var ds;var nC;var bN=document.getElementById(C.gr().id);var ci=null;var rd;var sF=[];var G=0;var ag=0;var cc=C.get_documents().get_length();for(ag=0;ag<cc;ag++){ci=C.get_documents().getDocument(ag);if(ci!==null){rd=ci.pH;if(rd===ai.aC.pH){break;}}}for(var dn=0;dn<bM.length;dn++){if(bM[dn].aC){ci=bM[dn].aC;if(dn===0){sF[G]=ci;G++;continue;}else if(bM[dn-1].aC!==ci){sF[G]=ci;G++;continue;}}}for(dn=bM.length-1;dn>=0;dn--){if(bM[dn].ah){if(bM[dn].ah===ai){return;}}}var si=true;var eA;var wD;var dO;var Ae;for(dn=0;dn<bM.length;dn++){eA=bM[dn];if(eA.DW===1){if(ai.aC.pH===eA.zB){ds=document.getElementById(eA.gu);eA.DW=0;wD=eA.gu;si=false;dO=eA;break;}}}var kZ=false;for(dn=bM.length-1;dn>=0;dn--){if(bM[dn].ah){if(bM[dn].ah.aC===ai.aC){kZ=true;break;}}}if(il===''){abr();}if(mi===false){if(si){ds=document.createElement('div');ds.className='imGearTNItem';ds.style.styleFloat='left';}Ae=document.createElement('div');Ae.className='imGearTNItemCaption';}if(mi===true){if(si){ds=ds=ez({width:xc+'px',height:Fw+'px',styleFloat:'left',overflow:'hidden',border:Rj+'px solid '+Qr,marginRight:xI+'px',marginTop:NY+'px'});ds.style.cssFloat='left';ds.style.backgroundColor=vG;}Ae=ez({width:xc+'px',height:'30px',overflow:'hidden',padding:'1px',position:'relative',margin:'2px'});}if(si===true){wD=ai.aC.pH+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;ds.setAttribute('id',wD);}var PA=wD+'_'+'_tViewId';if(mi===false){nC=document.createElement('div');nC.className='imGearTNImage';}else{nC=ez({width:(xc-4)+'px',height:(Fw-40)+'px',overflow:'hidden',padding:'1px'});}nC.setAttribute('id',PA);var Yo=document.createElement("p");if(mi===true){Yo.style.cssText="font-family:arial,sans-serif;font-size:10pt;text-align: center;color:#000099;";}var qC="";if(xf!==undefined&&xf!==null&&xf!==""){qC=Kq(ai);Yo.innerHTML=qC;Ae.appendChild(Yo);}IPCC.Web.UI.aE.addHandler(Ae,"mousedown",AW);IPCC.Web.UI.aE.addHandler(ds,"mousedown",AW);ds.appendChild(Ae);ds.appendChild(nC);if(si===true){dO=new IPCC.Web.UI.jL({page:ai});}ai.gu=wD;dO.ng=PA;dO.gu=wD;dO.ah=ai;dO.zB=rd;dO.hH=false;dO.eY=false;dO.yP=Ae;dO.bA=undefined;dO.Ai=false;dO.aC=ai.aC;dO.ia=false;dO.cv=CV;var JT;var cG;if(si){if(bM.length===0){il.appendChild(ds);bM.push(dO);}else{for(dn=0;dn<bM.length;dn++){eA=bM[dn];if(eA.zB===rd){if(eA.ah){var WQ=eA.ah.get_pageNumber();if(CV<WQ){bM.splice(dn,0,dO);cG=document.getElementById(eA.gu);il.insertBefore(ds,cG);JT=true;break;}}}}if(!JT){il.appendChild(ds);bM.push(dO);}}}var Rn=false;if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var qO=ds.clientWidth*(bM.length+1);if(mi===true){qO=ds.clientWidth*(bM.length+1);qO+=((2*xI)*(bM.length+1));il.style.width=qO+'px';il.style.height=(ds.clientHeight+(2*xI))+'px';}else{qO=ds.clientWidth*(bM.length+1);il.style.width=qO+'px';il.style.height=ds.clientHeight+'px';if(C.sR===0){if(ds.clientWidth>0){C.sR=bN.width/ds.clientWidth;}}if(this.Bn===0){if(ds.clientHeight>0){C.sR=bN.height/ds.clientHeight;}}}if((bN.clientWidth+(ds.clientWidth*4))>qO){Rn=true;}}else{if(bN.clientWidth>0){var Dq=bN.clientWidth/(ds.clientWidth+(ds.clientLeft*2));var AJ=bN.clientHeight/(ds.clientHeight+(ds.clientTop*2));C.sR=AJ;C.Bn=Dq;if(bM.length<(Dq*AJ)){Rn=true;}}}var iV;iV=new IPCC.Web.UI.ThumbnailView(document.getElementById(PA));if(iV){iV.qt(document.getElementById(PA));iV.jw(C.ea());iV.initialize();iV.set_imageHandlerUrl(ai.aC.nN);iV.set_selected(false);iV.set_pageViewClientID(AH);if(C.pn()){iV.rR(true);}}if(iV){if(mr){iV.set_resourcePath(mr);}KW(iV,dO);iV.jw(C.ea());var qu=iV.asP();if(!qu){qu=new IPCC.Web.UI.PageViewState();}qu.viewFitType=TQ;qu.viewRotationDegreesClockwise=Ue;qu.viewZoomFactor=Sm;qu.encryption=C.ea();iV.anN(qu);}var aBx=C.get_artServiceOption();auL(AW,iV,ds);var HN=fY.get_length();if(HN>0){for(G=0;G<HN;G++){for(dn=0;dn<bM.length;dn++){eA=bM[dn];if(eA.ah){if(eA.ah.aC.get_documentIdentifier()===fY.getPage(G).aC.get_documentIdentifier()){if(fY.getPage(G).get_pageNumber===ai.get_pageNumber()){acs(iV,dO);break;}}}}}}else{if(ai.get_selected()){acs(iV,dO);}}La(iV,dO);if(bM.length<2){iV.jw(C.ea());iV.openPage({encodedDocumentIdentifier:ai.aC.get_encodedDocumentIdentifier(),pageNumber:ai.get_pageNumber(),artServiceOption:aBx,imGearPage:ai});dO.gY=true;hz++;}var JB=ai.aC.get_pages();if(JB.get_length()>1){for(var hf=0;hf<bM.length;hf++){var eI=bM[hf];if(eI.ah){if(ai.aC===eI.ah.aC){qC=Kq(eI.ah);var fg=eI.yP.firstChild;if(!fg.igPreviousCaption||fg.igPreviousCaption!==qC){fg.innerHTML=qC;fg.igPreviousCaption=qC;}}}}}nC.aS=iV;return ds;};function awy(adq){var wD=adq.pH+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;var ds;var ci;var sF=[];var ER=C.gr().id;var bN=document.getElementById(ER);var rd,ag;var cc=C.get_documents().get_length();for(ag=0;ag<cc;ag++){ci=C.get_documents().getDocument(ag);if(ci){rd=ci.pH;if(rd===adq.pH){break;}}}var G=0;for(var dn=0;dn<bM.length;dn++){if(bM[dn].aC){ci=bM[dn].aC;if(dn===0){sF[G]=ci;G++;continue;}else if(bM[dn-1].aC!==ci){sF[G]=ci;G++;continue;}}}if(il===''){abr();}if(mi===false){ds=document.createElement('div');ds.className='imGearTNItem';ds.style.styleFloat='left';}else if(mi===true){ds=ds=ez({width:xc+'px',height:Fw+'px',styleFloat:'left',overflow:'hidden',border:Rj+'px solid '+Qr,marginRight:xI+'px',marginTop:NY+'px'});ds.style.cssFloat='left';ds.style.backgroundColor=vG;}ds.setAttribute('id',wD);var dO=new IPCC.Web.UI.jL();dO.gu=wD;dO.zB=rd;dO.hH=false;dO.eY=false;dO.bA=undefined;dO.Ai=false;dO.DW=1;dO.aC=ci;dO.ia=false;var abh;cc=C.get_documents().get_length();for(ag=0;ag<cc;ag++){ci=C.get_documents().getDocument(ag);if(sF[ag]){if(ci===sF[ag]){continue;}else{if(ag+1<cc){var aqz=C.get_documents().getDocument(ag+1);if(aqz===sF[ag]){abh=ag;break;}}}}}if(abh){var nh=0;for(G=0;G<abh;G++){if(C.get_documents().getDocument(G).get_pages()){nh+=C.get_documents().getDocument(G).get_pages().get_length();}}var aoU=bM[nh];var cG=document.getElementById(aoU.gu);il.insertBefore(ds,cG);bM.splice(nh,0,dO);}else{il.appendChild(ds);bM.push(dO);}if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var qO=ds.clientWidth*(bM.length+1);if(mi===true){qO=ds.clientWidth*(bM.length+1);qO+=((2*xI)*(bM.length+1));il.style.width=qO+'px';il.style.height=(ds.clientHeight+(2*xI))+'px';}else{qO=ds.clientWidth*(bM.length+1);il.style.width=qO+'px';il.style.height=ds.clientHeight+'px';if(this.sR===0){if(ds.clientWidth>0){C.sR=bN.width/ds.clientWidth;}}if(C.Bn===0){if(ds.clientHeight>0){C.sR=bN.height/ds.clientHeight;}}}}else{if(bN.clientWidth>0){var Dq=bN.clientWidth/(ds.clientWidth+(ds.clientLeft*2));var AJ=bN.clientHeight/(ds.clientHeight+(ds.clientTop*2));C.sR=AJ;C.Bn=Dq;}}return ds;};function Lm(az,K){var ai=K.imGearPage;afz(ai);};function avg(bq){var ai=bq.imGearPage;var cw;var wt,aN;for(aN=0;aN<bM.length;aN++){wt=undefined;if(bM[aN].ah){if(bM[aN].ah===ai){wt=document.getElementById(bM[aN].gu);if(wt){if(bM[aN].eY===true){cw=document.getElementById(bM[aN].ng).aS;if(cw.get_selected()){cw.set_selected(false);if(C.get_pageViewClientId()){var pgView=document.getElementById(C.get_pageViewClientId()).aS;pgView.closePage();}}cw.remove_mouseDown(AW);if(cw.get_currentState().documentIdentifier){cw.dispose();}bM[aN].eY=false;}if(bM[aN].yP){IPCC.Web.UI.aE.removeHandler(wt.yP,"mousedown",AW);}wt.style.display='none';bM.splice(aN,1);var JB=ai.aC.get_pages();if(JB.get_length()>=1){for(var hf=0;hf<bM.length;hf++){var eI=bM[hf];if(ai.aC===eI.ah.aC){if(eI.ah){var qC=Kq(eI.ah);eI.yP.firstChild.innerHTML=qC;}}}}break;}}}}};function KL(az,K){avg(K);};function Bw(az,K){if(K){for(var hf=0;hf<bM.length;hf++){var eI=bM[hf];if(K.imGearPage===eI.ah){if(eI.ah){var oh;if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(var aN=0;aN<bM.length;aN++){if(bM[aN].hH===true){if(bM[aN].ah){bM[aN].ah.set_selected(false);}bM[aN].hH=false;oh=bM[aN];break;}}}var qC=Kq(eI.ah);eI.yP.firstChild.innerHTML=qC;var cw;var aV=document.getElementById(eI.gu);if(eI.ah.get_selected()&& !eI.hH){cw=document.getElementById(eI.ng).aS;if(cw){cw.set_imGearPage(eI.ah);cw.set_selected(true);C.ay('pageSelectionChanged',{});abf(true,aV,eI,oh);}}else if(!eI.ah.get_selected()&&eI.hH){cw=document.getElementById(eI.ng).aS;if(cw){cw.set_selected(false);C.ay('pageSelectionChanged',{});abf(false,aV,eI,oh);}}break;}}}}};function atL(az,K){if(K){if(K.propertyName==='caption'){for(var hf=0;hf<bM.length;hf++){var eI=bM[hf];if(eI.ah){if(eI.ah.aC){if(K.imGearDocument){if(K.imGearDocument===eI.ah.aC){var qC=Kq(eI.ah);eI.yP.firstChild.innerHTML=qC;}}}}}}}};function Ml(bq){if(C.Qh()===false){return null;}if((AH!==null)&&(AH!=='')){rN=document.getElementById(AH).aS;}var ci=bq.imGearDocument;var Un=C.QM();ci.pH=Un;if(ci.get_includeAllPages()===false){var dG=ci.get_pages();var cc=dG.get_length();if(cc>0){for(var aN=0;aN<cc;aN++){if(!dG.getPage(aN).aC){dG.getPage(aN).aC=ci;}}dG.forEach(afz);}}else{awy(ci);}};function abe(az,K){Ml(K);};function EW(Sp){var aN,aV;for(aN=0;aN<bM.length;aN++){if(bM[aN]===Sp){aV=document.getElementById(bM[aN].gu);if(mi===true){qe(true,aV,bM[aN]);}else{pK(true,aV,bM[aN]);}if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cw;if(C.get_pageViewClientId()){cw=document.getElementById(bM[aN].ng).aS;if(bM[aN].ia===false||fY.get_length()===0){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bM[aN].ah){if(bM[aN].Ai===true){if(bM[aN].bA){cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),artPage:bM[aN].bA,imGearPage:bM[aN].ah});}}else{cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imGearPage:bM[aN].ah});}}}else{if(bM[aN].gY===false){if(bM[aN].ia===false){bM[aN].bA=cw.get_artPage();if(bM[aN].ah){if(bM[aN].bA){cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),artPage:bM[aN].bA,imGearPage:bM[aN].ah});bM[aN].gY=true;hz++;}else{cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),imGearPage:bM[aN].ah});bM[aN].gY=true;hz++;}}}}}}if(cw){cw.set_selected(true);C.ay('pageSelectionChanged',{});}}if(bM[aN].ah){if(fY.get_length()>0){fY.removeAllPages();}}}if(bM[aN].ah){fY.addPage(bM[aN].ah);}break;}}qs();};function atV(aA){var aV;var cw;if(hz>0){if(aA.ng){cw=document.getElementById(aA.ng).aS;}if(cw){cw.display();aA.eY=true;}return;}aV=document.getElementById(aA.gu);cw=document.getElementById(aA.ng).aS;if(aA.ia===false){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aA.ah){if(aA.Ai===true){if(aA.bA){cw.openPage({encodedDocumentIdentifier:aA.ah.aC.get_encodedDocumentIdentifier(),pageNumber:aA.ah.get_pageNumber(),artPage:aA.bA,imaGearPage:aA.ah});}}else{cw.openPage({encodedDocumentIdentifier:aA.ah.aC.get_encodedDocumentIdentifier(),pageNumber:aA.ah.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imaGearPage:aA.ah});}aA.gY=true;hz++;}}else{aA.bA=cw.get_artPage();if(aA.ah){if(aA.bA){cw.openPage({encodedDocumentIdentifier:aA.ah.aC.get_encodedDocumentIdentifier(),pageNumber:aA.ah.get_pageNumber(),artPage:aA.bA,imaGearPage:aA.ah});}else{cw.openPage({encodedDocumentIdentifier:aA.ah.aC.get_encodedDocumentIdentifier(),pageNumber:aA.ah.get_pageNumber(),imaGearPage:aA.ah});}aA.gY=true;hz++;}}}qs();};function auM(Sp){var aN,aV;var aA;for(aN=0;aN<bM.length;aN++){aA=bM[aN];if(aA===Sp){aV=document.getElementById(aA.gu);if(mi===true){qe(true,aV,aA);}else{pK(true,aV,aA);}if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cw;if(C.get_pageViewClientId()){cw=document.getElementById(aA.ng).aS;if(cw){cw.set_selected(true);}}if(aA.ah){if(fY.get_length()>0){fY.removeAllPages();}}}if(aA.ah){fY.addPage(aA.ah);aA.hH=true;}break;}}qs();};this.cR=function(){var aN,aV;var eA=bM[0];if(eA&&eA.ah){var dG=eA.ah.aC.get_pages();var agP=dG.get_length();var cc=10;if(agP<10){cc=agP;}if(bM.length>10&&cc>10){cc=9;}cc=bM.length;for(aN=0;aN<cc;aN++){if(bM[aN].ah){aV=document.getElementById(bM[aN].gu);var cw;cw=document.getElementById(bM[aN].ng).aS;if(bM[aN].eY===false){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bM[aN].Ai===true){if(bM[aN].bA){if(bM[aN].ia===false){cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),artPage:bM[aN].bA,imaGearPage:bM[aN].ah});hz++;bM[aN].gY=true;}}}else{if(bM[aN].ia===false){cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imaGearPage:bM[aN].ah});hz++;bM[aN].gY=true;}}}else{if(bM[aN].imageDataRequested===false){if(bM[aN].ia===false){if(hz===0){cw.openPage({encodedDocumentIdentifier:bM[aN].ah.aC.get_encodedDocumentIdentifier(),pageNumber:bM[aN].ah.get_pageNumber(),imaGearPage:bM[aN].ah});bM[aN].gY=true;}}}}}if(cw){cw.display();if(bM[aN].hH===true){cw.set_selected(true);}}}}Ni();}};this.aAz=function(){var aA=bM[0];zc();EW(aA);};this.aAV=function(){var aA=bM[bM.length-1];zc();EW(aA);};this.aAj=function(){var aA;var oM;for(var aN=0;aN<bM.length;aN++){oM=bM[aN];if(oM.hH===true){aA=oM;break;}}if(!aA){aA=bM[0];}else{if(aN<=bM.length-1&&aN>0){aN--;aA=bM[aN];zc();EW(aA);}}};this.aAh=function(){var aA;var wi;var aN=bM.length-1;for(aN;aN>=0;aN--){wi=bM[aN];if(wi.hH===true){aA=wi;break;}}if(!aA){aA=bM[0];}else{if(aN<=bM.length-2&&aN>=0){aN++;aA=bM[aN];zc();EW(aA);}}};this.axu=function(){var cG=document.getElementById(xa);if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cG.scrollLeft=0;}else{cG.scrollTop=0;}};this.axz=function(){var cG=document.getElementById(xa);if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cG.scrollLeft=cG.scrollWidth;}else{cG.scrollTop=cG.scrollHeight;}};this.axo=function(){var aA;var oM;var aN;for(aN=0;aN<bM.length;aN++){oM=bM[aN];if(oM.hH===true){aA=oM;if(aA.ia===false){EW(aA);}break;}}var aiJ;var aAF;var ak;var cG=document.getElementById(xa);if(!aA){return;}if(aA.gu){if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){aiJ=cG.scrollWidth;ak=document.getElementById(aA.gu);aAF=aN*ak.clientWidth;cG.scrollLeft=ak.offsetLeft;}else{aiJ=cG.scrollHeight;ak=document.getElementById(aA.gu);cG.scrollTop=ak.offsetTop;}}};this.axj=function(){var aA=bM[0];var ak=document.getElementById(aA.gu);var cG=document.getElementById(xa);var qc;if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qc=cG.scrollLeft+ak.clientWidth+ak.clientLeft;cG.scrollLeft=qc;}else{qc=cG.scrollTop;cG.scrollTop=qc+ak.clientHeight+ak.clientTop;}};this.azb=function(){var aA=bM[0];var ak=document.getElementById(aA.gu);var cG=document.getElementById(xa);var qc;if(rJ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qc=cG.scrollLeft;qc=qc-(ak.clientWidth+ak.clientLeft);if(qc>0){cG.scrollLeft=qc;}else{cG.scrollLeft=0;}}else{qc=cG.scrollTop-(ak.clientHeight+ak.clientTop);if(qc>0){cG.scrollTop=qc;}else{cG.scrollTop=0;}}};function avp(wm){var cw;cw=document.getElementById(wm.ng).aS;if(cw){cw.saveArtPage();}};this.azw=function(agn){var aA;for(var aN=0;aN<bM.length;aN++){aA=bM[aN];avp(aA);}if(agn){agn();}};this.aqt=function(){if(C.kH.get_length()>0){C.kH.removeAllDocuments();}bM=[];};this.aFQ=function(){return nN;};this.aDR=function(T){IPCC.bB.iH(T,'value');nN=T;this.aG('imageServicePath');};this.Jn=function(){return oC;};this.JP=function(T){IPCC.bB.iH(T,'value');oC=T;};this.abE=function(){return AH;};this.asN=function(){return mi;};this.aob=function(T){mi=T;this.aG('useDefaultStyling');};this.asU=function(){return Qr;};this.aoH=function(T){Qr=T;this.aG('thumbnailBorderColor');};this.asS=function(){return Rj;};this.aqx=function(T){Rj=T;this.aG('thumbnailBorderWidth');};this.yl=function(BI){if(BI!==IPCC.Web.UI.ImGearArtDataServices.None&&BI!==IPCC.Web.UI.ImGearArtDataServices.ArtDataService){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearArtDataServices enumeration.');}Kb=BI;};this.yB=function(){return Kb;};this.Xq=function(){return this.kH;};this.aDw=function(){return xf;};this.app=function(T){IPCC.bB.iH(T,'value');xf=T;this.aG('thumbnailCaptionFormat');};this.abE=function(){return AH;};this.aog=function(T){if(AH!==T){AH=T;rN=null;this.aG('pageViewClientId');}};this.arJ=function(){return rJ;};this.aoL=function(T){rJ=T;this.aG('thumbnailsLayout');};this.asx=function(){return Oe;};this.aqs=function(T){if(T!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&T!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearThumbnailSelectionMode enumeration.');}Oe=T;if(Oe===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){fY.akW=false;}this.aG('selectionMode');};this.Qh=function(){return ig;};this.Lw=function(T){ig=T;this.aG('enabled');};this.asV=function(){return xc;};this.apf=function(T){xc=T;this.aG('thumbnailWidth');};this.asI=function(){return Fw;};this.aom=function(T){Fw=T;this.aG('thumbnailHeight');};this.ary=function(){return vG;};this.apX=function(T){vG=T;this.aG('thumbnailBackgroundColor');};this.arR=function(){return Tl;};this.aoo=function(T){Tl=T;this.aG('thumbnailSelectedBackgroundColor');};this.akA=function(){return xI;};this.anS=function(T){xI=T;this.aG('xSpacing');};this.asv=function(){return NY;};this.aoz=function(T){NY=T;this.aG('ySpacing');};this.asm=function(){return awg;};this.aso=function(){return fY;};var mr;this.tX=function(T){mr=T;};this.mZ=function(){return mr;};this.gB=function(Yg){for(var hf=0;hf<bM.length;hf++){var eI=bM[hf];if(Yg===eI.ah){var cw=document.getElementById(eI.ng).aS;if(cw){return(cw.get_artPage());}}}return null;};this.aoj=function(T){TQ=T;};this.asc=function(){return TQ;};this.aoQ=function(T){Ue=T;};this.asT=function(){return Ue;};this.anV=function(T){Sm=T;};this.arq=function(){return Sm;};var nM=false;this.pn=function(){return nM;};this.rR=function(T){if(nM===T){return;}nM=T;this.aG('requireRequestsOptimize');};var ke=false;this.ea=function(){return ke;};this.jw=function(T){if(typeof T!=="boolean"){return;}if(T===ke){return;}ke=T;};this.initialize=function(){aBw=this.gr().id;var bN=this.gr();var G;for(G=bN.childNodes.length-1;G>=0;G--){if(bN.childNodes[G].tagName!=='INPUT'){bN.removeChild(bN.childNodes[G]);}}this.kH.add_documentAdded(abe);this.kH.add_pageAdded(Lm);this.kH.add_pageRemoved(KL);this.kH.add_pageChanged(Bw);this.kH.add_documentChanged(atL);this.Lw(true);bN.aS=this;};};IPCC.Web.UI.ImGearThumbnailList.prototype={dispose:function(){this.bo('dispose',arguments);this.aqt();this.Lw(false);},get_debug:function(){try{var L=this.ti();this.be('get_debug',arguments,L);return L;}catch(e){this.V('get_debug',e);throw e;}},set_debug:function(value){try{this.bo('set_debug',arguments);var lJ=this.ti();this.Bg(value);if(!lJ){this.bo('set_debug',arguments);}}catch(e){this.V('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var L=this.pk();this.be('get_debugErrorLevel',arguments,L);return L;}catch(e){this.V('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bo('set_debugErrorLevel',arguments);var lJ=this.pk();this.rA(value);if(lJ<IPCC.Web.UI.DebugErrorLevel.Development){this.bo('set_debugErrorLevel',arguments);}}catch(e){this.V('set_debugErrorLevel',e);throw e;}},add_pageSelectionChanged:function(handler){try{this.awc(handler);}catch(e){this.V('add_pageSelectionChanged',e);throw e;}},remove_pageSelectionChanged:function(handler){try{this.azl(handler);}catch(e){this.V('remove_pageSelectionChanged',e);throw e;}},add_pageAddFailed:function(handler){try{this.awz(handler);}catch(e){this.V('add_pageAddFailed',e);throw e;}},remove_pageAddFailed:function(handler){try{this.azu(handler);}catch(e){this.V('remove_pageAddFailed',e);throw e;}},add_mouseDown:function(handler){try{this.zX(handler);}catch(e){this.V('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fu(handler);}catch(e){this.V('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GA(handler);}catch(e){this.V('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Gs(handler);}catch(e){this.V('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zK(handler);}catch(e){this.V('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Fs(handler);}catch(e){this.V('remove_mouseUp',e);throw e;}},add_propertyChanged:function(handler){try{this.add_propertyChanged(handler);}catch(e){this.V('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.kc(handler);}catch(e){this.V('remove_propertyChanged',e);throw e;}},writeToLog:function(message){try{this.iU(message);}catch(e){this.V('writeToLog',e);throw e;}},get_documents:function(){return this.Xq();},get_controlStateElementId:function(){try{var L=this.Jn();this.be('get_controlStateElementId',arguments,L);return L;}catch(e){this.V('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bo('set_controlStateElementId',arguments);this.JP(value);}catch(e){this.V('set_controlStateElementId',e);throw e;}},get_useDefaultStyling:function(){try{var L=this.asN();this.be('get_get_useDefaultStyling',arguments,L);return L;}catch(e){this.V('get_useDefaultStyling',e);throw e;}},set_useDefaultStyling:function(value){try{this.bo('set_useDefaultStyling',arguments);this.aob(value);}catch(e){this.V('set_useDefaultStyling',e);throw e;}},get_selectedPages:function(){try{var L=this.aso();this.be('get_currentSelectedPages',arguments,L);return L;}catch(e){this.V('get_currentSelectedPages',e);throw e;}},get_artDataChanged:function(){try{var L=this.asm();this.be('get_artDataChanged',arguments,L);return L;}catch(e){this.V('get_artDataChanged',e);throw e;}},get_xSpacing:function(){try{var L=this.akA();this.be('get_xSpacing',arguments,L);return L;}catch(e){this.V('get_xSpacing',e);throw e;}},set_xSpacing:function(value){try{this.bo('set_xSpacing',arguments);this.anS(value);}catch(e){this.V('set_xSpacing',e);throw e;}},get_ySpacing:function(){try{var L=this.asv();this.be('get_ySpacing',arguments,L);return L;}catch(e){this.V('get_ySpacing',e);throw e;}},set_ySpacing:function(value){try{this.bo('set_ySpacing',arguments);this.aoz(value);}catch(e){this.V('set_ySpacing',e);throw e;}},get_thumbnailHeight:function(){try{var L=this.asI();this.be('get_thumbnailHeight',arguments,L);return L;}catch(e){this.V('get_thumbnailHeight',e);throw e;}},set_thumbnailHeight:function(value){try{this.bo('set_thumbnailHeight',arguments);this.aom(value);}catch(e){this.V('set_thumbnailHeight',e);throw e;}},get_thumbnailWidth:function(){try{var L=this.asV();this.be('get_thumbnailWidth',arguments,L);return L;}catch(e){this.V('get_thumbnailWidth',e);throw e;}},set_thumbnailWidth:function(value){try{this.bo('set_thumbnailWidth',arguments);this.apf(value);}catch(e){this.V('set_thumbnailWidth',e);throw e;}},get_thumbnailBackgroundColor:function(){try{var L=this.ary();this.be('get_thumbnailBackgroundColor',arguments,L);return L;}catch(e){this.V('get_thumbnailBackgroundColor',e);throw e;}},set_thumbnailBackgroundColor:function(value){try{this.bo('set_thumbnailBackgroundColor',arguments);this.apX(value);}catch(e){this.V('set_thumbnailBackgroundColor',e);throw e;}},get_thumbnailSelectedBackgroundColor:function(){try{var L=this.arR();this.be('get_thumbnailSelectedBackgroundColor',arguments,L);return L;}catch(e){this.V('get_thumbnailSelectedBackgroundColor',e);throw e;}},set_thumbnailSelectedBackgroundColor:function(value){try{this.bo('set_thumbnailSelectedBackgroundColor',arguments);this.aoo(value);}catch(e){this.V('set_thumbnailSelectedBackgroundColor',e);throw e;}},get_thumbnailBorderWidth:function(){try{var L=this.asS();this.be('get_thumbnailBorderWidth',arguments,L);return L;}catch(e){this.V('get_thumbnailBorderWidth',e);throw e;}},set_thumbnailBorderWidth:function(value){try{this.bo('set_thumbnailBorderWidth',arguments);this.aqx(value);}catch(e){this.V('set_thumbnailBorderWidth',e);throw e;}},get_thumbnailBorderColor:function(){try{var L=this.asU();this.be('get_thumbnailBorderColor',arguments,L);return L;}catch(e){this.V('get_thumbnailBorderColor',e);throw e;}},set_thumbnailBorderColor:function(value){try{this.bo('set_thumbnailBorderColor',arguments);this.aoH(value);}catch(e){this.V('set_thumbnailBorderColor',e);throw e;}},get_resourcePath:function(){try{var L=this.mZ();this.be('get_resourcePath',arguments,L);return L;}catch(e){this.V('get_resourcePath',e);throw e;}},set_resourcePath:function(T){try{this.bo('set_resourcePath',arguments);this.tX(T);}catch(e){this.V('set_resourcePath',e);throw e;}},get_pageViewClientId:function(){try{var L=this.abE();this.be('get_pageViewClientId',arguments,L);return L;}catch(e){this.V('get_pageViewClientId',e);throw e;}},set_pageViewClientId:function(value){try{this.bo('set_pageViewClientId',arguments);this.aog(value);}catch(e){this.V('set_pageViewClientId',e);throw e;}},get_selectionMode:function(){try{var L=this.asx();this.be('selectionMode',arguments,L);return L;}catch(e){this.V('get_selectionMode',e);throw e;}},set_selectionMode:function(value){try{this.bo('set_selectionMode',arguments);this.aqs(value);}catch(e){this.V('set_selectionMode',e);throw e;}},get_layout:function(){try{var L=this.arJ();this.be('getthumbnailsLayout',arguments,L);return L;}catch(e){this.V('get_thumbnailsLayout',e);throw e;}},set_layout:function(value){try{this.bo('set_thumbnailsLayout',arguments);this.aoL(value);}catch(e){this.V('set_thumbnailsLayout',e);throw e;}},get_enabled:function(){try{var L=this.Qh();this.be('get_enabled',arguments,L);return L;}catch(e){this.V('get_enabled',e);throw e;}},get_thumbnailCaptionFormat:function(){try{var L=this.akA();this.be('get_thumbnailCaptionFormat',arguments,L);return L;}catch(e){this.V('get_thumbnailCaptionFormat',e);throw e;}},set_thumbnailCaptionFormat:function(value){try{this.bo('set_thumbnailCaptionFormat',arguments);this.app(value);}catch(e){this.V('set_thumbnailCaptionFormat',e);throw e;}},get_artServiceOption:function(){try{var L=this.yB();this.be('get_artServiceOption',arguments,L);return L;}catch(e){this.V('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bo('set_artServiceOption',arguments);this.yl(value);}catch(e){this.V('set_artServiceOption',e);throw e;}},selectPreviousThumbnail:function(){try{this.bo('selectPreviousThumbnail',arguments,1);this.aAj();}catch(e){this.V('selectPreviousThumbnail',e);throw e;}},selectNextThumbnail:function(){try{this.bo('selectNextThumbnail',arguments,1);this.aAh();}catch(e){this.V('selectNextThumbnail',e);throw e;}},selectFirstThumbnail:function(){try{this.bo('selectFirstThumbnail',arguments,1);this.aAz();}catch(e){this.V('selectFirstThumbnail',e);throw e;}},selectLastThumbnail:function(){try{this.bo('selectLastThumbnail',arguments,1);this.aAV();}catch(e){this.V('selectLastThumbnail',e);throw e;}},scrollToNextBand:function(){try{this.bo('scrollToNextBand',arguments,1);this.axj();}catch(e){this.V('scrollToNextBand',e);throw e;}},scrollToPreviousBand:function(){try{this.bo('scrollToPreviousBand',arguments,1);this.azb();}catch(e){this.V('scrollToPreviousBand',e);throw e;}},scrollToFirstThumbnail:function(){try{this.bo('scrollToFirst',arguments,1);this.axu();}catch(e){this.V('scrollToFirst',e);throw e;}},scrollToLastThumbnail:function(){try{this.bo('scrollToFirst',arguments,1);this.axz();}catch(e){this.V('scrollToFirst',e);throw e;}},scrollToSelectedThumbnail:function(){try{this.bo('ScrollToSelectedThumbnail',arguments,1);this.axo();}catch(e){this.V('ScrollToSelectedThumbnail',e);throw e;}},saveArtData:function(onComplete){try{this.bo('saveArtData',arguments,1);this.azw(onComplete);}catch(e){this.V('saveArtData',e);throw e;}},getArtPage:function(page){try{var L=this.gB(page);this.wA('getArtPage',arguments,L,1);return L;}catch(e){this.V('getArtPage',e);throw e;}},display:function(){try{this.bo('display',arguments,1);this.cR();}catch(e){this.V('display',e);throw e;}},get_requireRequestsOptimize:function(){try{var L=this.pn();this.be('get_requireRequestsOptimize',arguments,L);return L;}catch(e){this.V('pn',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bo('set_requireRequestsOptimize',arguments);this.rR(value);}catch(e){this.V('set_requireRequestsOptimize',e);throw e;}},get_pageViewFitType:function(){try{var L=this.asc();this.be('get_pageViewFitType',arguments,L);return L;}catch(e){this.V('get_pageViewFitType',e);throw e;}},set_pageViewFitType:function(value){try{this.bo('set_pageViewFitType',arguments);this.aoj(value);}catch(e){this.V('set_pageViewFitType',e);throw e;}},get_pageViewRotationDegreesClockwise:function(){try{var L=this.asT();this.be('get_pageViewRotationDegreesClockwise',arguments,L);return L;}catch(e){this.V('get_pageViewRotationDegreesClockwise',e);throw e;}},set_pageViewRotationDegreesClockwise:function(value){try{this.bo('set_pageViewRotationDegreesClockwise',arguments);this.aoQ(value);}catch(e){this.V('set_pageViewRotationDegreesClockwise',e);throw e;}},get_pageViewZoomFactor:function(){try{var L=this.arq();this.be('get_pageViewZoomFactor',arguments,L);return L;}catch(e){this.V('get_pageViewZoomFactor',e);throw e;}},set_pageViewZoomFactor:function(value){try{this.bo('set_pageViewZoomFactor',arguments);this.anV(value);}catch(e){this.V('set_pageViewZoomFactor',e);throw e;}},get_encryption:function(){try{var L=this.ea();this.be('get_encryption',arguments,L);return L;}catch(e){this.V('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bo('set_encryption',arguments);this.jw(value);}catch(e){this.V('set_encryption',e);throw e;}}};IPCC.Web.UI.ImGearThumbnailList.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearThumbnailList.registerClass('IPCC.Web.UI.ImGearThumbnailList',IPCC.Sys.UI.Control);IPCC.Type.registerNamespace('IPCC');IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum('IPCC.PageLayout',false);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};IPCC.ViewMode.registerEnum('IPCC.ViewMode',false);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};IPCC.FitType.registerEnum('IPCC.FitType',false);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.ScaleTrigger.registerEnum('IPCC.ScaleTrigger',false);IPCC.PageEventArgs=function(){return this;};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass('IPCC.PageEventArgs');IPCC.ExceptionEventArgs=function(){return this;};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass('IPCC.ExceptionEventArgs');IPCC.OpenPageEventArgs=function(){return this;};IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass('IPCC.OpenPageEventArgs');IPCC.Pagecounter=1;IPCC.PageList=function(element){var C=this;var HD=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var avx=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bw=new IPCC.Web.UI.gb();var ac=[];var xa;var bn='';var zR='';var bd='';var le='';var lN='';var sP=0;this.kH=new IPCC.Web.UI.ImGearDocumentCollection();var Ob=[];this.aEa=0;this.aDF={x:0,y:0};var hz=0;var Gp=0;var ll=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var ig=false;var cq=0;var fL=0;var qR=0;var hT=0;var wT=false;var cn=[];var ov=[];var Iq='';var cS=1;var cN=IPCC.Web.UI.MouseTool.None;var BJ=false;var uo=true;var bp=IPCC.bO.None;var jS;var eS=0;var gW=0;var hd=0;var jf=15;var ju=0;var hY=15;var nY=0;var oY=0;var qH=0;var oT=0;var adp=0;var hJ=0;var hE=0;var oB=1;var ew=IPCC.PageLayout.VerticalScrollDirection;var dk=IPCC.ViewMode.Document;var ow=null;var SV=null;var Pq=0;var qL=0;var zY=0;var kg=null;var Ly=0;var HG='';var Ew='';var lc=[];var fX=3;var wE=0;var Da=0.5;var CS=true;var Yl;var tW=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var nM=true;var mw;var dJ={};var tP=false;var nI=function(){return null;};var jB=null;var adP="font-size:11px;color:#888;text-align:center;cursor:pointer;";var adE=adP+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var ady=adP+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var SCREEN_RESOLUTION=96;var af;function gm(xk){if(!_debug){return false;}return ll>=xk;};this.V=function(eO,hF){if(!gm(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aM=eO+'() threw an exception ('+hF.name+'), "'+hF.message+'"';aM=aM.replace(/\n/g," ");IPCC.fK.iU(aM,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.gr().id);var oi=new IPCC.ExceptionEventArgs();oi.functionName=eO;oi.exception=hF;this.ay('exceptionThrown',oi);};this.bo=function(eO,ef,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=')';this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.wA=function(eO,ef,hO,ii){if(!gm(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],(ii?ii:0));}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Development);};this.be=function(eO,ef,hO){if(!gm(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aM=eO+'(';var G;for(G=0;G<ef.length;G++){if(G>0){aM+=', ';}aM+=IPCC.fK.iy(ef[G],0);}aM+=') = ';aM+=IPCC.fK.iy(hO,1);this.lX(aM,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.lX=function(gq,bm){IPCC.fK.iU(gq,IPCC.Web.UI.DebugItemCause.FunctionCall,bm,'PageList',this.gr().id);};this.iU=function(gq){IPCC.fK.iU(gq,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.gr().id);};this.ti=function(){return _debug;};this.Bg=function(T){var yS= ! !T;if(_debug===yS){return;}_debug=yS;var G=0;for(G=0;G<cn.length;G++){var aj;if(ac[cn[G]].aI){aj=document.getElementById(ac[cn[G]].aI).aS;}if(aj){aj.set_debug(_debug);}}this.aG('debug');};this.pk=function(){return ll;};this.rA=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.DebugErrorLevel);if(ll===T){return;}ll=T;var G=0;for(G=0;G<cn.length;G++){var aj;if(ac[cn[G]].aI){aj=document.getElementById(ac[cn[G]].aI).aS;}if(aj){aj.set_debugErrorLevel(ll);}}this.aG('debugErrorLevel');};function dh(aF,h){bw.addHandler(aF,h);};function ce(aF,h){bw.removeHandler(aF,h);};this.zX=function(h){dh('mouseDown',h);};this.Fu=function(h){ce('mouseDown',h);};this.GA=function(h){dh('mouseMove',h);};this.Gs=function(h){ce('mouseMove',h);};this.zK=function(h){dh('mouseUp',h);};this.Fs=function(h){ce('mouseUp',h);};this.aaY=function(h){dh('selectTextMouseToolCompleted',h);};this.UF=function(h){ce('selectTextMouseToolCompleted',h);};this.vp=function(h){dh('textPageReady',h);};this.xj=function(h){ce('textPageReady',h);};this.YI=function(h){dh('hyperlinkPageReady',h);};this.aed=function(h){ce('hyperlinkPageReady',h);};this.avW=function(h){dh('allPagesAdded',h);};this.azt=function(h){ce('allPagesAdded',h);};this.Ii=function(h){dh('pageOpening',h);};this.JQ=function(h){ce('pageOpening',h);};this.GL=function(h){dh('pageOpened',h);};this.Ju=function(h){ce('pageOpened',h);};this.Be=function(h){dh('pageOpenFailed',h);};this.As=function(h){ce('pageOpenFailed',h);};this.HT=function(h){dh('pageDisplayed',h);};this.IS=function(h){ce('pageDisplayed',h);};this.iO=function(h){dh('propertyChanged',h);};this.kc=function(h){ce('propertyChanged',h);};this.Yz=function(h){dh('exceptionThrown',h);};this.UN=function(h){ce('exceptionThrown',h);};this.BQ=function(h){dh('textExtractionFailed',h);};this.Fi=function(h){ce('textExtractionFailed',h);};this.AP=function(h){dh('markAdded',h);};this.xg=function(h){ce('markAdded',h);};this.ZT=function(h){dh('markCreating',h);};this.WT=function(h){ce('markCreating',h);};this.Cw=function(h){dh('markChanged',h);};this.Fj=function(h){ce('markChanged',h);};this.BE=function(h){dh('markReordered',h);};this.Gm=function(h){ce('markReordered',h);};this.CQ=function(h){dh('markSelectionChanged',h);};this.Fg=function(h){ce('markSelectionChanged',h);};this.Kl=function(h){dh('markTextSelectionChanged',h);};this.IY=function(h){ce('markTextSelectionChanged',h);};this.Ad=function(h){dh('markRemoved',h);};this.yQ=function(h){ce('markRemoved',h);};this.awK=function(h){dh('commentAdding',h);};this.azk=function(h){ce('commentAdding',h);};this.AG=function(h){dh('commentAdded',h);};this.FR=function(h){ce('commentAdded',h);};this.zi=function(h){dh('commentRemoved',h);};this.FT=function(h){ce('commentRemoved',h);};this.uq=function(h){dh('commentChanged',h);};this.vx=function(h){ce('commentChanged',h);};this.abD=function(h){dh('scaleChanged',h);};this.UY=function(h){ce('scaleChanged',h);};this.vW=function(){var aS=document.getElementById(ac[cq].aI).aS;if(aS){return aS.get_currentState();}else{return null;}};this.afi=function(){return ac[cq].ah;};this.uW=function(){return cS;};this.apV=function(bk){kt(bk,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.NU=function(av,xK,UK,es){es=es||IPCC.ScaleTrigger.Zoom;kt(cS*av,UK,undefined,undefined,undefined,xK,es);};this.alJ=function(av,aD,dZ,GH,es){es=es||IPCC.ScaleTrigger.Zoom;if(cS*av<8){kt(cS*av,false,aD,dZ,GH,undefined,es);}else{kt(8,false,aD,dZ,GH);}};this.WN=function(av,es){es=es||IPCC.ScaleTrigger.Zoom;kt(cS/av,false,undefined,undefined,undefined,undefined,es);};this.atc=function(){return VN();};this.ads=function(es,ft,UV){var KP,Lg,bJ,ao;var Tw=0;var G=0;for(G=0;G<ac.length;G++){bJ=ac[G].bJ;ao=ac[G].ao;if(iz(ac[G].ht)===true){var HJ=bJ;bJ=ao;ao=HJ;}if(bJ>0&&ao>0){var IF=bJ/ao;if(IF>Tw){Tw=IF;KP=ao;Lg=bJ;}}}if(Tw>0){var anM=(bn.offsetWidth-IPCC.Web.ox()-ww()-(jf+hY+oY+oT));var aoT=anM/(Lg*SCREEN_RESOLUTION/ac[0].hg);var dU=eS;var fc=gW;if(iz(ac[0].ht)===true){dU=gW;fc=eS;}var aio=KP/fc*aoT;var lz=(bn.clientHeight-(hd+ju+nY+qH))/(fc*SCREEN_RESOLUTION/ac[0].gf);var HI=aio;if(UV===true&&aio>lz){HI=lz;}kt(HI,true,undefined,undefined,undefined,undefined,es,ft);}};this.adA=function(es,ft,UV){var KP,Lg,bJ,ao;var Uj=0;var G=0;for(G=0;G<ac.length;G++){bJ=ac[G].bJ;ao=ac[G].ao;if(iz(ac[G].ht)===true){var HJ=bJ;bJ=ao;ao=HJ;}if(bJ>0&&ao>0){var IF=ao/bJ;if(IF>Uj){Uj=IF;KP=ao;Lg=bJ;}}}if(Uj>0){var aof=(bn.offsetHeight-IPCC.Web.ox()-(hd+ju+nY+qH));var aoi=aof/(KP*SCREEN_RESOLUTION/ac[0].gf);var dU=eS;var fc=gW;if(iz(ac[0].ht)===true){dU=gW;fc=eS;}var ahU=Lg/dU*aoi;var lz=(bn.clientWidth-ww()-(jf+hY+oY+oT))/(dU*SCREEN_RESOLUTION/ac[0].hg);var HI=ahU;if(UV===true&&ahU>lz){HI=lz;}kt(HI,true,undefined,undefined,undefined,undefined,es,ft);}};this.arw=function(ft,es){if(C.xe&&typeof C.xe==='function'){C.xe();}var bJ;var ao;var eZ;var lh=1;es=es||IPCC.ScaleTrigger.Fit;if(ft===IPCC.FitType.FitToWidth){if(dk===IPCC.ViewMode.Document){lh=(bn.offsetWidth-IPCC.Web.ox()-ww()-(jf+hY+oY+oT))/(hJ/cS);kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}else if(dk===IPCC.ViewMode.SinglePage){if(iz(ac[cq].ht)===true){bJ=ac[cq].ao;eZ=SCREEN_RESOLUTION/ac[cq].gf;}else{bJ=ac[cq].bJ;eZ=SCREEN_RESOLUTION/ac[cq].hg;}lh=(bn.offsetWidth-IPCC.Web.ox()-ww()-(jf+hY+oY+oT))/(bJ*eZ);kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}else{if(ew===IPCC.PageLayout.VerticalScrollDirection){ZC(es,ft);}else{C.ads(es,ft);}}}else if(ft===IPCC.FitType.ShrinkToWidth){var anw=bn.clientWidth-ww();var aoe=20;var Rh=anw-aoe;if(dk===IPCC.ViewMode.SinglePage){if(iz(ac[cq].ht)===true){bJ=ac[cq].ao;eZ=SCREEN_RESOLUTION/ac[cq].gf;}else{bJ=ac[cq].bJ;eZ=SCREEN_RESOLUTION/ac[cq].hg;}if(Rh<cS*bJ*eZ){lh=(bn.offsetWidth-IPCC.Web.ox()-ww()-(jf+hY+oY+oT))/(bJ*eZ);kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}}else{if(Rh<hJ){kt(cS*Rh/hJ,true,undefined,undefined,undefined,undefined,es,ft);}}}else if(ft===IPCC.FitType.ActualSize){if(dk===IPCC.ViewMode.Document||dk===IPCC.ViewMode.SinglePage){kt(1,true,undefined,undefined,undefined,undefined,es,ft);}}else if(ft===IPCC.FitType.FitToHeight){if(dk===IPCC.ViewMode.Document){lh=(bn.offsetHeight-IPCC.Web.ox()-(hd+ju+nY+qH))/(hE/cS);kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}else if(dk===IPCC.ViewMode.SinglePage){if(iz(ac[cq].ht)===true){ao=ac[cq].bJ;eZ=SCREEN_RESOLUTION/ac[cq].hg;}else{ao=ac[cq].ao;eZ=SCREEN_RESOLUTION/ac[cq].gf;}lh=(bn.offsetHeight-IPCC.Web.ox()-(hd+ju+nY+qH))/(ao*eZ);kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}else{if(ew===IPCC.PageLayout.HorizontalScrollDirection){ZC(es,ft);}else{C.adA(es,ft);}}}else if(ft===IPCC.FitType.BestFit){var FG;if(dk===IPCC.ViewMode.Document){lh=(bn.offsetWidth-IPCC.Web.ox()-(jf+hY+oY+oT))/(hJ/cS);FG=(bn.offsetHeight-IPCC.Web.ox()-(hd+ju+nY+qH))/(hE/cS);if(FG<lh){lh=FG;}kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}else if(dk===IPCC.ViewMode.SinglePage){if(iz(ac[cq].ht)===true){bJ=ac[cq].ao;ao=ac[cq].bJ;eZ=SCREEN_RESOLUTION/ac[cq].hg;}else{bJ=ac[cq].bJ;ao=ac[cq].ao;eZ=SCREEN_RESOLUTION/ac[cq].gf;}lh=(bn.offsetWidth-IPCC.Web.ox()-ww()-(jf+hY+oY+oT))/(bJ*eZ);FG=(bn.offsetHeight-IPCC.Web.ox()-(hd+ju+nY+qH))/(ao*eZ);if(FG<lh){lh=FG;}kt(lh,true,undefined,undefined,undefined,undefined,es,ft);}else{if(ew===IPCC.PageLayout.HorizontalScrollDirection){C.ads(es,ft,true);}else{C.adA(es,ft,true);}}}};this.aBA=function(aa,aT){var ai=ac[aa-1];var bj=document.getElementById(ai.aI);var Eg=[];if(bj){var ep,EH,aX;try{ep=RQ(bj);}catch(e){return null;}Eg=IPCC.aY.map(aT,function(fS){EH=bj.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(fS.x,fS.y),true);aX=aaG(bj,EH.x,EH.y,ep);return{clientX:aX.x,clientY:aX.y};});return Eg;}else{return null;}};this.aqU=function(){var G=0;for(G=0;G<ac.length;G++){C.cR(G);}zO();ml(true);};this.cR=function(aQ){var am;if(ac[aQ].aI){am=document.getElementById(ac[aQ].aI);}C.wQ(am,aQ);};this.wQ=function(am,aQ){if(kg!==null){return;}if(am&&am.aS&&am.aS.gU()===true){var aj=am.aS;aj.display();ac[aQ].eY=true;var rG=false;for(var ag=0;ag<cn.length;ag++){if(cn[ag]===aQ){rG=true;}}if(rG===false){cn.push(aQ);}if(dk===IPCC.ViewMode.SinglePage){var jY= -1;if(Array.prototype.indexOf){jY=lc.indexOf(aQ);}else{jY=IPCC.Web.hA(lc,aQ);}if(jY!== -1){lc.splice(jY,1);}}}};this.zA=function(aQ,H){var am;if(ac[aQ].aI){am=document.getElementById(ac[aQ].aI);}if(am&&am.aS){am.aS.zA(H);}};this.pP=function(aQ){var am;if(ac[aQ].aI){am=document.getElementById(ac[aQ].aI);}if(am&&am.aS){am.aS.pP();}};this.Yx=function(eQ){var og=false;if(IPCC.Web.mI.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mI.indexOf(eQ)>=0){return true;}}else{if(IPCC.Web.hA(IPCC.Web.mI,eQ)>=0){return true;}}}return og;};var om='';this.qt=function(T){om=T;};this.gr=function(){return om;};this.ay=function(aF,K){try{var h=bw.getHandler(aF);if(h!==null){h(C,K);}}catch(e){C.V(aF+'Event',e);}};this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};this.awt=function(h){bw.addHandler('currentPageChanged',h);};this.azP=function(h){bw.removeHandler('currentPageChanged',h);};this.abA=function(){return bd.style.cursor||'auto';};this.aoI=function(T){bd.style.cursor=T||'auto';};this.Vr=function(){return cN;};this.Ma=function(T){IPCC.bB.jn(T,'value',IPCC.Web.UI.MouseTool);var nU=false;if(cN!==T){jS=null;cN=T;switch(cN){case IPCC.Web.UI.MouseTool.HandPan:bp=IPCC.bO.HandOpen;bd.style.cursor=IPCC.bO.fE(bp);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:C.yf();bp=IPCC.bO.Text;bd.style.cursor=IPCC.bO.fE(bp);break;case IPCC.Web.UI.MouseTool.None:bp=IPCC.bO.None;bd.style.cursor=IPCC.bO.fE(bp);break;case IPCC.Web.UI.MouseTool.Magnifier:bp=IPCC.bO.Magnifier;bd.style.cursor=IPCC.bO.fE(bp);break;case IPCC.Web.UI.MouseTool.RectangleZoom:bp=IPCC.bO.RectangleZoom;bd.style.cursor=IPCC.bO.fE(bp);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:bp=IPCC.bO.AddRectangleMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:bp=IPCC.bO.AddRectangleRedactionMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:bp=IPCC.bO.AddEllipseMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:bp=IPCC.bO.AddLineMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.qU()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:bp=IPCC.bO.AddStampMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:bp=IPCC.bO.AddImageStampMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:bp=IPCC.bO.AddImageStampMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:bp=IPCC.bO.AddTextMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:bp=IPCC.bO.AddTextMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.eH(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:bp=IPCC.bO.AddFreehandLineMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.oa()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:bp=IPCC.bO.AddPolylineMark;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.nc(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:bp=IPCC.bO.EditMarks;bd.style.cursor=IPCC.bO.fE(bp);nU=true;jS=function(){return[new IPCC.oH(IPCC.Web.UI.MarkType.Text)];};break;default:bp=IPCC.bO.None;bd.style.cursor=IPCC.bO.fE(bp);break;}var G=0;for(G=0;G<ac.length;G++){var aj;if(ac[G].aI){var am=document.getElementById(ac[G].aI);if(am){aj=am.aS;}}if(aj){if(nU===true){aj.Kj(jS());}else{aj.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}}this.aG('mouseTool');}};this.asg=function(){return BJ;};this.aAk=function(bool){BJ= ! !bool;};this.zF=function(){return tW;};this.Mi=function(T){if(tW!==T){tW=T;var G=0;for(G=0;G<cn.length;G++){var am;var aj;am=document.getElementById(ac[cn[G]].aI);aj=am.aS;if(aj){aj.set_markHandleMode(tW);this.wQ(am,G);}}this.aG('markHandleMode');}};this.hX=function(){return uo;};this.yH=function(T){if(uo!==T){uo=T;var G=0;for(G=0;G<cn.length;G++){var aj;if(ac[cn[G]].aI){aj=document.getElementById(ac[cn[G]].aI).aS;}if(aj){aj.set_textRequired(uo);}}this.aG('textRequired');}};this.asf=function(){return fX;};this.aoy=function(T){if(T<0){T=0;}if(fX!==T){fX=T;this.aG('maxPrefetch');}};this.asj=function(){return CS;};this.azG=function(T){if(CS!==T){CS=T;this.aG('displayPagesWhenScrolling');}};this.asR=function(){return wE;};this.alF=function(T){if(T<0){T=0;}if(wE!==T){wE=T;this.aG('maxOutOfViewDisplay');}};this.ate=function(){return Da;};this.aqc=function(T){if(T<0){T=0;}if(Da!==T){Da=T;this.aG('scrollDisplayThreshold');}};this.atj=function(){return ew;};this.aoh=function(T){if(ew===T){return;}ew=T;if(bn===''||bn.clientHeight<=0||dk===IPCC.ViewMode.SinglePage){this.aG('pageLayout');return;}var BW=cq;var JX=dk;if(dk===IPCC.ViewMode.EqualWidthPages||dk===IPCC.ViewMode.EqualFitPages){C.Oj(IPCC.ViewMode.Document);}bn.scrollLeft=0;bn.scrollTop=0;var G=0;var am;if(ew===IPCC.PageLayout.VerticalScrollDirection){if(lN){lN.setAttribute('style',adE);}zR.insertBefore(le,lN);for(G=0;G<ac.length;G++){am=document.getElementById(ac[G].aI);am.style.display='block';if(eS>0){am.style.margin=hd+'px auto '+ju+'px auto';}}bd.style.margin='0px '+jf+'px 0px '+hY+'px';bn.scrollLeft=(hJ-bn.clientWidth)/2+jf+oY;}else{if(lN){lN.setAttribute('style',ady);}zR.removeChild(le);for(G=0;G<ac.length;G++){am=document.getElementById(ac[G].aI);am.style.display='inline-block';if(eS>0){am.style.margin=hd+'px '+jf+'px '+ju+'px '+hY+'px';}}bd.style.margin='0px';bn.scrollTop=(hE-bn.clientHeight)/2+hd+nY;}if(JX===IPCC.ViewMode.EqualWidthPages){C.Oj(IPCC.ViewMode.EqualWidthPages);}else if(JX===IPCC.ViewMode.EqualFitPages){C.Oj(IPCC.ViewMode.EqualFitPages);}this.sk(BW);ml(true);this.aG('layout');};this.asy=function(){return dk;};this.Oj=function(T,es){es=es||IPCC.ScaleTrigger.ViewMode;if(dk===T){return;}dk=T;if(bn===''||bn.clientHeight<=0){this.aG('viewMode');return;}var BW=cq;this.sk(BW);if(dk===IPCC.ViewMode.Document){var lz=1;var bJ=eS;var ao=gW;if(iz(pM)===true){bJ=gW;ao=eS;}if(ew===IPCC.PageLayout.VerticalScrollDirection){lz=(bn.clientWidth-(jf+hY+oY+oT))/bJ;}else{lz=(bn.clientHeight-(hd+ju+nY+qH))/ao;}kt(lz,true,undefined,undefined,undefined,undefined,es);}else{ZC(es);}this.sk(BW);this.aG('viewMode');Cg(dJ,true);mO(dJ,true);};var pM=0;this.arF=function(){return pM;};this.aov=function(T){if(pM!==T){pM=T;var G=0;for(G=0;G<ac.length;G++){if(ac[G].Hn===0){ac[G].ht=pM;}}this.aG('pageRotation');}};this.TL=function(aa){var cv;if(arguments.length>0){if(!isNaN(aa)){cv=aa;}else{cv=cq;}}else{cv=cq;}for(var G=0;G<ac.length;G++){if(cv===G){return ac[G].ht;}}return 0;};var ke=false;this.ea=function(){return ke;};this.jw=function(T){if(typeof T!=="boolean"){return;}if(T===ke){return;}ke=T;};this.asr=function(){return Yl;};this.aAJ=function(T,stampImages,vE,uf){if(Yl!==T){Yl=T;var G=0;for(G=0;G<ac.length;G++){if(ac[G].bJ>0){ac[G].bA.afV(T,G,ac[G].bJ,ac[G].ao,null,stampImages,vE,uf);ac[G].zQ=false;}else{ac[G].bA.afV(T,G,eS,gW,null,stampImages,vE,uf);ac[G].zQ=true;}}this.aG('annotationXmlDom');}};var mr;this.tX=function(T){mr=T;};this.mZ=function(){return mr;};var pU=false;this.lT=function(){return pU;};this.qn=function(T){if(typeof T!=="boolean"){return;}if(T===pU){return;}pU=T;IPCC.aY.forEach(ac,function(cE,G){var aj;if(ac[G].aI){aj=document.getElementById(ac[G].aI).aS;if(aj){aj.qn(pU);}aj=undefined;}});};this.alD=function(T){if(Iq!==T){Iq=T;this.aG('loadingContent');}};this.auF=function(){return Iq;};this.auf=function(){var aer=new IPCC.Web.UI.ImGearPageCollection();var G=0;for(G=0;G<cn.length;G++){aer.aim(ac[cn[G]].ah);}return aer;};this.asY=function(aQ){if(ac[aQ]){return ac[aQ].aI;}};this.pn=function(){return nM;};this.rR=function(T){nM=T;};this.jE=function(){return mw;};this.sc=function(T){mw=T;};this.Tz=function(ai,CP,Cl){var C=this;if(ai.nq()>0||ai.mV()>0){CP(ai.nq(),ai.mV());return;}ai.requestPageAttributes(function(bf,cY){if(ac[ai.get_pageNumber()].zQ===true&&bf!==eS){var jb=bf/eS;var bA=C.gB(ai);if(bA){ags(bA,jb);}}ac[ai.get_pageNumber()].zQ=false;CP(bf,cY);},function(fB){Cl(fB);});};this.axY=function(){if(tP===true){return;}tP=true;this.er(le,'pccHidden');Cg(dJ,true);mO(dJ,true);};this.apB=function(){if(tP===false){return;}tP=false;this.jW(le,'pccHidden');};this.auu=function(){return tP;};this.jW=function(bU,uU){var Jd=new RegExp('(?:^|\\s)'+uU+'(?!\\S)','g');if(bU.className.match(Jd)===null){bU.className=bU.className+' '+uU;}};this.er=function(bU,uU){var Jd=new RegExp('(?:^|\\s)'+uU+'(?!\\S)','g');bU.className=bU.className.replace(Jd,'');};this.arO=function(){return nI;};this.aAo=function(T){nI=T;};this.arY=function(){return jB;};this.arj=function(T){if(jB===T){return;}var H,dC,vX;if(jB){H=jB.get_mark();vX=dJ[H.get_markID()];dC=nI(H,{isSelected:true},(vX)?vX.dC:undefined);if(vX){Gz(H,dJ,dC);}}H=dC=vX=undefined;jB=T;if(jB){H=jB.get_mark();vX=dJ[H.get_markID()];dC=nI(H,{isSelected:true},(vX)?vX.dC:undefined);if(vX){Gz(H,dJ,dC);}}mO(dJ,true);};this.aAp=function(WL){var lg=yN();IPCC.aY.forEach(WL,function(Md){var dE=dJ[Md];if(dE){var mR=nI(dE.H,{isSelected:(dE.H.get_conversation()===jB)},dE.dC);if(!IPCC.aY.vs(mR)){throw new Error(mR+' is not a valid HTMLElement');}if(mR!==dE.dC){Gz(dE.H,dJ,mR);}}});mO(dJ,true,lg);};this.initialize=function(){var bN=this.gr();var G;for(G=bN.childNodes.length-1;G>=0;G--){if(bN.childNodes[G].tagName!=='INPUT'){bN.removeChild(bN.childNodes[G]);}}this.kH.add_documentAdded(abe);this.kH.add_pageAdded(Lm);this.kH.add_pageRemoved(KL);this.Lw(true);bN.aS=this;aec();var TA='webkit moz o'.split(' '),vY='';if(bd.style.animationName!==undefined){HG='animationend';Ew='transitionend';return;}for(G=0;G<TA.length;G++){if(bd.style[TA[G]+'Animation']!==undefined){vY=TA[G];HG=vY+'AnimationEnd';Ew=vY+'TransitionEnd';break;}}};this.avC=function(){lN=document.createElement('div');var Cb=document.createElement('div'),afR=document.createElement('div'),lH=document.createElement('button'),xO=document.createElement('span'),gy=new Date(),Kw=gy.getFullYear(),OH='?utm_source=rv&utm_medium=rv&utm_campaign=rv'+Kw,alO=function(){C.jW(Cb,'open');},acl=function(){C.er(Cb,'open');};lH.innerHTML='&#215;';lH.setAttribute('type','button');afR.innerHTML='<h3>Prizm Content Connect v10.4.1029.7010</h3><p>Prizm Content Connect is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about Prizm Content Connect at <a href="http://www.accusoft.com'+OH+'">www.accusoft.com</a>.</p><p>&copy; '+Kw+' Accusoft - All Rights Reserved.</p>';Cb.className='pccPageListAboutModal';Cb.appendChild(lH);Cb.appendChild(afR);element.appendChild(Cb);xO.setAttribute('style',''+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAvlJREFUeNp0kk9IHGcYxp95Z76Zb/bbT8xuFXdd3QXBquTmoX/EWgoe7MmI9laKZ2/SemlDaRsIRG9JLz30kFx6Smkh5lQs/WMXehHciEiVKllYdHdmcGeZcXe/b3pIWppoHniO7+/9wfsaS0tLuCoXFxcYHh7+tq+vb7nZbPpEZJim2ZskyR+7u7tv+74PIQSSJHlhzqpWq1cC4zhGFEW3hRALrutei+MY3W4XqVTqrWKx+L3neTeCIIBt2y9AzYmJCTiOc6lSSoRh6Hme97BUKq0kSWJordHpdNDf3z+WSqVe833/sRACruuCcw7OOYyNjY1Ldv9ulFKiUqlgf3//w5mZmfutVgtaawAA5xzVanUtCIL1fD4PIoLWGlaxWLwE1FrDMAzYtm3mcrnC4eHhg+3t7denp6c/9X0fANButzE0NHSHiPbK5fIjpRQYY6AwDPGqep63GkXR38vLy+9GUfTZwcHBr5lMBkmSQCmFbreLwcHBH1qt1sTOzg6Ojo5AeHU+NgzjThiGkFL+uLCwYG1tbb1zcnJSkVL+9wlaa3NxcfGn2dnZzOjo6NVAIvocwDoRQQiBs7OzT4QQ3fHxcezt7a2YpgnLsgAAURSBiAYmJye/azabMOfn51/m3TMMY822bSilolqtthpFUeX8/PzG2NgYPz09/SUIgsrAwMAHnU4HRM+cHMcZ4Zz3Wy9d965t2ytKKcRxjDAMn8ZxvJROp+/29PRACIFCoXBzc3PzluM4X5VKpZtBEJw3Go37pmnWc7nc7/83fGhZ1ke+7//m+77SWl9zHCfb29tbJCIkSQKtNfL5/HthGP5ZrVa/SafTFaXUg2w2mxkZGfkCwFMLgAXgZwBTRPSEiOaCIAjb7fabtm2PMsYKrutOcc6nGWPStm3Mzc09Oj4+/pox9lc2m/2SMSY9z1ur1WrrFoDV59DrSqknQghwzlGv18uGYZSTJIHrupBSMiJ6gzE2JaVczOfzK0SERqPxuF6vv29ZFkzTxD8DAOIqXOXDxS7hAAAAAElFTkSuQmCC)'+' no-repeat;'+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAB3dJREFUeNqkl0tsG9cVhv97586T5FAULVKibFmiHAu2E7R2ZMZtVTtJi3ahjV9Igy4CxAW0CQIvEvQBZOdFs+imRbsKUBe2gyBujcLOC0lTx5WFNrCMMorhGHJb2YJMPWlxRHKGM3d4Z7oRCVkVHdm9wFlwMMPz4Zzz//deMjIygkdd9XodyWTyb6qqHnRdt0gplVq8qkqSZFiWdbRYLP7ZcRyEYQhCyKZzkYMHDz4yoO/7iMVih3K53JUwDOH7/oZJwzCEJEnQNI3fvHkzNzk5OSHLMiRJ2nQuqbe3F4SQRwpJkmBZ1rSu6/9Kp9PHPM9rmSAIAhBCJNM0h1dWVs7W63VHURRIkrSpIMPDw3jcxTnH1q1bf7V9+/bXbNtu2bogCKDrOsIwvDo5OXlwcXERiqJsKgd91Oo1glKKIAhw586d113X/cAwDARBsHESSuG6Lhhj381kMu/4vg/f95vwQoiWIfX09KBer28qhBAP/A7DEJRSeJ73YSKR+JGiKIlW80gIaczuk4qiMM75Z5IkQVVV6LoOVVU3DJbL5TZV6jAMm0CNpSgKyuUyRkdHLdd1jw4ODl4TQsgPE02tVkNfX98bsVjsP9PT038wTRO6rkMIsWFetm/fvk0DBkHwgAIlSYIsy1hZWcGZM2e+oJSeOHDgwNlSqYQwDDesYhiGsG0bpmme1jRt1nGcT1RVRUPd679jlUrlsQHDMIQsyzh27BgqlQry+fy5/v7+PfF4/OflcvmBaq+FFEKAUoq+vr535+bmnq5Wq1Plchme5/2PBZHTp08/NuDq898YhvGxLMsfnDp1CpOTkxgZGfm4vb39B5VKZUPIhjg0TQNj7HY+nx8cGxurWJYFXdcfFBj+v/U2IeRV27bPAciePHkSnZ2dmJiYeEFRlClN075W2WEY7hwYGLgQiURACIGqqlAUpRnS4cOHN02zTiSXABxfbZvmOM73u7u7f9/X11c/f/68VywW/7579+6fhGFIhRAtlc05h2ma/el0OgPgfU3TkEqlkEgkkEgkHhvwMwA/XFeRVKVS2d/T03NO13WMjo7OdnZ2TnV0dBzlnLfeawmB53nIZDJPq6rqz83NXU0mk4hEIojFYo8MGKGUXgUw1OKVbkrp2729vda1a9cwMTHxZSKR0Lq7u4dc133oIYFzjvb29u9xzm+Vy+WbQgg4jrN5QEJInBDyD0LI3hYzVZZl+XnXdb9aWFhANBrFzMwMLMv6a39//wFd13d4ntey1Q0fzGazxzjnH929e3d2dnZ20yLZAmCcELJnfcsJIVAUZVEI8Q3Hccanp6cxNTWFvXv34vjx4+js7MSNGzdetG17WtO0Df2xIRrOORzHof39/Zd0Xe8uFoubAuwHkAfwxHo4Xdeh6/pHCwsL6Vu3bt11HCcthDAB4P79+0gmk0ilUlheXl65ffv2C7Isi43MeC2k4zhgjHUODQ19fujQoeTXAQ4AuA5g6/qWGIaBYrF4Znx8/MTS0tJLyWTyK8bYfFtb2/S2bdtuGoZxOQiC12q1GiKRCABcm5mZeVmW5Zaz2PjfSqUCxlj7wMBAD3sI3FMAxgCYjY8ppc1Nf2VlxV1eXk60tbV9sWXLlnQQBPB9H5qmtRmG0SaE2G0YxnO7du1K5fP5nxWLRdTr9bOKojyZyWR+allWE7RxPqzVapifn3/XcZxfApgwTbOlSJ4BcDUMwyhjDIwxCCHgeV5o2zYcx4HneXI8Hh8wDCPKOW/OY2PHaRwuMpnMdyzLKly8ePGfqqoiEol8qqpqzjCMJwCAMYZyuVwqFApvhGE4vLy8/EfTNJd6e3vDVCplbLTVfRvAKACJEBK4rsuFEJoQoumDDZBWs7R2TlVVRb1ex9jY2LcWFhY+X21jx86dO//CGNOKxeII53xU0zR0dXW90tXV9SaAqO/7KBQKr69v8dCqCUurQ0s9zxuZmZn5MhaL/VjTtEFJkvaqqppYVS+CIGjGemBCCFzXhaZpOHLkyMULFy7kXNed3rFjx1K5XP5mEAQwTTOSyWR+G4/HXwmCALIsw3VdLC4unrp3796v1wI+C+AyALL29pZOp8uO40xYljXhui5KpZIK4Kmurq5ngiDI6bo+qKrqLsYYkWW5WdlGqxv2Ua1WU9ls9rJlWYMdHR2lWCx2VFGUV9va2p6llCIMQwghUCwWLzmO87Jt28uyLKMBOAzg/TWw0wDep5T+yfO8K7FYDNVqFYwxAPBc173ued71paWl31FKQSntzGQy+znng9FoNMcY28cYS8my3KykbdvIZrNZz/Nuua4bpFKprrWWU61WC9Vq9cT8/Pwn8Xi8eWdhAF4E8A6AAoC3AHwIYHzt3ttw+YYQJEkCpRSapkEIgSAI5jnn75VKpffq9To454qqqnsopYPRaHQ/gEFVVfd4nqfIspw2DAOe5yEIAnDOUSqV3rRt+xeKokBVVVBKUa/Xm4BbADwH4MrjnLfWXqIadkEp5b7v54UQed/336rVamhvb++o1Wr7NE0bBJCLx+PPu657o1AovEQp/Xc0Gt3wvvzfAQC0fOWy6L2jqgAAAABJRU5ErkJggg==)'+' no-repeat 0% 0% / 20px');xO.style.width='20px';xO.style.height='14px';xO.style.display='inline-block';xO.style.position='relative';xO.style.marginRight='5px';xO.style.top='3px';lN.appendChild(xO);lN.innerHTML+='Prizm Content Connect v10.4.1029.7010';if(ew===IPCC.PageLayout.HorizontalScrollDirection&&dk!==IPCC.ViewMode.SinglePage){lN.setAttribute('style',ady);}else{lN.setAttribute('style',adE);}zR.appendChild(lN);if(!lN.addEventListener){lN.attachEvent('onclick',alO);}else{lN.addEventListener('click',alO,false);}if(!lH.addEventListener){lH.attachEvent('onclick',acl);}else{lH.addEventListener('click',acl,false);}adp=lN.offsetHeight;};this.Qh=function(){return ig;};this.Lw=function(T){ig=T;this.aG('enabled');};this.ayE=function(){if(cq+1<ac.length){C.sk(cq+1);}};this.aAs=function(){var Vl=cq-1;if(Vl<0){Vl=0;}C.sk(Vl);};function BZ(K){IPCC.Web.UI.aE.removeHandler(K.target,HG,BZ);IPCC.Web.UI.aE.removeHandler(K.target,Ew,BZ);if(Ly>cq){C.er(K.target,'pccNextPageIn');C.er(K.target,'pccPreviousPageIn');C.er(K.target,'pccCurrentPage');C.er(K.target,'pccPageBack');C.er(K.target,'pccPageForward');C.jW(K.target,'pccNextPage');}else if(Ly<cq){C.er(K.target,'pccNextPageIn');C.er(K.target,'pccPreviousPageIn');C.er(K.target,'pccCurrentPage');C.er(K.target,'pccPageBack');C.er(K.target,'pccPageForward');C.jW(K.target,'pccPreviousPage');}C.er(bd,'pccPageListContainerPageChanging');bn.style.overflow='auto';kg=null;bd.style.overflow='hidden';var nd=IPCC.aY.filter(dJ,function(el){return el.aa===cq+1;});Nv(nd);setTimeout(function(){ml(true);},60);};this.sk=function(aQ){var JM=cq;var nd;if(dk===IPCC.ViewMode.SinglePage){qR=aQ;fL=aQ;hT=aQ;nd=IPCC.aY.filter(dJ,function(el){return el.aa!==aQ+1;});Kf(nd);}else{var ai=document.getElementById(ac[aQ].aI);wT=true;if(ew===IPCC.PageLayout.VerticalScrollDirection){bn.scrollTop=ai.offsetTop;}else{bn.scrollLeft=ai.offsetLeft;}}if(cq!==aQ){cq=aQ;var K=new IPCC.PageEventArgs();K.imGearPage=C.get_currentPage();K.pageIndex=cq;K.pageNodeID=ac[cq].aI;C.ay('currentPageChanged',K);if(dk===IPCC.ViewMode.SinglePage){var hs=document.getElementById(ac[cq].aI);var sX=document.getElementById(ac[JM].aI);if(hs===null){hs=ez({overflow:'hidden',position:'absolute',margin:'0px'});hs.className='pccPageListItem pccCurrentPage';lc.push(cq);if(eS>0){if(iz(pM)===true){hs.style.width=gW*cS*SCREEN_RESOLUTION/ac[cq].gf+'px';hs.style.height=eS*cS*SCREEN_RESOLUTION/ac[cq].hg+'px';}else{hs.style.width=eS*cS*SCREEN_RESOLUTION/ac[cq].hg+'px';hs.style.height=gW*cS*SCREEN_RESOLUTION/ac[cq].gf+'px';}}else{hs.style.width=bd.clientWidth-jf-hY+'px';hs.style.height=bd.clientWidth*0.8+'px';}hs.style.display='block';hs.setAttribute('id',ac[cq].aI);bd.appendChild(hs);}if(Ew.length>0){bn.style.overflow='hidden';bd.style.width=hs.style.width;bd.style.height=hs.style.height;bd.style.overflow='visible';if(kg!==null){IPCC.Web.UI.aE.removeHandler(kg,HG,BZ);IPCC.Web.UI.aE.removeHandler(kg,Ew,BZ);if(Ly>cq){this.er(kg,'pccNextPageIn');this.er(kg,'pccPreviousPageIn');this.er(kg,'pccCurrentPage');this.er(kg,'pccPageForward');this.er(kg,'pccPageBack');this.jW(kg,'pccNextPage');}else if(Ly<cq){this.er(kg,'pccNextPageIn');this.er(kg,'pccPreviousPageIn');this.er(kg,'pccCurrentPage');this.er(kg,'pccPageForward');this.er(kg,'pccPageBack');this.jW(kg,'pccPreviousPage');}}IPCC.Web.UI.aE.addHandler(sX,HG,BZ);IPCC.Web.UI.aE.addHandler(sX,Ew,BZ);kg=sX;Ly=JM;this.jW(bd,'pccPageListContainerPageChanging');if(cq>JM){this.jW(sX,'pccPageForward');this.er(hs,'pccPageBack');this.er(hs,'pccPreviousPage');this.er(hs,'pccPreviousPageIn');this.er(hs,'pccNextPage');this.jW(hs,'pccCurrentPage');this.jW(hs,'pccNextPageIn');}else{this.jW(sX,'pccPageBack');this.er(hs,'pccPageForward');this.er(hs,'pccPreviousPage');this.er(hs,'pccNextPage');this.er(hs,'pccNextPageIn');this.jW(hs,'pccCurrentPage');this.jW(hs,'pccPreviousPageIn');}}else{bd.style.width=hs.style.width;bd.style.height=hs.style.height;if(cq>JM){this.er(sX,'pccNextPage');this.er(sX,'pccCurrentPage');this.jW(sX,'pccPreviousPage');}else{this.er(sX,'pccPreviousPage');this.er(sX,'pccCurrentPage');this.jW(sX,'pccNextPage');}this.er(hs,'pccPreviousPage');this.er(hs,'pccNextPage');this.jW(hs,'pccCurrentPage');nd=IPCC.aY.filter(dJ,function(el){return el.aa===aQ+1;});Nv(nd);setTimeout(function(){ml(true);},60);}}}};this.ayY=function(){if(ac.length>0){C.sk(0);}};this.ayj=function(){if(cq<ac.length-1){C.sk(ac.length-1);}};this.azg=function(bX){if(tP===false){return "CommentsPanelClosed";}var eg=dJ[bX.get_mark().get_markID()];if(!eg){return "ConversationDivDoesNotExist";}if(dk===IPCC.ViewMode.SinglePage&&eg.aa-1!==cq){return "SinglePageModePageNotShown";}var ai=document.getElementById(ac[eg.aa-1].aI);if(ac[eg.aa-1].eY===false||ai===undefined||ai.aS===undefined||ai.aS===null||ai.aS.gU()===false){return "PageOutOfView";}var F=bX.get_mark().get_boundingRectangle();var sf=ai.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x,F.y),true);var Cq=ai.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x+F.width,F.y),true);sf.x=bd.offsetWidth;Cq.x=bd.offsetWidth+ww();C.adx(ai.offsetTop,ai.offsetLeft,sf,Cq);return "Success";};this.azp=function(aQ,F){if(dk===IPCC.ViewMode.SinglePage&&aQ!==cq){return true;}var ai=document.getElementById(ac[aQ].aI);if(ac[aQ].eY===false||ai===undefined||ai.aS===undefined||ai.aS===null||ai.aS.gU()===false){return false;}var sf=ai.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x,F.y),true);var Cq=ai.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x+F.width,F.y+F.height),true);C.adx(ai.offsetTop,ai.offsetLeft,sf,Cq);return true;};this.azJ=function(aps,aqa){bn.scrollTop+=Math.round(aqa);bn.scrollLeft+=Math.round(aps);};this.adx=function(ayk,axE,sf,Cq){var ajT=Cq.x-sf.x;var ajG=Cq.y-sf.y;var dw=new IPCC.Web.UI.Point(0,0);if(ajT>bn.clientWidth){dw.x=sf.x;}else{dw.x=sf.x+(ajT/2);}if(ajG>bn.clientHeight){dw.y=sf.y;}else{dw.y=sf.y+(ajG/2);}if(ew===IPCC.PageLayout.VerticalScrollDirection){bn.scrollTop=ayk+dw.y-bn.clientHeight/2;bn.scrollLeft=dw.x-bn.clientWidth/2;}else{bn.scrollLeft=axE+dw.x-bn.clientWidth/2;bn.scrollTop=dw.y-bn.clientHeight/2;}};this.apY=function(){if(C.kH.get_length()>0){C.kH.removeAllDocuments();}if(cn.length>0){Gp++;setTimeout(function(){SA();},10);return;}};this.Wt=function(aQ,an,cs,ey){if(ac[aQ]&&ac[aQ].eY===true){var am=document.getElementById(ac[aQ].aI);if(am&&am.aS&&am.aS.gU()===true){if(ey){IPCC.bB.ey(ey,"selectText");var gd=am.aS.yT();var ayC=gd.gi;var axM=gd.cW;gd.gi=ey;gd.cW=ey;am.aS.showTextSelection(an,cs);gd.gi=ayC;gd.cW=axM;}else{am.aS.showTextSelection(an,cs);}}}};this.avt=function(){var G;for(G=0;G<cn.length;G++){if(ac[cn[G]].eY===true){var cG=document.getElementById(ac[cn[G]].aI),aS=cG?cG.aS:undefined;if(aS&&aS.gU()===true){aS.showEmptyTextSelection(0);aS.extendTextSelection(undefined);aS.display();}}}};this.axb=function(aQ){if(ac[aQ]&&ac[aQ].eY===true){var cG=document.getElementById(ac[aQ].aI),aS=cG?cG.aS:undefined;if(aS&&aS.gU()===true){aS.showEmptyTextSelection(0);aS.extendTextSelection(undefined);aS.display();}}};this.yf=function(){var ai,bV,aS;af=null;IPCC.aY.forEach(ov,function(G){ai=ac[G];bV=document.getElementById(ai.aI);if(bV){aS=bV.aS;}if(aS){if(aS.gU()&&aS.Cv()){aS.showEmptyTextSelection(0);aS.extendTextSelection(undefined);if(ai.eY){aS.display();}}}ai=bV=aS=undefined;});};this.zp=function(aQ,uZ){var am;var aj;ac[aQ].ht+=uZ;if(ac[aQ].ht>=360){ac[aQ].ht-=360;}if(ac[aQ].ht<= -360){ac[aQ].ht+=360;}if(ac[aQ].aI){am=document.getElementById(ac[aQ].aI);}if(am===undefined||am===null){return;}aj=am.aS;if(aj&&aj.gU()===false){ac[aQ].Hn+=uZ;return;}wT=true;if(aj&&aj.gU()===true){aj.rotate(uZ);}var bJ=0;var ao=0;var dU=eS;var fc=gW;if(iz(pM)===true){dU=gW;fc=eS;}if(iz(ac[aQ].ht)===true){if(aj&&aj.gU()===true){bJ=aj.get_pageHeight();ao=aj.get_pageWidth();}else{bJ=gW;ao=eS;}}else{if(aj&&aj.gU()===true){bJ=aj.get_pageWidth();ao=aj.get_pageHeight();}else{bJ=eS;ao=gW;}}wT=true;if(dk===IPCC.ViewMode.SinglePage){am.style.width=bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg+'px';am.style.height=ao*cS*SCREEN_RESOLUTION/ac[aQ].gf+'px';if(aQ===cq){bd.style.width=bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg+'px';bd.style.height=ao*cS*SCREEN_RESOLUTION/ac[aQ].gf+'px';}}else if(dk===IPCC.ViewMode.Document){am.style.width=bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg+'px';am.style.height=ao*cS*SCREEN_RESOLUTION/ac[aQ].gf+'px';var G=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){if(bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg>hJ){hJ=bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg;}else if(am.clientHeight>=hJ-10){hJ=0;for(G=0;G<ac.length;G++){am=document.getElementById(ac[G].aI);if(am.clientWidth>hJ){hJ=am.clientWidth;}}}if(ao*cS*SCREEN_RESOLUTION/ac[aQ].gf>hE){hE=ao*cS*SCREEN_RESOLUTION/ac[aQ].gf;}}else{if(ao*cS*SCREEN_RESOLUTION/ac[aQ].gf>hE){hE=ao*cS*SCREEN_RESOLUTION/ac[aQ].gf;}else if(am.clientWidth>=hE-10){hE=0;for(G=0;G<ac.length;G++){am=document.getElementById(ac[G].aI);if(am.clientHeight>hE){hE=am.clientHeight;}}}if(bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg>hJ){hJ=bJ*cS*SCREEN_RESOLUTION/ac[aQ].hg;}}}else{var gP;if(ew===IPCC.PageLayout.VerticalScrollDirection){gP=dU/bJ*cS*SCREEN_RESOLUTION/ac[aQ].gf;if(aj&&aj.gU()===true){aj.zoom(gP);}wT=true;am.style.width=dU*cS*SCREEN_RESOLUTION/ac[aQ].hg+'px';am.style.height=gP*ao+'px';}else{gP=fc/ao*cS*SCREEN_RESOLUTION/ac[aQ].gf;if(aj&&aj.gU()===true){aj.zoom(gP);}wT=true;am.style.height=fc*cS*SCREEN_RESOLUTION/ac[aQ].gf+'px';am.style.width=gP*bJ+'px';}if(dU*cS*SCREEN_RESOLUTION/ac[aQ].hg>hJ){hJ=dU*cS*SCREEN_RESOLUTION/ac[aQ].hg;}if(fc*cS*SCREEN_RESOLUTION/ac[aQ].gf>hE){hE=fc*cS*SCREEN_RESOLUTION/ac[aQ].gf;}}if(aj&&aj.gU()===true){wT=true;this.wQ(am,aQ);setTimeout(function(){if(tP===false){return;}var lg=yN();var nd=IPCC.aY.filter(dJ,function(el){return aQ===el.aa-1;});Cg(nd);mO(nd,true,lg);},0);}};this.aAy=function(uZ){this.zp(cq,uZ);zO();};this.aes=function(uZ){var BW=cq;if(dk!==IPCC.ViewMode.SinglePage){this.sk(BW);}var iG=0;var ir=ac.length-1;var G;for(G=iG;G<=ir;G++){this.zp(G,uZ);}if(dk!==IPCC.ViewMode.SinglePage){this.sk(BW);}};this.EJ=function(aQ){IPCC.bB.mX(aQ,'pageIndex',0,ac.length-1);var ai=ac[aQ];if(ai&&ai.aI&&(ai.tG===true||ai.gY===false)){var aZ;var am=document.getElementById(ai.aI);if(am.aS){am.aS.dispose();}UW(am);aZ=new IPCC.Web.UI.PageView(am,false);if(aZ){aZ.set_autoUpdate(false);aZ.qt(am);aZ.initialize();aZ.set_imageHandlerUrl(ai.aC.nN);aZ.set_requireRequestsOptimize(nM);if(mw!==undefined){aZ.set_serviceResponseTimeout(mw);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);La(aZ,ai);Yv(aZ);KW(aZ);XI(aZ);Ww(aZ);}aZ.set_textRequired(uo);aZ.set_markHandleMode(tW);aZ.set_cursor(-1);aZ.set_debug(_debug);aZ.set_debugErrorLevel(ll);aZ.jw(C.ea());if(mr){aZ.set_resourcePath(mr);}if(jS){aZ.Kj(jS());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aZ.qn(C.lT());var jp=new IPCC.OpenPageEventArgs();jp.pageIndex=ai.ah.get_pageNumber();jp.imGearPage=ai.ah;jp.viewRotationDegreesClockwise=ai.ht;jp.pageNodeID=ai.aI;C.ay('pageOpening',jp);ai.tG=false;ai.ia=false;var CO={encodedDocumentIdentifier:ai.aC.get_encodedDocumentIdentifier(),pageNumber:aQ,artServiceOption:0,documentArtPage:ai.fH,viewRotationDegreesClockwise:ai.ht};if(ai.bA){CO.artPage=ai.bA;}if(ai.fH){CO.documentArtPage=ai.fH;}aZ.openPage(CO);ai.gY=true;hz++;}};function ZC(es,ft){if(eS<=0){return;}var dU=eS;var fc=gW;var eZ=SCREEN_RESOLUTION/ac[0].hg;if(iz(pM)===true){dU=gW;fc=eS;eZ=SCREEN_RESOLUTION/ac[0].gf;}var lz=1;if(ew===IPCC.PageLayout.VerticalScrollDirection){lz=(bn.clientWidth-ww()-(jf+hY+oY+oT))/(dU*eZ);}else{lz=(bn.clientHeight-(hd+ju+nY+qH))/(fc*eZ);}var wx;if(cS<=lz){wx=false;}else if(cS>lz){wx=true;}if(isNaN(lz)||lz<=0||Math.abs(lz)===Infinity){return;}cS=lz;hJ=0;hE=0;var iG=0;var ir=ac.length-1;var aN=0;for(aN=iG;aN<=ir;aN++){var aj;if(ac[aN].aI){aj=document.getElementById(ac[aN].aI).aS;}var am=document.getElementById(ac[aN].aI);var bJ=dU;var ao=fc;if(ac[aN].bJ>0){if(iz(ac[aN].ht)===true){bJ=ac[aN].ao;ao=ac[aN].bJ;}else{bJ=ac[aN].bJ;ao=ac[aN].ao;}}var gP=1;if(ew===IPCC.PageLayout.VerticalScrollDirection){gP=dU/bJ*cS*eZ;am.style.width=dU*cS*eZ+'px';am.style.height=ao*gP+'px';if(dU*cS*eZ>hJ){hJ=dU*cS*eZ;}if(ao*gP*SCREEN_RESOLUTION/ac[aN].gf>hE){hE=ao*gP*eZ;}}else{gP=fc/ao*cS;am.style.height=fc*cS*eZ+'px';am.style.width=bJ*gP*eZ+'px';if(bJ*cS*SCREEN_RESOLUTION/ac[aN].hg>hJ){hJ=bJ*cS*eZ;}if(fc*gP*eZ>hE){hE=fc*gP*eZ;}}if(aj&&ac[aN].eY===true&&aj.gU()===true){aj.zoom(gP);}if(aj&&ac[aN].eY===true&&aj.gU()===true){aj.display();}}zO(true);ml(true);setTimeout(function(){Cg(dJ);mO(dJ);},0);C.ay('scaleChanged',{scaleType:(wx)?"scaledDown":"scaledUp",scaleTrigger:es,fitType:ft,scaleFactor:cS});};function iz(de){switch(de){case 90:case 270:case-90:case-270:return true;default:return false;}};function ez(ky){var st=document.createElement('div');var G;for(G in ky){if(ky.hasOwnProperty(G)){st.style[G]=ky[G];}}return st;};this.QM=function(){if(sP===undefined||sP===null){sP=1;}var cV=this.gr().id.toString()+'_'+sP.toString();sP++;return cV;};this.Xq=function(){return this.kH;};this.gB=function(Yg){for(var hf=0;hf<ac.length;hf++){var eI=ac[hf];if(Yg===eI.ah){return ac[hf].bA;}}return null;};function abe(az,K){Ml(K);};function Ml(bq){var ci=bq.imGearDocument;var Un=C.QM();ci.pH=Un;var dG=ci.get_pages();var cc=dG.get_length();if(cc>0){var yC=document.createDocumentFragment();for(var aN=0;aN<cc;aN++){var ai=dG.getPage(aN);if(!ai.aC){ai.aC=ci;}Tc(ai,yC);}bd.appendChild(yC);}};var aqX=IPCC.aY.aeO(function(){if(Ob.length>0&&ig){var yC=document.createDocumentFragment();while(Ob.length>0){Tc(Ob.shift(),yC);}bd.appendChild(yC);Cg(dJ,true);mO(dJ,true);if(C.kH.aiz(0).fh===ac.length){C.ay('allPagesAdded');}setTimeout(function(){ml(true);},60);}},10);function Lm(az,K){if(K.imGearPage.get_pageNumber()===0){Tc(K.imGearPage);return;}Ob.push(K.imGearPage);aqX();};function KL(az,K){var cv=K.imGearPage.get_pageNumber();var zu=K.imGearPage.aC.get_documentIdentifier();for(var aN=0;aN<ac.length;aN++){if(ac[aN].ah.get_pageNumber()===cv&&ac[aN].ah.aC.get_documentIdentifier()===zu){var am=document.getElementById(ac[aN].aI);bd.removeChild(am);if(am.aS){am.aS.dispose();var nd=IPCC.aY.filter(dJ,function(el){return el.aa===ac[aN].cv+1;});Kf(nd);}var oP= -1;if(Array.prototype.indexOf){oP=cn.indexOf(cv);}else{oP=IPCC.Web.hA(cn,cv);}if(oP!== -1){cn.splice(oP,1);}ac.splice(aN,1);}}};function Tc(bq,yC){var ai=bq;var CV=ai.get_pageNumber();var aR;var bN=C.gr();var ci=null;var rd;var sF=[];var G=0;var ag=0;var cc=C.get_documents().get_length();for(ag=0;ag<cc;ag++){ci=C.get_documents().getDocument(ag);if(ci!==null){rd=ci.pH;if(rd===ai.aC.pH){break;}}}for(var dn=0;dn<ac.length;dn++){if(ac[dn].aC){ci=ac[dn].aC;if(dn===0){sF[G]=ci;G++;continue;}else if(ac[dn-1].aC!==ci){sF[G]=ci;G++;continue;}}}for(dn=ac.length-1;dn>=0;dn--){if(ac[dn].ah){if(ac[dn].ah===ai){return;}}}var si=true;var eA;var TK;var dO;for(dn=0;dn<ac.length;dn++){eA=ac[dn];if(eA.DW===1){if(ai.aC.pH===eA.zB){aR=document.getElementById(eA.aI);eA.DW=0;TK=eA.aI;si=false;dO=eA;break;}}}var kZ=false;for(dn=ac.length-1;dn>=0;dn--){if(ac[dn].ah){if(ac[dn].ah.aC===ai.aC){kZ=true;break;}}}if(bd===''){aec();}if(si===true){TK=ai.aC.pH+'_'+IPCC.Pagecounter.toString();IPCC.Pagecounter++;}var OD=TK+'_'+'_pViewId';if(dk!==IPCC.ViewMode.SinglePage||CV===0){if(dk!==IPCC.ViewMode.SinglePage){aR=ez({overflow:'hidden',position:'relative'});aR.className+=' pccPageListItem';}else{aR=ez({overflow:'hidden',position:'absolute',margin:'0px'});aR.className='pccPageListItem pccCurrentPage';lc.push(0);}if(eS>0){if(iz(pM)===true){aR.style.width=gW*cS*SCREEN_RESOLUTION/ac[0].hg+'px';aR.style.height=eS*cS*SCREEN_RESOLUTION/ac[0].gf+'px';}else{aR.style.width=eS*cS*SCREEN_RESOLUTION/ac[0].hg+'px';aR.style.height=gW*cS*SCREEN_RESOLUTION/ac[0].gf+'px';}}else{var akS=bd.clientWidth-jf-hY;if(akS>0){aR.style.width=akS+'px';aR.style.height=bd.clientWidth*0.8+'px';}}if(ew===IPCC.PageLayout.VerticalScrollDirection||dk===IPCC.ViewMode.SinglePage){aR.style.display='block';if(eS>0){aR.style.margin=hd+'px auto '+ju+'px auto';}}else{aR.style.display='inline-block';if(eS>0){aR.style.margin=hd+'px '+jf+'px '+ju+'px '+hY+'px';}}aR.setAttribute('id',OD);}if(si===true){dO=new IPCC.cE({page:ai});}auB(ai);atz(ai);auc(ai);dO.aI=OD;dO.ah=ai;dO.zB=rd;dO.eY=false;dO.bA=new IPCC.Web.UI.ArtPage();dO.fH=new IPCC.Web.UI.ArtPage();dO.ht=pM;atT(dO);atY(dO);ava(dO);atR(dO);atB(dO);avf(dO);auN(dO);atX(dO);atS(dO);atm(dO);dO.Ai=false;dO.aC=ai.aC;dO.ia=false;dO.cv=CV;var JT;var cG;if(si){if(ac.length===0){bd.appendChild(aR);ac.push(dO);}else{if(yC){if(dk!==IPCC.ViewMode.SinglePage){yC.appendChild(aR);}ac.push(dO);}else{for(dn=0;dn<ac.length;dn++){eA=ac[dn];if(eA.zB===rd){if(eA.ah){var WQ=eA.ah.get_pageNumber();if(CV<WQ){ac.splice(dn,0,dO);cG=document.getElementById(eA.aI);bd.insertBefore(aR,cG);JT=true;break;}}}}if(!JT){if(dk!==IPCC.ViewMode.SinglePage){bd.appendChild(aR);}ac.push(dO);}}}}var Rn=false;if(aR&&bN.clientWidth>0){var Dq=bN.clientWidth/(aR.clientWidth+(aR.clientLeft*2));var AJ=bN.clientHeight/(aR.clientHeight+(aR.clientTop*2));if(ac.length<(Dq*AJ)){Rn=true;}}if(ac.length<2){var aZ;aZ=new IPCC.Web.UI.PageView(document.getElementById(OD),false);if(aZ){aZ.set_autoUpdate(false);aZ.qt(document.getElementById(OD));aZ.initialize();aZ.set_imageHandlerUrl(ai.aC.nN);aZ.set_imGearPage(dO.ah);aZ.set_artPage(dO.bA);aZ.set_documentArtPage(dO.fH);aZ.set_requireRequestsOptimize(nM);if(mw!==undefined){aZ.set_serviceResponseTimeout(mw);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.set_textRequired(uo);aZ.set_markHandleMode(tW);aZ.set_cursor(-1);aZ.set_debug(_debug);aZ.set_debugErrorLevel(ll);aZ.jw(C.ea());if(mr){aZ.set_resourcePath(mr);}if(jS){aZ.Kj(jS());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aZ.qn(C.lT());}La(aZ,dO);KW(aZ);XI(aZ);Yv(aZ);Ww(aZ);var jp=new IPCC.OpenPageEventArgs();jp.pageIndex=dO.ah.get_pageNumber();jp.imGearPage=dO.ah;jp.viewRotationDegreesClockwise=dO.ht;jp.pageNodeID=dO.aI;C.ay('pageOpening',jp);aZ.openPage({encodedDocumentIdentifier:ai.aC.get_encodedDocumentIdentifier(),pageNumber:ai.get_pageNumber(),artServiceOption:0,imGearPage:dO.ah,artPage:dO.bA,documentArtPage:dO.fH,viewRotationDegreesClockwise:dO.ht});dO.gY=true;hz++;}return aR;};function ml(HQ){if(hz>0||ig===false||kg!==null){return;}var qa;var dm=att(HQ);if(dm>=0){qa=dm;}if(qa!==undefined&&qa>=0){if(qa<ac.length){ats(ac[qa]);}}};function att(HQ){zO();var kT;var gR=1;gR=wE;if(gR>fX){gR=fX;}if(HQ===false){gR=0;}for(var aN=fL;aN<=hT;aN++){if(ac[aN].gY===false&&ac[aN].tG===false){if(ac[aN].ia===false&&kT===undefined){kT=aN;break;}else if(HQ){var Mk=document.getElementById(ac[aN].aI);if(ac[aN].eY===false){C.wQ(Mk,aN);}}}}if(Gp===0&&HQ===true){Gp++;setTimeout(function(){if(ig===true){SA();}},60);}if(kT!==undefined){return kT;}else if(fX>0){var ze= -1;if(qL>=0){if(qL<Da&&qL!==0){return UJ(fX,gR);}else{ze=UJ(fX,gR);if(ze=== -1){ze=Sn(fX,gR);}qL= -qL;return ze;}}else if(qL<0){if(qL> -Da){return Sn(fX,gR);}else{ze=Sn(fX,gR);if(ze=== -1){ze=UJ(fX,gR);}qL= -qL;return ze;}}}return-1;};function Sn(XM,gR){var kT;for(var aN=fL-1;aN>fL-1-XM;aN--){if(aN<0){continue;}if(ac[aN].gY===false&&ac[aN].tG===false){if(ac[aN].ia===false&&kT===undefined){kT=aN;break;}else if(aN>=fL-gR){var Mk=document.getElementById(ac[aN].aI);if(ac[aN].eY===false){C.wQ(Mk,aN);}}}}if(kT!==undefined){return kT;}else{return(-1);}};function UJ(XM,gR){var kT;for(var aN=hT+1;aN<hT+1+XM;aN++){if(aN>=ac.length){continue;}if(ac[aN].gY===false&&ac[aN].tG===false){if(ac[aN].ia===false&&kT===undefined){kT=aN;break;}else if(aN<=hT+gR){var Mk=document.getElementById(ac[aN].aI);if(ac[aN].eY===false){C.wQ(Mk,aN);}}}}if(kT!==undefined){return kT;}else{return(-1);}};function SA(){zO();function aei(aN,cd){var oP= -1;if(Array.prototype.indexOf){oP=cd.indexOf(aN);}else{oP=IPCC.Web.hA(cd,aN);}if(oP!== -1){cd.splice(oP,1);}if(dk===IPCC.ViewMode.SinglePage){var jY= -1;if(Array.prototype.indexOf){jY=lc.indexOf(aN);}else{jY=IPCC.Web.hA(lc,aN);}if(jY!== -1){lc.splice(jY,1);}}ac[aN].ia=false;ac[aN].gY=false;ac[aN].eY=false;var wc=document.getElementById(ac[aN].aI);if(wc&&wc.aS){wc.aS.dispose();var nd=IPCC.aY.filter(dJ,function(el){return el.aa===ac[aN].cv+1;});Kf(nd);if(dk===IPCC.ViewMode.SinglePage){wc.parentNode.removeChild(wc);}return aN;}return-1;};var UC= -1;for(var aN=0;aN<ov.length;aN++){if(ig===false||((ov[aN]<fL-fX||ov[aN]>hT+fX)&&ac[ov[aN]].aI)){aei(ov[aN],ov);}}for(aN=0;aN<cn.length;aN++){if(ig===false||((cn[aN]<fL-wE||cn[aN]>hT+wE)&&ac[cn[aN]].aI)){if(ig===false||((cn[aN]<fL-fX||cn[aN]>hT+fX)&&ac[cn[aN]].aI)||document.documentMode===8){UC=aei(cn[aN],cn);if(UC!== -1){break;}}else{var wc=document.getElementById(ac[cn[aN]].aI);if(wc&&wc.aS){wc.aS.awb();}var aQ=cn[aN];var oP= -1;if(Array.prototype.indexOf){oP=cn.indexOf(aQ);}else{oP=IPCC.Web.hA(cn,aQ);}if(oP!== -1){cn.splice(oP,1);}ac[aQ].ia=true;ac[aQ].gY=false;ac[aQ].eY=false;var rG=false;for(var ag=0;ag<ov.length;ag++){if(ov[ag]===aQ){rG=true;}}if(rG===false){ov.push(aQ);}}}}if(dk===IPCC.ViewMode.SinglePage){for(aN=lc.length;aN>=0;aN--){var Ns=lc[aN];if(ig===false||((Ns<fL-fX||Ns>hT+fX)&&ac[Ns].aI)){var alp=document.getElementById(ac[Ns].aI);alp.parentNode.removeChild(alp);lc.splice(aN,1);}}}if(Gp>0){Gp--;}if(ig===false&&cn.length===0&&ac.length>0){ac=[];var bN=C.gr();bn.removeChild(bd);bN.removeChild(bn);return;}if(UC!== -1){Gp++;setTimeout(function(){SA();},1000);}};function ats(ai){var aV;if(dk===IPCC.ViewMode.SinglePage&&document.getElementById(ai.aI)===null){var aR=ez({overflow:'hidden',position:'absolute',margin:'0px'});aR.className='pccPageListItem';lc.push(ai.cv);if(ai.cv>cq){C.jW(aR,'pccNextPage');}else if(ai.cv<cq){C.jW(aR,'pccPreviousPage');}else{C.jW(aR,'pccCurrentPage');}if(eS>0){if(iz(pM)===true){aR.style.width=gW*cS*SCREEN_RESOLUTION/ac[0].hg+'px';aR.style.height=eS*cS*SCREEN_RESOLUTION/ac[0].gf+'px';}else{aR.style.width=eS*cS*SCREEN_RESOLUTION/ac[0].hg+'px';aR.style.height=gW*cS*SCREEN_RESOLUTION/ac[0].gf+'px';}}else{aR.style.width=bd.clientWidth-jf-hY+'px';aR.style.height=bd.clientWidth*0.8+'px';}aR.style.display='block';aR.setAttribute('id',ai.aI);aV=aR;bd.appendChild(aR);}else{aV=document.getElementById(ai.aI);}if(aV===null){return;}var aZ;aZ=new IPCC.Web.UI.PageView(document.getElementById(ai.aI),false);if(aZ){aZ.set_autoUpdate(false);aZ.qt(document.getElementById(ai.aI));aZ.initialize();aZ.set_imageHandlerUrl(ai.aC.nN);aZ.set_imGearPage(ai.ah);aZ.set_artPage(ai.bA);aZ.set_requireRequestsOptimize(nM);if(mw!==undefined){aZ.set_serviceResponseTimeout(mw);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.set_textRequired(uo);aZ.set_markHandleMode(tW);aZ.set_cursor(-1);aZ.set_debug(_debug);aZ.set_debugErrorLevel(ll);aZ.jw(C.ea());if(mr){aZ.set_resourcePath(mr);}if(jS){aZ.Kj(jS());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aZ.qn(C.lT());}La(aZ,ai);KW(aZ);XI(aZ);Yv(aZ);Ww(aZ);if(ai.ia===false){if(ai.ah){var jp=new IPCC.OpenPageEventArgs();jp.pageIndex=ai.ah.get_pageNumber();jp.imGearPage=ai.ah;jp.viewRotationDegreesClockwise=ai.ht;jp.pageNodeID=ai.aI;C.ay('pageOpening',jp);var CO={encodedDocumentIdentifier:ai.ah.aC.get_encodedDocumentIdentifier(),pageNumber:ai.ah.get_pageNumber(),imGearPage:ai.ah,viewRotationDegreesClockwise:ai.ht};if(ai.bA){CO.artPage=ai.bA;}if(ai.fH){CO.documentArtPage=ai.fH;}aZ.openPage(CO);ai.gY=true;hz++;}}};function ags(bA,jb){var bH;bA.forEachMark(function(H){switch(H.get_type()){case IPCC.Web.UI.MarkType.Line:var aT=H.get_points();var aX=aT.zy(0);var kb=aT.zy(1);aT.setPoint(0,new IPCC.Web.UI.Point(aX.x*jb,aX.y*jb));aT.setPoint(1,new IPCC.Web.UI.Point(kb.x*jb,kb.y*jb));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bH=H.get_rectangle();H.set_rectangle({x:bH.x*jb,y:bH.y*jb,width:bH.width*jb,height:bH.height*jb});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:bH=H.get_rectangle();H.set_rectangle({x:bH.x*jb,y:bH.y*jb,width:bH.width*jb,height:bH.height*jb});var cf=H.cf,js;for(var i=0;i<cf.length;i++){js=cf[i];js.x=js.x*jb;js.y=js.y*jb;js.width=js.width*jb;js.height=js.height*jb;}break;default:break;}});};function La(aZ,ai){function QE(sender,evnt){var cv=evnt.pageNumber;var zu=evnt.documentIdentifier;ai.bJ=aZ.get_pageWidth();ai.ao=aZ.get_pageHeight();var gE=aZ.get_pageXResolution();var gK=aZ.get_pageYResolution();if(!isNaN(parseFloat(gE))&&isFinite(gE)){ai.hg=gE;}if(!isNaN(parseFloat(gK))&&isFinite(gK)){ai.gf=gK;}aZ=null;for(var aN=0;aN<ac.length;aN++){if(ig&&ac[aN].ah.get_pageNumber()===cv&&ac[aN].ah.aC.get_documentIdentifier()===zu){ac[aN].gY=false;ac[aN].ia=true;ac[aN].tG=false;if(dk===IPCC.ViewMode.SinglePage){var jY= -1;if(Array.prototype.indexOf){jY=lc.indexOf(aN);}else{jY=IPCC.Web.hA(lc,aN);}if(jY!== -1){lc.splice(jY,1);}}var rG=false;for(var ag=0;ag<ov.length;ag++){if(ov[ag]===aN){rG=true;}}if(rG===false){ov.push(aN);}var mC=0;var lD=0;var am=document.getElementById(ac[aN].aI);var aj=am.aS;var dU;var fc;var Vt;if(eS===0&&(aN===0||ac[0].tG===true)){if(am.currentStyle){nY=parseInt(am.currentStyle.borderTopWidth,10)||0;hd=parseInt(am.currentStyle.marginTop,10)||0;oY=parseInt(am.currentStyle.borderLeftWidth,10)||0;jf=parseInt(am.currentStyle.marginLeft,10)||0;qH=parseInt(am.currentStyle.borderBottomWidth,10)||0;ju=parseInt(am.currentStyle.marginBottom,10)||0;oT=parseInt(am.currentStyle.borderRightWidth,10)||0;hY=parseInt(am.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var xS=document.defaultView.getComputedStyle(am);nY=parseInt(xS.borderTopWidth,10)||0;hd=parseInt(xS.marginTop,10)||0;oY=parseInt(xS.borderLeftWidth,10)||0;jf=parseInt(xS.marginLeft,10)||0;qH=parseInt(xS.borderBottomWidth,10)||0;ju=parseInt(xS.marginBottom,10)||0;oT=parseInt(xS.borderRightWidth,10)||0;hY=parseInt(xS.marginRight,10)||0;}if(dk===IPCC.ViewMode.SinglePage){am.style.margin=hd+'px 0px '+ju+'px 0px';bd.style.margin="0px auto";}else{if(ew===IPCC.PageLayout.VerticalScrollDirection){am.style.margin=hd+'px auto '+ju+'px auto';}else{am.style.margin=hd+'px '+jf+'px '+ju+'px '+hY+'px';bd.style.margin='0px '+jf+'px 0px '+hY+'px';}}eS=aj.get_pageWidth();gW=aj.get_pageHeight();dU=eS;fc=gW;var eZ=SCREEN_RESOLUTION/ac[aN].hg;if(iz(ac[aN].ht)===true){fc=eS;dU=gW;eZ=SCREEN_RESOLUTION/ac[aN].gf;}C.avC();if(dk===IPCC.ViewMode.SinglePage){var anO=(bn.offsetWidth-(jf+hY+oY+oT));var aox=(bn.offsetHeight-(hd+ju+nY+qH+adp));oB=anO/(dU*eZ);Vt=aox/(fc*eZ);if(Vt<oB){oB=Vt;}aj.zoom(oB*eZ);}else if(ew===IPCC.PageLayout.VerticalScrollDirection){oB=(bn.offsetWidth-IPCC.Web.ox()-(jf+hY+oY+oT))/(dU*eZ);aj.zoom(oB*eZ);}else{oB=(bn.offsetHeight-IPCC.Web.ox()-(hd+ju+nY+qH))/(fc*eZ);aj.zoom(oB*eZ);}mC=dU*oB*eZ;lD=fc*oB*eZ;am.style.width=mC+'px';am.style.height=lD+'px';if(dk===IPCC.ViewMode.SinglePage){bd.style.width=mC+'px';bd.style.height=lD+'px';}if(dk!==IPCC.ViewMode.SinglePage){for(var hf=0;hf<ac.length;hf++){if(ac[hf].eY===false&&hf!==aN){if(ac[hf].aI){am=document.getElementById(ac[hf].aI);am.style.width=dU*oB+'px';am.style.height=fc*oB+'px';if(ew===IPCC.PageLayout.VerticalScrollDirection){am.style.margin=hd+'px auto '+ju+'px auto';}else{am.style.margin=hd+'px '+jf+'px '+ju+'px '+hY+'px';}}}}}cS=oB;am.aS.display();cn.push(0);}else{if(dk===IPCC.ViewMode.Document||dk===IPCC.ViewMode.SinglePage){if(iz(ac[aN].ht)===true){mC=aj.get_pageHeight()*cS*SCREEN_RESOLUTION/ac[aN].hg;lD=aj.get_pageWidth()*cS*SCREEN_RESOLUTION/ac[aN].gf;}else{mC=aj.get_pageWidth()*cS*SCREEN_RESOLUTION/ac[aN].hg;lD=aj.get_pageHeight()*cS*SCREEN_RESOLUTION/ac[aN].gf;}}else{var gP;var bJ=aj.get_pageWidth();var ao=aj.get_pageHeight();dU=eS;fc=gW;if(iz(pM)===true){dU=gW;fc=eS;}if(iz(ac[aN].ht)===true){bJ=aj.get_pageHeight();ao=aj.get_pageWidth();}if(ew===IPCC.PageLayout.VerticalScrollDirection){gP=dU/bJ*cS*SCREEN_RESOLUTION/ac[0].gf;mC=dU*cS*SCREEN_RESOLUTION/ac[0].hg;lD=ao*gP;}else{gP=fc/ao*cS*SCREEN_RESOLUTION/ac[0].hg;lD=fc*cS*SCREEN_RESOLUTION/ac[0].gf;mC=bJ*gP;}}if(mC!==Math.round(mC)){mC=Math.floor(mC*100)/100;}if(lD!==Math.round(lD)){lD=Math.floor(lD*100)/100;}if(am.style.width!==mC+'px'||am.style.height!==lD+'px'){if(ew===IPCC.PageLayout.VerticalScrollDirection){am.style.width=mC+'px';am.style.height=lD+'px';}else{am.style.width=mC+'px';am.style.height=lD+'px';}Cg(dJ,true);mO(dJ,true);}}if(mC>hJ){hJ=mC;if(ew===IPCC.PageLayout.VerticalScrollDirection){bn.scrollLeft=(hJ-bn.clientWidth)/2;}}if(lD>hE){hE=lD;if(ew===IPCC.PageLayout.HorizontalScrollDirection){bn.scrollTop=(hE-bn.clientHeight)/2;}}if(ac[aN].Hn>0){var Vo=document.getElementById(ac[aN].aI).aS;if(Vo){Vo.rotate(ac[aN].Hn);Vo.display();ac[aN].Hn=0;}}if(hz>0){hz=hz-1;}if(ac[aN].zQ===true&&ac[aN].bJ!==eS){var jb=ac[aN].bJ/eS;var bA=C.gB(ac[aN].ah);if(bA){ags(bA,jb);}}ac[aN].zQ=false;zO();var jp=new IPCC.OpenPageEventArgs();jp.pageIndex=evnt.pageNumber;jp.imGearPage=evnt.imGearPage;jp.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;jp.pageNodeID=ac[aN].aI;C.ay('pageOpened',jp);break;}}if(hz===0&&ow===null&&kg===null){setTimeout(function(){ml(true);},60);}};aZ.add_pageOpened(QE);};function KW(aZ){function auD(az,bS){if(ig===false){return;}var Ar;if(bS.pageNumber>=0){if(ac[bS.pageNumber].aI){Ar=ac[bS.pageNumber].aI;}}ac[bS.pageNumber].tG=true;ac[bS.pageNumber].gY=false;ac[bS.pageNumber].ia=false;ac[bS.pageNumber].eY=false;var oi=new IPCC.ExceptionEventArgs();oi.exception=bS.exception;oi.pageIndex=bS.pageNumber;oi.pageNodeID=Ar;C.ay('pageOpenFailed',oi);if(hz>0){hz=hz-1;if(hz===0){setTimeout(function(){ml(false);},60);}}};aZ.add_pageOpenFailed(auD);};function XI(aZ){function atE(az,bS){if(ig===false){return;}var K=new IPCC.PageEventArgs();K.pageIndex=bS.aa;K.imGearPage=ac[bS.aa].ah;K.pageNodeID=ac[bS.aa].aI;ac[bS.aa].eY=true;var rG=false;for(var ag=0;ag<cn.length;ag++){if(cn[ag]===bS.aa){rG=true;}}if(rG===false){cn.push(bS.aa);}if(dk===IPCC.ViewMode.SinglePage){var jY= -1;if(Array.prototype.indexOf){jY=lc.indexOf(bS.aa);}else{jY=IPCC.Web.hA(lc,bS.aa);}if(jY!== -1){lc.splice(jY,1);}}C.ay('pageDisplayed',K);setTimeout(function(){var nd=IPCC.aY.filter(dJ,function(el){if(dk===IPCC.ViewMode.SinglePage){return bS.aa===el.aa-1&&el.aa-1===cq;}else{return bS.aa===el.aa-1;}});Cg(nd);mO(nd);},0);};aZ.add_pageDisplayed(atE);};function atz(ai){function KZ(az,bS){if(ig===false){return;}C.ay('textPageReady',{pageIndex:bS.pageNumber,containsText:bS.containsText});var gR=wE;if(gR>fX){gR=fX;}if(bS.containsText===true&&bS.pageNumber>=fL-gR&&bS.pageNumber<=hT+gR){if(ac[bS.pageNumber].bA&&ac[bS.pageNumber].bA.get_markCount()>0){var am=document.getElementById(ac[bS.pageNumber].aI);C.wQ(am,bS.pageNumber);}}};ai.vp(KZ);};function auc(ai){function aug(az,bS){if(ig===false){return;}var fH=ac[bS.pageNumber].fH;ai.acY().Jf().mF(function(hV){var H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bH=hV.fr();H.set_rectangle(new IPCC.Web.UI.Rectangle(bH.x,bH.y,bH.width,bH.height));H.set_href(hV.acE());H.set_lineColor(hV.ask());H.set_lineWidth(hV.arW());H.set_borderPattern(hV.asu());H.set_borderType(hV.asz());H.set_borderHorizontalRadius(hV.asE());H.set_borderVerticalRadius(hV.asG());H.set_borderOpacity(hV.ash());fH.addMark(H);hV.alY(H);});C.ay('hyperlinkPageReady',{pageIndex:bS.pageNumber});var gR=wE;if(gR>fX){gR=fX;}if(bS.pageNumber>=fL-gR&&bS.pageNumber<=hT+gR){var am=document.getElementById(ac[bS.pageNumber].aI);C.wQ(am,bS.pageNumber);}};ai.YI(aug);};function auB(ai){function KJ(az,bS){if(ig===false){return;}var Ar;if(bS.pageNumber>=0){if(ac[bS.pageNumber].aI){Ar=ac[bS.pageNumber].aI;}}C.ay('textExtractionFailed',{'exception':bS.exception,'pageIndex':bS.pageNumber,'pageNodeID':Ar});};ai.BQ(KJ);};function Yv(aZ){function auU(az,bS){if(ig===false){return;}var Ar;if(isNaN(bS.pageNumber)===false){if(bS.pageNumber>=0){if(ac[bS.pageNumber].aI){Ar=ac[bS.pageNumber].aI;}}ac[bS.pageNumber].tG=true;ac[bS.pageNumber].gY=false;ac[bS.pageNumber].ia=false;ac[bS.pageNumber].eY=false;}var oi=new IPCC.ExceptionEventArgs();oi.functionName=bS.function_name;oi.exception=bS.exception;oi.pageIndex=bS.pageNumber;oi.pageNodeID=Ar;C.ay('exceptionThrown',oi);if(hz>0){hz=hz-1;if(hz===0){setTimeout(function(){ml(false);},60);}}};aZ.add_exceptionThrown(auU);};function Ww(aZ){function JZ(az,bS){C.ay('markCreating',bS);};aZ.add_markCreating(JZ);};function atT(cE){function ajZ(){if(ig===false){return;}var gR=wE;if(gR>fX){gR=fX;}if(cE.cv>=fL-gR&&cE.cv<=hT+gR){var am=document.getElementById(cE.aI);C.wQ(am,cE.cv);}var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;C.ay('marksLoaded',K);};cE.bA.add_marksLoaded(ajZ);};function atY(cE){function hQ(az,bS){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.zIndex=bS.zIndex;K.clientX=bS.clientX;K.clientY=bS.clientY;C.ay('markAdded',K);};cE.bA.add_markAdded(hQ);};function ava(cE){var TW,uD=false,Wm,Yr;function Ga(O,eg){if(tP===false){return;}var lg=yN();ahh(O,eg,lg);mO(dJ,true,lg);};function atv(O,eg){Wm=O;Yr=eg;if(uD&& !TW){TW=HD(function(){uD=false;TW=undefined;if(Wm&&Yr){Ga(Wm,Yr);}else{Ga(O,eg);}});}};function tc(az,bS){if(bS.mark.xr===true){return;}var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.zIndex=bS.zIndex;K.propertyName=bS.propertyName;C.ay('markChanged',K);var eg=dJ[bS.mark.get_markID()];if(eg&&(bS.propertyName==='rectangle'||bS.propertyName==='points'||bS.propertyName==='startPoint'||bS.propertyName==='endPoint')){uD=true;atv(bS.mark,eg);}else if(eg&&bS.propertyName==='visible'){var aAU=bS.mark.get_visible();var YR=(function(dE){return IPCC.aY.inArray(cn,dE.aa-1)&&dE.aa-1>=fL&&dE.aa-1<=hT;})(eg);if(aAU&&YR){Nv([eg]);mO(dJ,true,yN());}else{Kf([eg]);}}};cE.bA.add_markChanged(tc);};function atR(cE){function alc(az,bS){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.zIndex=bS.zIndex;K.oldZIndex=bS.oldZIndex;C.ay('markReordered',K);};cE.bA.add_markReordered(alc);};function atB(cE){function Ez(az,bS){if(bS.mark.xr===true){return;}var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.zIndex=bS.zIndex;C.ay('markSelectionChanged',K);};cE.bA.add_markSelectionChanged(Ez);};function auN(cE){function Eq(az,bS){if(bS.mark){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.zIndex=bS.zIndex;C.ay('markRemoved',K);var eg=dJ[bS.mark.get_markID()];if(eg){if(bS.mark.get_conversation()===jB){jB=null;}eg.dC.parentElement.removeChild(eg.dC);delete dJ[bS.mark.get_markID()];mO(dJ,true);}}};cE.bA.add_markRemoved(Eq);};function avf(cE){function Ct(az,bS){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.zIndex=bS.zIndex;C.ay('markTextSelectionChanged',K);};cE.bA.add_markTextSelectionChanged(Ct);};function ahh(O,eg,Lv){var cE=ac[eg.aa-1],ai=document.getElementById(cE.aI),DM=aaA(O,cE.cv+1);if(ai.aS){var dw=ai.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(DM.x,DM.y),true);var WW=(hd*(cE.cv*1));var JN=(ai.offsetTop-WW+dw.y)/(Lv-(hd*ac.length));eg.bH=DM;eg.aaS=JN;}};function Kf(kK,aa){var aBi=typeof aa==='undefined';IPCC.aY.forEach(kK,function(ak){if(ak&&(aBi||ak.pageNumber===aa)){ak.dC.style.display='none';ak.Hh=false;}});};function ww(){if(le.currentStyle&&le.currentStyle.display==='none'){return 0;}return le.clientWidth;};function yN(){if(le.currentStyle&&le.currentStyle.display==='none'){return 0;}return le.offsetHeight;};function Nv(kK,aa){var ark=typeof aa==='undefined';IPCC.aY.forEach(kK,function(el){if(ark||el.pageNumber===aa){el.dC.style.display='';el.Hh=true;if(el&&el.H&&el.H.get_visible()===false){el.dC.style.display='none';el.Hh=false;}}});};function Cg(kK,WF){if(tP===false){return;}var Ru=(! !WF)?IPCC.aY.filter(dJ,function(dE){return IPCC.aY.inArray(cn,dE.aa-1)&&dE.aa-1>=fL&&dE.aa-1<=hT;}):kK;var lg=yN();IPCC.aY.forEach(Ru,function(el){ahh(el.H,el,lg);});};function avZ(a,b){return(a.bH.y!==b.bH.y)?(a.bH.y-b.bH.y):(a.bH.x!==b.bH.x)?(a.bH.x-b.bH.x):(a.xR-b.xR);};function avB(a,b){return(a.bH.x!==b.bH.x)?(a.bH.x-b.bH.x):(a.bH.y!==b.bH.y)?(b.bH.y-a.bH.y):(a.xR-b.xR);};function avv(a,b){return(a.bH.y!==b.bH.y)?(b.bH.y-a.bH.y):(a.bH.x!==b.bH.x)?(b.bH.x-a.bH.x):(a.xR-b.xR);};function avo(a,b){return(a.bH.x!==b.bH.x)?(b.bH.x-a.bH.x):(a.bH.y!==b.bH.y)?(a.bH.y-b.bH.y):(a.xR-b.xR);};function atZ(Xg,lg,zS){zS=zS||0;var _top,agw,Ie,Zc=(hd*ac.length),Ti=lg-Zc;IPCC.aY.forEach(Xg,function(dE){Ie=(hd*(dE.aa-1));agw=(dE.aaS*Ti)+Ie;_top=Math.max(zS+5,agw);if(dE.dC.style.top!==_top+'px'){dE.dC.style.top=_top+'px';}zS=_top+dE.ZK;});};function atp(Xg,lg){var Pr,_top,PH,Ie,aiV,Zc=(hd*ac.length),Ti=lg-Zc;IPCC.aY.forEach(Xg,function(dE){Ie=(hd*(dE.aa-1));PH=(dE.aaS*Ti)+Ie;if(Pr===undefined){Pr=PH;}if(dE.H.get_conversation()===jB){_top=PH;aiV=_top+dE.ZK;}else{_top=Math.min(Pr-5-dE.ZK,PH);}if(dE.dC.style.top!==_top+'px'){dE.dC.style.top=_top+'px';}Pr=_top;});return aiV;};function mO(kK,WF,lg){if(tP===false){return;}if(!lg){lg=yN();}var anr=function(a,b){if(a.aa!==b.aa){return(a.aa-b.aa);}var ai=ac[a.aa-1],de=ai.ht;switch(de){case 90:return avB(a,b);case 180:return avv(a,b);case 270:return avo(a,b);default:return avZ(a,b);}};var Ru=(! !WF)?IPCC.aY.filter(dJ,function(dE){return IPCC.aY.inArray(cn,dE.aa-1)&&dE.aa-1>=fL&&dE.aa-1<=hT;}):kK;Nv(Ru);var aoS=IPCC.aY.map(Ru,function(dE,aB){dE.ZK=dE.dC.offsetHeight;return dE;});var Xf=aoS.sort(anr);var Rg=[],Zb=[],Wh=false;if(jB){var azO=dJ[jB.get_mark().get_markID()];if(!IPCC.aY.inArray(Xf,azO)){Wh=true;}IPCC.aY.forEach(Xf,function(dE){if(Wh){Zb.push(dE);}else if(dE.H.get_conversation()===jB){Rg.unshift(dE);Wh=true;}else{Rg.unshift(dE);}});}else{Zb=Xf;}var zS=0;if(Rg.length){zS=atp(Rg,lg);}atZ(Zb,lg,zS);};function avV(kK,O,cv){var dE=kK[O.iY()];dE.aa=cv;dE.H=O;dE.bH=aaA(O,cv);dE.xR=O.fb().ou(O);};function Gz(O,kK,mR){var eg=kK[O.get_markID()];if(eg){eg.dC.parentElement.replaceChild(mR,eg.dC);eg.dC=mR;}return eg;};function atU(O,kK,mR,ayq,aGq,JN,cv){var eg=new IPCC.eg();eg.dC=mR;dJ[O.get_markID()]=eg;avV(dJ,O,cv);eg.aaS=JN;ayq.appendChild(mR);return eg;};function aaA(O,aa){var bH=(O.get_boundingRectangle)?O.get_boundingRectangle():{},de=ac[aa-1].ht;switch(de){case 90:return{x:bH.x,y:bH.y+(bH.height||0)};case 180:return{x:bH.x+(bH.width||0),y:bH.y+(bH.height||0)};case 270:return{x:bH.x+(bH.width||0),y:bH.y};default:return{x:bH.x,y:bH.y};}};function atX(cE){function Nz(az,bS){var K=new IPCC.Web.UI.CommentEventArgs();K.pageIndex=cE.cv;K.mark=bS.mark;K.index=bS.index;K.comment=bS.comment;var ai=document.getElementById(cE.aI);C.ay('commentAdding',K);setTimeout(function(){var Lv=yN(),eg,dC;if(bS.index===0){dC=nI(bS.mark,{isSelected:false},null);if(!dC){return;}else if(!IPCC.aY.vs(dC)){throw new Error(dC+' is not a valid HTMLElement');}var DM=aaA(bS.mark,cE.cv+1),axR=DM.x,axK=DM.y;var dw;if(ai&&ai.aS){dw=ai.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(axR,axK),true);}else{dw=new IPCC.Web.UI.Point(0,0);}var WW=(hd*(cE.cv));var JN=(ai.offsetTop-WW+dw.y)/(Lv-(hd*ac.length));eg=atU(bS.mark,dJ,dC,le,dw,JN,cE.cv+1);}else{var hH=bS.mark.get_conversation()===jB;var currentConversationDiv=dJ[bS.mark.get_markID()];if(!currentConversationDiv){return;}dC=nI(bS.mark,{isSelected:hH},currentConversationDiv.dC);if(!dC){return;}else if(!IPCC.aY.vs(dC)){throw new Error(dC+' is not a valid HTMLElement');}eg=Gz(bS.mark,dJ,dC);}if(IPCC.aY.inArray(cn,cE.cv)&&cE.cv>=fL&&cE.cv<=hT){mO(dJ,true,Lv);}else{Kf([eg]);}C.ay('commentAdded',K);},0);};cE.bA.add_commentAdded(Nz);};function atS(cE){function NR(az,bS){var dC=null;if(dJ[bS.mark.get_markID()]){dC=dJ[bS.mark.get_markID()].dC;var hH=bS.mark.get_conversation()===jB;dC=nI(bS.mark,{isSelected:hH},dC);}if(!dC){C.ay('commentChanged',bS);return;}else if(!IPCC.aY.vs(dC)){throw new Error(dC+' is not a valid HTMLElement');}if(dC){var lg=yN();Gz(bS.mark,dJ,dC);mO(dJ,true,lg);}C.ay('commentChanged',bS);};cE.bA.add_commentChanged(NR);};function atm(cE){function Ny(az,bS){var dC=null;if(dJ[bS.mark.get_markID()]){dC=dJ[bS.mark.get_markID()].dC;}var hH=bS.mark.get_conversation()===jB;dC=nI(bS.mark,{isSelected:hH},dC);if(IPCC.aY.vs(dC)){Gz(bS.mark,dJ,dC);}else{var eg=dJ[bS.mark.get_markID()];if(eg){if(bS.mark.get_conversation()===jB){jB=null;}eg.dC.parentElement.removeChild(eg.dC);delete dJ[bS.mark.get_markID()];}}mO(dJ,true);C.ay('commentRemoved',bS);};cE.bA.add_commentRemoved(Ny);};function VN(){var cY=gW;var bf=eS;var apt=function(jk){return{width:jk.width||(jk.right-jk.left),height:jk.height||(jk.bottom-jk.top),top:jk.top,bottom:jk.bottom,left:jk.left,right:jk.right};};var amv=apt(bn.getBoundingClientRect());var nS={height:Math.floor(amv.height/2)};nS.width=nS.height*bf/cY;if(nS.width>bf/2){nS.width=bf/2;}if(nS.height>cY/2){nS.height=cY/2;}var Kd={height:Math.floor(cY*8)};Kd.width=Kd.height*bf/cY;var awL=bf*cS<nS.width+5;var awD=bf*cS>Kd.width-5;return{min:nS,max:Kd,page:{width:bf,height:cY},viewport:amv,atMin:awL,atMax:awD,maxFactor:Kd.width/bf,minFactor:nS.width/bf};};function kt(av,UK){if(UK){ake.apply(this,arguments);return;}var wx=(av<cS)?true:false;var nB=VN();if((nB.atMin&&wx)||(nB.atMax&& !wx)){return;}if(av>nB.maxFactor){av=nB.maxFactor;}else if(av<nB.minFactor){av=nB.minFactor;}if(!nB.atMax|| !nB.atMin){ake.apply(this,arguments);}};function ake(av,aDm,aD,dZ,GH,xK,es,ft){if(isNaN(av)||av<=0||Math.abs(av)===Infinity){return;}var wx=(av<cS)?true:false;var iG=0;var ir=ac.length-1;if(dk===IPCC.ViewMode.SinglePage){if(cq-fX>=0){iG=cq-fX;}if(cq+fX<ac.length-1){ir=cq+fX;}}var MY=av/cS;cS=av;var amt=(xK&&xK.x!==undefined)?xK.x:bn.scrollLeft+(bn.clientWidth/2);var aop=(xK&&xK.y!==undefined)?xK.y:bn.scrollTop+(bn.clientHeight/2);hJ=0;hE=0;for(var aN=iG;aN<=ir;aN++){var aj;var am=document.getElementById(ac[aN].aI);if(am){aj=am.aS;}else{continue;}var gc=av*SCREEN_RESOLUTION/ac[aN].hg;var bJ=eS;var ao=gW;var dU=eS;var fc=gW;if(iz(pM)===true){dU=gW;fc=eS;}if(ac[aN].bJ>0){if(iz(ac[aN].ht)===true){bJ=ac[aN].ao;ao=ac[aN].bJ;}else{bJ=ac[aN].bJ;ao=ac[aN].ao;}}else{gc=av*SCREEN_RESOLUTION/ac[0].hg;if(iz(ac[aN].ht)===true){var HJ=bJ;bJ=ao;ao=HJ;gc=av*SCREEN_RESOLUTION/ac[0].gf;}}var Lq,LU,gP;if(dk===IPCC.ViewMode.SinglePage){LU=bJ*gc;Lq=ao*gc;am.style.width=LU+'px';am.style.height=Lq+'px';if(aN===cq){bd.style.width=LU+'px';bd.style.height=Lq+'px';}if(aj&&ac[aN].eY===true&&aj.gU()===true){aj.zoom(gc);}}else if(dk===IPCC.ViewMode.Document){LU=bJ*gc;Lq=ao*gc;am.style.width=LU+'px';am.style.height=Lq+'px';if(aj&&ac[aN].eY===true&&aj.gU()===true){aj.zoom(gc);}if(bJ*gc>hJ){hJ=bJ*gc;}if(ao*gc>hE){hE=ao*gc;}}else{gc=av*SCREEN_RESOLUTION/ac[0].hg;if(ew===IPCC.PageLayout.VerticalScrollDirection){gP=dU/bJ*gc;am.style.width=dU*gc+'px';am.style.height=ao*gP+'px';if(dU*gc>hJ){hJ=dU*gc;}if(ao*gc>hE){hE=ao*gc;}}else{gP=fc/ao*gc;am.style.height=fc*gc+'px';am.style.width=bJ*gP+'px';if(bJ*gc>hJ){hJ=bJ*gc;}if(fc*gc>hE){hE=fc*gc;}}if(aj&&ac[aN].eY===true&&aj.gU()===true){aj.zoom(gP);}}if(aj&&ac[aN].eY===true&&aj.gU()===true){aj.display();var azI= ! !navigator.userAgent.match('Edge');if(azI){var axn=bn.style.display;bn.style.display='none';bn.style.display=axn;atx();}}}if(ew===IPCC.PageLayout.VerticalScrollDirection){Pq=bn.scrollTop;}else{Pq=bn.scrollLeft;}var Xd,Tg,Wv=0,WJ=0;if(GH){Xd=GH.offsetLeft+MY*aD;Tg=GH.offsetTop+MY*dZ;}else{if(ew===IPCC.PageLayout.VerticalScrollDirection){WJ=hd*(cq);}else{Wv=(jf+hY)*(cq);}Xd=MY*(amt-Wv);Tg=MY*(aop-WJ);}bn.scrollLeft=Xd-(bn.clientWidth/2)+Wv;bn.scrollTop=Tg-(bn.clientHeight/2)+WJ;zO();if(wx===true&&dk!==IPCC.ViewMode.SinglePage){ml(true);}mO(dJ,true);C.ay('scaleChanged',{scaleType:(wx)?"scaledDown":"scaledUp",scaleTrigger:es,fitType:ft,scaleFactor:cS});};function atx(){var dummy=document.createElement('div');setTimeout(function(){bn.appendChild(dummy);bn.removeChild(dummy);},0);};function aaG(bj,hN,ic,ep){var kW=bj.igElements;ep=ep||RQ(bj);if(ep&&(ep.right-ep.left)>0&&(ep.bottom-ep.top)>0){return new IPCC.Web.UI.Point(hN+ep.left+kW.oy.scrollLeft,ic+ep.top+kW.oy.scrollTop);}else{return;}};function RQ(bj){var kW=bj.igElements;var ep;if(kW.mu.getBoundingClientRect){try{ep=kW.mu.getBoundingClientRect();}catch(aH){return;}}else{var cG=kW.mu;var vN=document.documentElement;ep={left:vN.clientLeft-vN.scrollLeft,top:vN.clientTop-vN.scrollTop};cG=cG.offsetParent;while(cG){ep.top+=cG.offsetTop-cG.scrollTop;ep.left+=cG.offsetLeft-cG.scrollLeft;cG=cG.offsetParent;}}return ep;};function aec(){var bN=C.gr();var NS=bN.id;var Ah;var zz;var qS;var aaM;var aab;var ax=false;var bj;var qD=[];var vm= -1;var gI=0;var oV;var FU;var CD;var nj=0;var cX=0;var un=null;var wb=null;if(bd===''){bn=ez({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bn.className='pccPageListContainerWrapper';bn.tabIndex=2;var Rz=function(hN,ic){var ki=document.elementFromPoint(hN,ic);while(ki&&(ki.parentNode||ki.ownerSVGElement)){if(ki.parentNode.id&&ki.parentNode.id.indexOf("__pViewId")!== -1){return ki.parentNode;}ki=ki.ownerSVGElement||ki.parentNode;}return false;};var Sa=function(bj,hN,ic){var kW=bj.igElements;var ep=RQ(bj);if(ep&&(ep.right-ep.left)>0&&(ep.bottom-ep.top)>0){return new IPCC.Web.UI.Point(hN-ep.left-kW.oy.scrollLeft,ic-ep.top-kW.oy.scrollTop);}else{return;}};var anE=function(rr){rr.Kj([new IPCC.oH(IPCC.Web.UI.MarkType.Text)]);};var aoX=function(rr){rr.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var PV=false,aBR="";var agV=function aEq(aH,iL,ai){if(iL.match(/edit/)){PV=true;return;}anE(ai.aS);PV=true;aBR=iL;ai.aS.JS("touchstart",aH);};var aht=function(ai){PV=false;aoX(ai.aS);};var ST=function(aH){if(aH.target&&aH.target.attributes&&aH.target.getAttribute('data-pcc-mark')){return aH.target;}else if(aH.target.parentElement&&aH.target.parentElement.attributes&&aH.target.parentElement.getAttribute('data-pcc-mark')){return aH.target.parentElement;}else if(aH.target.parentNode&&aH.target.parentNode.attributes&&aH.target.parentNode.getAttribute('data-pcc-mark')){return aH.target.parentNode;}else{return undefined;}};var Zu=function(aH){var bU=ST(aH);if(bU){return bU.getAttribute('data-pcc-mark');}return undefined;};var aiA=function(rr){if(rr){rr.fb().CU(function(H){H.set_selected(false);});rr.display();}};var PN,TM=false;var SB=function(aH,K){var sx={cJ:undefined,H:undefined,aQ:null};var nZ=ST(aH);if(nZ){if(typeof bj!=='undefined'&&bj!==false&&bj.aS&&bj.igElements&&bj.aS.gU()===true){sx.aQ=bj.aS.nu();}if(nZ.ImGearMarkRelation){sx.cJ='mark';sx.H=nZ.ImGearMarkRelation.H;return sx;}else{while(!(nZ.ImGearMarkRelation)&&nZ.parentNode&&nZ!==document.body){nZ=nZ.parentNode;if(nZ.ImGearMarkRelation){sx.cJ='mark';sx.H=nZ.ImGearMarkRelation.H;return sx;}}}}if(typeof bj!=='undefined'&&bj!==false&&bj.aS&&bj.igElements&&bj.aS.gU()===true){sx.aQ=bj.aS.nu();var aQ=0;for(aQ=0;aQ<ac.length;aQ++){if(ac[aQ].aI===bj.id){if(typeof K.targetType==='undefined'||K.targetType===null){sx.cJ='page';return sx;}break;}}}return sx;};var Qk=function(aQ,uN,kQ,azS){if(af===null||af===undefined){return;}var Sq=false;if(uN===undefined){uN=af.uN;Sq=true;}if(kQ===undefined){kQ=af.kQ;Sq=true;}var H;var ai=document.getElementById(ac[aQ].aI);if(azS===true){H=af.yX;}else{H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);H.set_rectangle({x:0,y:0,width:0,height:0});H.dz=127;H.cW='#3366CC';H.cf=null;ai.aS.ks().addMark(H);}H.set_selected(true);if(Sq===true){if(af.iG===af.ir){H.an=gI;H.dQ=kQ-gI+1;H.lm=true;H.jM=true;ai.aS.display();}else if(aQ===af.iG){H.an=gI;H.dQ=ai.aS.dq().eJ().dY()-1-uN;H.lm=true;H.jM=false;ai.aS.display();}else if(aQ===af.ir){H.an=0;H.dQ=kQ+1;H.lm=false;H.jM=true;ai.aS.display();}else{H.an=0;H.dQ=ai.aS.dq().eJ().dY()-1-gI;H.lm=false;H.jM=false;}}else{if(af.iG===af.ir){H.lm=true;H.jM=true;}else if(aQ===af.iG){H.lm=true;H.jM=false;}else if(aQ===af.ir){H.lm=false;H.jM=true;}else{H.lm=false;H.jM=false;}}af.fG[aQ]=H;};var lo=function(aH){if(CD){if(CD.clientX===aH.clientX&&CD.clientY===aH.clientY){if(aH.rawEvent.preventDefault){aH.rawEvent.preventDefault();}else if(aH.preventDefault){aH.preventDefault();}if(aH.rawEvent.stopPropagation){aH.rawEvent.stopPropagation();}else if(aH.stopPropagation){aH.stopPropagation();}TM=true;CD=undefined;return false;}}PN=aH;akJ(aH,aH.clientX,aH.clientY,aH.button);};var akE=function(aH,K){qS=SB(aH,K);};var akJ=function(aH,hN,ic,rk){var K=new IPCC.Web.UI.MouseEventArgs();bj=Rz(hN,ic);akE(aH,K);var iL;var nZ=ST(aH);if(nZ){iL=nZ.getAttribute('data-pcc-mark');}var TS=false;var Nm=iL&&iL.substring(0,10);if(iL&&Nm==='texthandle'){FU=true;TS=true;Nm=iL.substring(10,13);var H=nZ.parentNode.ImGearMarkRelation.H;if(af&&H.cf===null){qD=af.sh.slice();qD[K.pageIndex]=undefined;}else{af=null;qD=[];C.yf();}var aeL=function(aAB){gI=af.uN;var G;for(G=af.ir;G>=af.iG;G--){var ai=document.getElementById(ac[G].aI);if(ai.aS===undefined||ai.aS===null){continue;}var AI=gI;if(G!==af.iG){AI=0;}var sA;if(G===af.ir){sA=af.kQ;}else{sA=ai.aS.get_textPage().eJ().dY()-1;}aAB(ai,AI,sA);if(G!==af.pA){Qk(G);}}un=cN;cN=IPCC.Web.UI.MouseTool.SelectText;ax=true;};var G,aQ,bA,Or,eU,uk,dv;if(Nm==='sta'){if(af===null||af===undefined){aQ=H.aQ;af={};af.fG=[];af.iG=aQ;af.uN=H.an;gI=H.an;while(aQ<ac.length){bA=ac[aQ].bA;Or=bA.get_markCount();for(G=0;G<Or;G++){eU=bA.getMark(G);if(H.dF===eU.dF&&eU.get_type()===H.get_type()){af.fG[aQ]=eU;for(uk=eU.cf.length-1;uk>=0;uk--){if(eU.cf[uk].set_visible){eU.cf[uk].set_visible(false);}else{eU.set_visible(false);break;}}if(aQ===H.aQ){wb=eU;}else{qD[aQ]=dv.substring(eU.an,eU.dQ);eU.set_selected(false);}dv=eU.dv.substring(eU.dQ);if(eU.jM===true){af.kQ=eU.an+eU.dQ-1;af.ir=aQ;break;}}}aQ++;}}oV=af.kQ+1;nj=af.ir;var aAA=function(ai,AI,sA){ai.aS.showEmptyTextSelection(sA+1);ai.aS.extendTextSelection(undefined);ai.aS.extendTextSelection(sA);ai.aS.extendTextSelection(AI);};af.fG[af.iG].xr=true;af.pA=af.iG;af.yX=af.fG[af.iG];aeL(aAA);}else if(Nm==='end'){if(af===null||af===undefined){aQ=H.aQ;af={};af.fG=[];af.ir=aQ;af.kQ=H.an+H.dQ-1;while(aQ>=0){bA=ac[aQ].bA;Or=bA.get_markCount();for(G=0;G<Or;G++){eU=bA.getMark(G);if(H.dF===eU.dF&&eU.get_type()===H.get_type()){af.fG[aQ]=eU;for(uk=eU.cf.length-1;uk>=0;uk--){if(eU.cf[uk].set_visible){eU.cf[uk].set_visible(false);}else{eU.set_visible(false);break;}}if(aQ===H.aQ){dv=eU.dv;}else{qD[aQ]=dv.substring(dv.length-eU.dQ);eU.set_selected(false);}dv=eU.dv.substring(0,dv.length-eU.dQ);if(eU.lm===true){af.uN=eU.an;gI=eU.an;af.iG=aQ;wb=eU;break;}}}aQ--;}}oV=af.uN;nj=af.iG;var azH=function(ai,AI,sA){ai.aS.showEmptyTextSelection(AI);ai.aS.extendTextSelection(undefined);ai.aS.extendTextSelection(AI);ai.aS.extendTextSelection(sA);};af.fG[af.ir].xr=true;af.pA=af.ir;af.yX=af.fG[af.ir];aeL(azH);}if(wb){bj.aS.display();}}var zx=aH.target.tagName&&aH.target.tagName.toLowerCase()==='textarea';if(zx){return;}var AA=aH.target.tagName&&aH.target.tagName.toLowerCase()==='input'&&aH.target.type&&aH.target.type.toLowerCase()==='text';if(AA){return;}if(cN===IPCC.Web.UI.MouseTool.HandPan&&BJ&&iL&&TS===false){if(!qS||qS.H.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){agV(aH,iL,bj);return;}}var cZ;var hv;if(bj!==false&&bj.aS&&bj.igElements&&bj.aS.gU()===true){var bP=0;for(bP=0;bP<ac.length;bP++){if(ac[bP].aI===bj.id){K.pageIndex=bP;break;}}K.pointLiesWithinImage=true;hv=Sa(bj,hN,ic);if(hv){cZ=bj.aS.IG(hv,false);K.imagePoint=cZ;K.constrainedImagePoint=cZ;}else{K.pointLiesWithinImage=false;}}else{K.pointLiesWithinImage=false;}K.domEvent=aH;K.windowPoint=new IPCC.Web.UI.Point(hN,ic);if(TS===true){vm= -1;cX=K.pageIndex;aH.preventDefault();C.ay('mouseDown',K);return;}switch(cN){case IPCC.Web.UI.MouseTool.None:aH.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aH.preventDefault();Ah=ic;zz=hN;aaM=bn.scrollTop;aab=bn.scrollLeft;ax=true;bd.style.cursor=IPCC.bO.fE(IPCC.bO.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:aH.preventDefault();if(rk===0&&bj&&bj.aS&&cZ){C.yf();qD=[];vm= -1;FU=undefined;var cL=bj.aS.transformPagePointToTextIndex(cZ);gI=cL;oV=cL;ax=true;if(cL===undefined){C.ay('mouseDown',K);return;}bj.aS.showEmptyTextSelection(cL);bj.aS.extendTextSelection(undefined);bj.aS.extendTextSelection(cL);bj.aS.display();nj=K.pageIndex;cX=K.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:aH.preventDefault();if(rk===0&&bj&&bj.aS&&hv){var hK=IPCC.bO.fE(IPCC.bO.None);bd.style.cursor=hK;bj.aS.showMagnifier(hv);bj.aS.display();}ax=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aH.preventDefault();if(rk===0&&bj&&bj.aS&&cZ){ax=true;Ah=hv.y;zz=hv.x;bj.aS.showEmptySelection(cZ);bj.aS.display();}break;}C.ay('mouseDown',K);};var jV=function(aH){ajW(aH,aH.clientX,aH.clientY,aH.button);};var ajW=function(aH,hN,ic,rk){var zx=aH.target.tagName&&aH.target.tagName.toLowerCase()==='textarea';if(zx){return;}var AA=aH.target.tagName&&aH.target.tagName.toLowerCase()==='input'&&aH.target.type&&aH.target.type.toLowerCase()==='text';if(AA){return;}var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=aH;K.windowPoint=new IPCC.Web.UI.Point(hN,ic);var dg=Rz(hN,ic);var cZ;var hv;if(dg!==false&&dg.aS&&dg.igElements&&dg.aS.gU()===true){K.pointLiesWithinImage=true;hv=Sa(dg,hN,ic);if(hv){cZ=dg.aS.IG(hv,false);K.imagePoint=cZ;K.constrainedImagePoint=cZ;}else{K.pointLiesWithinImage=false;}}else{K.pointLiesWithinImage=false;}var hK;switch(cN){case IPCC.Web.UI.MouseTool.None:aH.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aH.preventDefault();if(ax){var apG=ic;var apN=hN;var axv=Ah-apG;var axB=zz-apN;bn.scrollTop=aaM+axv;bn.scrollLeft=aab+axB;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:aH.preventDefault();if(ax){if(rk!==0){DN();}var iX;if(!dg){C.ay('mouseMove',K);return;}if(gI===undefined){bj=dg;}else if(dg!==bj&&dg.aS&&hv){vm= -1;var ln=0;var G=0;for(G=0;G<ac.length;G++){if(ac[G].aI===dg.id){ln=G;break;}}if(ln>cX){if(ln>nj){iX=bj.aS.get_textPage().eJ().dY()-1;if(iX<0){DN();C.ay('mouseMove',K);return;}bj.aS.extendTextSelection(iX);if(af){iX=bj.aS.get_textPage().eJ().dY()-1;af.fG[cX].set_startIndex(bj.aS.Qs());af.fG[cX].set_textLength(bj.aS.CY());af.ir=ln;gI=bj.aS.Qs();}qD[cX]=bj.aS.getSelectedText();dg.aS.showEmptyTextSelection(0);dg.aS.extendTextSelection(undefined);vm=0;bj.aS.display();bj=dg;}else{gI=0;qD[cX]=undefined;qD[ln]=undefined;bj.aS.showEmptyTextSelection(0);bj.aS.extendTextSelection(undefined);if(af&&af.fG[cX]){af.fG[cX].lm=false;}bj.aS.display();bj=dg;if(af&&af.fG[cX]){af.fG[cX]=undefined;af.iG=ln;af.fG[ln].set_startIndex(0);af.fG[ln].set_textLength(af.fG[ln].get_startIndex()+af.fG[ln].get_textLength());af.fG[ln].lm=true;bj.aS.display();}}}else if(ln<cX){if(ln<nj){iX=bj.aS.get_currentTextIndex();if(iX!==0){bj.aS.extendTextSelection(0);}if(af){af.fG[cX].set_startIndex(bj.aS.Qs());af.fG[cX].set_textLength(bj.aS.CY());af.iG=ln;}qD[cX]=bj.aS.getSelectedText();bj.aS.display();iX=dg.aS.dq().eJ().dY()-1;vm=iX;gI=0;dg.aS.showEmptyTextSelection(iX+1);dg.aS.extendTextSelection(undefined);bj=dg;bj.aS.display();}else{qD[cX]=undefined;qD[ln]=undefined;bj.aS.showEmptyTextSelection(0);bj.aS.extendTextSelection(undefined);if(af&&af.fG[cX]){af.fG[cX].jM=false;}bj.aS.display();bj=dg;if(af&&af.fG[cX]){af.fG[cX]=undefined;af.ir=ln;iX=bj.aS.dq().eJ().dY()-1;af.fG[ln].set_textLength(dg.aS.CY());af.fG[ln].jM=true;bj.aS.display();}}}cX=ln;}var avN=(cX<nj),axd=(cX>nj);if(bj&&bj.aS&&bj.aS.gU()===true&&hv){hv=Sa(bj,hN,ic);cZ=bj.aS.IG(hv,false);var cL=bj.aS.transformPagePointToTextIndex(cZ);if(gI===undefined){gI=cL;oV=cL;if(cL===undefined){C.ay('mouseMove',K);return;}bj.aS.showEmptyTextSelection(cL);bj.aS.extendTextSelection(undefined);bj.aS.extendTextSelection(cL);bj.aS.display();var ag=0;for(ag=0;ag<ac.length;ag++){if(ac[ag].aI===bj.id){nj=ag;cX=ag;break;}}}else{if(gI=== +gI&&cL=== +cL){if(avN){gI=cL;}else if(!axd){gI=Math.min(oV,cL);}}}iX=bj.aS.get_currentTextIndex();if(iX===cL||cL===undefined){C.ay('mouseMove',K);return;}if(vm!== -1){if(cL!==vm){bj.aS.extendTextSelection(vm);}vm= -1;}if((cL>oV&&cX===nj)||cX>nj){if(af){if(af.fG[cX]===undefined||af.fG[cX]===null){Qk(cX,0,0,cX===af.pA);if(cX-1>=0&&af.fG[cX-1]){af.fG[cX-1].jM=false;document.getElementById(ac[cX-1].aI).aS.display();}}af.fG[cX].jM=true;}if(FU===undefined){FU=false;}}else if(cL<oV||cX<nj){if(af){if(af.fG[cX]===undefined||af.fG[cX]===null){Qk(cX,bj.aS.dq().eJ().dY()-1,0,cX===af.pA);if(af.fG[cX+1]){af.fG[cX+1].lm=false;document.getElementById(ac[cX+1].aI).aS.display();}}af.fG[cX].lm=true;}if(FU===undefined){FU=true;oV++;bj.aS.showEmptyTextSelection(oV);bj.aS.extendTextSelection(undefined);var sA=bj.aS.dq().eJ().dY();if(oV>=sA){bj.aS.extendTextSelection(sA-1);}else{bj.aS.extendTextSelection(oV);}}}bj.aS.extendTextSelection(cL);if(af&&af.fG[cX]){af.fG[cX].set_startIndex(bj.aS.Qs());af.fG[cX].set_textLength(bj.aS.CY());}bj.aS.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:aH.preventDefault();if(rk!==0||(bj&&bj.aS&&bj!==dg)){bj.aS.hideMagnifier();hK=IPCC.bO.fE(IPCC.bO.Magnifier);bd.style.cursor=hK;bj.aS.display();}if(ax&&dg&&dg.aS&&hv){bj=dg;hK=IPCC.bO.fE(IPCC.bO.None);bd.style.cursor=hK;dg.aS.showMagnifier(hv);dg.aS.display();}break;case IPCC.Web.UI.MouseTool.RectangleZoom:aH.preventDefault();if(ax){if(dg&&dg.aS&&cZ&&dg===bj){if(rk!==0){dg.aS.hideSelection();dg.aS.display();ax=false;}else{dg.aS.extendSelection(cZ);dg.aS.display();}}else{bj.aS.hideSelection();bj.aS.display();ax=false;}}break;}C.ay('mouseMove',K);};var jF=function(aH){if(TM!==true){XQ(aH,aH.clientX,aH.clientY);}else{TM=false;}};var akC=function(aH,K){K.upTargetType=null;var BH=SB(aH,K);K.originalEvent=aH.rawEvent;K.clientX=aH.clientX;K.clientY=aH.clientY;K.downTarget={type:undefined,pageIndex:undefined};if(typeof qS!=='undefined'&&typeof qS.cJ!=='undefined'){K.downTarget.type=qS.cJ;}if(typeof qS!=='undefined'&&typeof qS.aQ!=='undefined'){K.downTarget.pageIndex=qS.aQ;}K.downMark=(typeof qS!=='undefined')?qS.H:undefined;K.upMark=BH.H;switch(BH.cJ){case 'page':case 'mark':K.upTarget={type:BH.cJ,pageIndex:BH.aQ};break;}if(K.pointLiesWithinImage===false&&BH.cJ==='page'){BH.aQ= -1;}};var XQ=function(aH,hN,ic){var K=new IPCC.Web.UI.MouseEventArgs();var dg;var cZ;var hv;if(aH){dg=Rz(hN,ic);if(dg!==false&&dg.aS&&dg.igElements&&dg.aS.gU()===true){bj=dg;K.pointLiesWithinImage=true;hv=Sa(dg,hN,ic);if(hv){cZ=dg.aS.IG(hv,false);K.imagePoint=cZ;K.constrainedImagePoint=cZ;}else{K.pointLiesWithinImage=false;}}else{K.pointLiesWithinImage=false;}K.domEvent=aH;K.windowPoint=new IPCC.Web.UI.Point(hN,ic);akC(aH,K);C.ay('mouseUp',K);}qS=undefined;var hK;switch(cN){case IPCC.Web.UI.MouseTool.None:aH.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aH.preventDefault();if(ax){zz=undefined;Ah=undefined;aaM=undefined;aab=undefined;ax=false;bp=IPCC.bO.HandOpen;hK=IPCC.bO.fE(bp);bd.style.cursor=hK;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:if(aH){aH.preventDefault();}if(ax){var pQ=new IPCC.Web.UI.TextSelectedEventArgs(),ka=[],G,Ab,CJ;var kQ;var Ib=bj.aS.getSelectedText();var sh=qD.slice();if(Ib.length>0){sh[cX]=bj.aS.getSelectedText();}else{if(cX>nj){cX--;bj=document.getElementById(ac[cX].aI);if(sh[cX]){Ib=sh[cX];}}else if(cX<nj){cX++;bj=document.getElementById(ac[cX].aI);if(sh[cX]){Ib=sh[cX];}}}pQ.text=sh.join('');var ZP=true;if(cX>=nj){if(cX===nj){if(bj.aS.get_currentTextIndex()>=oV){ZP=false;}kQ=gI+Ib.length-1;}else{kQ=Ib.length-1;}if(kQ<0){kQ=0;}Ab=nj;CJ=cX;}else{ZP=false;kQ=oV-1;Ab=cX;CJ=nj;}for(G=Ab;G<=CJ;G++){ka.push(G);}if(pQ.text.length===0){DN();ka=[];}pQ.pageNumbers=ka;pQ.clientX=hN;pQ.clientY=ic;if(gI!==undefined){if(cN===IPCC.Web.UI.MouseTool.SelectText){var ata=function(ai,za){var Iu=ai.aS.dq();var fi=Iu.eJ();var fd=fi.lB(za);return fd.wq();};var iX=bj.aS.get_currentTextIndex();var Qv=ata(bj,iX);var eb=0,fj=0;if(ZP===false){eb=Qv.width;fj=Qv.height;}var EH=bj.aS.transformPagePointToWindow(new IPCC.Web.UI.Point(Qv.x+eb,Qv.y+fj),true);var dw=aaG(bj,EH.x,EH.y);pQ.handleClientX=dw.x;pQ.handleClientY=dw.y;}var awn=af===undefined||af===null;if(wb){pQ.previousFirstMark=wb;pQ.firstMark=af.fG[Ab];if(af.pA<Ab||af.pA>CJ){var Jq=document.getElementById(ac[af.pA].aI);if(Jq.aS){Jq.aS.ks().removeMark(af.yX);}}af.yX.xr=false;C.yf();if(un!==null){cN=un;}un=null;}else if(awn===true){if(cN===IPCC.Web.UI.MouseTool.SelectText){af={iG:Ab,uN:gI,ir:CJ,kQ:kQ,sh:sh.slice(),fG:[]};for(G=0;G<ka.length;G++){Qk(ka[G]);}}else{C.yf();}}else{if(af.pA<Ab||af.pA>CJ){var agM=document.getElementById(ac[af.pA].aI);if(agM.aS){agM.aS.ks().removeMark(af.yX);}}af.yX.xr=false;af.iG=Ab;af.uN=gI;af.ir=CJ;af.kQ=kQ;af.sh=sh.slice();if(un!==null){cN=un;}un=null;}pQ.mouseTool=cN;pQ.startIndex=gI;C.ay('selectTextMouseToolCompleted',pQ);if(wb){wb=null;af=null;}}ax=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:aH.preventDefault();if(dg&&dg.aS){dg.aS.hideMagnifier();hK=IPCC.bO.fE(IPCC.bO.Magnifier);bd.style.cursor=hK;dg.aS.display();}ax=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aH.preventDefault();if(ax&&hv){var Gu=0;var FQ=0;var Xn=0;var Wy=0;if(hv.x<zz){Gu=zz-hv;Xn=hv.x+Gu/2;}else{Gu=hv.x-zz;Xn=zz+Gu/2;}if(hv.y<Ah){FQ=Ah-ic;Wy=hv.y+FQ/2;}else{FQ=hv.y-Ah;Wy=Ah+FQ/2;}var anp=bn.clientWidth/Gu;var akG=bn.clientHeight/FQ;var qT=anp;if(anp>akG){qT=akG;}if(dg&&dg.aS){dg.aS.rg();dg.aS.display();}ax=false;if(Gu*2+FQ*2>25){C.alJ(qT,Xn,Wy,dg);}}break;}var zx=false;var AA=false;if(aH){zx=aH.target.tagName&&aH.target.tagName.toLowerCase()==='textarea';AA=aH.target.tagName&&aH.target.tagName.toLowerCase()==='input'&&aH.target.type&&aH.target.type.toLowerCase()==='text';}if(PV&& !zx&& !AA){aht(bj);}else if(cN===IPCC.Web.UI.MouseTool.HandPan&&PN&& !zx&& !AA&&aH&&PN.clientX===aH.clientX&&PN.clientY===aH.clientY&&aH.shiftKey!==true&&aH.ctrlKey!==true){aiA(bj.aS);}};var aCR=function(){var hK;switch(cN){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:bp=IPCC.bO.HandOpen;hK=IPCC.bO.fE(bp);bd.style.cursor=hK;ax=false;break;case IPCC.Web.UI.MouseTool.SelectText:DN();break;case IPCC.Web.UI.MouseTool.Magnifier:if(bj&&bj.aS){bj.aS.hideMagnifier();hK=IPCC.bO.fE(IPCC.bO.Magnifier);bd.style.cursor=hK;bj.aS.display();}ax=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(bj&&bj.aS){bj.aS.hideSelection();bj.aS.display();ax=false;}break;}};var aEN=function(){aCR();};var aCB=function(){if(cN===IPCC.Web.UI.MouseTool.Magnifier){if(bj&&bj.aS){bj.aS.hideMagnifier();var hK=IPCC.bO.fE(IPCC.bO.Magnifier);bd.style.cursor=hK;bj.aS.display();}ax=false;}else if(cN===IPCC.Web.UI.MouseTool.RectangleZoom){if(bj&&bj.aS){bj.aS.hideSelection();bj.aS.display();ax=false;}}else if(cN===IPCC.Web.UI.MouseTool.SelectText){DN();}};var lO=function(aH){if(aH.ctrlKey){switch(cN){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var RZ=aH.rawEvent.wheelDelta;aH.preventDefault();if(RZ<0){C.zoomOut(1.5);}else{C.zoomIn(1.5);}break;}}else{aH.preventDefault();bn.scrollTop-=aH.rawEvent.wheelDelta*0.72;}if(cN===IPCC.Web.UI.MouseTool.Magnifier){if(bj&&bj.aS){bj.aS.hideMagnifier();var hK=IPCC.bO.fE(IPCC.bO.Magnifier);bd.style.cursor=hK;bj.aS.display();}ax=false;}else if(cN===IPCC.Web.UI.MouseTool.RectangleZoom){if(bj&&bj.aS){bj.aS.hideSelection();bj.aS.display();ax=false;}}else if(cN===IPCC.Web.UI.MouseTool.SelectText){DN();}};var aBc=function(bv){var K=new IPCC.Web.UI.MouseEventArgs();K.upTarget={type:'comments',element:bv.target};K.downTarget={type:'comments',element:bv.target};K.originalEvent=bv.rawEvent;K.clientX=bv.clientX;K.clientY=bv.clientY;K.pageIndex=undefined;C.ay('mouseUp',K);};var DN=function(){if(ax===true){if(af&&af.pA!==undefined){if(wb){XQ(null,0,0);return;}else{var Jq=document.getElementById(ac[af.pA].aI);if(Jq.aS){Jq.aS.ks().removeMark(af.yX);}af.yX.xr=false;}}C.yf();wb=null;ax=false;if(un!==null){cN=un;}un=null;}};zR=ez({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dk===IPCC.ViewMode.SinglePage){bd=ez({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bd.className='pccPageListContainer pccSinglePageView';}else{bd=ez({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bd.className='pccPageListContainer';}IPCC.Web.UI.aE.addHandler(bd,"mousedown",lo);IPCC.Web.UI.aE.addHandler(bd,"mouseup",jF);IPCC.Web.UI.aE.addHandler(bd,"mousemove",jV);IPCC.Web.UI.aE.addHandler(bd,"mouseleave",aEN);IPCC.Web.UI.aE.addHandler(bd,"mousewheel",lO);IPCC.Web.UI.aE.addHandler(bd,"DOMMouseScroll",aCB);bn.onscroll=(! !HD)?auS:Tq;bd.setAttribute('id',NS+'_ListContainer');bn.setAttribute('id',NS+'_ListWrapper');xa=NS+'_ListWrapper';le=ez();le.className='pccPageListComments pccHidden';le.setAttribute('id',NS+'_CommentsPanel');var SQ=[];if(IPCC.aY.aAK){SQ.push('touchend');}else{SQ.push('click');}IPCC.aY.forEach(SQ,function(evName){IPCC.Web.UI.aE.addHandler(le,evName,aBc);});zR.appendChild(bd);zR.appendChild(le);bn.appendChild(zR);bN.appendChild(bn);if(navigator.userAgent.match('MSIE 10')){var bf='',cY='',uY='',tw='',qK;var xe=function(){qK=getComputedStyle(bN);uY=qK.getPropertyValue('width');tw=qK.getPropertyValue('height');if(uY!==bf||tw!==cY){bf=uY;cY=tw;bn.style.width=bf;bn.style.height=cY;}};setInterval(xe,1000);window.addEventListener('resize',xe);xe();C.xe=xe;}var aBm=IPCC.aY.Hw;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aBm&&window.addEventListener&&document.querySelector){ave(bn);}var aCm=function(bd,aEy){var mY;var VO=function(bv){var aF=bv.rawEvent,jl=aF.touches[0]||aF.changedTouches[0];bv.clientX=jl.clientX;bv.clientY=jl.clientY;bv.preventDefault=function(){aF.preventDefault();};bv.stopPropagation=function(){aF.stopPropagation();};return bv;};var FI=function(iE,bv){var K=new IPCC.Web.UI.MouseEventArgs(),DI=(iE==='touchstart')?'mouseDown':(iE==='touchend')?'mouseUp':null;var Dp=(iE==='touchstart')?akJ:(iE==='touchmove')?ajW:(iE==='touchend')?XQ:null;mY=Rz(bv.clientX,bv.clientY);if(iE==='doubleTap'){mY&&mY.aS&&mY.aS.JS(iE,bv);}var iL;iL=Zu(bv);if(iL){if(iL.substring(0,5)==='texth'){bv.preventDefault();bv.stopPropagation();if(iE==='touchstart'){CD=bv;}Dp&&Dp(bv,bv.clientX,bv.clientY,0);return;}}switch(cN){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:mY&&mY.aS&&mY.aS.JS(iE,bv);if(DI==='mouseUp'){akC(bv,K);}else if(DI==='mouseDown'){akE(bv,K);}C.ay(iE,K);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:bv.preventDefault();bv.stopPropagation();if(iE==='touchstart'){CD=bv;if(iL){C.yf();break;}}Dp&&Dp(bv,bv.clientX,bv.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bv.preventDefault();bv.stopPropagation();if(iE==='touchstart'){CD=bv;}Dp&&Dp(bv,bv.clientX,bv.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(iL===undefined){iL=Zu(bv);}var R=SB(bv,{});if(iL&&BJ){if(!R||R.H.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(iE==='touchstart'){agV(bv,iL,mY);}else if(iE==='touchmove'){mY&&mY.aS&&mY.aS.JS(iE,bv);}else if(iE==='touchend'){mY&&mY.aS&&mY.aS.JS(iE,bv);aht(mY);}}}break;}};var Ge,Ce,vC;var aCN=function(bv){if(bv.rawEvent.touches.length>1){clearTimeout(vC);vC=Ce=Ge=undefined;return;}bv=VO(bv);Ge=bv;if(cN===IPCC.Web.UI.MouseTool.CreatePolylineMark){bv.preventDefault();}Ce=function(){FI('touchstart',bv);vC=Ce=Ge=undefined;};vC=setTimeout(function(){Ce();},200);};var Kr,Dm;var aBN=function(bv){bv=VO(bv);uD=false;var avu=function(){if(!Dm){return false;}var fw=Dm.clientX-bv.clientX;var eG=Dm.clientY-bv.clientY;var gS=fw*fw+eG*eG;return gS<2500;};var amX=function(){Kr=Dm=undefined;var iL=Zu(bv);if(!iL&&cN===IPCC.Web.UI.MouseTool.HandPan&&BJ&&mY){aiA(mY.aS);}};var aoO=function(){var ajY=Ce;if(Kr&&avu()){clearTimeout(Kr);Dm=Kr=undefined;ajY();FI('touchend',bv);FI('doubleTap',bv);}else{Kr=setTimeout(function(){ajY();FI('touchend',bv);amX();},300);Dm=bv;}};if(Ge&&vC){clearTimeout(vC);if(cN===IPCC.Web.UI.MouseTool.CreatePolylineMark){aoO();}else{amX();}vC=Ce=Ge=undefined;return;}FI('touchend',bv);};var ahS,uD=false;var aBP=function(bv){if(bv.rawEvent.touches.length>1){return;}ahS=bv;if(Ge&&vC){clearTimeout(vC);Ce();}auC();};function auC(){var bv=VO(ahS);FI('touchmove',bv);};IPCC.Web.UI.aE.addHandler(bd,"touchstart",aCN);IPCC.Web.UI.aE.addHandler(bd,"touchmove",aBP);IPCC.Web.UI.aE.addHandler(bd,"touchend",aBN);};aCm(bd,le);}};function ave(iw){var ahc=function(){},bk=1;function VK(abY,aco,hS,axS){iw.style['-ms-transform']=abY;iw.style['-moz-transform']=abY;iw.style['-webkit-transform']=aco;iw.style['transform']=aco;iw.style['-ms-transform-origin']=hS;iw.style['-moz-transform-origin']=hS;iw.style['-webkit-transform-origin']=hS;iw.style['transform-origin']=hS;iw.style.overflow=axS||'';};VK('initial','initial','0% 0%','auto');function aux(qT,kX,Nu,wh){var eb=(-kX.x/qT)-Nu.x,fj=(-kX.y/qT)-Nu.y,aAS="scale3d("+qT+","+qT+",1) translate3d("+eb+"px,"+fj+"px,0px)",azT="scale("+qT+", "+qT+") translate("+eb+"px,"+fj+"px)";VK(azT,aAS,'center center','visible');ahc=function(){var bz=iw.getBoundingClientRect();var Uc={x:(iw.clientWidth/2+ -bz.left+wh.left)/qT,y:(iw.clientHeight/2+ -bz.top+wh.top)/qT};if(wh.agI){Uc.x=Uc.x-(wh.agI/2);}VK('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');C.NU(qT,Uc,undefined,IPCC.ScaleTrigger.Pinch);};return iw;};function acG(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function acI(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function auY(ajP,Jp){return{x:ajP.x-Jp.x,y:ajP.y-Jp.y};};var Wg=false;iw.addEventListener('touchstart',function(ev){if(!Wg&&ev.touches.length===2){akm(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var zP,XK=false,Af={};PCCViewer.EventEmitter.extend(Af);iw.addEventListener(IPCC.aY.qd['down'],function(bv){XK=true;bv=standardizeMSTouch(bv);if(zP){var aF={};aF.touches=[zP,bv];aF.changedTouches=[zP,bv];aF.preventDefault=function(){zP.rawEvent.preventDefault();bv.rawEvent.preventDefault();};aF.stopPropagation=function(){zP.rawEvent.stopPropagation();bv.rawEvent.stopPropagation();};akm(aF);}else{zP=bv;}});iw.addEventListener(IPCC.aY.qd['move'],function(bv){Af.trigger('touchmove',{rawEvent:bv});});iw.addEventListener(IPCC.aY.qd['up'],function(bv){Af.trigger('touchend',{rawEvent:bv});zP=undefined;});function akm(ev){var Nu={x:iw.scrollLeft,y:iw.scrollTop};var wh=iw.getBoundingClientRect();var nB=VN();var acL=iw.querySelector('.pccPageListItem');if(acL.clientWidth<wh.width-30){wh.agI=wh.width-acL.clientWidth;}var kX={x:0,y:0,set:function(agk){this.x=agk.x;this.y=agk.y;return this;}};var uD=false;Wg=true;ev.preventDefault();ev.stopPropagation();function PY(jl){jl.x=jl.clientX||jl.pageX||jl.screenX;jl.y=jl.clientY||jl.pageY||jl.screenY;return jl;};var oM=PY(ev.touches[0]);var yi=PY(ev.touches[1]);var qm=acG(oM.x,oM.y,yi.x,yi.y);var aED=acI(oM.x,oM.y,yi.x,yi.y);var GB,Ec;function QW(bv){bv.preventDefault();[].forEach.call(bv.changedTouches,function(t){if(t.identifier===oM.identifier){GB=PY(t);}else if(t.identifier===yi.identifier){Ec=PY(t);}});if(!GB|| !Ec){return;}var aBj=acG(GB.x,GB.y,Ec.x,Ec.y);var aBQ=acI(GB.x,GB.y,Ec.x,Ec.y);bk=aBj/qm;if((cS*bk)<nB.minFactor){bk=nB.minFactor/cS;}else if((cS*bk)>nB.maxFactor){bk=nB.maxFactor/cS;}kX.set(auY(aED,aBQ));if(!uD){uD=true;Ga();}};function Sg(){Wg=false;uD=false;iw.removeEventListener('touchmove',QW);iw.removeEventListener('touchend',Sg);if(XK){Af.off('touchmove',afk);Af.off('touchend',aff);}HD(ahc);};var afk=function(bv){var akZ=standardizeMSTouch(bv.rawEvent);akZ.preventDefault=function(){};QW(akZ);};var aff=function(bv){Sg(standardizeMSTouch(bv.rawEvent));};iw.addEventListener('touchmove',QW);iw.addEventListener('touchend',Sg);if(XK){Af.on('touchmove',afk);Af.on('touchend',aff);}function Ga(){if(uD){HD(function(){aux(bk,kX,Nu,wh);Ga();});}}}};function auS(){if(dk===IPCC.ViewMode.SinglePage){return;}if(ow){clearTimeout(ow);}if(SV){avx(SV);}awa();ow=setTimeout(function(){ow=null;SV=HD(function aEV(){ml(true);});},40);};function Tq(){if(ig===false||dk===IPCC.ViewMode.SinglePage){return;}zO(true);if(ow!==null){clearTimeout(ow);}var avS=bn.scrollHeight/ac.length;var NT=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){NT=bn.scrollTop;}else{NT=bn.scrollLeft;}var azA=NT-Pq;Pq=NT;var aqe=new Date().getTime();var Tp=aqe-zY;if(Tp>1000){Tp=1000;}qL=azA/avS*1000/Tp;ow=setTimeout(function(){ow=null;zY=0;zY=new Date().getTime();ml(true);},1000);zY=new Date().getTime();if(qL!==0&&Math.abs(qL)<Da){if(CS&&ow!==null){clearTimeout(ow);ow=null;}zY=0;zY=new Date().getTime();setTimeout(function(){if(CS&&ow!==null){clearTimeout(ow);ow=null;}zY=0;zY=new Date().getTime();ml(CS);},40);}};function UW(aR){var ag=0;var amm=false;var KT;var Me;for(ag=0;ag<aR.childNodes.length;ag++){if(aR.childNodes[ag].className==="pccPageListItemLoading"){amm=true;}}if(amm===false){Me=document.createElement('div');Me.className='pccPageListItemLoading';aR.innerHTML="";aR.appendChild(Me);if(Iq.length>0){KT=document.createElement('div');KT.className='pccPageListItemLoadingContent';KT.innerHTML=Iq;Me.appendChild(KT);}}};function amk(G,aR,RD,RW){if(document.documentMode!==8){if(G<RD||G>RW){if(aR.style.visibility!=='hidden'){aR.style.visibility='hidden';}}else{if(aR.style.visibility!=='visible'){aR.style.visibility='visible';}if(!aR.firstChild){UW(aR);}}}};function awa(){var G,cE,aR;var sC,sp;var kp,qN,nL,Am;if(bn===''||bn.clientHeight<=0){return;}sC=bn.scrollTop;sp=bn.scrollLeft;var JO=bn.clientHeight;var Ki=bn.clientWidth;var qg=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){var amr=bn.scrollHeight;qg=amr*sC/(amr-JO);}else{var ant=bn.scrollWidth;qg=ant*sp/(ant-Ki);}var RD=fL;var RW=hT;fL= -1;qR= -1;hT= -1;for(G=0;G<ac.length;G++){cE=ac[G];if(cE&&cE.aI){aR=document.getElementById(cE.aI);if(ew===IPCC.PageLayout.VerticalScrollDirection){kp=aR.offsetTop;qN=aR.offsetLeft;nL=kp+aR.offsetHeight;Am=qN+aR.offsetWidth;}else{kp=aR.offsetLeft;qN=aR.offsetTop;nL=kp+aR.offsetWidth;Am=qN+aR.offsetHeight;}var avk=(G===0&&qg<kp);if((qg>=kp||avk)&&(qg<=nL||(G===ac.length-1&&qg>nL))){if(wT===false&&cq!==G){cq=G;var K=new IPCC.PageEventArgs();K.imGearPage=C.get_currentPage();K.pageIndex=cq;C.ay('currentPageChanged',K);}}var sb=0;var CK=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){sb=sC;CK=JO;}else{sb=sp;CK=Ki;}if(nL>=sb-10&&(G<fL||fL=== -1)){fL=G;RD=fL;}if(kp>=sb-10&&(G<qR||qR=== -1)){qR=G;}if(kp<=sb+CK){if(fL!== -1){hT=G;RW=hT;}}amk(G,aR,RD,RW);}if(qR=== -1){qR=cq;}if(fL=== -1){fL=cq;}}};function zO(apk){if(dk===IPCC.ViewMode.SinglePage){return;}var aR;var sC,sp;var kp,qN,nL,Am;if(bn===''||bn.clientHeight<=0){return;}sC=bn.scrollTop;sp=bn.scrollLeft;var JO=bn.clientHeight;var Ki=bn.clientWidth;var aci=bn.scrollWidth;var acy=bn.scrollHeight;var qg=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){qg=acy*sC/(acy-JO);}else{qg=aci*sp/(aci-Ki);}fL= -1;qR= -1;hT= -1;IPCC.aY.forEach(ac,function(cE,G){if(cE&&cE.aI){aR=document.getElementById(cE.aI);if(ew===IPCC.PageLayout.VerticalScrollDirection){kp=aR.offsetTop;qN=aR.offsetLeft;nL=kp+aR.offsetHeight;Am=qN+aR.offsetWidth;}else{kp=aR.offsetLeft;qN=aR.offsetTop;nL=kp+aR.offsetWidth;Am=qN+aR.offsetHeight;}if(qg>=kp&&(qg<=nL||(G===ac.length-1&&qg>nL))){if(wT===false&&cq!==G&&apk===true){cq=G;var K=new IPCC.PageEventArgs();K.imGearPage=C.get_currentPage();K.pageIndex=cq;K.pageNodeID=cE.aI;C.ay('currentPageChanged',K);}}var sb=0;var CK=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){sb=sC;CK=JO;}else{sb=sp;CK=Ki;}if(nL>=sb-10&&fL=== -1){fL=G;}if(kp>=sb-10&&qR=== -1){qR=G;}var ajq=false;if(kp<=sb+CK){if(fL!== -1){hT=G;if(fL!== -1&&cE.eY===false&&(aR.aS===undefined||aR.aS===null||aR.aS.gU()===false)&&cE.tG===false){UW(aR);ajq=true;}}}if(fL!== -1){amk(G,aR,fL,hT);}if(ajq===false){for(var ag=0;ag<aR.childNodes.length;ag++){if(aR.childNodes[ag].className==="pccPageListItemLoading"){aR.removeChild(aR.childNodes[ag]);}}}}});if(qR=== -1){qR=cq;}if(fL=== -1){fL=cq;}wT=false;}};IPCC.PageList.prototype={dispose:function(){this.bo('dispose',arguments);this.Lw(false);this.apY();},get_debug:function(){try{var L=this.ti();this.be('get_debug',arguments,L);return L;}catch(e){this.V('get_debug',e);throw e;}},set_debug:function(value){try{this.bo('set_debug',arguments);var lJ=this.ti();this.Bg(value);if(!lJ){this.bo('set_debug',arguments);}}catch(e){this.V('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var L=this.pk();this.be('get_debugErrorLevel',arguments,L);return L;}catch(e){this.V('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bo('set_debugErrorLevel',arguments);var lJ=this.pk();this.rA(value);if(lJ<IPCC.Web.UI.DebugErrorLevel.Development){this.bo('set_debugErrorLevel',arguments);}}catch(e){this.V('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.zX(handler);}catch(e){this.V('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fu(handler);}catch(e){this.V('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GA(handler);}catch(e){this.V('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Gs(handler);}catch(e){this.V('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.zK(handler);}catch(e){this.V('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Fs(handler);}catch(e){this.V('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.aaY(handler);}catch(e){this.V('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.UF(handler);}catch(e){this.V('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.awt(handler);}catch(e){this.V('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.azP(handler);}catch(e){this.V('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.vp(handler);}catch(e){this.V('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xj(handler);}catch(e){this.V('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.YI(handler);}catch(e){this.V('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.aed(handler);}catch(e){this.V('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.BQ(handler);},remove_textExtractionFailed:function(handler){this.Fi(handler);},add_allPagesAdded:function(handler){try{this.avW(handler);}catch(e){this.V('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.azt(handler);}catch(e){this.V('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.Ii(handler);}catch(e){this.V('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.JQ(handler);}catch(e){this.V('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.GL(handler);}catch(e){this.V('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Ju(handler);}catch(e){this.V('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Be(handler);}catch(e){this.V('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.As(handler);}catch(e){this.V('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.HT(handler);}catch(e){this.V('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.IS(handler);}catch(e){this.V('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.iO(handler);}catch(e){this.V('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.kc(handler);}catch(e){this.V('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.AP(handler);}catch(e){this.V('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xg(handler);}catch(e){this.V('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.ZT(handler);}catch(e){this.V('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.WT(handler);}catch(e){this.V('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Cw(handler);}catch(e){this.V('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fj(handler);}catch(e){this.V('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.BE(handler);}catch(e){this.V('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gm(handler);}catch(e){this.V('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.CQ(handler);}catch(e){this.V('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fg(handler);}catch(e){this.V('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Kl(handler);}catch(e){this.V('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.IY(handler);}catch(e){this.V('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.Ad(handler);}catch(e){this.V('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.yQ(handler);}catch(e){this.V('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.awK(handler);}catch(e){this.V('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.azk(handler);}catch(e){this.V('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.AG(handler);}catch(e){this.V('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.FR(handler);}catch(e){this.V('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.zi(handler);}catch(e){this.V('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.FT(handler);}catch(e){this.V('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.uq(handler);}catch(e){this.V('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.vx(handler);}catch(e){this.V('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.abD(handler);}catch(e){this.V('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.UY(handler);}catch(e){this.V('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Yz(handler);},remove_exceptionThrown:function(handler){this.UN(handler);},writeToLog:function(message){try{this.iU(message);}catch(e){this.V('writeToLog',e);throw e;}},get_currentState:function(){try{var L=this.vW();this.be('get_currentState',arguments,L);return L;}catch(e){this.V('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var L=this.uW();this.be('get_scaleFactor',arguments,L);return L;}catch(e){this.V('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bo('set_scaleFactor',arguments);this.apV(scaleFactor);}catch(e){this.V('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bo('zoomIn',arguments);this.NU(factor);}catch(e){this.V('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bo('zoomOut',arguments);this.WN(factor);}catch(e){this.V('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.atc();},displayAll:function(){try{this.bo('displayAll',arguments,1);this.aqU();}catch(e){this.V('displayAll',e);throw e;}},display:function(pageIndex){try{this.bo('display',arguments);this.cR(pageIndex);}catch(e){this.V('display',e);throw e;}},get_textRequired:function(){try{var L=this.hX();this.be('get_textRequired',arguments,L);return L;}catch(e){this.V('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bo('set_textRequired',arguments);this.yH(value);}catch(e){this.V('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bo('selectText',arguments,1);this.Wt(pageIndex,startIndex,endIndex,color);}catch(e){this.V('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bo('clearSelectedText',arguments,1);this.axb(pageIndex);}catch(e){this.V('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bo('clearAllSelectedText',arguments);this.avt();}catch(e){this.V('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var L=this.asf();this.be('get_maxPrefetch',arguments,L);return L;}catch(e){this.V('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bo('set_maxPrefetch',arguments);this.aoy(value);}catch(e){this.V('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var L=this.asj();this.be('get_displayPagesWhenScrolling',arguments,L);return L;}catch(e){this.V('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bo('set_displayPagesWhenScrolling',arguments);this.azG(value);}catch(e){this.V('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var L=this.asR();this.be('get_maxOutOfViewDisplay',arguments,L);return L;}catch(e){this.V('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bo('set_maxOutOfViewDisplay',arguments);this.alF(value);}catch(e){this.V('set_maxOutOfViewDisplay',e);throw e;}},get_scrollDisplayThreshold:function(){try{var L=this.ate();this.be('get_scrollDisplayThreshold',arguments,L);return L;}catch(e){this.V('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bo('set_scrollDisplayThreshold',arguments);this.aqc(value);}catch(e){this.V('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var L=this.abA();this.be('get_mouseCursor',arguments,L);return L;}catch(e){this.V('abA',e);throw e;}},set_mouseCursor:function(value){try{this.bo('set_mouseCursor',arguments);this.aoI(value);}catch(e){this.V('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var L=this.Vr();this.be('get_mouseTool',arguments,L);return L;}catch(e){this.V('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bo('set_mouseTool',arguments);this.Ma(value);}catch(e){this.V('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var L=this.zF();this.bo('get_markHandleMode',arguments);return L;}catch(e){this.V('get_markHandleMode',e);throw e;}},set_markHandleMode:function(T){try{this.bo('set_markHandleMode',arguments);this.Mi(T);}catch(e){this.V('set_markHandleMode',e);throw e;}},get_allowMarkEdits:function(){try{var L=this.asg();this.bo('get_allowMarkEdits',arguments);return L;}catch(e){this.V('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bo('set_allowMarkEdits',arguments);this.aAk(! !bool);}catch(e){this.V('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var L=this.afi();this.be('get_currentPage',arguments,L);return L;}catch(e){this.V('get_currentPage',e);throw e;}},scrollToNextPage:function(){try{this.bo('scrollToNextPage',arguments);this.ayE();}catch(e){this.V('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bo('scrollToPreviousPage',arguments);this.aAs();}catch(e){this.V('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bo('scrollToFirstPage',arguments);this.ayY();}catch(e){this.V('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bo('scrollToLastPage',arguments);this.ayj();}catch(e){this.V('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bo('scrollToPage',arguments,1);this.sk(pageIndex);}catch(e){this.V('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bo('rotate',arguments,1);this.aAy(degreesClockwise);}catch(e){this.V('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bo('rotateAll',arguments,1);this.aes(degreesClockwise,true);}catch(e){this.V('rotateAll',e);throw e;}},get_enabled:function(){try{var L=this.Qh();this.be('get_enabled',arguments,L);return L;}catch(e){this.V('get_enabled',e);throw e;}},get_pageLayout:function(){try{var L=this.atj();this.be('get_pageLayout',arguments,L);return L;}catch(e){this.V('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bo('set_pageLayout',arguments);this.aoh(value);}catch(e){this.V('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var L=this.asy();this.be('get_viewMode',arguments,L);return L;}catch(e){this.V('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bo('set_viewMode',arguments);this.Oj(value);}catch(e){this.V('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var L=this.auF();this.be('get_loadingContent',arguments,L);return L;}catch(e){this.V('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bo('set_loadingContent',arguments);this.alD(value);}catch(e){this.V('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bo('fitPages',arguments,1);this.arw(fitType);}catch(e){this.V('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bo('openPage',arguments,1);this.EJ(pageIndex);}catch(e){this.V('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bo('requestPageAttributes',arguments,1);this.Tz(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.V('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bo('scrollRegionIntoView',arguments,1);return this.azp(pageIndex,rectangle);}catch(e){this.V('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bo('scrollBy',arguments,1);return this.azJ(xVal,yVal);}catch(e){this.V('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bo('scrollConversationIntoView',arguments,1);return this.azg(conversation);}catch(e){this.V('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.Xq();},get_encryption:function(){try{var L=this.ea();this.be('get_encryption',arguments,L);return L;}catch(e){this.V('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bo('set_encryption',arguments);this.jw(value);}catch(e){this.V('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var L=this.asr();return L;}catch(e){this.V('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aAJ(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.V('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var L=this.mZ();this.be('get_resourcePath',arguments,L);return L;}catch(e){this.V('get_resourcePath',e);throw e;}},set_resourcePath:function(T){try{this.bo('set_resourcePath',arguments);this.tX(T);}catch(e){this.V('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var L=this.lT();this.be('get_redactionDraftMode',arguments,L);return L;}catch(e){this.V('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bo('set_redactionDraftMode',arguments);this.qn(value);}catch(e){this.V('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var L=this.auf();this.be('get_displayedPages',arguments,L);return L;}catch(e){this.V('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var L=this.pn();this.be('get_requireRequestsOptimize',arguments,L);return L;}catch(e){this.V('pn',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bo('set_requireRequestsOptimize',arguments);this.rR(value);}catch(e){this.V('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var L=this.jE();this.be('get_serviceResponseTimeout',arguments,L);return L;}catch(e){this.V('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bo('set_serviceResponseTimeout',arguments);this.sc(value);}catch(e){this.V('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var L=this.arF();this.be('get_pageRotation',arguments,L);return L;}catch(e){this.V('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bo('set_pageRotation',arguments);this.aov(value);}catch(e){this.V('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bo('getNodeID',arguments,1);return this.asY(pageIndex);}catch(e){this.V('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var L=this.auu();this.be('get_isCommentsPanelOpen',arguments,L);return L;}catch(e){this.V('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bo('openCommentsPanel',arguments);this.axY();}catch(e){this.V('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bo('closeCommentsPanel',arguments);this.apB();}catch(e){this.V('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var L=this.arO();this.be('get_conversationDOMFactory',arguments,L);return L;}catch(e){this.V('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bo('set_conversationDOMFactory',arguments);this.aAo(value);}catch(e){this.V('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var L=this.arY();this.be('get_selectedConversation',arguments,L);return L;}catch(e){this.V('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bo('set_selectedConversation',arguments);this.arj(value);}catch(e){this.V('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bo('refreshConversations',arguments);this.aAp(markIDs);}catch(e){this.V('refreshConversations',e);throw e;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass('IPCC.PageList',IPCC.Sys.UI.Control);IPCC.cE=function(bq){this.ah=undefined;this.bJ=0;this.ao=0;this.hg=72;this.gf=72;var bw=new IPCC.Web.UI.gb();this.aI=undefined;this.yP=undefined;this.zB=undefined;this.eY=false;this.bA=undefined;this.fH=undefined;this.Ai=false;this.DW=0;this.aqV=undefined;this.ia=false;this.gY=false;this.tG=false;this.ht=0;this.Hn=0;this.zQ=false;if(arguments.length>0){if(bq.page!==undefined){this.ah=bq.page;}}this.aG=function(cg){var h=bw.getHandler('propertyChanged');if(h){h(this,new IPCC.qP(cg));}};return this;};IPCC.eg=function(){this.dC=undefined;return this;};var PCCViewer=PCCViewer||{};(function(PCCViewer){PCCViewer.Error=function(code,message){var aiZ=Error.call(null,message);this.code=code;function avh(cJ,fP){Object.getOwnPropertyNames(fP).forEach(function(propName){Object.defineProperty(cJ,propName,Object.getOwnPropertyDescriptor(fP,propName));});return cJ;};function awe(cJ,fP){for(var i in fP){if(fP.hasOwnProperty(i)){cJ[i]=fP[i];}}return cJ;};if(typeof Object.create==='function'){avh(this,aiZ);}else{awe(this,aiZ);}};var aBI=(function(){var dS=function(){};return function(acR){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof acR!=='object'){throw TypeError('Argument must be an object');}dS.prototype=acR;var bQ=new dS();dS.prototype=null;return bQ;};})();if(typeof Object.create==='function'){PCCViewer.Error.prototype=Object.create(Error.prototype);}else{PCCViewer.Error.prototype=aBI(Error.prototype);}PCCViewer.Error.prototype.constructor=PCCViewer.Error;})(PCCViewer||{});var PCCViewer=PCCViewer||{};PCCViewer.Language=(function(){var aCa=function(languageData){this.data=languageData;return this;};var arI=function(){return this.data;};var atk=function(key){if(typeof this.data==='undefined'){throw new Error('Language data is not set.');}var rZ=key.split('.'),ba=this.data,aB;while(rZ.length){aB=rZ.shift();ba=ba[aB];if(typeof ba==='undefined'){ba=key;break;}}return ba;};return{data:{},initializeData:aCa,getData:arI,getValue:atk};})();var PCCViewer=window.PCCViewer||{};(function(){"use strict";function Event(target,type){this.cJ=target;this.ae=type;};PCCViewer.Event=Event;PCCViewer.Event.prototype.getTarget=function(){return this.cJ;};PCCViewer.Event.prototype.getType=function(){return this.ae;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}PCCViewer.EventEmitter=(function(){function on(eventType,handler){if(!this.jP){this.jP={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jP[lowerCaseEventType];if(!handlers){handlers=this.jP[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jP){this.jP={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jP[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jP){this.jP={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jP[lowerCaseEventType],i,length=0;if(properties){PCCViewer.Bu.uE(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();})();var PCCViewer=PCCViewer||{};(function(){'use strict';function PromiseDeferred(){this.dX=PromiseDeferred.States.Pending;this.T=null;this.fB=null;this.Rx=[];this.PE=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var Ay=new PromiseDeferred();if(onFulfilled&&typeof onFulfilled==='function'){var aDj=function(T){try{var L=onFulfilled(T);Ay.resolve(L);}catch(e){Ay.reject(e);}};this.Rx.push(aDj);}else{var aDN=function(T){Ay.resolve(T);};this.Rx.push(aDN);}if(onRejected&&typeof onRejected==='function'){var axX=function(fB){try{var L=onRejected(fB);UD(Ay,L);}catch(e){Ay.reject(e);}};this.PE.push(axX);}else{var aAD=function(fB){Ay.reject(fB);};this.PE.push(aAD);}if(this.dX===PromiseDeferred.States.Fulfilled){this.ajV();}if(this.dX===PromiseDeferred.States.Rejected){this.akH();}return Ay;};PromiseDeferred.prototype.resolve=function(x){if(!this.amw()){return;}UD(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.amw()){return;}this.zn(reason);};PromiseDeferred.prototype.aap=function(aD){this.dX=PromiseDeferred.States.Fulfilled;this.T=aD;this.ajV();};PromiseDeferred.prototype.ajV=function(){var callback;while(this.Rx.length>0){callback=this.Rx.shift();(function(lY,T){setTimeout(function(){lY(T);},0);})(callback,this.T);}};PromiseDeferred.prototype.akH=function(){var callback;while(this.PE.length>0){callback=this.PE.shift();(function(lY,T){setTimeout(function(){lY(T);},0);})(callback,this.fB);}};function UD(bW,aD){if(bW===aD){bW.zn(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aD&&aD.Ys&&bW.abB&&bW.abB===aD){bW.zn(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aD&&aD.Ys&&aD.Ys==="PCCViewer.Promise"){aD.then(function(aon){bW.aap(aon);},function(aoV){bW.zn(aoV);});}else if(aD!==null&&(typeof aD==='object'||typeof aD==='function')){var SR;try{SR=aD.then;}catch(e){bW.zn(e);return;}if(typeof SR==='function'){var Jc=true;var aoK=function(dZ){if(Jc){UD(bW,dZ);Jc=false;}};var aoA=function(L){if(Jc){bW.zn(L);Jc=false;}};try{SR.call(aD,aoK,aoA);}catch(e){if(Jc){bW.zn(e);}}}else{bW.aap(aD);}}else{bW.aap(aD);}};PromiseDeferred.prototype.zn=function(reason){this.dX=PromiseDeferred.States.Rejected;this.fB=reason;this.akH();};PromiseDeferred.prototype.amw=function(){return this.dX===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};PCCViewer.Deferred=function(){var YH=new PromiseDeferred();function Promise(bW){this.then=function(onFulfilled,onRejected){return new Promise(bW.then(onFulfilled,onRejected));};this.Ys="PCCViewer.Promise";bW.abB=this;};var promise=new Promise(YH);return{getPromise:function(){return promise;},resolve:function(value){YH.resolve(value);},reject:function(reason){YH.reject(reason);}};};PCCViewer.Promise={all:function(promises){var i,by=new PCCViewer.Deferred(),Zx=by.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var by=new PCCViewer.Deferred();by.resolve(value);return by.getPromise();};by.resolve([]);for(i=0;i<promises.length;i++){Zx=Zx.then(createPushFunction(promises[i]));}return Zx;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=PCCViewer.Deferred;}})();(function(PCCViewer){function aka(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function auj(ayR){var ac=[];var ajg=function(n){return!(isNaN(+n));};var agh=ayR.split(',');var OT,Sy;var Od=0;var My=0;for(var G=0;G<agh.length;G++){var JU=agh[G].split('-');var Bm=JU[0].replace(/\s+/g,'');if(Bm.length===0){continue;}var Ku=Bm;if(JU[1]!==undefined&&JU[1]!==""){Ku=JU[1].replace(/\s+/g,'');}Bm= +(Bm);Ku= +(Ku);if(ajg(Bm)===true){Od=parseInt(Bm);}if(ajg(Ku)===true){My=parseInt(Ku);}if(Od<My){OT=Od;Sy=My;}else{OT=My;Sy=Od;}if(JU.length>1){for(var bP=OT;bP<=Sy;bP++){ac.push(bP);}}else{ac.push(OT);}}ac.sort(function(a,b){return a-b;});for(G=ac.length-1;G>0;G--){if(ac[G-1]===ac[G]){ac.splice(G,1);}}return ac;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};PCCViewer.Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var fZ;if(!(selections instanceof Array)){fZ=[selections];}else{fZ=selections;}IPCC.aY.forEach(fZ,function(dE){IPCC.bB.oX(dE.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.bB.oX(dE.length,'selection.length',1,Number.MAX_VALUE);IPCC.bB.ey(dE.color,'selection.color');IPCC.bB.oX(dE.opacity,'selection.opacity',0,255);});IPCC.bB.ey(backgroundColor,'backgroundColor');var anc=IPCC.aY.akz(fZ);return IPCC.aY.map(anc,function(ak){ak.length=ak.endIndex-ak.startIndex+1;return ak;});},layerColors:function(colors,backgroundColor){var PQ;if(!(colors instanceof Array)){PQ=[colors];}else{PQ=colors;}IPCC.aY.forEach(PQ,function(dE){IPCC.bB.ey(dE.color,'selection.color');IPCC.bB.oX(dE.opacity,'selection.opacity',0,255);});IPCC.bB.ey(backgroundColor,'backgroundColor');return IPCC.aY.ajz(PQ,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw aka('Illegal page range value',pageRange);}var dG=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dG.unshift(upperLimit--);}}else{dG=auj(pageRange);if((dG.length===0&& !allowEmpty)||dG[0]<lowerLimit||dG[dG.length-1]>upperLimit){throw aka('Pages are out of range',dG.join(', '));}}return dG;}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ObservableCollection=function(){var CE=[];var qQ={};PCCViewer.EventEmitter.extend(qQ);qQ.RC=function(DI,cI){var C=this;return setTimeout(function(){C.trigger(DI,cI);},0);};this.add=function(item){CE.push(item);qQ.RC(this.EventType.ItemAdded,{item:item,count:CE.length});return this;};this.remove=function(item){var C=this;this.forEach(function(e,idx){if(e===item){CE.splice(idx,1);qQ.RC(C.EventType.ItemRemoved,{item:item,count:CE.length});}});return this;};this.removeAll=function(){CE=[];qQ.RC(this.EventType.ItemRemoved,{count:CE.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.aY.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(CE);};this.on=function(eventType,handler){qQ.on.apply(qQ,arguments);return this;};this.off=function(eventType,handler){qQ.off.apply(qQ,arguments);return this;};};PCCViewer.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};})(PCCViewer||{});var PCCViewer=window.PCCViewer||{};(function(){"use strict";PCCViewer.Data=(function(){function getData(key){return this.dj.get_data(key);};function setData(key,value){this.dj.set_data(key,value);return this;};function getDataKeys(){return this.dj.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},rm:function(fP,oW){if(typeof fP.getData!=="function"||typeof fP.setData!=="function"||typeof fP.getDataKeys!=="function"||typeof oW.getData!=="function"||typeof oW.setData!=="function"||typeof oW.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var rZ=fP.getDataKeys(),i,length=rZ.length;for(i=0;i<length;i++){var aB=rZ[i];oW.setData(aB,fP.getData(aB));}}};})();PCCViewer.SessionData=(function(){function getSessionData(key){return this.FO.get_data(key);};function setSessionData(key,value){this.FO.set_data(key,value);return this;};function getSessionDataKeys(){return this.FO.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aCX:function(fP,oW){if(typeof fP.getSessionData!=="function"||typeof fP.setSessionData!=="function"||typeof fP.getSessionDataKeys!=="function"||typeof oW.getSessionData!=="function"||typeof oW.setSessionData!=="function"||typeof oW.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var rZ=fP.getSessionDataKeys(),i,length=rZ.length;for(i=0;i<length;i++){var aB=rZ[i];oW.setSessionData(aB,fP.getSessionData(aB));}}};})();})();(function(undefined){'use strict';function Mark(parameters){this.aa=0;this.cV=undefined;this.GV=false;this.od=PCCViewer.Mark.InteractionMode.Full;this.gJ=true;if(parameters.uid&&parameters.viewerControl){(function(aK,kx){IPCC.aY.forEach(aK,function validateMark(nn){if(nn.getUid()===kx){throw new Error('Uid '+kx+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kx=parameters.uid||IPCC.aY.akb();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.O=parameters.igMark;this.cV=this.O.get_markID().toString();this.dj=this.O.get_data();}else{this.dj=new IPCC.Web.UI.Data();}PCCViewer.Data.extend(this);this.FO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.bB.jm(parameters.pageNumber,'pageNumber');this.aa=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.bB.iH(parameters.id,'id');this.cV=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.GV){this.ae=parameters.type;this.GV=true;}else if(parameters.type!==undefined){IPCC.bB.iH(parameters.type,'type');var KG=Ps(parameters.type,PCCViewer.Mark.Type);if(KG===null){throw new RangeError("The value of mark type was invalid.");}this.ae=KG;}if('cd'in parameters){this.cd=parameters.cd;}if('ab'in parameters){this.ab=parameters.ab;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kx;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kx,enumerable:true,writable:false});}};PCCViewer.Mark=Mark;PCCViewer.Mark.prototype.getType=function(){return this.ae;};PCCViewer.Mark.prototype.getId=function(){return this.cV;};PCCViewer.Mark.prototype.getPageNumber=function(){return this.aa;};PCCViewer.Mark.prototype.getConversation=function(){if(!this.bX){this.bX=new PCCViewer.Conversation(this);}return this.bX;};PCCViewer.Mark.prototype.getBoundingRectangle=function(){if(this.O){var bH=this.O.get_boundingRectangle();if(bH instanceof IPCC.Web.UI.Rectangle){this.pu={width:bH.width,height:bH.height,x:bH.x,y:bH.y};}}return this.pu;};PCCViewer.Mark.prototype.getInteractionMode=function(){if(this.O){switch(this.O.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.od;};PCCViewer.Mark.prototype.setInteractionMode=function(interactionMode){var od=Ps(interactionMode,PCCViewer.Mark.InteractionMode),Ro;switch(od){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Ro=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Ro=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw PCCViewer.Error("InvalidArgument","The specified interactionMode is not valid.");}if(this.O){this.O.set_interactionMode(Ro);}this.od=od;return this;};PCCViewer.Mark.prototype.reset=function(){var ed=new Mark({type:this.ae,GV:this.GV});this.dj={};if(this.setBorderColor&&ed.getBorderColor){this.setBorderColor(ed.getBorderColor());}if(this.setBorderThickness&&ed.getBorderThickness){this.setBorderThickness(ed.getBorderThickness());}if(this.setColor&&ed.getColor){this.setColor(ed.getColor());}if(this.setEndHeadType&&ed.getEndHeadType){this.setEndHeadType(ed.getEndHeadType());}if(this.setEndPoint&&ed.getEndPoint){this.setEndPoint(ed.getEndPoint());}if(this.setFillColor&&ed.getFillColor){this.setFillColor(ed.getFillColor());}if(this.setFontColor&&ed.getFontColor){this.setFontColor(ed.getFontColor());}if(this.setFontName&&ed.getFontName){this.setFontName(ed.getFontName());}if(this.setFontSize&&ed.getFontSize){this.setFontSize(ed.getFontSize());}if(this.setFontStyle&&ed.getFontStyle){this.setFontStyle(ed.getFontStyle());}if(this.setHorizontalAlignment&&ed.getHorizontalAlignment){this.setHorizontalAlignment(ed.getHorizontalAlignment());}if(this.setLabel&&ed.getLabel){this.setLabel(ed.getLabel());}if(this.setPosition&&this.O&&ed.getPosition){this.setPosition(ed.getPosition());}if(this.setReason&&ed.setReason){this.setReason(ed.getReason());}if(this.setOpacity&&ed.getOpacity){this.setOpacity(ed.getOpacity());}if(this.setRectangle&&ed.getRectangle){this.setRectangle(ed.getRectangle());}if(this.setStartPoint&&ed.getStartPoint){this.setStartPoint(ed.getStartPoint());}if(this.setText&&ed.getText){this.setText(ed.getText());}if(this.setThickness&&ed.getThickness){this.setThickness(ed.getThickness());}if(this.setPath&&ed.getPath){this.setPath(ed.getPath());}if(this.setHref&&ed.getHref){this.setHref(ed.getHref());}if(this.setImage&&ed.getImage){this.setImage(ed.getImage());}if(this.setInteractionMode&&ed.getInteractionMode){this.setInteractionMode(ed.getInteractionMode());}if(this.setPoints&&ed.getPoints){this.setPoints(ed.getPoints());}};if(Object.defineProperties){Object.defineProperties(PCCViewer.Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(){return this.setInteractionMode();}}});}PCCViewer.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};PCCViewer.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};PCCViewer.Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};PCCViewer.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function Ps(SM,ae){var YX=SM.toLowerCase();for(var standardType in ae){if(ae.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YX){return standardType;}}return null;};function addMethodsToMark(H){function KK(H){H.highlightText=function(highlights){if(!this.O){throw new Error("It is invalid to highlight text on this mark.");}var mo;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){mo=[highlights];}else{mo=highlights;}for(var i=0;i<mo.length;i++){avi(mo[i]);}}else{mo=[];}var ae=H.getType();switch(ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:H.O.selectText(mo);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:var C=this;var Pn=[];var uE=false,MZ=0,MO,EY;var adc=function(Fe,aoB,fZ){var AQ;var Zr= -1,Ov=[];var AT=(Fe.an+Fe.dQ);if(uE===true&&MO>=0&&EY>=0){if(Fe.aQ-1===MO){AQ=0;if(MZ<=AT){Ov.push({startIndex:AQ,length:MZ,color:fZ[EY].color,opacity:(fZ[EY].opacity)?fZ[EY].opacity:127});uE=false;MZ=0;MO= -1;EY= -1;}}}for(var ag=0;ag<fZ.length;ag++){AQ=Fe.an+fZ[ag].startIndex-aoB;if(AQ<0){continue;}if(Array.prototype.indexOf){Zr=Pn.indexOf(ag);}else{Zr=IPCC.Web.hA(Pn,ag);}var dz=127;if(Zr=== -1){if(AQ+fZ[ag].length<=AT){if(fZ[ag].opacity){dz=fZ[ag].opacity;}Ov.push({startIndex:AQ,length:fZ[ag].length,color:fZ[ag].color,opacity:dz});Pn.push(ag);C.GW.push(fZ[ag]);}else{var abv=AT-AQ;if(abv>0){MZ=fZ[ag].length-abv;dz=127;if(fZ[ag].opacity){dz=fZ[ag].opacity;}Ov.push({startIndex:AQ,length:abv,color:fZ[ag].color,opacity:dz});Pn.push(ag);C.GW.push(fZ[ag]);uE=true;EY=ag;MO=Fe.aQ;}}}}return Ov;};this.GW=[];var fo=adc(this.O,0,mo);H.clearHighlights();if(fo.length>0){C.O.selectText(fo);}fo=[];var kX=this.O.dQ;if(this.cP&&this.cP.length){for(var G=0;G<this.cP.length;G++){fo=[];fo=adc(this.cP[G],kX,mo);kX+=this.cP[G].dQ;if(fo.length>0){this.cP[G].selectText(fo);}}}break;}return this;};function avi(GI){IPCC.bB.oX(GI.startIndex,'highlight.startIndex',0,H.getText().length);IPCC.bB.oX(GI.length,'highlight.length',1,Number.MAX_VALUE);IPCC.bB.ey(GI.color,'highlight.color');if(GI.opacity){IPCC.bB.oX(GI.opacity,"highlight.opacity",0,255);}};H.clearHighlights=function(){if(this.O){if(!this.O){throw new Error("It is invalid to clear highlights on this mark.");}}var ae=H.getType();switch(ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:H.O.selectText();break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:this.O.selectText();if(this.cP&&this.cP.length){for(var G=0;G<this.cP.length;G++){this.cP[G].selectText();}}break;}return this;};};var ae=H.getType();switch(ae){case PCCViewer.Mark.Type.TextAnnotation:KK(H);break;case PCCViewer.Mark.Type.TextRedaction:KK(H);break;case PCCViewer.Mark.Type.HighlightAnnotation:KK(H);break;case PCCViewer.Mark.Type.TextSelectionRedaction:KK(H);break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:KK(H);break;default:break;}};function addPropertiesToMark(H){H.pu={x:0,y:0,width:0,height:0};var ae=H.getType();switch(ae){case PCCViewer.Mark.Type.LineAnnotation:H.ey='#18385F';H.hG=IPCC.Web.UI.LineStyle.Solid;H.sK=6;H.dz=255;H.Nk={x:0,y:0};H.AT={x:0,y:0};H.lV="None";break;case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:H.cW='#FB0404';H.dz=255;H.pW='#000000';H.qF=4;H.F={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.RectangleRedaction:H.fB="";H.F={x:0,y:0,width:0,height:0};H.nJ=true;if(H.O){H.O.kn(H.nJ);H.O.set_fillColor('#000000');}break;case PCCViewer.Mark.Type.TransparentRectangleRedaction:H.F={x:0,y:0,width:0,height:0};H.nJ=true;if(H.O){H.O.kn(H.nJ);H.O.set_fillColor('#FFFF00');H.O.set_opacity(127);H.O.set_lineWidth(1);H.O.set_lineColor('#FFFF00');}break;case PCCViewer.Mark.Type.TextAnnotation:H.ar='';H.cW='#FFFFFF';H.dz=127;H.pW='#000000';H.qF=4;H.kq='#000000';H.fW="Arial";H.di=12;H.fI=[];H.xG="Left";H.F={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:H.wI="Approved";H.F={x:0,y:0,width:0,height:0};if(ae===PCCViewer.Mark.Type.StampRedaction){H.nJ=true;if(H.O){H.O.kn(H.nJ);H.O.set_fillColor('#000000');}}else{H.ey="#000000";}break;case PCCViewer.Mark.Type.HighlightAnnotation:H.cW="#FFFF00";H.ar='';H.dv='';if(H.O){if(H.O.dv){H.ar=H.O.dv;}}H.cB={startIndex:0,length:0};H.GW=[];H.cP=[];break;case PCCViewer.Mark.Type.TextSelectionRedaction:H.fB="";H.ar='';H.cB={startIndex:0,length:0};if(H.O){H.O.set_fillColor('#000000');if(H.O.dv){H.ar=H.O.dv;}}H.GW=[];H.cP=[];break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:H.oU='';H.ar='';if(H.O){if(H.O.dv){H.ar=H.O.dv;}}H.cB={startIndex:0,length:0};H.GW=[];H.cP=[];break;case PCCViewer.Mark.Type.TextRedaction:H.ar='';H.kq='#000000';H.fW="Arial";H.di=12;H.F={x:0,y:0,width:0,height:0};H.nJ=true;if(H.O){H.O.kn(H.nJ);H.O.set_fillColor('#FFFFFF');}break;case PCCViewer.Mark.Type.FreehandAnnotation:H.dz=255;case PCCViewer.Mark.Type.FreehandSignature:H.F={x:0,y:0,width:0,height:0};H.sK=4;H.ey='#000000';H.dr='M0,0';break;case PCCViewer.Mark.Type.TextSignature:H.ar="John Doe";H.F={x:0,y:0,width:0,height:0};H.ey="#000000";if(H.O){H.ey=H.O.cW||'#000000';H.O.kn(H.nJ);H.O.set_fillColor(H.ey);}H.fW="";break;case PCCViewer.Mark.Type.TextInputSignature:H.ar="";H.F={x:0,y:0,width:0,height:0};H.kq="#000000";if(H.O){H.kq=H.O.get_textColor()||'#000000';H.O.kn(false);}H.fW="Courier New";break;case 'PlaceSignature':H.mc=undefined;H.F={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:H.bb="";H.pB="";H.F={x:0,y:0,width:0,height:0};if(H.O&&ae===PCCViewer.Mark.Type.ImageStampRedaction){H.nJ=true;H.O.kn(H.nJ);}break;case PCCViewer.Mark.Type.PolylineAnnotation:H.ey='#000000';H.hG=IPCC.Web.UI.LineStyle.Solid;H.sK=2;H.dz=255;H.aT=[{x:0,y:0},{x:0,y:0}];break;}function getSignature(){return this.mc||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.mc=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.mc=signature;return this;};if(H.mc||H.ae==='PlaceSignature'){H.getSignature=getSignature;H.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(H,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.ey=this.O.get_lineColor()||this.ey;break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.TextSignature:this.ey=this.O.get_fillColor()||this.ey;break;}}return this.ey;};function setColor(value){IPCC.bB.ey(value,'color');this.ey=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.O.set_lineColor(value);break;case PCCViewer.Mark.Type.StampAnnotation:this.O.set_fillColor(value);break;case PCCViewer.Mark.Type.TextSignature:this.O.set_textColor(value);this.O.set_fillColor(value);break;}}return this;};if(H.ey!==undefined){H.getColor=getColor;H.setColor=setColor;if(Object.defineProperties){Object.defineProperties(H,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:this.cW=this.O.get_fillColor()||this.cW;break;}}return this.cW;};function setFillColor(value){if(this.ae===PCCViewer.Mark.Type.HighlightAnnotation){IPCC.bB.ey(value,'fillColor');}else{IPCC.bB.WS(value,'fillColor');}this.cW=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.O.set_fillColor(value);break;case PCCViewer.Mark.Type.HighlightAnnotation:this.O.set_fillColor(value);if(this.cP&&this.cP.length){for(var G=0;G<this.cP.length;G++){this.cP[G].set_fillColor(value);}}break;}}return this;};if(H.cW!==undefined){H.getFillColor=getFillColor;H.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(H,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bb,id:this.pB};return retVal;};function setImage(params){IPCC.bB.iH(params.dataUrl,'string');IPCC.bB.iH(params.id,'string');this.bb=params.dataUrl;this.pB=params.id;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.O.set_image(params.dataUrl);this.O.pB=params.id;break;}}return this;};if(H.bb!==undefined){H.getImage=getImage;H.setImage=setImage;if(Object.defineProperties){Object.defineProperties(H,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.pW=this.O.get_lineColor()||this.pW;break;}}return this.pW;};function setBorderColor(value){IPCC.bB.WS(value,'borderColor');this.pW=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.O.set_lineColor(value);break;}}return this;};if(H.pW!==undefined){H.getBorderColor=getBorderColor;H.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(H,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.dz=this.O.get_opacity()||this.dz;break;}}return this.dz;};function setOpacity(value){IPCC.bB.oX(value,'opacity',0,255);this.dz=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.O.set_opacity(value);break;}}return this;};if(H.dz!==undefined&&H.dz>=0){H.getOpacity=getOpacity;H.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(H,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.sK=this.O.get_lineWidth()||this.sK;break;}}return this.sK;};function setThickness(value){IPCC.bB.mX(value,'thickness',1,50);this.sK=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.O.set_lineWidth(value);break;}}return this;};if(H.sK){H.getThickness=getThickness;H.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(H,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.qF=this.O.get_lineWidth()||this.qF;break;}}return this.qF;};function setBorderThickness(value){IPCC.bB.mX(value,'borderThickness',1,50);this.qF=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.O.set_lineWidth(value);break;}}return this;};if(H.qF!==undefined){H.getBorderThickness=getBorderThickness;H.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(H,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.O){this.gJ=this.O.get_visible();}return this.gJ;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.gJ=value;if(this.O){this.O.set_visible(value);}var G;switch(this.ae){case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:if(this.cP&&this.cP.length){for(G=0;G<this.cP.length;G++){this.cP[G].set_visible(value);}}if(this.ae===PCCViewer.Mark.Type.TextSelectionRedaction){var fJ=this.O;for(G=0;G<this.O.cf.length;G++){fJ.cf[G].set_visible(value);}if(fJ.dF){IPCC.aY.forEach(this.cP,function(O){for(G=0;G<O.cf.length;G++){O.cf[G].set_visible(value);}});}}break;}return this;};if(H.gJ!==undefined){H.getVisible=getVisible;H.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(H,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.O&&this.O!==null){var aT=this.O.get_points();if(aT.get_length()>0){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:var aX=aT.getPoint(0);if(aX){this.Nk={x:aX.x,y:aX.y};}break;}}}return this.Nk;};function setStartPoint(value){IPCC.bB.jm(value.x,'startPoint'+'.x');IPCC.bB.jm(value.y,'startPoint'+'.y');if(this.O&&this.O!==null){var aT=this.O.get_points();switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:aT.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Nk=value;return this;};if(H.Nk){H.getStartPoint=getStartPoint;H.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(H,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.O&&this.O!==null){var aT=this.O.get_points();if(aT.get_length()>0){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:var aX=aT.getPoint(1);if(aX){this.AT={x:aX.x,y:aX.y};}break;}}}return this.AT;};function setEndPoint(value){IPCC.bB.jm(value.x,'endPoint'+'.x');IPCC.bB.jm(value.y,'endPoint'+'.y');if(this.O&&this.O!==null){var aT=this.O.get_points();switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:aT.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.AT=value;return this;};if(H.AT){H.getEndPoint=getEndPoint;H.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(H,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.O&&this.O!==null){var Fq;switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:Fq=this.O.get_endHeadType();switch(Fq){case IPCC.Web.UI.LineHeadType.None:this.lV=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.lV=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.lV;};function setEndHeadType(value){var Fq;switch(value){case PCCViewer.Mark.LineHeadType.None:Fq=IPCC.Web.UI.LineHeadType.None;break;case PCCViewer.Mark.LineHeadType.FilledTriangle:Fq=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.O&&this.O!==null){switch(this.ae){case PCCViewer.Mark.Type.LineAnnotation:this.O.set_endHeadType(Fq);break;}}this.lV=value;return this;};if(H.lV){H.getEndHeadType=getEndHeadType;H.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(H,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.O&&this.O!==null){var HK=this.O.get_points();var cc=HK.get_length();var ajf=[];var Yf=function(aBY,bP){ajf.push(aBY.getPoint(bP));};if(cc>1){switch(this.ae){case PCCViewer.Mark.Type.PolylineAnnotation:for(var G=0;G<cc;G++){Yf(HK,G);}this.aT=ajf;break;}}}return this.aT.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var ag=0;ag<value.length;ag++){IPCC.bB.aX(value[ag],'PolylinePoint');}if(this.O&&this.O!==null){var HK=this.O.get_points();var anX=function(bP){HK.addPoint(new IPCC.Web.UI.Point(value[bP].x,value[bP].y));};switch(this.ae){case PCCViewer.Mark.Type.PolylineAnnotation:HK.removeAllPoints();for(var G=0;G<value.length;G++){anX(G);}}}this.aT=value;return this;};if(H.aT){H.getPoints=getPoints;H.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(H,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var bH=this.O.get_rectangle();if(bH instanceof IPCC.Web.UI.Rectangle){this.F={width:bH.width,height:bH.height,x:bH.x,y:bH.y};}break;}}return this.F;};function setRectangle(value){IPCC.bB.jm(value.x,'rectangle'+'.x');IPCC.bB.jm(value.y,'rectangle'+'.y');IPCC.bB.jm(value.width,'rectangle'+'.width');IPCC.bB.jm(value.height,'rectangle'+'.height');if(this.O&&this.O!==null){switch(this.ae){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var bH=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.O.set_rectangle(bH);break;}}this.F=value;return this;};if(H.F){H.getRectangle=getRectangle;H.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(H,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var cl=0;if(this.O&&this.O.dv){cl=this.O.dv.length;}else if(this.O){cl=IPCC.aY.reduce([this.O].concat(this.cP||[]),function(cc,O){return cc+O.get_textLength();},0);}return this.O?{startIndex:this.O.an,length:cl}:this.cB;};function setPosition(value){IPCC.bB.jm(value.startIndex,'position.startIndex');IPCC.bB.jm(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.O===undefined||this.O===null){throw new Error("The mark must be on a page.");}var ai;var bA;var aQ=this.aa-1;var ws= -value.startIndex;var oS=[];var dv="";var cs;while(true){if(aQ>=this.cd.get_length()){throw new Error("The specified length is out of range.");}ai=this.cd.getPage(aQ);if(ai.dq()&&ai.dq().zm()&&ai.dq().nm()===true){var aae=ws;var XT=ai.dq().Gh();ws+=XT.length;if(ws<0||(ws===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var UU=0;if(aQ===this.aa-1){UU=value.startIndex;}if(ws>=value.length){cs=value.startIndex+value.length-1;if(aae>=0){cs=value.length-1-aae;}oS.push({pageIndex:aQ,endIndex:cs});dv+=XT.substring(UU,cs+1);break;}else{cs=ai.dq().Gh().length-1;oS.push({pageIndex:aQ,endIndex:cs});dv+=XT.substring(UU,cs+1);}}else{throw new Error("The text has not been retrieved for this page.");}aQ++;}this.dF=IPCC.BY();var G=0;if(this.cP){if(this.O){this.O.dF=this.dF;bA=this.ab.gB(this.cd.getPage(this.O.aQ));if(this.O.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Vk=this.O.cf.length-1;Vk>=0;Vk--){bA.removeMark(this.O.cf[Vk]);this.O.cf.pop();}}}for(G=this.cP.length-1;G>=0;G--){var mD=this.cP[G];bA=this.ab.gB(this.cd.getPage(mD.aQ));bA.removeMark(mD);this.cP.splice(G,1);}}else{this.cP=[];}Jg.call(this,oS,cs,dv,value);this.cB=value;return this;};function Jg(oS,cs,dv,value,XB){var G,aQ,ai,bA;XB=XB||{};var cf;this.cP=this.cP||[];var ahW=(this.O.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?awC:awr;for(G=0;G<oS.length;G++){aQ=oS[G].pageIndex;ai=this.cd.getPage(aQ);var anC=ai.dq().eJ();bA=this.ab.gB(ai);var fJ;var an=0;cs=oS[G].endIndex;if(G===0){an=value.startIndex;}aQ=oS[G].pageIndex;cf=XB[aQ]||IPCC.aY.Ox(anC,an,cs);if(G===0){fJ=ahW(this.O,an,cs-an+1,dv,cf,aQ,this.dF,this.O.get_type(),bA);this.O.lm=true;}else{fJ=ahW(null,an,cs-an+1,dv,cf,aQ,this.dF,this.O.get_type(),bA);this.cP.push(fJ);bA.addMark(fJ);fJ.set_selected(this.O.get_selected());if(this.getFillColor){fJ.set_fillColor(this.O.get_fillColor());}if(this.getHref){fJ.set_href(this.O.get_href());}if(this.getReason){fJ.set_text(this.O.get_text());}}if(G===oS.length-1){fJ.jM=true;}}};if(H.cB){H.getPosition=getPosition;H.setPosition=setPosition;H.Jg=Jg;if(Object.defineProperties){Object.defineProperties(H,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function awr(H,an,cl,dv,cf,aQ,kA,bE,bA){if(!H){H=new IPCC.Web.UI.Mark(bE);}H.an=an;H.dQ=cl;H.mT='y';H.dF=kA;H.dv=dv;H.cf=cf||[];H.aQ=aQ;var Vj=IPCC.aY.reduce(H.cf,function(Jr,bH){if(!Jr){return bH.clone();}else{return Jr.union(bH);}},null);H.set_rectangle(Vj);return H;};function awC(H,an,cl,dv,cf,aQ,kA,bE,bA){if(!H){H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}H.an=an;H.dQ=cl;H.dF=kA;H.dv=dv;H.aQ=aQ;H.cf=IPCC.aY.map(cf,function(bH){var yk=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);yk.set_rectangle(bH);yk.kn(true);yk.set_fillColor('#000000');yk.set_text(H.ar);yk.set_lineWidth(0);yk.dF=kA;bA.addMark(yk);return yk;});var Vj=IPCC.aY.reduce(cf,function(Jr,bH){if(!Jr){return bH.clone();}else{return Jr.union(bH);}},null);H.set_rectangle(Vj);return H;};function getText(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.ar=(typeof this.O.get_text()==="string")?this.O.get_text():this.ar;break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:if(H.O.dv){this.ar=H.O.dv;}break;}}return this.ar;};function setText(value){IPCC.bB.iH(value,'text');this.ar=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.O.set_text(value);break;}}return this;};if(H.ar!==undefined){H.getText=getText;var bE=H.getType();if(bE!==PCCViewer.Mark.Type.HighlightAnnotation&&bE!==PCCViewer.Mark.Type.TextSelectionRedaction&&bE!==PCCViewer.Mark.Type.TextHyperlinkAnnotation){H.setText=setText;}if(Object.defineProperties){Object.defineProperties(H,{"text":{enumerable:true,get:function(){return this.getText();},set:function(value){return this.setText(value);}}});}}function getFontColor(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:this.kq=this.O.get_textColor()||this.kq;break;}}return this.kq;};function setFontColor(value){IPCC.bB.ey(value,'fontColor');this.kq=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:this.O.set_textColor(value);break;}}return this;};if(H.kq){H.getFontColor=getFontColor;H.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(H,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.fW=this.O.get_fontName()||this.fW;break;}}return this.fW;};function setFontName(value){IPCC.bB.iH(value,'fontName');this.fW=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.O.set_fontName(value);break;}}return this;};if(H.fW!==undefined){H.getFontName=getFontName;H.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(H,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.di=this.O.get_fontSize()||this.di;break;}}return this.di;};function setFontSize(value){IPCC.bB.mX(value,'fontSize',0.1,288);this.di=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.O.set_fontSize(value);break;}}return this;};if(H.di){H.getFontSize=getFontSize;H.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(H,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.O){var so;switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:so=this.O.get_textHorizontalAlignment();if(so){if(so===IPCC.Web.UI.HorizontalAlignment.Center){this.xG="Center";}else if(so===IPCC.Web.UI.HorizontalAlignment.Left){this.xG="Left";}else if(so===IPCC.Web.UI.HorizontalAlignment.Right){this.xG="Right";}}break;}}return this.xG;};function setHorizontalAlignment(value){IPCC.bB.iH(value,'horizontalAlignment');var so;var uV=Ps(value,PCCViewer.Mark.HorizontalAlignment);if(uV==="Center"){so=IPCC.Web.UI.HorizontalAlignment.Center;}else if(uV==="Left"){so=IPCC.Web.UI.HorizontalAlignment.Left;}else if(uV==="Right"){so=IPCC.Web.UI.HorizontalAlignment.Right;}else{throw "Invalid value found for the Text horizontalAlignment.";}H.xG=uV;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:if(so!==undefined){this.O.set_textHorizontalAlignment(so);this.xG=uV;}break;}}return this;};if(H.xG){H.getHorizontalAlignment=getHorizontalAlignment;H.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(H,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function auH(YP){var Aa=[];for(var G=0;G<YP.length;G++){switch(YP[G]){case "Bold":Aa.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":Aa.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":Aa.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":Aa.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+YP[G]);}}if(Aa.length===0){Aa.push(IPCC.Web.UI.FontStyle.Regular);}return Aa;};function getFontStyle(){if(this.O){var qK=[];switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var we=this.O.get_fontStyle();if(we&IPCC.Web.UI.FontStyle.Bold){qK.push("Bold");}if(we&IPCC.Web.UI.FontStyle.Italic){qK.push("Italic");}if(we&IPCC.Web.UI.FontStyle.Strikeout){qK.push("Strikeout");}if(we&IPCC.Web.UI.FontStyle.Underline){qK.push("Underline");}if(qK.length>0){this.fI=qK;}break;}}return this.fI;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Nj,G,agf=[];for(G=0;G<value.length;G++){Nj=Ps(value[G],PCCViewer.Mark.FontStyles);if(Nj===null){throw new RangeError("The value of font styles "+value[G]+" is invalid.");}else{IPCC.bB.iH(Nj,'fontStyle');agf.push(Nj);}}this.fI=agf;var we=[];we=auH(this.fI);var ap=this;function awX(dm){setTimeout(function(){ap.O.set_fontStyle(dm);},2);};if(this.O){switch(this.ae){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var aga=we[0];for(G=1;G<we.length;G++){aga|=we[G];}awX(aga);break;}}return this;};if(H.fI){H.getFontStyle=getFontStyle;H.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(H,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.wI=this.O.get_text()||this.wI;break;}}return this.wI;};function setLabel(value){IPCC.bB.iH(value,'label');this.wI=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.O.set_text(value);break;}}return this;};if(typeof H.wI!=='undefined'){H.getLabel=getLabel;H.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(H,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TextSelectionRedaction:this.fB=this.O.get_text()||this.fB;break;}}return this.fB;};function setReason(value){IPCC.bB.iH(value,'text');this.fB=value;if(this.O){switch(this.ae){case PCCViewer.Mark.Type.RectangleRedaction:this.O.set_text(value);break;case PCCViewer.Mark.Type.TextSelectionRedaction:this.O.set_text(value);if(this.cP&&this.cP.length){for(var G=0;G<this.cP.length;G++){this.cP[G].set_text(value);}}break;}}return this;};if(typeof H.fB!=='undefined'){H.getReason=getReason;H.setReason=setReason;if(Object.defineProperties){Object.defineProperties(H,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.O){return this.O.get_pathString();}else{return this.dr;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vH=IPCC.aY.VI(path);this.dr=path;if(this.O){this.O.set_pathString(path);this.O.set_pathWidth(vH.width);this.O.set_pathHeight(vH.height);}return this;};if(H.dr){H.setPath=setPath;H.getPath=getPath;if(Object.defineProperties){Object.defineProperties(H,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.O){return this.O.get_href();}else{return this.oU;}};function setHref(href){if(href!==null){var ae=typeof href;if(ae!=="undefined"&&ae!=="number"&&ae!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.oU=href;if(this.O){this.O.set_href(href);}if(this.cP){IPCC.aY.forEach(this.cP,function(O){O.set_href(href);});}return this;};if(typeof H.oU!=='undefined'){H.setHref=setHref;H.getHref=getHref;if(Object.defineProperties){Object.defineProperties(H,{"href":{enumerable:true,get:getHref,set:setHref}});}}}})();(function(undefined){'use strict';function MouseTool(name,type){this.cO=name;var KG=auw(type);if(KG===null){throw new RangeError("The value of type was invalid.");}this.ae=KG;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.cO;};MouseTool.prototype.getType=function(){return this.ae;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function auw(SM){var YX=SM.toLowerCase();for(var standardType in PCCViewer.MouseTool.Type){if(PCCViewer.MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YX){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var ae=mouseTool.getType();switch(ae){case PCCViewer.MouseTool.Type.Magnifier:break;case PCCViewer.MouseTool.Type.SelectToZoom:break;case PCCViewer.MouseTool.Type.Pan:mouseTool.BJ=false;break;case PCCViewer.MouseTool.Type.PanAndEdit:mouseTool.BJ=true;break;case PCCViewer.MouseTool.Type.SelectText:break;case PCCViewer.MouseTool.Type.EditMarks:break;case PCCViewer.MouseTool.Type.LineAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.LineAnnotation});break;case PCCViewer.MouseTool.Type.RectangleAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleAnnotation});break;case PCCViewer.MouseTool.Type.EllipseAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.EllipseAnnotation});break;case PCCViewer.MouseTool.Type.TextAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextAnnotation});break;case PCCViewer.MouseTool.Type.StampAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampAnnotation});break;case PCCViewer.MouseTool.Type.HighlightAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.HighlightAnnotation});break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextHyperlinkAnnotation});break;case PCCViewer.MouseTool.Type.FreehandAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.FreehandAnnotation});break;case PCCViewer.MouseTool.Type.RectangleRedaction:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleRedaction});break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TransparentRectangleRedaction});break;case PCCViewer.MouseTool.Type.TextRedaction:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextRedaction});break;case PCCViewer.MouseTool.Type.TextInputSignature:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextInputSignature});break;case PCCViewer.MouseTool.Type.StampRedaction:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampRedaction});break;case PCCViewer.MouseTool.Type.PlaceSignature:mouseTool.aU=new PCCViewer.Mark({type:'PlaceSignature',GV:true});break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextSelectionRedaction});break;case PCCViewer.MouseTool.Type.ImageStampAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampAnnotation});break;case PCCViewer.MouseTool.Type.ImageStampRedaction:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampRedaction});break;case PCCViewer.MouseTool.Type.PolylineAnnotation:mouseTool.aU=new PCCViewer.Mark({type:PCCViewer.Mark.Type.PolylineAnnotation});break;}if(mouseTool.aU){mouseTool.getTemplateMark=function(){return this.aU;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.aU){this.aU.reset();}};PCCViewer.MouseTools={OW:{},createMouseTool:function(name,type){var BU=name.toLowerCase();var existingTool=this.OW[BU];if(existingTool){if(existingTool.type.toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.OW[BU]=new MouseTool(name,type);}return this.OW[BU];},getMouseTool:function(name){if(name&&name.toLowerCase){var BU=name.toLowerCase();return this.OW[BU];}return undefined;}};PCCViewer.MouseTool=MouseTool;PCCViewer.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.MouseTools.createMouseTool("AccusoftMagnifier",PCCViewer.MouseTool.Type.Magnifier);PCCViewer.MouseTools.createMouseTool("AccusoftSelectToZoom",PCCViewer.MouseTool.Type.SelectToZoom);PCCViewer.MouseTools.createMouseTool("AccusoftPan",PCCViewer.MouseTool.Type.Pan);PCCViewer.MouseTools.createMouseTool("AccusoftPanAndEdit",PCCViewer.MouseTool.Type.PanAndEdit);PCCViewer.MouseTools.createMouseTool("AccusoftSelectText",PCCViewer.MouseTool.Type.SelectText);PCCViewer.MouseTools.createMouseTool("AccusoftEditMarks",PCCViewer.MouseTool.Type.EditMarks);PCCViewer.MouseTools.createMouseTool("AccusoftLineAnnotation",PCCViewer.MouseTool.Type.LineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftArrowAnnotation",PCCViewer.MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");PCCViewer.MouseTools.createMouseTool("AccusoftRectangleAnnotation",PCCViewer.MouseTool.Type.RectangleAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftEllipseAnnotation",PCCViewer.MouseTool.Type.EllipseAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextAnnotation",PCCViewer.MouseTool.Type.TextAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStampAnnotation",PCCViewer.MouseTool.Type.StampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftHighlightAnnotation",PCCViewer.MouseTool.Type.HighlightAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",PCCViewer.MouseTool.Type.TextHyperlinkAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftFreehandAnnotation",PCCViewer.MouseTool.Type.FreehandAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftPlaceSignature",PCCViewer.MouseTool.Type.PlaceSignature);PCCViewer.MouseTools.createMouseTool("AccusoftTextSelectionRedaction",PCCViewer.MouseTool.Type.TextSelectionRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftRectangleRedaction",PCCViewer.MouseTool.Type.RectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",PCCViewer.MouseTool.Type.TransparentRectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextRedaction",PCCViewer.MouseTool.Type.TextRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextInputSignature",PCCViewer.MouseTool.Type.TextInputSignature);PCCViewer.MouseTools.createMouseTool("AccusoftStampRedaction",PCCViewer.MouseTool.Type.StampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampAnnotation",PCCViewer.MouseTool.Type.ImageStampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampRedaction",PCCViewer.MouseTool.Type.ImageStampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftPolylineAnnotation",PCCViewer.MouseTool.Type.PolylineAnnotation);})();var PCCViewer=window.PCCViewer||{};(function(undefined){"use strict";function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.aY.vs(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var C=this;IPCC.aY.KS(element);var mR=document.createElement('div');mR.className='pccViewerControl';mR.id='pccViewerControl-'+IPCC.BY();element.appendChild(mR);this.bU=mR;this.hw=element;var tE=document.createElement('div');tE.className='pccPageListLoading';mR.appendChild(tE);this.tE=tE;PCCViewer.EventEmitter.extend(this);this.Io=false;this.aO=PCCViewer.Bu.uE({},ViewerControl.Lf,options);this.aO.language=PCCViewer.Bu.uE({},ViewerControl.aqu,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.aO.pageLayout.toLowerCase()==="vertical"){this.aO.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.aO.pageLayout.toLowerCase()==="horizontal"){this.aO.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.aO.viewMode.toLowerCase()==="document"){this.aO.viewMode=IPCC.ViewMode.Document;}else if(this.aO.viewMode.toLowerCase()==="equalwidthpages"){this.aO.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.aO.viewMode.toLowerCase()==="equalfitpages"){this.aO.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.aO.viewMode.toLowerCase()==="singlepage"){this.aO.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}if(this.aO.redactionViewMode){if(this.aO.redactionViewMode.toLowerCase()==="draft"){this.aO.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.aO.redactionViewMode.toLowerCase()==="normal"){this.aO.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.aO.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var ji=this.aO.pageRotation%360;if(ji!==0){var zq=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ji||zq.indexOf(ji)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!ji||IPCC.Web.hA(zq,ji)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.aO.pageRotation=ji;if(this.aO.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.aO.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.aO.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.aO.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.aO.serviceResponseTimeout)||typeof this.aO.serviceResponseTimeout!=='number'||this.aO.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.aO.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}this.jP={};this.cb="";this.fh=1;this.ab=undefined;this.akd=new PCCViewer.Deferred();this.DB=this.akd.getPromise();this.eR=false;this.aC=undefined;this.MA=0;this.cd=undefined;this.cN=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.qw=false;this.Bh=false;this.EP=false;this.Bp=[];this.Qi=new PCCViewer.Deferred();this.aqC=this.Qi.getPromise();this.yo=[];this.cu={};this.ZZ=[];this.JJ=[];this.af=null;this.KY={};this.hx=null;this.pd=new PCCViewer.MarkupLayerCollection(this);this.Az=new PCCViewer.MarkupLayer(this);this.pd.addItem(this.Az);this.tn=true;setTimeout(function(){C.aCQ(mR,C.aO);},0);this.Bi=null;this.dA=null;this.aaF=false;this.RF=false;this.Ij= -1;this.SP={};this.axw=this.aO.printTemplate||(this.aO.template?this.aO.template.print:"");this.kG=null;this.yU=null;this.lN=undefined;this.nI=function(bX,dX,adI){var dC=document.createElement('div'),aq=dC.style;aq.position='absolute';if(dX.isSelected){aq.backgroundColor='white';}else{aq.backgroundColor='lightgray';}aq.left='10px';aq.right='0';aq.textAlign='left';IPCC.aY.forEach(bX.getComments(),function(oE,G){var Xj=document.createElement('div'),Oh=Xj.style;Oh.position='relative';Oh.padding='5px';Oh.border='1px solid gray';if(G>0){Oh.borderTop='none';}Xj.appendChild(document.createTextNode(oE.getText()));dC.appendChild(Xj);});return dC;};return C;};PCCViewer.ViewerControl=ViewerControl;ViewerControl.Lf={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal"};ViewerControl.aqu={pageLoadFailed:"Page Load Failed",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.aCQ=function(element,options){if(this.Io){return;}var C=this;var ahP=function(aQ){if(C.aO.viewMode===IPCC.ViewMode.SinglePage||C.Io){return;}var tq=C.bU.childNodes[0].childNodes[0].childNodes[0].childNodes,G=0;for(G;G<tq.length;G+=1){if(G===aQ){if(document.documentMode===8){tq[G].style.outline='2px solid #aaa';}else{tq[G].style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}}else{if(document.documentMode===8){tq[G].style.outline='';}else{if(tq[G].style.boxShadow){tq[G].style.boxShadow='';}}}}};var agq=function(){if(C.tE.parentNode){C.tE.parentNode.removeChild(C.tE);}C.ab.remove_pageOpenFailed(VA);C.ab.remove_pageDisplayed(agq);var Wf=arguments[1];setTimeout(function(){C.trigger("PageDisplayed",{pageNumber:(Wf.pageIndex+1)});ahP(Wf.pageIndex);},10);if(Wf.pageIndex!==0){return;}var bh=new XMLHttpRequest(),bQ;function ma(){if(C.Io){return;}if(bh.readyState===4){var it=bh.status;if(it===200){if(typeof JSON!=='undefined'){bQ=JSON.parse(bh.responseText);}else{bQ=IPCC.ct.nP(bh.responseText);}if(bQ.pageCountConfidence<100){var cb;if(!(/^[\x00-\x7F]*$/.test(rF))){cb=C.aO.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rF+'&DesiredPageCountConfidence=100';}else{cb=C.aO.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.aO.documentID)+'&DesiredPageCountConfidence=100';}bh.open('GET',cb,true);bh.setRequestHeader('Content-Type','application/json');bh.onreadystatechange=ma;bh.send();C.fh=bQ.pageCount;C.aC.fh=bQ.pageCount;C.EP=true;setTimeout(function(){C.trigger("EstimatedPageCountReady",{pageCount:bQ.pageCount});},10);ZJ();}else{if(C.fh>1){C.aC.fh=bQ.pageCount;setTimeout(function(){var G;if(bQ.pageCount<C.fh){for(G=C.fh-1;G>=bQ.pageCount;G--){C.cd.removePage(G);}}else if(bQ.pageCount>C.fh){for(G=C.fh;G<bQ.pageCount;G++){var TZ=new IPCC.Web.UI.ImGearPage({pageNumber:G});C.cd.addPage(TZ);}}C.fh=bQ.pageCount;if(C.eR===true){C.qw=true;C.Bh=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:bQ.pageCount});},30);}},30);}else{C.fh=bQ.pageCount;C.aC.fh=bQ.pageCount;if(C.eR===true){ZJ(function(){C.qw=true;C.Bh=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:bQ.pageCount});},0);});}}}}else if((it<200)||(it>=300)){var Yj="None",aiE,ZH;var aif=bh.getResponseHeader('Accusoft-Status-Message');if(aif){Yj=aif;ZH=bh.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wy(ZH)){aiE=parseInt(ZH,10);}}else if(bh.statusText){Yj=bh.statusText;}setTimeout(function(){C.trigger("PageLoadFailed",{statusCode:it,errorMessage:Yj,accusoftErrorNumber:aiE});},1);throw("Unable to obtain document information from the server");}}};var rF=IPCC.fU.sL(C.aO.documentID);if(!rF||rF===""){throw("Invaqlid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(rF))){C.cb=C.aO.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rF+'&DesiredPageCountConfidence=50';}else{C.cb=C.aO.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.aO.documentID)+'&DesiredPageCountConfidence=50';}bh.open('GET',C.cb,true);bh.setRequestHeader('Content-Type','application/json');bh.onreadystatechange=ma;bh.send();};function ZJ(pD){pD=pD||function(){};var akj=C.fh;function adf(){C.ab.remove_allPagesAdded(adf);pD();};if(akj>1){C.ab.add_allPagesAdded(adf);if(!C.anl){C.ab.add_currentPageChanged(function(){if(arguments<2){throw("Controls currentPageChanged event did not provide any expected information");}var cI=arguments[1];setTimeout(function(){C.trigger('PageChanged',{pageNumber:cI.pageIndex+1});ahP(cI.pageIndex);},0);});C.ab.add_pageDisplayed(function(){if(arguments<2){throw("Controls pageDisplayed event did not provide any expected information");}var cI=arguments[1];if(C.kG){C.kG();C.kG=null;if(C.hx){C.hx.resolve();}C.hx=null;}setTimeout(function(){C.trigger('PageDisplayed',{pageNumber:cI.pageIndex+1});},0);setTimeout(function(){C.YY(cI.pageIndex+1,C.Ij);},10);});C.ab.add_pageOpenFailed(function(){aad(arguments);});C.anl=true;}for(var G=C.MA;G<akj;G++){C.cd.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:G}));C.MA++;}}else{pD();}};var ayV=function(cI){var aV=document.getElementById(cI.pageNodeID),ak=document.createElement('div'),zh=document.createElement('button'),alS='pccPageLoadFailRetry',afv=function(){C.ab.EJ(cI.pageIndex);},aoq=PCCViewer.Language.data.pageLoadFailed,apq=PCCViewer.Language.data.pageLoadFailedRetry;if(aV===null){return;}zh.id=alS;zh.innerHTML=apq;ak.className='pccPageLoadFail';ak.innerHTML=aoq+'<br>';ak.appendChild(zh);aV.appendChild(ak);zh=document.getElementById(alS);if(!zh.addEventListener){zh.attachEvent('onclick',afv);}else{zh.addEventListener('click',afv,false);}};function aad(DV){if(DV<2){throw("controls PageOpenFailed event did not provide any expected information");}var aeE,ajw,cI=DV[1];if(DV[1].exception.customErrorCode!==undefined){ajw=DV[1].exception.customErrorCode;}if(DV[1].exception.message!==undefined){aeE=DV[1].exception.message;}setTimeout(function(){C.trigger('PageLoadFailed',{statusCode:cI.exception.statusCode,pageNumber:cI.pageIndex+1,errorMessage:aeE,accusoftErrorNumber:ajw});ayV(cI);},0);};function VA(){C.ab.remove_pageOpenFailed(VA);aad(arguments);setTimeout(ZJ,30);};function aeI(){C.ab.remove_pageOpened(aeI);C.eR=true;var ap=C;setTimeout(function(){C.trigger("ViewerReady",{});if(ap.qw===true&&ap.Bh===false){ap.Bh=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:ap.getPageCount()});},10);}},10);C.setCurrentMouseTool("AccusoftPanAndEdit");};var anq=function(az,K){if(K.containsText===true){C.Qi.resolve(true);}var Cp= -1;if(Array.prototype.indexOf){Cp=(C.yo.indexOf(K.pageIndex)>=0);}else{Cp=(IPCC.Web.hA(C.yo,K.pageIndex)>=0);}if(Cp===false){C.yo.push(K.pageIndex);if(C.yo.length===C.fh){C.Qi.resolve(false);}}setTimeout(function(){C.trigger("PageTextReady",{pageNumber:K.pageIndex+1});},0);};var alE=function(az,K){var Cp= -1;if(Array.prototype.indexOf){Cp=(C.yo.indexOf(K.pageIndex)>=0);}else{Cp=(IPCC.Web.hA(C.yo,K.pageIndex)>=0);}if(Cp===false){C.yo.push(K.pageIndex);if(C.yo.length===C.fh){C.Qi.resolve(false);}}};function awl(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var ka=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){ka.push(eventArgs.pageNumbers[i]+1);}var jN=[],ws= -eventArgs.startIndex,an,cs,jh,cf,j,k;for(j=0;j<ka.length;j++){jh=C.cd.km(ka[j]-1).dq().eJ();ws+=jh.dY();an=0;if(j===0){an=eventArgs.startIndex;}if(ws>=eventArgs.text.length){cs=ws-eventArgs.text.length-1;}else{cs=jh.dY()-1;}cf=IPCC.aY.Ox(jh,an,cs);for(k=0;k<cf.length;k++){jN.push({x:cf[k].x,y:cf[k].y,width:cf[k].width,height:cf[k].height,pageNumber:ka[j]});}}C.af={pageNumber:ka[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:jN};var H,aaU={selectedText:eventArgs.text,pageNumbers:ka,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:C.af};function atJ(){var wo=C.hQ;C.ajb=true;C.hQ=function(sender,args){C.hQ=wo;setTimeout(function(){C.trigger(PCCViewer.EventType.MarkCreated,{mark:H,pageNumber:ka[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){H=C.cu[eventArgs.previousFirstMark.get_markID()];C.ab.remove_markRemoved(C.Eq);C.ab.remove_markSelectionChanged(C.Ez);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aQ){var avq=H.O.WH;var Wi;if(H.getReason){Wi=H.O.get_text();}var Zl;if(H.getFillColor){Zl=H.O.get_fillColor();}var Xk;if(H.getHref){Xk=H.O.get_href();}var axi=new PCCViewer.Conversation(H);var bA=C.ab.gB(C.cd.getPage(H.O.aQ));bA.removeMark(H.O);for(var G=H.cP.length-1;G>=0;G--){var mD=H.cP[G];bA=C.ab.gB(C.cd.getPage(mD.aQ));bA.removeMark(mD);H.cP.splice(G,1);}H.O=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());H.O.aQ=eventArgs.pageNumbers[0];H.aa=eventArgs.pageNumbers[0]+1;H.O.lm=true;H.O.WH=avq;var wo=C.hQ;C.hQ=null;C.ab.remove_markChanged(C.tc);bA=C.ab.gB(C.cd.getPage(H.O.aQ));bA.addMark(H.O);if(Wi){H.O.set_text(Wi);}if(Zl){H.O.set_fillColor(Zl);}if(Xk){H.O.set_href(Xk);}H.bX=new PCCViewer.Conversation(H);PCCViewer.Conversation.tf(axi,H.bX);C.ab.add_markChanged(C.tc);C.hQ=wo;}H.O.set_selected(true);H.O.set_visible(true);H.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});C.ab.add_markRemoved(C.Eq);C.ab.add_markSelectionChanged(C.Ez);C.oZ(H,eventArgs.pageNumbers[0]);return;}var EU=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:EU='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:EU='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:EU='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:awI(eventArgs.text);C.KY[ka[0]]='selectText';break;}var cN=PCCViewer.MouseTools.getMouseTool(C.getCurrentMouseTool());var aU=(cN&&cN.getTemplateMark)?cN.getTemplateMark():undefined;var aqB=aU?aU.getType():"";if(EU){atJ();C.trigger(PCCViewer.EventType.TextSelected,aaU);H=C.addMark(ka[0],EU);if(C.tn){C.Az.addMarks(H);}H.O.lm=true;H.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aqB===EU){if(aU.getFillColor){H.setFillColor(aU.getFillColor());}if(aU.getReason){H.setReason(aU.getReason());}if(aU.getHref){H.setHref(aU.getHref());}}return;}setTimeout(function(){C.trigger(PCCViewer.EventType.TextSelected,aaU);},0);};function avd(){var aV=C.bU,ak=document.createElement('div');ak.className='pccCopyText';aV.appendChild(ak);C.NP=ak;};function awI(ar){var tN,aDd=ar.split('\n'),KA=document.createDocumentFragment(),Gi,jT;tN=document.createTextNode(ar);KA.appendChild(tN);IPCC.aY.KS(C.NP);C.NP.appendChild(KA);if(document.body.createTextRange){Gi=document.body.createTextRange();Gi.moveToElementText(C.NP);Gi.select();}else if(window.getSelection){jT=window.getSelection();Gi=document.createRange();Gi.selectNodeContents(C.NP);jT.removeAllRanges();jT.addRange(Gi);}};this.aC=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.aO.documentID,imageServicePath:this.aO.imageHandlerUrl});this.aC.set_encryption(this.aO.encryption||false);var TZ=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aC.get_pages().addPage(TZ);this.cd=this.aC.get_pages();this.ab=IPCC.initializePageListPlugin(element,options);this.ab.get_documents().addDocument(this.aC);this.MA=1;this.akd.resolve(this.ab);this.ab.add_pageDisplayed(agq);this.ab.add_pageOpenFailed(VA);this.ab.add_pageOpened(aeI);this.ab.add_textPageReady(anq);this.ab.add_textExtractionFailed(alE);this.ab.set_conversationDOMFactory(function(O,dX,adI){var H=C.cu[O.get_markID()];if(H){return C.nI(H.getConversation(),dX,adI);}});avd();this.ab.add_selectTextMouseToolCompleted(awl);this.ab.add_propertyChanged(function(zv,aF){var proprtyName=aF.arC();if(proprtyName==="mouseTool"){setTimeout(function(){C.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:C.cN.getName()});},0);}});this.ab.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&C.cu[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.dF!==undefined){C.oZ(eventArgs.mark,eventArgs.pageIndex);}if(C.hQ){var bE=eventArgs.mark.get_type();if(bE!==IPCC.Web.UI.MarkType.Highlight&& !(bE===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.dF!==undefined)){C.hQ(sender,eventArgs);}}});this.ab.add_markCreating(function(sender,eventArgs){if(C.JZ){C.JZ(sender,eventArgs);}});this.ab.zX(function(sender,eventArgs){var CI=0;var CC=0;var aeA=0;var tI=0;var ve=0;var Qc=0;var aqf=C.cN.getName().toLowerCase(),asa=C.cN.getType();if(asa===PCCViewer.MouseTool.Type.PlaceSignature){var cN=C.cN;var aU=cN.getTemplateMark(),mc=aU.getSignature(),agJ=aU.getRectangle(),H,F={};if(!mc){return;}C.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vH;if(attributes.width>0){CC=agJ.width||(attributes.width/5);}if(mc.path&&mc.path.length>0){vH=IPCC.aY.VI(mc.path);F={x:0,y:0,width:vH.width,height:vH.height};H=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);H.setPath(mc.path);H.setThickness(mc.thickness||4);}if(mc.text&&mc.text.length){vH=IPCC.aY.uT(mc.text,mc.fontName);H=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);F={x:0,y:0,width:vH.width,height:vH.height};H.setText(mc.text);H.setFontName(mc.fontName);}aeA=(F.width/CC);CI=agJ.height||(F.height/aeA);tI=(eventArgs.imagePoint.x-(CC/2));ve=(eventArgs.imagePoint.y-(CI/2));if(tI<=0){tI=0;}if(ve<=0){ve=0;}if((tI+CC)>=attributes.width){Qc=(tI+CC)-attributes.width;tI=tI-Qc;}if((ve+CI)>=attributes.height){Qc=(ve+CI)-attributes.height;ve=ve-Qc;}F={x:tI,y:ve,width:CC,height:CI};H.setRectangle({x:tI,y:ve,width:CC,height:CI});PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());});C.setCurrentMouseTool(aqf);}});this.ab.zK(function(sender,eventArgs){var af=null,eE=null,H=null,hV=null,yr=false,PU=eventArgs.upTarget.type,Zq=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Zq=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){yr=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Zq===false){C.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){hV=C.aqi(eventArgs.upMark);yr=hV!==null;PU="documentHyperlink";}else{H=C.cu[eventArgs.upMark.get_markID()];if(H===undefined){for(var lu in C.cu){if(C.cu.hasOwnProperty(lu)){if(C.cu[lu].O.dF===eventArgs.upMark.dF&&C.cu[lu].O.dF===eventArgs.downMark.dF){H=C.cu[lu];eventArgs.pageIndex=H.aa-1;yr=true;if(Zq===false){C.deselectAllMarks();H.O.set_selected(true);}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.iY()===eventArgs.upMark.iY()){yr=true;}if(H===undefined){if(C.dA&&C.KY[eventArgs.upTarget.pageIndex+1]==='search'){var ha=C.dA.getResults();for(var G=0;G<ha.length;G++){if(ha[G].aa===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.an!=='undefined'&&typeof eventArgs.upMark.an!=='undefined'&&typeof eventArgs.downMark.dQ!=='undefined'&&typeof eventArgs.upMark.dQ!=='undefined'&&eventArgs.downMark.an>=ha[G].getStartIndexInPage()&&eventArgs.downMark.an+eventArgs.downMark.dQ<=ha[G].getStartIndexInPage()+ha[G].getText().length&&eventArgs.upMark.an>=ha[G].getStartIndexInPage()&&eventArgs.upMark.an+eventArgs.upMark.dQ<=ha[G].getStartIndexInPage()+ha[G].getText().length){PU='searchResult';eE=ha[G];eventArgs.upTarget.pageIndex=eE.aa-1;yr=true;break;}}}}if(yr===false&&H===undefined&&C.KY[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.an!=='undefined'&&typeof eventArgs.upMark.an!=='undefined'&&eventArgs.downMark.an>=C.af.startIndex&&eventArgs.downMark.an+eventArgs.downMark.dQ<=C.af.startIndex+C.af.length&&eventArgs.upMark.an>=C.af.startIndex&&eventArgs.upMark.an+eventArgs.upMark.dQ<=C.af.startIndex+C.af.length){PU='textSelection';af=C.af;yr=true;}}}function MouseEvent(bv){var C=this;for(var i in eventArgs.originalEvent){if(i){C[i]=eventArgs.originalEvent[i];}}};var apM=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var ayv=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var K={pageNumber:ayv,targetType:PU,textSelection:af,searchResult:eE,mark:H,originalEvent:apM,hyperlink:hV,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(yr===true){C.trigger('Click',K);}},0);});this.ab.add_hyperlinkPageReady(function(sender,eventArgs){var aQ=eventArgs.pageIndex,ai=C.cd.getPage(aQ),IB=ai.get_hyperlinkPage().Jf(),zo=C.ZZ[aQ]=[];IB.mF(function(Bj){zo.push(new PCCViewer.DocumentHyperlink({aa:aQ+1,Bj:Bj}));});if(!C.JJ[aQ]){C.JJ[aQ]=new PCCViewer.Deferred();}C.JJ[aQ].resolve(zo);});this.oZ=function(H,ib){var Um=false;function ZU(){var og=false;var cn=C.ab.get_displayedPages();for(var G=0;G<cn.get_length();G++){var ai=cn.getPage(G);if(ai.get_pageNumber()===ib){og=true;break;}}return og;};function awG(eQ){if(C.ab){C.ab.cR(eQ);}};if(ZU()){if(Array.prototype.indexOf){if(IPCC.Web.hA(C.Bp,ib)>=0){Um=true;}}else{if(IPCC.Web.hA(C.Bp,ib)>=0){Um=true;}}if(!Um){C.Bp.push(ib);setTimeout(function(){var cc=C.Bp.length;if(cc>0){for(var G=0;G<cc;G++){awG(C.Bp[G]);}C.Bp.splice(0,cc);}},10);}}};var Hj={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var PM={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.tc=function(az,K){var H=C.cu[K.mark.get_markID()];var ae;if(H){ae=H.ae;}if(ae&&Hj[ae]&&Hj[ae][K.propertyName]===false){return;}var cg;if(ae){cg=Hj[ae]&&Hj[ae][K.propertyName]?Hj[ae][K.propertyName]:PM[K.propertyName]?PM[K.propertyName]:K.propertyName;}else{cg=PM[K.propertyName]?PM[K.propertyName]:K.propertyName;}if(K.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||K.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||K.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||K.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||K.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||(K.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.mark.dF!==undefined)){if(H){setTimeout(function(){C.trigger('MarkChanged',{mark:H,pageNumber:K.pageIndex+1,propertyName:cg});},0);}else{for(var lu in C.cu){if(C.cu.hasOwnProperty(lu)){H=C.cu[lu];if(H.dF===K.mark.dF){break;}}}}C.oZ(H,K.pageIndex);}else if(H&&K.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cg==='points'){if(H.aao){clearTimeout(H.aao);}H.aao=setTimeout(function(){H.aao=undefined;C.oZ(H,K.pageIndex);C.trigger('MarkChanged',{mark:H,pageNumber:K.pageIndex+1,propertyName:cg});},1);}else if(H){C.oZ(H,K.pageIndex);setTimeout(function(){C.trigger('MarkChanged',{mark:H,pageNumber:K.pageIndex+1,propertyName:cg});},0);}if(H&&H.type===PCCViewer.Mark.Type.TextRedaction){H.O.set_opacity(0);}if(H&&H.ae===PCCViewer.Mark.Type.TextInputSignature){H.O.set_lineVisible(false);}};this.ab.add_markChanged(C.tc);this.ab.add_markReordered(function(sender,eventArgs){var H=C.cu[eventArgs.mark.get_markID()];setTimeout(function(){C.trigger('MarkReordered',{mark:H,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Ez=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var H;for(var Md in C.cu){if(C.cu.hasOwnProperty(Md)){H=C.cu[Md];if(H.O.dF===eventArgs.mark.dF){H.O.set_selected(eventArgs.mark.get_selected());C.oZ(H.O,H.O.aQ);for(var G=0;G<H.cP.length;G++){H.cP[G].set_selected(eventArgs.mark.get_selected());C.oZ(H.cP[G],H.cP[G].aQ);}}}}}setTimeout(function(){C.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.ab.add_markSelectionChanged(C.Ez);this.ab.add_markTextSelectionChanged(function(sender,eventArgs){C.oZ(eventArgs.mark,eventArgs.pageIndex);});this.Eq=function(sender,eventArgs){var H;if(eventArgs.mark){H=C.cu[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&H===undefined&&eventArgs.mark.dF!==undefined){C.oZ(eventArgs.mark,eventArgs.pageIndex);}else if(H){setTimeout(function(){C.trigger('MarkRemoved',{mark:H,pageNumber:eventArgs.pageIndex});},0);}}};this.ab.add_markRemoved(C.Eq);this.ab.add_commentAdding(function(sender,eventArgs){var H=C.cu[eventArgs.mark.get_markID()];if(eventArgs.comment.JL.iq===undefined){eventArgs.comment.JL.iq=C.getActiveMarkupLayer();}});this.ab.add_commentAdded(function(sender,eventArgs){var H=C.cu[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentCreated,{conversation:H.getConversation(),comment:eventArgs.comment.JL});});this.ab.add_commentRemoved(function(sender,eventArgs){var H=C.cu[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentRemoved,{conversation:H.getConversation(),comment:eventArgs.comment.JL});});this.ab.add_commentChanged(function(sender,eventArgs){var H=C.cu[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentChanged,{conversation:H.getConversation(),comment:eventArgs.comment.JL});});this.ab.add_scaleChanged(function(sender,eventArgs){var ft;switch(eventArgs.fitType){case 0:ft=PCCViewer.FitType.FullWidth;break;case 1:ft=PCCViewer.FitType.ShrinkToWidth;break;case 2:ft=PCCViewer.FitType.ActualSize;break;case 3:ft=PCCViewer.FitType.FullHeight;break;case 4:ft=PCCViewer.FitType.FullPage;break;default:break;}C.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:ft,scaleFactor:eventArgs.scaleFactor});});};PCCViewer.ViewerControl.prototype.getPageCount=function(){return this.fh;};PCCViewer.ViewerControl.prototype.getPageNumber=function(){return(this.ab)?(this.ab.afi().get_pageNumber()+1):1;};PCCViewer.ViewerControl.prototype.setPageNumber=function(pageNumber){var aa;if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=Number(pageNumber);}}if(parseInt(aa,10)!==aa){throw new Error("The 'pageNumber' value "+aa+" is not an integer page number.");}if(aa<1||aa>this.getPageCount()|| !isFinite(aa)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aa){return this;}if(this.ab){this.ab.scrollToPage(aa-1);}return this;};PCCViewer.ViewerControl.prototype.changeToFirstPage=function(){if(this.ab){if(this.EP||this.qw){this.ab.scrollToFirstPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToLastPage=function(){if(this.ab){if(this.EP||this.qw){this.ab.scrollToLastPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToNextPage=function(){if(this.ab){if(this.EP||this.qw){this.ab.scrollToNextPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToPrevPage=function(){if(this.ab){if(this.EP||this.qw){this.ab.scrollToPreviousPage();}}return this;};PCCViewer.ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eR){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var C=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){C.ab.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{C.ab.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};PCCViewer.ViewerControl.prototype.scrollTo=function(target){if(!this.eR){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.hx){this.hx.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hx=null;this.kG=null;}var C=this;var It=function(){C.ab.scrollConversationIntoView(target.getMark().O.get_conversation());if(C.hx){C.hx.resolve();}C.hx=null;C.kG=null;};var wa=function(ev){if(ev.target.yU===target){C.off(PCCViewer.EventType.CommentCreated,wa);C.yU=null;C.scrollTo(target);}else if(ev.target.yU===null){C.off(PCCViewer.EventType.CommentCreated,wa);}if(C.hx){C.hx.resolve();}C.hx=null;C.kG=null;};var Hz=function(aa,jv){C.ab.scrollRegionIntoView(aa-1,jv);if(C.hx){C.hx.resolve();}C.hx=null;C.kG=null;};alV(C,target,wa,It,Hz);return this;};PCCViewer.ViewerControl.prototype.scrollToAsync=function(target){if(this.hx){this.hx.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hx=null;this.kG=null;}var by=PCCViewer.Deferred();var bW=by.getPromise();var C=this;C.hx=by;try{var It=function(){C.ab.scrollConversationIntoView(target.getMark().O.get_conversation());if(C.hx){C.hx.resolve();}C.hx=null;C.kG=null;};var wa=function(ev){if(ev.target.yU===target){C.off(PCCViewer.EventType.CommentCreated,wa);C.yU=null;C.scrollTo(target);}else if(ev.target.yU===null){C.off(PCCViewer.EventType.CommentCreated,wa);}if(C.hx){C.hx.resolve();}C.hx=null;C.kG=null;};var Hz=function(aa,jv){C.ab.scrollRegionIntoView(aa-1,jv);if(C.hx){C.hx.resolve();}C.hx=null;C.kG=null;};if(alV(C,target,wa,It,Hz)===true){by.resolve();}}catch(e){C.hx=null;C.kG=null;by.reject(new PCCViewer.Error("Error",e));}return bW;};function alV(cz,cJ,wa,It,Hz){var jv,aa,bH;cz.yU=null;if(cJ instanceof PCCViewer.Conversation){if(cz.cu[cJ.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var acv=cz.ab.scrollConversationIntoView(cJ.getMark().O.get_conversation());if(acv==="PageOutOfView"){cz.kG=It;cz.setPageNumber(cJ.getMark().getPageNumber());return false;}else if(acv==="ConversationDivDoesNotExist"&&cJ.getMark().O.get_conversation().get_length()>0){cz.yU=cJ;cz.on(PCCViewer.EventType.CommentCreated,wa);return false;}else{cz.kG=null;return true;}}else if(cJ instanceof PCCViewer.SearchResult){if(cJ.OK!==cz.aC.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bH=cJ.getBoundingRectangle();jv=new IPCC.Web.UI.Rectangle(bH.x,bH.y,bH.width,bH.height);aa=cJ.getPageNumber();}else if(cJ instanceof PCCViewer.Mark){if(cz.cu[cJ.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bH=cJ.getBoundingRectangle();jv=new IPCC.Web.UI.Rectangle(bH.x,bH.y,bH.width,bH.height);aa=cJ.getPageNumber();}else if(cJ!==undefined&&cJ!==null){if(typeof cJ.x==='number'&&typeof cJ.y==='number'){jv=new IPCC.Web.UI.Rectangle(+cJ.x,+cJ.y,0,0);}else{if(isNaN(+cJ.x)||isNaN(+cJ.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{jv=new IPCC.Web.UI.Rectangle(Number(+cJ.x),Number(+cJ.y),0,0);}}if(cJ.width){if(typeof cJ.width==='number'){jv.width=cJ.width;}else{if(isNaN(+cJ.width)){throw new Error('The parameter target does not contain a valid width value.');}else{jv.width=Number(+cJ.width);}}}if(cJ.height){if(typeof cJ.height==='number'){jv.height=cJ.height;}else{if(isNaN(+cJ.height)){throw new Error('The parameter target does not contain a valid height value.');}else{jv.height=Number(+cJ.height);}}}if(typeof cJ.pageNumber==='number'){aa= +cJ.pageNumber;}else{if(isNaN(+cJ.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aa=Number(+cJ.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aa<1||aa>cz.getPageCount()|| !isFinite(aa)){throw new RangeError("The parameter pageNumber is out of range.");}if(cz.ab.scrollRegionIntoView(aa-1,jv)===false){cz.kG=function(){Hz(aa,jv);};cz.setPageNumber(aa);return false;}else{cz.kG=null;return true;}};PCCViewer.ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eR){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(Cu(this.getPageNumber()-1,this)===false){this.ab.cR(this.getPageNumber()-1);}var ji=degreesClockwise%360,C=this;if(ji!==0){var zq=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ji||zq.indexOf(ji)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!ji||IPCC.Web.hA(zq,ji)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.ab.rotate(ji);}setTimeout(function(){C.trigger("PageRotated",{degreesClockwise:ji,pageNumber:(C.getPageNumber())});},0);return this;};PCCViewer.ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eR){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(Cu(this.getPageNumber()-1,this)===false){this.ab.cR(this.getPageNumber()-1);}var ji=degreesClockwise%360,C=this;if(ji!==0){var zq=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ji||zq.indexOf(ji)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!ji||IPCC.Web.hA(zq,ji)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.ab.aes(ji);}setTimeout(function(){C.trigger("DocumentRotated",{degreesClockwise:ji});},0);return this;};PCCViewer.ViewerControl.prototype.getScaleFactor=function(){if(!this.eR){throw "The getScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.ab.get_scaleFactor();};PCCViewer.ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.eR){throw "The setScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.ab.set_scaleFactor(+scaleFactor);return this;};PCCViewer.ViewerControl.prototype.getMinScaleFactor=function(){if(!this.eR){throw "The getMinScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.ab.getMinMaxZoom().minFactor;};PCCViewer.ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.eR){throw "The getMaxScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.ab.getMinMaxZoom().maxFactor;};PCCViewer.ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.eR){throw "The zoomIn method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.ab){this.ab.zoomIn(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.eR){throw "The zoomOut method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.ab){this.ab.zoomOut(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.getViewMode=function(){var ny;if(this.ab&&this.ab.get_viewMode){ny=this.ab.get_viewMode();}else{ny=this.aO.viewMode;}if(ny===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(ny===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(ny===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};PCCViewer.ViewerControl.prototype.setViewMode=function(viewMode){var ny;switch(viewMode){case PCCViewer.ViewMode.Document:ny=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:ny=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:ny=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:ny=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.ab&&this.ab.set_viewMode){var JX=this.ab.get_viewMode();if(JX!==ny){if(JX===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(ny===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.ab.set_viewMode(ny);}}else{this.aO.viewMode=ny;}return this;};PCCViewer.ViewerControl.prototype.getPageLayout=function(){var AF;if(this.ab&&this.ab.get_pageLayout){AF=this.ab.get_pageLayout();}else{AF=this.aO.pageLayout;}if(AF===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};PCCViewer.ViewerControl.prototype.setPageLayout=function(pageLayout){var AF;if(this.aO.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:AF=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.ab&&this.ab.closeCommentsPanel){this.ab.closeCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:false});},10);}AF=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.ab&&this.ab.set_pageLayout){this.ab.set_pageLayout(AF);}else{this.aO.pageLayout=AF;}return this;};PCCViewer.ViewerControl.prototype.getAtMaxScale=function(){if(!this.eR){throw "The getAtMaxScale method requires the viewer to be in a 'ViewerReady' state.";}return this.ab.getMinMaxZoom().atMax;};PCCViewer.ViewerControl.prototype.getAtMinScale=function(){if(!this.eR){throw "The getAtMinScale method requires the viewer to be in a 'ViewerReady' state.";}return this.ab.getMinMaxZoom().atMin;};PCCViewer.ViewerControl.prototype.fitContent=function(fitType){if(!this.eR){throw "The fitContent method requires the viewer to be in a 'ViewerReady' state.";}var Cr;switch(fitType){case PCCViewer.FitType.FullWidth:Cr=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Cr=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Cr=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:Cr=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:Cr=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.DB.then(function(zv){zv.fitPages(Cr);});return this;};PCCViewer.ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eR){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aa;if(arguments.length>0){if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aa=Number(pageNumber);}}if(parseInt(aa,10)!==aa){throw new Error("The 'pageNumber' value "+aa+" is not an integer page number.");}if(aa<1||aa>this.getPageCount()|| !isFinite(aa)){throw new Error("The parameter pageNumber is out of range.");}return this.ab.TL(aa-1);}else{return this.ab.TL();}};PCCViewer.ViewerControl.prototype.search=function(searchQuery){if(this.Bh===false){throw "The search method requires PagecountReady event to be triggered.";}PCCViewer.SearchTask.prototype.agr(searchQuery);if(!this.aC.ajI()){this.aC.Kh(0,this.aC.fh-1,this.aC.fh);}else{this.RF=true;}this.Bi=null;this.SP={};this.ab.clearAllSelectedText();var eT=new PCCViewer.Search();searchQuery=eT.agB(searchQuery);if(this.aaF===false){this.dA=eT._search(searchQuery,this.RF,this.aC);this.aaF=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}var ap=this;this.dA.on('PartialSearchResultsAvailable',function(aF){var Hc=[];var Tk={};Hc=aF.partialSearchResults;var bQ=Hc[0];Tk.an=bQ.getId();bQ=Hc[Hc.length-1];Tk.cs=bQ.getId();ap.SP[bQ.getPageNumber()]=Tk;var cn=ap.ab.get_displayedPages();for(var G=0;G<cn.get_length();G++){var ai=cn.getPage(G);if(ai.get_pageNumber()+1===bQ.getPageNumber()){ap.acf(ai.get_pageNumber(),Hc);}}});this.dA.on('SearchCompleted',function(aF){ap.aaF=false;});this.trigger('SearchPerformed',{searchRequest:this.dA});return this.dA;};PCCViewer.ViewerControl.prototype.getSearchRequest=function(){return this.dA;};PCCViewer.ViewerControl.prototype.clearSearch=function(){if(!this.eR){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var C=this;if(this.getSelectedSearchResult()){this.Bi=null;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.ab.clearAllSelectedText();this.dA=null;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};PCCViewer.ViewerControl.prototype.validateSearch=function(gX){var fT={errorsExist:false},searchTermObj,VC,G,ag,aaB,OA,UG;if(typeof gX!=='object'&&typeof gX!=='string'){fT.errorsExist=true;fT.summaryMsg="Search query must be either an object or string.";return fT;}if(typeof gX==='string'&&gX.length<0){fT.errorsExist=true;fT.summaryMsg="Search term must contain at least 3 characters.";return fT;}else if(typeof gX==='string'){return fT;}if(!gX.hasOwnProperty('searchTerms')){fT.errorsExist=true;fT.summaryMsg="Search options must have a 'searchTerms' key.";return fT;}if(Object.prototype.toString.call(gX.searchTerms)!=='[object Array]'){fT.errorsExist=true;fT.summaryMsg="Search terms value must be an array.";return fT;}if(!gX.searchTerms.length){fT.errorsExist=true;fT.summaryMsg="Search terms array must contain at least one value.";return fT;}fT.searchTerms=[];for(G=0;G<gX.searchTerms.length;G++){searchTermObj=gX.searchTerms[G];OA=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('matchCase'))?searchTermObj.matchingOptions.matchCase:false;if(typeof searchTermObj.searchTerm==='undefined'||typeof searchTermObj.searchTerm!=='string'||(searchTermObj.searchTermIsRegex===true&& !aCu(searchTermObj.searchTerm,OA))){fT.errorsExist=true;fT.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});continue;}aaB=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('exactPhrase'))?searchTermObj.matchingOptions.exactPhrase:false;if(aaB){if(searchTermObj.searchTerm.length<0){fT.errorsExist=true;fT.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});continue;}}else{VC=searchTermObj.searchTerm.split(' ');for(ag=0;ag<VC.length;ag++){UG=VC[ag].replace(/^\s+|\s+$/g,'');if(UG.length>0&&UG.length<0){fT.errorsExist=true;fT.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}}}if(fT.searchTerms.length!==G+1){fT.searchTerms.push({isValid:true,message:null});}}return fT;};var aCu=function(Vn,OA){var aBU,Wk,Pi;if(OA){Wk='gm';}else{Wk='igm';}if(!Vn&&Vn!==null){Pi=false;}else{try{aBU=new RegExp(Vn,Wk);Pi=true;}catch(err){Pi=false;}}return Pi;};PCCViewer.ViewerControl.prototype.getDownloadDocumentURL=function(){var cb;if(!(/^[\x00-\x7F]*$/.test(this.aC))){cb=this.aO.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.aO.documentID+'/SourceFile';}else{cb=this.aO.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.aO.documentID);}return cb;};PCCViewer.ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Ot,Yw;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Ot=true;Yw=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Ot=false;Yw=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.ab&&this.ab.set_redactionDraftMode){var aqd=this.ab.get_redactionDraftMode();if(aqd!==Ot){this.ab.set_redactionDraftMode(Ot);}}else{this.aO.redactionViewMode=Yw;}return this;};PCCViewer.ViewerControl.prototype.getRedactionViewMode=function(){var alI;if(this.ab&&this.ab.get_redactionDraftMode){alI=this.ab.get_redactionDraftMode();if(alI===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.aO.redactionViewMode;}};PCCViewer.ViewerControl.prototype.convertToRedaction=function(searchResult){var eE=searchResult;if(this.eR===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}if(eE instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eE instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eE.OK!==this.aC.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var C=this;var la=eE.getStartIndexInPage();var ff=eE.getStartIndexInPage()+eE.getText().length;var kA=IPCC.BY();var ai=C.cd.getPage(eE.getPageNumber()-1);var bA=C.ab.gB(ai);var fi=ai.dq().eJ();var fJ=asd(bA,fi,la,ff,kA,eE.getPageNumber()-1);var H=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:fJ,pageNumber:eE.getPageNumber()});H.O=fJ;H.cP=[];this.cu[fJ.get_markID()]=H;var wo=C.hQ;C.hQ=function(sender,eventArgs){if(C.tn){C.Az.addMarks(H);}setTimeout(function(){C.trigger('MarkCreated',{mark:H,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bA.addMark(fJ);C.hQ=wo;C.ab.display(eE.getPageNumber()-1);return H;};var asd=function(bA,fi,la,ff,kA,aju){var fJ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);fJ.dF=kA;fJ.aQ=aju;var H=null;var kE={gM:Number.MAX_VALUE,gk:0,_top:Number.MAX_VALUE,jg:0};for(var ag=la;ag<ff;ag++){var fd=fi.lB(ag);if(H){var xM=H.get_rectangle();if(Math.abs(fd.bz.y-xM.y)<1&&Math.abs(fd.bz.height-xM.height)<1&&fd.bz.x+fd.bz.width>=xM.x+xM.width){H.set_rectangle(new IPCC.Web.UI.Rectangle(xM.x,xM.y,fd.bz.x+fd.bz.width-xM.x,xM.height));}else{abx(bA,fJ,H,kE);H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);H.set_rectangle(fd.bz);H.kn(true);H.set_fillColor('#000000');H.set_text(fJ.ar);H.set_lineWidth(0);H.dF=kA;}}else{H=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);H.set_rectangle(fd.bz);H.kn(true);H.set_fillColor('#000000');H.set_text(fJ.ar);H.set_lineWidth(0);H.dF=kA;}H.aQ=aju;}if(H!==null){abx(bA,fJ,H,kE);}fJ.set_rectangle(new IPCC.Web.UI.Rectangle(kE.gM,kE._top,kE.gk-kE.gM,kE.jg-kE._top));return fJ;};var abx=function(bA,fJ,H,kE){var F=H.get_rectangle();if(F.x<kE.gM){kE.gM=F.x;}if(F.y<kE._top){kE._top=F.y;}if(F.x+F.width>kE.gk){kE.gk=F.x+F.width;}if(F.y+F.height>kE.jg){kE.jg=F.y+F.height;}bA.addMark(H);fJ.cf.push(H);};PCCViewer.ViewerControl.prototype.convertToHighlight=function(searchResult){var eE=searchResult;if(this.eR===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(eE instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eE instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eE.OK!==this.aC.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var fJ;var afa;var bA;var bQ=eE;var la=bQ.getStartIndexInPage();var ff=bQ.getStartIndexInPage()+bQ.getText().length;var kA=IPCC.BY();var C=this;var H;bA=this.ab.gB(this.cd.getPage(bQ.getPageNumber()-1));fJ=akx(IPCC.Web.UI.MarkType.HighlightText,bQ,la,kA);H=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:fJ,pageNumber:bQ.getPageNumber()});for(la;la<ff;la++){afa=akx(IPCC.Web.UI.MarkType.Highlight,bQ,la,kA);bA.addMark(afa);}this.cu[fJ.get_markID()]=H;var wo=this.hQ;this.hQ=function(sender,eventArgs){if(C.tn){C.Az.addMarks(H);}setTimeout(function(){C.trigger('MarkCreated',{mark:H,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bA.addMark(fJ);C.hQ=wo;this.ab.display(bQ.getPageNumber()-1);H.fillColor=bQ.getHighlightColor();return H;};var akx=function(bE,bQ,aBz,kA){var H=new IPCC.Web.UI.Mark(bE);if(bE===IPCC.Web.UI.MarkType.HighlightText){H.dv=bQ.getText();}H.an=aBz;H.set_rectangle({x:0,y:0,width:0,height:0});H.dQ=bQ.getText().length;H.aDA=bQ.getStartIndexInPage()+bQ.getText().length;H.dz=127;H.cW=bQ.getHighlightColor();H.mT='y';H.dF=kA;return H;};PCCViewer.ViewerControl.prototype.acf=function(aQ,ha){var bQ={};for(var ag=0;ag<ha.length;ag++){bQ=ha[ag];this.ab.selectText(bQ.getPageNumber()-1,bQ.getStartIndexInPage(),bQ.getText().length,bQ.getHighlightColor());}this.ab.display(bQ.getPageNumber()-1);this.KY[bQ.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.YY=function(aQ,searchResult){var bQ={};if(this.dA===null||typeof this.dA.getResults!=='function'){return;}var ha=this.dA.getResults();this.ab.clearSelectedText(aQ-1);var Vq=this.SP[aQ];if(!Vq){return;}for(var ag=Vq.an;ag<Vq.cs+1;ag++){bQ=ha[ag];if(bQ.getPageNumber()===aQ){this.ab.selectText(bQ.getPageNumber()-1,bQ.getStartIndexInPage(),bQ.getText().length,bQ.getHighlightColor());if(searchResult===bQ.getId()){this.ab.selectText(bQ.getPageNumber()-1,bQ.getStartIndexInPage(),bQ.getText().length,bQ.getHighlightColor());}}}this.ab.display(bQ.getPageNumber()-1);this.KY[bQ.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eR){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.Ij= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.dA){throw "There is no current SearchRequest object available.";}var aej=this.dA.getResults();if(aej[searchResult.getId()].Ao!==searchResult.Ao){throw "The parameter searchResult is not current. There is a newer version of search result available.";}aej=null;this.Ij=searchResult.getId();if(scrollTo){var bH=searchResult.getBoundingRectangle();var jv=new IPCC.Web.UI.Rectangle(bH.x,bH.y,bH.width,bH.height);if(this.ab.scrollRegionIntoView(searchResult.getPageNumber()-1,jv)===false){this.kG=function(){C.ab.scrollRegionIntoView(searchResult.getPageNumber()-1,jv);};this.setPageNumber(searchResult.getPageNumber());}else{this.kG=null;}}}var axg=searchResult!==null?searchResult.getPageNumber(): -1;if(this.Bi&&this.Bi.getPageNumber()!==axg){this.YY(this.Bi.getPageNumber(),this.Ij);}if(searchResult){this.YY(searchResult.getPageNumber(),this.Ij);}this.Bi=searchResult;var C=this;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};PCCViewer.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eR){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};PCCViewer.ViewerControl.prototype.getSelectedSearchResult=function(){return this.Bi;};PCCViewer.ViewerControl.prototype.requestPageText=function(pageNumber){var aa;var by=PCCViewer.Deferred();var bW=by.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.DB.then(function(zv){var ai=C.cd.getPage(aa-1);if(ai.dq()&&ai.dq().zm()){if(ai.dq().nm()===true){var ar=ai.dq().Gh();by.resolve(ar);}else{by.resolve("");}}else{var KZ=function(az,cI){if(cI.containsText===true){var ar=ai.dq().Gh();by.resolve(ar);}else{by.resolve("");}ai.xj(KZ);ai.Fi(KJ);};var KJ=function(az,cI){if(cI.exception&&cI.exception.message){by.reject(new PCCViewer.Error("TextExtractionFailed",cI.exception.message));}else{by.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}ai.xj(KZ);ai.Fi(KJ);};ai.vp(KZ);ai.BQ(KJ);ai.Bd();}});}catch(e){by.reject(new PCCViewer.Error("Error",e));}return bW;};PCCViewer.ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.bB.oX(pageNumber,"pageNumber",1,this.getPageCount());var ai;return(this.ab&&this.cd&&(ai=this.cd.getPage(pageNumber-1))&&ai.dq()&&ai.dq().zm())===true;};PCCViewer.ViewerControl.prototype.documentHasText=function(){return this.aqC;};PCCViewer.ViewerControl.prototype.requestPageAttributes=function(pageNumber){var aa;var by=PCCViewer.Deferred();var bW=by.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.DB.then(function(zv){var ai=C.cd.getPage(aa-1);if(ai.nq()>0||ai.mV()>0){by.resolve({'width':ai.nq(),'height':ai.mV()});}else{var CP=function(bf,cY){by.resolve({'width':bf,'height':cY});};var Cl=function(errorMessage){by.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};zv.requestPageAttributes(ai,CP,Cl);}});}catch(e){by.reject(new PCCViewer.Error("Error",e));}return bW;};PCCViewer.ViewerControl.prototype.destroy=function(){if(!this.Io){if(this.ab&&typeof this.ab.dispose==="function"){this.ab.dispose();}this.cb="";this.fh=0;delete this.ab;this.aC=undefined;this.MA=0;this.cd=undefined;this.anl=false;if(this.hw){IPCC.aY.KS(this.hw);this.hw=this.bU=undefined;}this.qw=false;this.Bh=false;this.EP=false;this.ab=undefined;this.eR=false;this.Io=true;this.trigger=function ZA(){};this.jP=undefined;this.jP={};}};PCCViewer.ViewerControl.prototype.getMarkById=function(markId){var C=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(C.cu[markId]){return C.cu[markId];}else{return null;}};PCCViewer.ViewerControl.prototype.getMarksByType=function(markType){var XR=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}aee(markType);if(!this.ab){return XR;}var G=0;var cl=this.cd.get_length();var C=this;function auz(O){var H=C.cu[O.get_markID()];if(H&&H.getType().toLowerCase()===markType.toLowerCase()){XR.push(H);}};for(G=0;G<cl;G++){var bA=this.ab.gB(this.cd.getPage(G));if(bA){bA.forEachMark(auz);}}return XR;};PCCViewer.ViewerControl.prototype.getAllMarks=function(){var DE=[];if(!this.ab){return DE;}var cl=this.cd.get_length();var C=this;var G=0;var H;function Pu(O){var H=C.cu[O.get_markID()];if(typeof H!=='undefined'){DE.push(H);}};for(G=0;G<cl;G++){var bA=this.ab.gB(this.cd.getPage(G));if(bA){bA.forEachMark(Pu);}}return DE;};function aee(markType){var gs;switch(markType.toLowerCase()){case "lineannotation":gs=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":gs=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":gs=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":gs=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":gs=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":gs=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":gs=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":gs=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":gs=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":gs=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":gs=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":gs=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":gs=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":gs=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":gs=IPCC.Web.UI.MarkType.TextLine;break;case "textselectionredaction":gs=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":gs=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":gs=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":gs=IPCC.Web.UI.MarkType.Polyline;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return gs;};PCCViewer.ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eR===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aa;if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.cd.get_length()|| !isFinite(aa)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}return this.aib(aa,markType);};PCCViewer.ViewerControl.prototype.aib=function(aa,bE,aO){var C=this;aO=aO||{};var gs=aee(bE);var O=new IPCC.Web.UI.Mark(gs);O.aQ=aa-1;var St={type:bE,igMark:O,pageNumber:aa,uid:aO.uid,viewerControl:this};if(bE.toLowerCase()==="highlightannotation"||bE.toLowerCase()==="textselectionredaction"||bE.toLowerCase()==="texthyperlinkannotation"){St.cd=C.cd;St.ab=C.ab;}var H=new PCCViewer.Mark(St);if(C.ajb===true){C.ajb=false;}else{var wo=C.hQ;C.hQ=function(sender,eventArgs){C.hQ=wo;if(C.tn){C.Az.addMarks(H);}setTimeout(function(){C.trigger('MarkCreated',{mark:H,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bA=this.ab.gB(this.cd.getPage(aa-1));bA.addMark(O);C.cu[O.get_markID()]=H;C.oZ(H,aa-1);return H;};PCCViewer.ViewerControl.prototype.deleteMarks=function(marks){var C=this;var G=0;var H;if(!this.eR){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function IP(qq){var aQ=qq.getPageNumber()-1;var dF='';var ae='';var JM=aQ;var bA=C.ab.gB(C.cd.getPage(aQ));bA.removeMark(qq.O);if(C.cu[qq.getId()]){dF=qq.O.dF;ae=qq.getType();delete C.cu[qq.getId()];}var Tu=ae.toLowerCase();if((Tu==='highlightannotation'||Tu==='textselectionredaction'||Tu==='texthyperlinkannotation')&&(qq.cP&&qq.cP.length)){for(var G=0;G<qq.cP.length;G++){var mD=qq.cP[G];bA=C.ab.gB(C.cd.getPage(mD.aQ));bA.removeMark(mD);C.oZ(mD,mD.aQ);}}C.pd.forEach(function(hy){if(hy.hasMark(qq.getId())){hy.removeMarks(qq);}});};if(marks instanceof Array){for(G=0;G<marks.length;G++){H=marks[G];if(!(H instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(C.cu[H.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(G=0;G<marks.length;G++){IP(marks[G]);C.oZ(marks[G],marks[G].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(C.cu[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}IP(marks);C.oZ(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};PCCViewer.ViewerControl.prototype.deleteAllMarks=function(){var DE=this.getAllMarks();if(DE.length>0){return this.deleteMarks(DE);}return this;};PCCViewer.ViewerControl.prototype.hideMarks=function(marks){ano(this,marks,false,'hideMarks');return this;};PCCViewer.ViewerControl.prototype.showMarks=function(marks){ano(this,marks,true,'showMarks');return this;};function ano(cz,aK,Hh,axW){var G=0;var H;if(!cz.eR){throw new PCCViewer.Error("InvalidArgument","The method "+axW+" can not be used until 'ViewerReady' state is reached.");}if(aK instanceof Array){for(G=0;G<aK.length;G++){H=aK[G];if(!(H instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(cz.cu[H.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(G=0;G<aK.length;G++){aK[G].setVisible(Hh);}}else{if(aK instanceof PCCViewer.Mark){if(!(cz.cu[aK.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}aK.setVisible(Hh);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function Cu(aCv,mp){var og=false;var cn=mp.ab.get_displayedPages();for(var G=0;G<cn.get_length();G++){var ai=cn.getPage(G);if(ai.get_pageNumber()===aCv){og=true;break;}}return og;};PCCViewer.ViewerControl.prototype.moveMarkToFront=function(mark){var bA;var ib;if(!this.eR){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){ib=mark.getPageNumber();if(mark.getPageNumber()>0){bA=this.ab.gB(this.cd.getPage(ib-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.O){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bA){if(mark.O instanceof IPCC.Web.UI.Mark){mark.O.moveToFront();if(Cu(ib-1,this)===true){var mp=this;setTimeout(function(){mp.ab.cR(ib-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkToBack=function(mark){var bA;var ib;if(!this.eR){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}ib=mark.getPageNumber();if(ib>=1){bA=this.ab.gB(this.cd.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.O){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bA){if(mark.O instanceof IPCC.Web.UI.Mark){mark.O.moveToBack();if(Cu(ib-1,this)===true){var mp=this;setTimeout(function(){mp.ab.cR(ib-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkForward=function(mark){var bA,ib;if(!this.eR){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}ib=mark.getPageNumber();if(ib>=1){bA=this.ab.gB(this.cd.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.O){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bA){if(mark.O instanceof IPCC.Web.UI.Mark){mark.O.moveForward();if(Cu(ib-1,this)===true){var mp=this;setTimeout(function(){mp.ab.cR(ib-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkBackward=function(mark){var bA,ib;if(!this.eR){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}ib=mark.getPageNumber();if(ib>=1){bA=this.ab.gB(this.cd.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.O){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bA){if(mark.O instanceof IPCC.Web.UI.Mark){mark.O.moveBackward();if(Cu(ib-1,this)===true){var mp=this;setTimeout(function(){mp.ab.cR(ib-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.getSelectedMarks=function(){var aK=[];var abC=[];if(this.eR===false){return aK;}var cl=this.cd.get_length(),bA,eP;var C=this;function auV(QF){if(QF){var Sv=QF.get_type();if(Sv===IPCC.Web.UI.MarkType.HighlightText||Sv===IPCC.Web.UI.MarkType.TextSelectionRedaction||Sv===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var lu in C.cu){if(C.cu.hasOwnProperty(lu)){eP=C.cu[lu];if(QF.dF===eP.O.dF){for(var G=0;G<abC.length;G++){if(eP.O.dF===abC[G]){return;}}abC.push(eP.O.dF);break;}}}}else{eP=C.cu[QF.get_markID()];}if(eP&&eP instanceof PCCViewer.Mark){aK.push(eP);}else{return aK;}}};for(var G=0;G<cl;G++){bA=this.ab.gB(this.cd.getPage(G));if(bA){bA.get_selectedMarks().forEach(auV,{});}}return aK;};function alQ(aK,aoE,mp){var eP,G;function ZU(eQ){var og=false;var cn=mp.ab.get_displayedPages();for(var G=0;G<cn.get_length();G++){var ai=cn.getPage(G);if(ai.get_pageNumber()===eQ){og=true;break;}}return og;};if(!aK.length){return;}for(G=0;G<aK.length;G++){if(aK[G]instanceof PCCViewer.Mark){eP=mp.cu[parseInt(aK[G].getId(),10)];if(eP&&eP instanceof PCCViewer.Mark){if(eP.O&&eP.O instanceof IPCC.Web.UI.Mark){if(eP.getId()!==eP.O.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(G+1)+" is invalid";}}var qI=[];var vA=false;for(G=0;G<aK.length;G++){eP=mp.cu[parseInt(aK[G].getId(),10)];vA=false;if(eP){if(eP.getId()===eP.O.get_markID().toString()){eP.O.set_selected(aoE);if(Array.prototype.IndexOf){vA=(qI.IndexOf(eP.getPageNumber())>=0);}else{vA=(IPCC.Web.hA(qI,eP.getPageNumber())>=0);}}if(!vA){var cv=eP.getPageNumber();if(ZU(cv-1)){qI.push(cv);}}}}if(qI.length>0){setTimeout(function(){for(G=0;G<qI.length;G++){mp.ab.cR(qI[G]-1);}},1);}};PCCViewer.ViewerControl.prototype.selectMarks=function(marks){if(this.eR===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var aK=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){aK.push(marks);}}else{aK=marks;}if(aK.length===0){return this;}alQ(aK,true,this);return this;};PCCViewer.ViewerControl.prototype.deselectMarks=function(marks){if(this.eR===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var aK=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){aK.push(marks);}}else{aK=marks;}if(aK.length===0){return this;}alQ(aK,false,this);return this;};PCCViewer.ViewerControl.prototype.deselectAllMarks=function(){var qI=[];var aK=this.getSelectedMarks();var vA=false,G,eP;for(G=0;G<aK.length;G++){eP=this.cu[parseInt(aK[G].getId(),10)];vA=false;if(eP){if(eP.getId()===eP.O.get_markID().toString()){eP.O.set_selected(false);if(Array.prototype.IndexOf){vA=(qI.IndexOf(eP.getPageNumber())>=0);}else{vA=(IPCC.Web.hA(qI,eP.getPageNumber())>=0);}}if(!vA){var cv=eP.getPageNumber();if(Cu(cv-1,this)===true){qI.push(cv);}}}}if(qI.length>0){var mp=this;setTimeout(function(){for(G=0;G<qI.length;G++){mp.ab.cR(qI[G]-1);}},1);}return this;};PCCViewer.ViewerControl.prototype.copyMarks=function(marks){var cz=this,aic;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var aK=[];IPCC.aY.forEach(marks,function(H){if(H instanceof PCCViewer.Mark){if(cz.cu[H.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}aK.push(H);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var uJ=[];IPCC.aY.forEach(aK,function(H,bP){PCCViewer.fp[H.getType()]({mark:H},function(dP,dj){dj.uid=undefined;uJ[bP]=dj;});});this.tn=false;aic=cz.deserializeMarks(uJ);this.tn=true;return aic;};PCCViewer.ViewerControl.prototype.enterTextMarkEditingMode=function(H){var cz=this,ab=this.ab;var aai=function(anf){var Nx=false,cn=ab.get_displayedPages();for(var G=0;G<cn.get_length();G++){var ai=cn.getPage(G);if(ai.get_pageNumber()===anf){Nx=true;}ab.pP(ai.get_pageNumber());}return Nx;};if(typeof H==="undefined"||H===null){aai(-1);}else{if(this.eR===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(H instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var aep=this.cu[parseInt(H.getId(),10)];if(!(aep&&aep instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(H.O&&H.O instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(H.getId()!==H.O.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bE=H.getType();if(bE!==PCCViewer.Mark.Type.TextAnnotation&&bE!==PCCViewer.Mark.Type.TextRedaction&&bE!==PCCViewer.Mark.Type.TextInputSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', or 'TextInputSignature'.");}var Nx=aai(H.getPageNumber()-1);if(Nx){cz.ab.zA(H.getPageNumber()-1,H.O);}}return this;};PCCViewer.ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eR===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Jx= -1;var cZ;var bH;var aa=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){cZ=sortableObject.getStartPoint();}else{bH=(sortableObject.O)?sortableObject.O.get_boundingRectangle():sortableObject.getRectangle();cZ={x:bH.x,y:bH.y};}aa=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){cZ={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{cZ={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aa= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aa=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aa<1||aa>this.getPageCount()|| !isFinite(aa)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aa)){return-2;}var ai=this.cd.getPage(aa-1);var vI=ai.dq().ZS();var fi=ai.dq().eJ();function abd(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function agF(dI,en){var aD=Math.max(Math.min(en.x,dI.x+dI.width),dI.x);var dZ=Math.max(Math.min(en.y,dI.y+dI.height),dI.y);return(en.x-aD)*(en.x-aD)+(en.y-dZ)*(en.y-dZ);};var Eo;var MR=Number.MAX_VALUE;for(var G=0;G<vI.dY();G++){var jo=vI.arX(G);if(abd(jo.fr(),cZ)){for(var ag=jo.amJ();ag<jo.aeY();ag++){var ZB=fi.lB(ag);var uu=ZB.wq();if(abd(uu,cZ)){return ag;}Eo=agF(uu,cZ);if(Eo<MR){Jx=ag;MR=Eo;}}return Jx;}Eo=agF(jo.fr(),cZ);if(Eo<MR){if(jo.fr().y>cZ.y){Jx=jo.amJ()-1;}else{Jx=jo.aeY();}MR=Eo;}}return Jx;};PCCViewer.ViewerControl.prototype.getCurrentMouseTool=function(){return this.cN.getName();};PCCViewer.ViewerControl.prototype.setCurrentMouseTool=function(name){if(this.eR===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var BU=name.toLowerCase();var cN=PCCViewer.MouseTools.getMouseTool(BU);if(!cN){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var jt,jQ;switch(cN.getType()){case PCCViewer.MouseTool.Type.Magnifier:jt=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:jt=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:jt=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:jt=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:jt=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:jt=IPCC.Web.UI.MouseTool.CreateLineMark;jQ=avc(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:jt=IPCC.Web.UI.MouseTool.CreateRectangleMark;jQ=ahQ(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:jt=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;jQ=aua(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:jt=IPCC.Web.UI.MouseTool.CreateRectangleMark;jQ=avE(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:jt=IPCC.Web.UI.MouseTool.CreateEllipseMark;jQ=ahQ(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:jt=IPCC.Web.UI.MouseTool.CreateTextMark;jQ=awZ(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:jt=IPCC.Web.UI.MouseTool.CreateTextMark;jQ=ahC(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:jt=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;jQ=ahC(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:jt=IPCC.Web.UI.MouseTool.CreateStampMark;jQ=aww(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:jt=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;jQ=Tx(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:jt=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;jQ=Tx(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:jt=IPCC.Web.UI.MouseTool.CreateFreehandMark;jQ=atF(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:jt=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;jQ=Tx(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var amL=this.aO.resourcePath+'/placeSignatureCursor.cur';this.ab.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.ab.set_allowMarkEdits(false);this.ab.set_mouseCursor('url('+amL+'), pointer');this.cN=cN;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:jt=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;jQ=aaT(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:jt=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;jQ=aaT(cN.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:jt=IPCC.Web.UI.MouseTool.CreatePolylineMark;jQ=atu(cN.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}this.cN=cN;if(jQ){this.JZ=jQ.onCreating;this.hQ=jQ.onAdded;}else{this.JZ=undefined;this.hQ=undefined;}this.ab.set_mouseTool(jt);this.ab.set_allowMarkEdits((cN.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function UR(cz,Vf,lY){if(cz.Bh!==true){var amB=function(){cz.off('PageCountReady',amB);UR(cz,Vf,lY);};cz.on('PageCountReady',amB);return;}var ap=cz;var xT;var jZ={},vw={},ud=[];var ga=ap.fh;var kR;var aO;if(Vf){aO=Vf;}var abG=[];var Sf=ap.aC.get_pages();var arV=function(ai,done){var aDh=false;var km=ai;var aa=ai.get_pageNumber();var fl=km.get_pageWidth();var da=km.get_pageHeight();try{if(km){var gB=ap.ab.gB(km),FJ=0,FZ=0,fB="",aDE=false;var getArt=function getArt(){var ag,UH;var GK=gB.azx(aa,FJ,FZ,aO);if(GK.jZ){jZ[aa]=GK.jZ;}else{var awT=arQ(aa,kR,FZ,FJ);jZ[aa]=awT;}if(GK.ud){for(ag=0;ag<GK.ud.length;ag++){UH=GK.ud[ag];vw[UH.bF.imageStampId]=UH;}}done();};if(gB){if(!fl|| !da){if(gB.get_markCount()>0){ai.requestPageAttributes(function(bf,cY){FJ=bf;if(FJ){km.IO(FJ);}FZ=cY;if(FZ){km.Lh(FZ);}getArt();},function(Gf){done(Gf);});}else{getArt();}}else{FJ=fl;FZ=da;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Sf.forEach(function(ai,cT,kK){abG.push(function(done){arV(ai,done);});});var YK=function(aV,ai){var yW="";var G;if(!aV.gg){if(aV.toString()){return aV.toString();}else{return '<![CDATA[]]>';}}if((ga===1||ai===0||(ai>0&&aV.gg!=="documentAnnotations"&&aV.gg!=="pages"))&&aV.gg!=="highlights"){yW='<'+aV.gg;for(var BS in aV.bF){if(aV.bF.hasOwnProperty(BS)){var bF=aV.bF[BS].toString();bF=bF.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');yW=yW+' '+BS+'="'+bF+'"';}}yW+='>';}for(G=0;G<aV.cF.length;G++){yW+=YK(aV.cF[G],ai);}if(ga===1||(ai===ga-1)||(ai!==ga-1&&aV.gg!=="documentAnnotations"&&aV.gg!=="pages"&&aV.gg!=="highlights")){if(aV.gg!=="highlights"){yW+='</'+aV.gg+'>';}else{yW+='<'+aV.gg+' />';}}return yW;};IPCC.aY.Wq(abG,function(dP){if(dP){lY(dP);return;}xT='<?xml version="1.0"?>';for(var G=0;G<(ap.fh);G++){xT=xT+YK(jZ[G],G);}var stampImageXml='';for(var IM in vw){if(vw.hasOwnProperty(IM)){stampImageXml+=YK(vw[IM],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';xT=xT.replace('</documentAnnotations>',stampImagesXml);}lY(undefined,xT);});};PCCViewer.ViewerControl.prototype.saveMarkup=function(recordName,options){var by=PCCViewer.Deferred();var bW=by.getPromise();var aO;if(options){aO=options;}else{aO={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){by.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return bW;}if(!aoM(recordName)){by.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return bW;}var ap=this;this.DB.then(function(zv){var Gv=recordName;UR(ap,aO,function(err,xT){if(err){by.reject(new PCCViewer.Error("Error",err));return bW;}var NL=IPCC.fU.sL(Gv);var url;if(!(/^[\x00-\x7F]*$/.test(ap.aC.get_documentIdentifier()))){url=ap.aO.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ap.aO.documentID+'&AnnotationID=e'+NL;}else{url=ap.aO.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ap.aO.documentID)+'&AnnotationID=u'+encodeURIComponent(Gv);}var ca=new XMLHttpRequest();if(ca===null){by.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));return bW;}var saveHandler=function(){if(ca.readyState===4){if(ca.status===200){by.resolve(Gv);setTimeout(function(){ap.trigger('MarkupSaved',{name:Gv});},0);}else{by.reject(new PCCViewer.Error("AjaxError","Status Code "+ca.status+" "+ca.statusText));return bW;}}};ca.open("POST",url,true);ca.setRequestHeader("Content-Type","application/xml");ca.onreadystatechange=saveHandler;ca.send(xT);});});}catch(e){by.reject(new PCCViewer.Error("Error",e.message));}return bW;};var aoM=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Tj=function(lf){var aD=lf.firstChild;while(aD.nodeType!==1){aD=aD.nextSibling;}return aD;};var arQ=function(cv,kR,da,fl){var jZ={gg:'documentAnnotations',cF:[],bF:{}};var alb={gg:'pages',cF:[],bF:{}};jZ.cF.push(alb);var mo={gg:'highlights',cF:[],bF:{}};var ai={gg:'page',cF:[],bF:{id:(cv+1).toString(),pageWidth:fl,pageHeight:da}};jZ.cF.push(mo);try{if(kR){var aD=kR.getElementsByTagName("documentAnnotations");if(aD.length>1){throw 'ERROR: Invalid PCC annotations XML';}var RN;var BN;if(document.documentMode<9){var SF=kR.firstChild.nodeName;if(SF.toLowerCase()==='xml'){RN=kR.firstChild.nextSibling;}else{RN=kR.firstChild;}}else{RN=kR.firstChild;}var dG=Tj(RN);if(dG.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dG.hasChildNodes()){var G;var kZ=false;for(G=0;G<dG.childNodes.length;G++){BN=dG.childNodes[G];if(BN.nodeName!=='page'){continue;}var Aj=BN.getAttribute('id');kZ=false;if(Aj&&parseFloat(Aj)===cv+1){kZ=true;for(var ag=0;ag<BN.childNodes.length;ag++){var bI=BN.childNodes[ag];var bD={gg:'annotation',cF:[],bF:{}};if(bI.nodeName!=='annotation'){continue;}var QO=BN.childNodes[ag].attributes;if(QO.length>0){for(var cA=0;cA<QO.length;cA++){bD.bF[QO[cA].name]=QO[cA].value;}}if(bI.childNodes[0].data){bD.cF.push('<![CDATA['+bI.childNodes[0].data+']]>');}else{bD.cF.push('');}ai.cF.push(bD);}break;}}}}alb.cF.push(ai);return jZ;}catch(e){throw(e.message);}};PCCViewer.ViewerControl.prototype.loadMarkup=function(recordName,options){var JF=recordName;var by=PCCViewer.Deferred(),bW=by.getPromise(),ap=this;var aO=options||{};var vE=aO.retainExistingMarks;var iq=aO.markupLayer;var uf=aO.loadAsHidden;this.DB.then(function(zv){var url,ca,NL,ab=ap.ab,cd=ap.cd;if(typeof JF!=="string"){by.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(vE!==undefined){if(typeof vE!=='boolean'){by.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(iq!==undefined){if(!(iq instanceof PCCViewer.MarkupLayer)){by.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(ap.pd.getItem(iq.getId())===undefined){by.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}var loadResponseHandler=function(){if(ca.readyState===4){if(ca.status===200){var XS,Ph=ca.responseText,MG;if(Ph.indexOf('xml')=== -1){by.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Ph=Ph.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.aY.Gc(p2)+p3;});if(window.DOMParser){MG=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){MG=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{MG=function(){return null;};}XS=MG(Ph);var ago=XS.getElementsByTagName('stampImage');var ud={};var Yf=function(bP){H.aT.push(afT.getPoint(bP));};for(var G=0;G<ago.length;G++){var TU=ago[G];ud[TU.getAttribute('imageStampId')]={imageStampId:TU.getAttribute('imageStampId'),base64format:TU.getAttribute('base64format')};}ab.set_annotationXmlDom(XS,ud,vE===true,uf===true);if(vE!==true){ap.cu={};}var cl=ap.cd.get_length();var H;var bE,gs;var yI={};var Hg=[];for(G=0;G<cl;G++){var bA=ap.ab.gB(ap.cd.getPage(G));if(bA){var FX={};var ag=0;for(ag=0;ag<bA.get_markCount();ag++){var O=bA.getMark(ag);if(ap.cu[O.get_markID()]!==undefined){continue;}gs=O.get_type();switch(gs){case IPCC.Web.UI.MarkType.Rectangle:if(O.jz()===true){if(O.get_opacity()===255){bE=PCCViewer.Mark.Type.RectangleRedaction;}else{bE=PCCViewer.Mark.Type.TransparentRectangleRedaction;}H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});}else{bE=PCCViewer.Mark.Type.RectangleAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.qF=O.get_lineWidth();H.cW=O.get_fillColor();H.pW=O.get_lineColor();H.dz=O.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bE=PCCViewer.Mark.Type.EllipseAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.qF=O.get_lineWidth();H.cW=O.get_fillColor();H.pW=O.get_lineColor();H.dz=O.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bE=PCCViewer.Mark.Type.LineAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.sK=O.get_lineWidth();H.ey=O.get_lineColor();H.dz=O.get_opacity();if(O.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){H.lV="FilledTriangle";}else{H.lV="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(O.jz()===true){bE=PCCViewer.Mark.Type.StampRedaction;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});}else{bE=PCCViewer.Mark.Type.StampAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.ey=O.get_fillColor();}H.wI=O.get_text();break;case IPCC.Web.UI.MarkType.Text:if(O.jz()===true){bE=PCCViewer.Mark.Type.TextRedaction;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});}else{bE=PCCViewer.Mark.Type.TextAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.qF=O.get_lineWidth();H.cW=O.get_fillColor();H.pW=O.get_lineColor();H.dz=O.get_opacity();}H.fW=O.get_fontName();H.kq=O.get_textColor();H.di=O.get_fontSize();var fI=O.get_fontStyle();var Hs=[];if((fI&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){Hs.push("Bold");}if((fI&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){Hs.push("Italic");}if((fI&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){Hs.push("Strikeout");}if((fI&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){Hs.push("Underline");}H.fI=Hs;var uV;switch(O.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:uV="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:uV="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:uV="right";break;}H.xG=uV;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bE=(gs===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(gs===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var VH=O.dF;if(typeof yI[VH]==='undefined'){H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,cd:cd,ab:ab,uid:O.bF.ld});H.cP=[];if(bE===PCCViewer.Mark.Type.HighlightAnnotation){H.cW=O.get_fillColor();}yI[VH]=H;O.aQ=G;O.lm=true;}else{O.aQ=G;yI[VH].cP.push(O);}break;case IPCC.Web.UI.MarkType.Freehand:bE=PCCViewer.Mark.Type.FreehandAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.sK=O.get_lineWidth();H.ey=O.get_lineColor();H.dz=O.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bE=PCCViewer.Mark.Type.FreehandSignature;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.sK=O.get_lineWidth();H.ey=O.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bE=PCCViewer.Mark.Type.TextSignature;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.fW=O.get_fontName();H.ey=O.get_fillColor();H.ar=O.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bE=PCCViewer.Mark.Type.TextInputSignature;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.fW=O.get_fontName();H.kq=O.get_textColor();H.ar=O.get_text();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!O.dF){bE=PCCViewer.Mark.Type.RectangleRedaction;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,cd:cd,ab:ab,uid:O.bF.ld});H.qF=O.get_lineWidth();H.cW=O.get_fillColor();H.pW=O.get_lineColor();H.dz=O.get_opacity();}else{if(FX[O.dF]===undefined){FX[O.dF]=[];}FX[O.dF].push(O);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bE=(gs===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.setImage({dataUrl:O.get_image(),id:O.pB});break;case IPCC.Web.UI.MarkType.Polyline:bE=PCCViewer.Mark.Type.PolylineAnnotation;H=new PCCViewer.Mark({type:bE,igMark:O,pageNumber:G+1,uid:O.bF.ld});H.sK=O.get_lineWidth();H.ey=O.get_lineColor();H.dz=O.get_opacity();var afT=O.get_points();H.aT=[];for(var aN=0;aN<afT.get_length();aN++){Yf(aN);}break;default:H=undefined;continue;}if(typeof H!=='undefined'&&gs!==IPCC.Web.UI.MarkType.HighlightText&& !(gs===IPCC.Web.UI.MarkType.RectangleRedaction&&O.dF!==undefined)&&gs!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&gs!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){ap.cu[O.get_markID()]=H;Hg.push(H);}}for(var OG in FX){if(FX.hasOwnProperty(OG)&&yI[OG]){var FB=yI[OG];var ajJ=FB.O;if(FB.cP&&FB.cP.length>0){for(var Mo=0;Mo<FB.cP.length;Mo++){if(FB.cP[Mo].aQ===G){ajJ=FB.cP[Mo];}}}var cf=FX[OG];for(var Wd=0;Wd<cf.length;Wd++){ajJ.cf.push(cf[Wd]);}}}}}for(var pE in yI){if(yI.hasOwnProperty(pE)){var xV=yI[pE];ap.cu[xV.O.get_markID()]=xV;Hg.push(xV);if(xV.cP&&xV.cP.length>0){xV.cP[xV.cP.length-1].jM=true;}else{xV.O.jM=true;}}}by.resolve(JF);if(iq!==undefined){iq.addMarks(Hg);}else{ap.getActiveMarkupLayer().addMarks(Hg);}ap.trigger('MarkupLoaded',{name:JF,loadedMarks:Hg});}else{by.reject(new PCCViewer.Error("Error","Status Code "+ca.status+" "+ca.statusText));}}};NL=IPCC.fU.sL(JF);if(!(/^[\x00-\x7F]*$/.test(ap.aC.get_documentIdentifier()))){url=ap.aO.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ap.aO.documentID+'&AnnotationID=e'+NL;}else{url=ap.aO.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ap.aO.documentID)+'&AnnotationID=u'+encodeURIComponent(JF);}ca=new XMLHttpRequest();if(ca===null){by.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}ca.open("GET",url,true);ca.setRequestHeader("Content-Type","application/x-www-form-urlencoded");ca.onreadystatechange=loadResponseHandler;ca.send();});return bW;};PCCViewer.ViewerControl.prototype.getSavedMarkupNames=function(){var by=PCCViewer.Deferred();var bW=by.getPromise();try{var G=0,QY=0;var Gv='';var url=this.aO.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.aO.documentID)+'&AnnotationID=u'+encodeURIComponent(Gv);var ca;var ZI=function(){var uy;if(typeof ca.responseText!=='unknown'&&ca.responseText.length>0){try{uy=JSON.parse(ca.responseText);}catch(e){}var WP=[];if(ca.readyState===4){if(ca.status===200){for(G;G<uy.annotationFiles.length;G++){if(uy.annotationFiles[G].annotationLabel){WP[QY]={};WP[QY].name=uy.annotationFiles[G].annotationLabel;QY++;}}by.resolve(WP);}else{by.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));}}}};ca=new XMLHttpRequest();if(ca===null){by.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}ca.open("GET",url,true);ca.onreadystatechange=ZI;ca.send();}catch(e){by.reject(new PCCViewer.Error("Error",e.message));}return bW;};PCCViewer.ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.pd){this.pd=new PCCViewer.MarkupLayerCollection(this);}return this.pd;};PCCViewer.ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var by=PCCViewer.Deferred(),bW=by.getPromise(),cb,aBq=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aC.get_documentIdentifier()))){cb=this.aO.imageHandlerUrl+'/MarkupLayers/e'+this.aO.documentID+'/';}else{cb=this.aO.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.aO.documentID)+'/';}if(metadata){var ayx=aBq(metadata);cb+=ayx;}cb+='?nocache='+new Date().getTime();IPCC.aY.HZ({url:cb,method:'GET'}).then(function onResolve(lA){var aAc=JSON.parse(lA);by.resolve(aAc);},function onReject(Gf){by.reject(new PCCViewer.Error("Error",Gf.message));});return bW;};PCCViewer.ViewerControl.prototype.getActiveMarkupLayer=function(){return this.Az;};PCCViewer.ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.pd.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.Az=markupLayer;};PCCViewer.ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var YW,C=this;YW=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function LJ(){setTimeout(function(){YW.Kv();},20);};function AE(){C.off(PCCViewer.EventType.PageCountReady,AE);LJ();};if(this.qw===false){C.on(PCCViewer.EventType.PageCountReady,AE);}else{LJ();}return YW;};PCCViewer.ViewerControl.prototype.saveMarkupLayer=function(id){var by=PCCViewer.Deferred();var bW=by.getPromise();var C=this;if(typeof id!=='string'|| !id){by.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return bW;}var hy=this.pd?this.pd.getItem(id):undefined;if(!hy){by.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return bW;}function awV(pD){var Nt=hy.getMarks();if(!Nt.length){pD(undefined,[]);}else{C.serializeMarks(Nt).then(function iP(aK){pD(undefined,IPCC.aY.map(aK,function(H){if(H.conversation&&H.conversation.comments){delete H.conversation.comments;}return H;}));},function _f(fB){pD(fB);});}};function awd(pD){var Nt=hy.getMarks();var We=function(ej,hi,kx){var Vy=IPCC.aY.filter(hi,function(oE){return!oE.iq||oE.iq===hy;});IPCC.aY.forEach(Vy,function(cK){var ba=PCCViewer.fp.Comment(cK);ba.markUid=kx;ej.push(ba);});return ej;};var VZ=IPCC.aY.reduce(Nt,function(ej,H){var bX=H.getConversation();var hi=bX.getComments();return hi.length?We(ej,hi,H.getUid()):ej;},[]);pD(undefined,VZ);};function awh(pD){var asw=IPCC.aY.reduce(C.pd.getAll(),function(ej,ahu){return ej.concat(hy===ahu?[]:ahu.getMarks());},[]);var We=function(ej,hi,kx){var Vy=IPCC.aY.filter(hi,function(oE){return oE.iq===hy;});IPCC.aY.forEach(Vy,function(oE){var ba=PCCViewer.fp.Comment(oE);ba.markUid=kx;ej.push(ba);});return ej;};var VZ=IPCC.aY.reduce(asw,function(ej,H){var bX=H.getConversation();var hi=bX.getComments();return hi.length?We(ej,hi,H.getUid()):ej;},[]);pD(undefined,VZ);};var aft=[],aAd=function(pI){if(pI.markupLayer===hy){aft.push({text:pI.text,data:pI.data,creationDateTime:pI.creationDateTime,markUid:pI.markUid});}};for(var adD in this.pd.jA){if(this.pd.jA.hasOwnProperty(adD)){IPCC.aY.forEach(this.pd.jA[adD],aAd);}}var Ci={layerRecordId:hy.getRecordId(),name:hy.getName(),originalXmlName:hy.getOriginalXmlName(),comments:aft,data:PCCViewer.fp.Data(hy)};var yc;IPCC.aY.Wq([function(oK){awV(function(dP,dj){if(dP&& !yc){yc=dP;}else{Ci.marks=dj;}oK();});},function(oK){awd(function(dP,dj){if(dP&& !yc){yc=dP;}else{Ci.comments=Ci.comments.concat(dj);}oK();});},function(oK){awh(function(dP,dj){if(dP&& !yc){yc=dP;}else{Ci.comments=Ci.comments.concat(dj);}oK();});}],function(){if(!yc){awW(Ci);}else{by.reject(new PCCViewer.Error('SerializationError',yc.message));}});function awW(aEJ){var QU,Mf={method:'POST',body:JSON.stringify(Ci),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(C.aC.get_documentIdentifier()))){QU=C.aO.imageHandlerUrl+'/MarkupLayers/e'+C.aO.documentID+'/';}else{QU=C.aO.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(C.aO.documentID)+'/';}if(hy.getRecordId()){Mf.url=QU+hy.getRecordId();Mf.headers['X-HTTP-Method-Override']='PUT';}else{Mf.url=QU;}IPCC.aY.HZ(Mf).then(auI,aus);};function auI(sy){if(sy&&typeof sy==='string'){var MU;try{MU=JSON.parse(sy);}catch(e){}if(MU&&MU.layerRecordId){hy.Ut=MU.layerRecordId;}}by.resolve({layerRecordId:hy.getRecordId()});};function aus(fB){by.reject(new PCCViewer.Error('AjaxError',fB.message||'An unknown server error occured.'));};return bW;};PCCViewer.ViewerControl.prototype.burnMarkup=function(burnOptions){var FF={burnSignatures:true,burnRedactions:true};var afm;if(burnOptions){FF.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:true;FF.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:true;if(typeof burnOptions.filename==='string'){FF.filename=burnOptions.filename;}}var apc={includeAnnotations:false,includeRedactions:FF.burnRedactions,includeSignatures:FF.burnSignatures,JV:true};var Mv=new PCCViewer.BurnRequest(FF),C=this;function aky(){UR(C,apc,function(dP,afm){if(dP){setTimeout(function(){Mv.ape(dP);},20);}else{Mv.Vg({aC:C.aC,aO:C.aO});Mv.aoF(afm);setTimeout(function(){Mv.Kv();},20);}});};function AE(){C.off(PCCViewer.EventType.PageCountReady,AE);aky();};if(this.qw===false){C.on(PCCViewer.EventType.PageCountReady,AE);}else{aky();}return Mv;};PCCViewer.ViewerControl.prototype.convertDocument=function(aql){var Oa,C=this,Lf={targetExtension:'pdf',filename:'document'},aO={};PCCViewer.Bu.uE(aO,Lf,aql);Oa=new PCCViewer.ConversionRequest(aO);function LJ(){Oa.Vg({aC:C.aC,aO:C.aO});setTimeout(function(){Oa.Kv(aO);},20);};function AE(){C.off(PCCViewer.EventType.PageCountReady,AE);LJ();};if(this.qw===false){C.on(PCCViewer.EventType.PageCountReady,AE);}else{LJ();}return Oa;};function rW(){return function(sender,eventArgs){var C=this;var H=C.cu[eventArgs.mark.get_markID()];if(C.tn){C.Az.addMarks(H);}setTimeout(function(){if(H){C.trigger('MarkCreated',{mark:H,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function avc(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setThickness(aU.getThickness());H.setColor(aU.getColor());H.setOpacity(aU.getOpacity());H.setEndHeadType(aU.getEndHeadType());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function ahQ(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setBorderThickness(aU.getBorderThickness());H.setFillColor(aU.getFillColor());H.setBorderColor(aU.getBorderColor());H.setOpacity(aU.getOpacity());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function avE(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;},onAdded:rW()};};function aua(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setReason(aU.getReason());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function awZ(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setBorderThickness(aU.getBorderThickness());H.setFillColor(aU.getFillColor());H.setBorderColor(aU.getBorderColor());H.setOpacity(aU.getOpacity());H.setFontName(aU.getFontName());H.setFontColor(aU.getFontColor());H.setFontSize(aU.getFontSize());H.setFontStyle(aU.getFontStyle());H.setHorizontalAlignment(aU.getHorizontalAlignment());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function ahC(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setFontName(aU.getFontName());H.setFontColor(aU.getFontColor());H.setText(aU.getText());if(H.setFontSize){H.setFontSize(aU.getFontSize());}PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function aww(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;if(aU.getType()===PCCViewer.MouseTool.Type.StampAnnotation){H.setColor(aU.getColor());}H.setLabel(aU.getLabel());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};var aEw;function Tx(aU){return{onCreating:function(az,K){},onAdded:rW()};};function atF(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setThickness(aU.getThickness());H.setColor(aU.getColor());H.setOpacity(aU.getOpacity());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function aaT(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setImage(aU.getImage());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};function atu(aU){return{onCreating:function(az,K){var H=new PCCViewer.Mark({type:aU.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cu[K.mark.get_markID()]=H;H.setThickness(aU.getThickness());H.setColor(aU.getColor());H.setOpacity(aU.getOpacity());PCCViewer.Data.rm(aU,H);PCCViewer.Conversation.tf(aU.getConversation(),H.getConversation());},onAdded:rW()};};PCCViewer.ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var zD;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:zD=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:zD=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.ab&&this.ab.set_markHandleMode){this.ab.set_markHandleMode(zD);}else{this.aO.markHandleMode=zD;}return this;};PCCViewer.ViewerControl.prototype.getMarkHandleMode=function(){var zD;if(this.ab&&this.ab.get_markHandleMode){zD=this.ab.get_markHandleMode();}else{zD=this.aO.markHandleMode;}if(zD===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};PCCViewer.ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.nI=factoryFunction;return this;};PCCViewer.ViewerControl.prototype.getConversationDOMFactory=function(){return this.nI;};PCCViewer.ViewerControl.prototype.refreshConversations=function(conversations){var Yb,adG=(conversations===undefined);function aha(bX,cT){throw new Error(bX+((cT!==undefined)?' (Array index '+cT+')':'')+' is not a valid PCCViewer.Conversation object.');};function avM(bX,cT){throw new Error(bX+((cT!==undefined)?' (Array index '+cT+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Yb=[conversations];}else if(conversations instanceof Array){Yb=conversations;}else if(!adG){aha(conversations);}var ahB=IPCC.aY.map(this.getAllMarks(),function(ak){return ak.getConversation();});var WL=IPCC.aY.map(Yb||ahB,function(ak,G){if(!(ak instanceof PCCViewer.Conversation)){aha(ak,G);}if(!adG&& !IPCC.aY.inArray(ahB,ak)){avM(ak,G);}return ak.getMark().cV;});this.ab.refreshConversations(WL);return this;};PCCViewer.ViewerControl.prototype.openCommentsPanel=function(){if(this.eR===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.ab.openCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};PCCViewer.ViewerControl.prototype.closeCommentsPanel=function(){if(this.eR===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.ab.closeCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};PCCViewer.ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eR===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.ab.get_isCommentsPanelOpen();};PCCViewer.ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eR===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.ab.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var mD=conversation.getMark();if(mD){var xy=mD.O.get_conversation();this.ab.set_selectedConversation(xy);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};PCCViewer.ViewerControl.prototype.getSelectedConversation=function(){if(this.eR===false){return null;}var jB=this.ab.get_selectedConversation();if(jB){var mD=this.cu[jB.get_mark().get_markID()];if(mD){return mD.getConversation();}}return null;};PCCViewer.ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var C=this,aag=C.dA;function afC(aQ,la,cl){var VP=[aQ+1];var ai=C.cd.getPage(aQ),ip=ai.dq();if(ip.nm()){var ar=ip.Gh(),agj=ar.substr(la);if(agj.length>cl){return VP;}else{return VP.concat(afC(aQ+1,0,cl-agj.length));}}else{return VP;}};this.ab.yf();if(aag&&aag.getResults().length){var dG=afC(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),ha=aag.getResults(),adX=false,Ok={};if(ha.length){IPCC.aY.forEach(ha,function(ak){var are=IPCC.aY.contains(dG,ak.aa);if(are){adX=true;Ok[ak.aa]=Ok[ak.aa]||[];Ok[ak.aa].push(ak);}});}if(adX){IPCC.aY.forEach(Ok,function(azX,aa){C.acf(aa,azX);});}}return this;};PCCViewer.ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eR===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var wy=function(n){return typeof n==='number'&& !isNaN(n);};var ya,adU=true;if(points&&points.constructor===Array){ya=points;}else{ya=[points];adU=false;}var afI=function(aX,cT,dm){throw new PCCViewer.Error('InvalidArgument',aX+' (Array index '+cT+') does not have a valid '+dm+' property');};if(ya.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.aY.forEach(ya,function(aX,cT){if(!wy(aX.x)){afI(aX,cT,'x');}if(!wy(aX.y)){afI(aX,cT,'y');}});var Eg=this.ab.aBA(pageNumber,ya);if(Eg===null){return null;}else if(adU){return Eg;}else{return Eg[0];}};if(Object.defineProperties){Object.defineProperties(PCCViewer.ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.dA;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}PCCViewer.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};PCCViewer.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};PCCViewer.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};PCCViewer.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click"};PCCViewer.RedactionViewMode={Draft:"Draft",Normal:"Normal"};PCCViewer.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};PCCViewer.MarkHandleMode={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};}());PCCViewer.Bu={};PCCViewer.Bu.uE=function(target){"use strict";var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};(function(PCCViewer,undefined){"use strict";var printAlgorithm={standard:1,contentWindowContents:2};var YL=function YL(ba,aF,h){if(ba.addEventListener){ba.addEventListener(aF,h,false);}else if(ba.attachEvent){ba.attachEvent('on'+aF,h);}};var Uy=function Uy(ba,aF,h){if(ba.removeEventListener){ba.removeEventListener(aF,h,false);}else if(ba.detachEvent){ba.detachEvent('on'+aF,h);}};function auJ(dS){var OH={};dS=dS.split('&');for(var i=dS.length;i--;){var q=dS[i].split('=');OH[q.shift()]=q.join('=');}return OH;};function auo(){var Qt=document.getElementById('pccPrintFrame');if(Qt){Qt.contentWindow['destroy']();Qt.parentElement.removeChild(Qt);}};function auR(aO,vM,adv,alM,lY){auo();if(!aO.algorithm){aO.algorithm=printAlgorithm.standard;}var ci;var gv=document.createElement('iframe');gv.id='pccPrintFrame';gv.className='pccPrintFrame';gv.style.position='absolute';gv.style.bottom=gv.style.right='0px';gv.style.width=gv.style.height='1px';gv.style.zIndex='0';gv.style.border='none';if(aO.algorithm!==printAlgorithm.contentWindowContents){gv.style.visibility='0';}function Ng(){Uy(window,'message',agS);};function abJ(){Uy(gv,'load',abJ);if(gv.contentDocument){ci=gv.contentDocument;}else if(gv.contentWindow){ci=gv.contentWindow.document;}else{ci=gv.document;}if(aO.algorithm===printAlgorithm.contentWindowContents){gv.contentWindow.contents=aO.template;gv.src='javascript:window["contents"]';}else{ci.open();ci.write(aO.template);ci.close();}lY();};var agS=function(message){if(message.data.match(/loadArt/)){var ajn=JSON.parse(message.data);var bA=adv(ajn.pageIndex);gv.contentWindow[ajn.callbackName](bA);}else if(message.data==='extra'){var Hl=alM(aO);gv.contentWindow['extra'](aO.encryption,Hl);}else if(message.data==='done'){if(aO.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gv.contentWindow.focus();gv.contentWindow.document.execCommand('print',false,null);window.focus();Ng();vM.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}else{setTimeout(function(){gv.contentWindow.focus();gv.contentWindow.print();window.focus();Ng();vM.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}}else if(message.data==='fail'){Ng();vM.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var tK=auJ(message.data);tK.index= +tK.index;tK.pageNumber= +tK.pageNumber;tK.totalPages= +tK.totalPages;vM.aas= +tK.index+1;vM.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,tK);}};YL(window,'message',agS);YL(gv,'load',abJ);document.body.appendChild(gv);return Ng;};function aur(cz){return function adv(aQ){return cz.ab.gB(cz.cd.getPage(aQ));};};function atn(cz){return function alM(options){var aK,H,wW=[],Bk=[],Fc={},Mu={},zH={},fB={},Gq='',agX,bX,bP,Ji,bH,LA,aa,akp={},FV={},G=0,cA=0,ag=0,amR=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){aK=cz.getAllMarks();for(G=0;G<options.pages.length;G++){akp[options.pages[G]]=true;}for(cA=0;cA<aK.length;cA++){H=aK[cA];aa=H.aa;if(options.includeReasons!=='none'&&H.getReason){Gq=H.getReason();if(Gq){if(!zH[aa]){fB[Gq]=1;zH[aa]=fB;fB={};}else{if(zH[aa][Gq]){zH[aa][Gq]+=1;}else{zH[aa][Gq]=1;}}}}if(H.nJ||H.ae.search("Redaction")!== -1){if(FV[aa]){FV[aa]+=1;}else{FV[aa]=1;}}if(options.range.length&&akp[aa]!==true|| !options.includeRedactions&&H.nJ|| !options.includeAnnotations&& !H.nJ){continue;}bX=H.getConversation();if(bX&&bX.getComments().length){if(!Ji){Ji=aa;}else if(aa!==Ji){wW.sort(amR);for(ag=0;ag<wW.length;ag++){Bk=Bk.concat(Fc[wW[ag]]);}Mu[Ji]=Bk;Ji=aa;wW=[];Fc={};Bk=[];}bP=cz.getCharacterIndex(H);agX=aa;bH=H.O.get_boundingRectangle();LA=(bP>0)?bP*10000+bH.y:bH.y;wW.push(LA);if(!Fc[LA]){Fc[LA]=[bX];}else{Fc[LA].push(bX);}}}if(wW.length){wW.sort(function(a,b){return a-b;});for(G=0;G<wW.length;G++){Bk=Bk.concat(Fc[wW[G]]);}Mu[agX]=Bk;}}return{Mu:Mu,zH:zH,FV:FV};};};PCCViewer.ViewerControl.prototype.print=function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dG=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var qV=this.aO.imageHandlerUrl;var anA=this.aO.documentID;var aoc=this.axw;options.vsID=anA;options.handler=qV;options.pages=dG;var isOldIE= ! !navigator.appName.match('Microsoft');var isEdge= ! !navigator.userAgent.match('Edge');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aoc.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode);options.encryption= ! !this.aO.encryption;if(isOldIE||isEdge){options.algorithm=printAlgorithm.contentWindowContents;}var abk;function aP(){if(! !abk){abk();}};var vM=new PCCViewer.PrintRequest(options,dG.length,aP,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vM});abk=auR(options,vM,aur(this),atn(this),function(){});return vM;};PCCViewer.ViewerControl.prototype.validatePrintRange=function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};PCCViewer.ViewerControl.prototype.canPrintMarks=function canPrintMarks(){return(document.documentMode!==8);};PCCViewer.PrintRequest=function(options,totalPages,cancelFunc,that){this.aO=options;this.aP=cancelFunc;this.aas=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PCCViewer.PrintRequest.prototype.cancel=function(){this.aP();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PCCViewer.PrintRequest.prototype.getOptions=function(){return{range:this.aO.pages.toString(),orientation:this.aO.orientation,paperSize:this.aO.paperSize,includeMarks:this.aO.includeMarks,includeAnnotations:this.aO.includeAnnotations,includeRedactions:this.aO.includeRedactions,margins:this.aO.margins};};PCCViewer.PrintRequest.prototype.getPageCount=function(){return this.aO.pages.length;};PCCViewer.PrintRequest.prototype.getPreparedCount=function(){return this.aas;};if(Object.defineProperties){Object.defineProperties(PCCViewer.PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}PCCViewer.PrintControl=function(domElement,options){var abH=[];options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function Ba(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function aty(aa,Lp){var gq=[];gq.push("pageNumber="+(1+aa));gq.push("index="+Lp);gq.push("totalPages="+options.pages.length);return gq.join('&');};function km(aa,Lp,next){var bg={documentIdentifier:options.vsID,pageNumber:aa,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var hL=document.createElement('div');hL.className=options.paperSize+" ";hL.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';hL.id='printpage'+aa;if(options.margins==='none'){hL.className+=' nomargins';}domElement.appendChild(hL);var pv=IPCC.initializePageViewPlugin(hL,bg);pv.set_debug(false);abH.push(pv);var ym=false;function Mp(){Ba(aty(aa,Lp));next();};pv.add_pageOpened(function(){var bJ=pv.nq(),ao=pv.mV();var zp=(options.orientation==='portrait'&&bJ>ao)||(options.orientation==='landscape'&&ao>bJ);if(zp){pv.zp(90);}});pv.add_pageDisplayed(function(){if(!ym){Mp();}});pv.add_textPageReady(function(){if(ym){pv.cR();Mp();}});pv.add_pageOpenFailed(function(){Ba('fail');});pv.add_textExtractionFailed(function(){if(ym){Ba('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qn(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qn(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var alz='loadArt'+aa;var tK={pageIndex:aa,callbackName:alz};window[alz]=function(bA){var nV,QS,G,bX={},Rd={},Cn='',pe,Jv,fB,Gt='';var LK=[];bA.CU(function(H){if(H.get_type()===IPCC.Web.UI.MarkType.HighlightText){ym=true;}if(options.includeRedactions&&H.jz()){LK.push(H);}if(options.includeAnnotations&& !H.jz()){LK.push(H);}});var abP=new IPCC.Web.UI.ArtPage();IPCC.aY.forEach(LK,function(H){H.lw(undefined);abP.addMark(H);});bg.artPage=abP;Rd=options.pagedConversations[aa+1];if(options.pagedConversations&&Rd&&options.includeComments==='followingPage'){nV=document.createElement('div');nV.className+='commentPage';nV.id='printcommentpage'+aa;if(options.margins==='none'){nV.className+=' nomargins';}QS='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(G=0;G<Rd.length;G++){bX=Rd[G];Cn+=alK(bX,aa+1);}nV.innerHTML=QS.replace('{{pageNumber}}',aa+1).replace('{{conversationList}}',Cn);domElement.appendChild(nV);}Jv=options.pagedReasons[aa+1];if(options.pagedReasons&&Jv&&options.includeReasons==='followingPage'){pe=document.createElement('div');pe.className+='reasonPage';pe.id='printreasonpage'+aa;if(options.margins==='none'){pe.className+=' nomargins';}QS='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fB in Jv){if(Jv.hasOwnProperty(fB)){Gt+=als(fB,Jv[fB]);}}pe.innerHTML=QS.replace('{{pageNumber}}',aa+1).replace('{{reasonList}}',Gt).replace('{{date}}',aaI()).replace('{{count}}',options.pagedRedactionCount[aa+1]);domElement.appendChild(pe);}pv.openPage(bg);IPCC.aY.forEach(LK,function(H){H.lw(bA);});};Ba(JSON.stringify(tK));}else{pv.openPage(bg);}};function alK(bX,aa){var acW='',jK='',H=bX.getMark(),hi,cK,G;switch(H.O.lk()){case IPCC.Web.UI.MarkType.Rectangle:jK=(H.O.jz())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:jK='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jK='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:jK=(H.lV==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:jK='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:jK='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:jK='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:jK='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:jK='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:jK='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:jK='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:jK='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:jK='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:jK='Text Input Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:jK='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:jK='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:jK='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:jK='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:jK='Text Hyperlink Annotation';break;default:break;}hi=bX.getComments();for(G=0;G<hi.length;G++){cK=hi[G];acW+='<li>'+auW({text:cK.getText(),createDate:cK.nX.XP,pageNumber:aa+1})+'</li>';}return '<h3>'+jK+'</h3><ul>'+acW+'</ul>';};function auW(cK){var gy=new Date(cK.createDate),SS='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',gy.getMonth()+1).replace('{{day}}',gy.getDate()).replace('{{year}}',gy.getFullYear()).replace('{{hour}}',(gy.getHours()<10?'0':'')+gy.getHours()).replace('{{minutes}}',(gy.getMinutes()<10?'0':'')+gy.getMinutes()).replace('{{period}}',gy.getHours()<12?'am':'pm');var ar=cK.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',ar).replace('{{date}}',SS);};function aaI(){var gy=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',gy.getMonth()+1).replace('{{day}}',gy.getDate()).replace('{{year}}',gy.getFullYear());};function als(fB,nh){fB=fB.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var aoN=(nh>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fB).replace('{{count}}',nh).replace('{{times}}',aoN);};function atD(){window.onerror=function(ev){Ba('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function auk(aa,Lp){return function(next){km(aa,Lp,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var ai= +options.pages[i]-1;funcs.push(auk(ai,i));}sync(funcs,function(){var nV,Np='',ai,DA='',Cn='',bX,H,ada='<h1>Comments</h1><hr>{{pageSections}}',pe,Gt='',aAH='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(ai in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(ai)){if(!nV){nV=document.createElement('div');nV.className+=' commentPage';nV.id='printpage_comments';if(options.margins==='none'){nV.className+=' nomargins';}}Np='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Cn='';for(var G=0;G<options.pagedConversations[ai].length;G++){bX=options.pagedConversations[ai][G];H=bX.getMark();Cn+=alK(bX,H.pageNumber);}DA+=Np.replace('{{pageNumber}}',H.pageNumber).replace('{{conversationList}}',Cn);if(Cn.length){nV.innerHTML=ada.replace('{{pageSections}}',DA);domElement.appendChild(nV);}}}}if(options.includeReasons==='documentEnd'){DA='';ada='';Np='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(ai in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(ai)){if(!pe){pe=document.createElement('div');pe.className+='reasonPage';pe.id='printpage_reason';if(options.margins==='none'){pe.className+=' nomargins';}}Gt='';for(var fB in options.pagedReasons[ai]){if(options.pagedReasons[ai].hasOwnProperty(fB)){Gt+=als(fB,options.pagedReasons[ai][fB]);}}DA+=Np.replace('{{pageNumber}}',ai).replace('{{reasonList}}',Gt).replace('{{date}}',aaI()).replace('{{count}}',options.pagedRedactionCount[ai]);}}if(DA.length){pe.innerHTML=aAH.replace('{{pageSections}}',DA);domElement.appendChild(pe);}}Ba('done');});};function auX(){window['extra']=function(bool,Hl){options.encryption= ! !bool;options.pagedConversations=Hl.Mu;options.pagedReasons=Hl.zH;options.pagedRedactionCount=Hl.FV;atD();window['extra']=function(){};};Ba('extra');};function auq(){var bA;IPCC.aY.forEach(abH,function(aj){bA=aj.get_artPage();if(bA){bA.removeAllMarks();}aj.dispose();bA=undefined;});};window['destroy']=auq;auX();};}(PCCViewer));(function(PCCViewer){function aca(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function SU(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new SU(this.x,this.y);};};function Zp(ak){return(ak&&ak.nodeType===1);};function Nh(gG,JR){var ZW=(JR&&IPCC.aY.DC)?'m':'M';var ZG=(JR&&IPCC.aY.DC)?'l':'L';return IPCC.aY.map(gG,function(el,i){if(i===0){return ZW+el.x+','+el.y;}else{return ZG+el.x+','+el.y;}}).join('');};function amP(du,oG,ff){return function(bv){if(IPCC.aY.Es&&bv.type.match('mouse')){bv.preventDefault();bv.stopPropagation();return false;}if(bv.preventDefault){bv.preventDefault();}else{bv.returnValue=false;}var x,y;if(bv.changedTouches){var jl=bv.changedTouches[0];if(bv.type==='touchstart'){oG=bv.target.getBoundingClientRect();}else if(bv.type==='touchend'){ff&&ff();return;}x=jl.clientX-oG.left;y=jl.clientY-oG.top;}else{x=bv.clientX-oG.left;y=bv.clientY-oG.top;}var aX=new SU(x,y);du.gG.push(aX);var sa=Nh(du.gG);if(IPCC.aY.DC){du.dr.path=sa.toLowerCase();}else{du.dr.setAttribute('d',sa);}ff&&ff();};};function auv(points){var Au=3,cr='',tC;var rU=(points.length<Au)?points:IPCC.aY.filter(points,function(el){if(tC&&tC.close(el)){return false;}else{tC=el;return true;}});if(rU.length<Au){rU=[points[0],points[points.length-1]];}tC=undefined;if(rU.length<Au){cr+=Nh(rU);}else{cr='M'+IPCC.aY.bspline(rU);cr=cr.replace(/\d*\.?\d*/g,function(dm){var Jm=dm.indexOf('.');if(dm.length&&Jm>0){return dm.substr(0,Jm+3);}else if(dm!==""){return dm;}else{return dm;}});}return cr;};function SignatureControl(dom){var C=this;if(typeof dom==='string'){this.bV=document.querySelector(dom);if(!(Zp(this.bV))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Zp(dom)){this.bV=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.GM=[];this.oG=new aca(this.bV.getBoundingClientRect());this.eC=IPCC.aY.ys.SVG([0,0,this.oG.width,this.oG.height].join(' '));this.bV.appendChild(this.eC);function Ee(ev){var dr=IPCC.aY.ys.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});C.eC.appendChild(dr);var du={gG:[],dr:dr,ff:function(){C.GM.push(du.gG);IPCC.aY.removeEvent(C.bV,'mousemove',By);IPCC.aY.removeEvent(C.bV,'mouseup',Cy);if(IPCC.aY.Es){IPCC.aY.removeEvent(C.bV,IPCC.aY.qd['move'],By);IPCC.aY.removeEvent(C.bV,IPCC.aY.qd['up'],Cy);}if(IPCC.aY.Hw){IPCC.aY.removeEvent(C.bV,'touchmove',By);IPCC.aY.removeEvent(C.bV,'touchend',Cy);}}};var By=amP(du,C.oG);var Cy=amP(du,C.oG,du.ff);By(ev);IPCC.aY.addEvent(C.bV,'mousemove',By);IPCC.aY.addEvent(C.bV,'mouseup',Cy);if(IPCC.aY.Es){IPCC.aY.addEvent(C.bV,IPCC.aY.qd['move'],By);IPCC.aY.addEvent(C.bV,IPCC.aY.qd['up'],Cy);}if(IPCC.aY.Hw){IPCC.aY.addEvent(C.bV,'touchmove',By);IPCC.aY.addEvent(C.bV,'touchend',Cy);}};IPCC.aY.addEvent(C.bV,'mousedown',Ee);if(IPCC.aY.Es){this.bV.style['-ms-touch-action']='none';this.bV.style['touch-action']='none';IPCC.aY.addEvent(C.bV,IPCC.aY.qd['down'],Ee);}if(IPCC.aY.Hw){IPCC.aY.addEvent(C.bV,'touchstart',Ee);}this.UE=function(){C.oG=new aca(C.bV.getBoundingClientRect());C.eC.setAttribute('viewBox',[0,0,C.oG.width,C.oG.height].join(' '));};IPCC.aY.addEvent(window,'resize',this.UE);this.aeg=function(){IPCC.aY.removeEvent(window,'resize',C.UE);IPCC.aY.removeEvent(C.bV,'mousedown',Ee);if(IPCC.aY.Es){IPCC.aY.removeEvent(C.bV,IPCC.aY.qd['down'],Ee);}if(IPCC.aY.Hw){IPCC.aY.removeEvent(C.bV,'touchstart',Ee);}while(C.bV.firstChild){C.bV.removeChild(C.bV.firstChild);}};};SignatureControl.prototype.done=function(){var mG,mv,pa,ps,sa='M0,0',aba=this;IPCC.aY.forEach(aba.GM,function(pE){IPCC.aY.forEach(pE,function(p){if(mG===undefined||mG>p.x){mG=p.x;}if(mv===undefined||mv>p.y){mv=p.y;}if(pa===undefined||pa<p.x){pa=p.x;}if(ps===undefined||ps<p.y){ps=p.y;}});});IPCC.aY.forEach(aba.GM,function(pE){var aBn=IPCC.aY.map(pE,function(p){return new SU(p.x-mG,p.y-mv);});sa+=auv(aBn);});this.aeg();return{type:'path',path:sa,width:(pa-mG)||0,height:(ps-mv)||0};};SignatureControl.prototype.resize=function(){this.UE();return this;};SignatureControl.prototype.clear=function(){var svg=this.eC;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.GM=[];return this;};SignatureControl.prototype.undo=function(){if(this.eC.lastChild){this.eC.removeChild(this.eC.lastChild);}this.GM.pop();return this;};SignatureControl.prototype.cancel=function(){this.aeg();return this;};PCCViewer.SignatureControl=function(dom){return new SignatureControl(dom);};PCCViewer.Signatures=new PCCViewer.ObservableCollection();PCCViewer.SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var rQ=IPCC.aY.VI(signature.path);var eC=IPCC.aY.ys.SVG([0,0,rQ.width,rQ.height].join(' '));var dr=IPCC.aY.ys.Path(signature.path,{width:rQ.width,height:rQ.height,color:'black',thickness:4});if(IPCC.aY.DC){var aBS=(rQ.height/rQ.width)*100;eC.style.width=dr.style.width='100%';eC.style.height=dr.style.height='0px';eC.style.paddingBottom=dr.style.paddingBottom=aBS+'%';}else{eC.style.width='100%';eC.style.maxHeight='100%';eC.setAttribute('preserveAspectRatio','xMinYMin meet');}eC.appendChild(dr);domElement.appendChild(eC);return{width:rQ.width,height:rQ.height,clear:function(){domElement.removeChild(eC);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var hL=document.createElement('div');var tN=document.createTextNode(signature.text);var kk=(typeof signature.fontName==='string')?signature.fontName:'serif';hL.appendChild(tN);hL.style.textAlign='center';hL.style.fontFamily='"'+kk+'", cursive';hL.style.fontSize='2.5em';hL.style.overflow='hidden';domElement.appendChild(hL);var rQ=IPCC.aY.uT(signature.text,kk);return{width:rQ.width,height:rQ.height,clear:function(){domElement.removeChild(hL);}};};if(!Zp(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aDl(){return conversation;};if(typeof comment==='string'){this.nX=new IPCC.Web.UI.Comment(comment);}else{this.nX=comment;}this.nX.JL=this;this.dj=this.nX.get_data();PCCViewer.Data.extend(this);this.FO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Comment.prototype.getMarkupLayer=function aEt(){return this.iq;};PCCViewer.Comment.prototype.getText=function aEC(){return this.nX.get_text();};PCCViewer.Comment.prototype.setText=function aDC(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.nX.set_text(text);return this;};PCCViewer.Comment.prototype.getCreationTime=function aDG(){var arm=IPCC.aY.IJ(this.nX.get_creationTime());return new Date(arm);};PCCViewer.Comment.prototype.setCreationTime=function aDy(time){function agd(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var ajh=IPCC.aY.IJ(time);if(ajh instanceof Error){agd();}time=new Date(ajh);}if(!(time instanceof Date)){agd();}this.nX.set_creationTime(IPCC.aY.xD(time));return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}PCCViewer.Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Pu(){return mark;};this.kK=new PCCViewer.ObservableCollection();if(typeof mark.O!=="undefined"){this.xy=mark.O.get_conversation();this.xy.forEach(function(nX){var cK=new PCCViewer.Comment(nX,this);this.kK.add(cK);},this);}else{this.xy=new IPCC.Web.UI.Conversation();}this.dj=this.xy.get_data();PCCViewer.Data.extend(this);this.FO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Conversation.prototype.addComment=function Lb(commentText){var cK=new PCCViewer.Comment(commentText,this);this.kK.add(cK);this.xy.addComment(cK.nX);return cK;};PCCViewer.Conversation.prototype.deleteComments=function(comments){var C=this;var afc=this.kK.toArray();var ahY=function(cK){for(var i=0,length=afc.length;i<length;i++){if(afc[i]===cK){return true;}}return false;};function agi(cK,cT){throw new Error(cK+((cT!==undefined)?' (Array index '+cT+')':'')+' is not a PCCViewer.Comment object.');};function ahl(cK,cT){throw new Error(((cT!==undefined)?' (Array index '+cT+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!ahY(comments)){ahl(comments);}C.kK.remove(comments);C.xy.removeCommentInstance(comments.nX);}else if(comments instanceof Array){IPCC.aY.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){agi(el,idx);}if(!ahY(el)){ahl(el,idx);}});IPCC.aY.forEach(comments,function(el){C.kK.remove(el);C.xy.removeCommentInstance(el.nX);});}else{agi(comments);}return this;};PCCViewer.Conversation.prototype.getComments=function(){return this.kK.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};PCCViewer.Conversation.tf=function(fP,oW){if(typeof fP.getComments!=="function"||typeof oW.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.rm(fP,oW);var hi=fP.getComments(),i,length=hi.length;for(i=0;i<length;i++){var akQ=hi[i];var apS=oW.addComment(akQ.getText());PCCViewer.Data.rm(akQ,apS);}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ImageStamps=function(Options){this.aO=PCCViewer.Bu.uE({},Options);};PCCViewer.ImageStamps.prototype.requestImageStampList=function(){var by=PCCViewer.Deferred();var bW=by.getPromise();try{var cb=this.aO.imageHandlerUrl+'/ImageStampList';var ca;var ZI=function(){var uy;if(typeof ca.responseText!=='unknown'&&ca.responseText.length>0){try{uy=JSON.parse(ca.responseText);}catch(e){}if(ca.readyState===4){if(ca.status===200){by.resolve(uy);}else{by.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}}};ca=new XMLHttpRequest();if(ca===null){by.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}ca.open("GET",cb,true);ca.onreadystatechange=ZI;ca.send();}catch(e){by.reject(new PCCViewer.Error("Error",e.message));}return bW;};PCCViewer.ImageStamps.prototype.reqestImageSourceBase64=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var by=PCCViewer.Deferred();var bW=by.getPromise();try{var cb=this.aO.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Base64';var ca;var asC=function(){var uy;if(typeof ca.responseText!=='unknown'&&ca.responseText.length>0){try{uy=JSON.parse(ca.responseText);}catch(e){}if(ca.readyState===4){if(ca.status===200){by.resolve(uy);}else{by.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}}};ca=new XMLHttpRequest();if(ca===null){by.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}ca.open("GET",cb,true);ca.onreadystatechange=asC;ca.send();}catch(e){by.reject(new PCCViewer.Error("Error",e.message));}return bW;};PCCViewer.ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.aO.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};})(PCCViewer||{});(function(undefined){PCCViewer.DocumentHyperlink=function DocumentHyperlink(parameters){this.Bj=parameters.Bj;this.aa=parameters.aa;};PCCViewer.DocumentHyperlink.prototype.getHref=function(){return this.Bj.acE();};PCCViewer.DocumentHyperlink.prototype.getPageNumber=function(){return this.aa;};PCCViewer.DocumentHyperlink.prototype.getRectangle=function(){return this.Bj.fr();};if(Object.defineProperties){Object.defineProperties(PCCViewer.DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}PCCViewer.ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aa;var by=PCCViewer.Deferred();var bW=by.getPromise();var cz=this;try{if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var abL=this.JJ[aa-1];if(!abL){abL=this.JJ[aa-1]=new PCCViewer.Deferred();this.DB.then(function(){var ai=cz.cd.getPage(aa-1);ai.Bd();});}by.resolve(abL.getPromise());}catch(e){by.reject(new PCCViewer.Error('Error',e));}return bW;};PCCViewer.ViewerControl.prototype.aqi=function(aCJ){var i,j,zo;for(j=0;j<this.ZZ.length;j++){zo=this.ZZ[j];if(zo){for(i=0;i<zo.length;i++){if(zo[i].Bj.Ri()===aCJ){return zo[i];}}}}return null;};})();var PCCViewer=window.PCCViewer||{};PCCViewer.Search=function(){this.Vd=[];this.dA={};this.eN=[];this.cT=0;this.rw='';this.hq={};this.Du=[];this.LM=0;this.eT={};this.aaX=0;this.hF=false;var C=this;this.apQ=function(acm,aC){var G=0;var amI=function(sender,K){if(K.error=== -1){C.azo();return;}try{if(C.hF===false){C.ayA(K.textPagesReceived,K.error,aC);}}catch(e){C.dA.db=e.message;C.dA.hW="1010";C.dA.xZ=true;setTimeout(function(){C.dA.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.dA.trigger("SearchCompleted",{completedSearchResults:(C.eN)});},10);C.hF=true;return;}};try{if(acm===false){aC.add_textPagesReceived(amI);}C.eT=this.buildSearchObject();for(G;G<aC.fh;G++){C.Vd[G]=false;}if(acm){this.axL(aC);}}catch(e){C.dA.db=e.message;C.dA.hW="1010";C.dA.xZ=true;setTimeout(function(){C.dA.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.dA.trigger("SearchCompleted",{completedSearchResults:(C.eN)});},10);return;}};this.azo=function(){C.dA.db="Unable to communicate with server, please retry loading the document.";C.dA.hW="1011";C.dA.xZ=true;setTimeout(function(){C.dA.trigger("SearchFailed",{errorMessage:("Unable to communicate with server, please retry loading the document.")});},10);setTimeout(function(){C.dA.trigger("SearchCompleted",{completedSearchResults:(C.eN)});},10);C.hF=true;};this.axL=function(aC){var G=0;for(G=0;G<aC.fh;G++){var ar=this.akU(aC,G);if(!ar&&ar!==null){C.Du[C.LM]=G;C.LM++;continue;}this.alZ(ar,G,aC);if(C.dA.qp){break;}}C.dA.ha=C.eN;C.dA.xZ=true;C.dA.Uz=C.Du;setTimeout(function(){C.dA.trigger("SearchResultsAvailable",{completedSearchResults:(C.eN)});},10);setTimeout(function(){C.dA.trigger("SearchCompleted",{completedSearchResults:(C.eN)});},10);};this.ayA=function(Bl,Gf,aC){var G=0;for(G=0;G<Bl.length;G++){if(C.Vd[Bl[G]]===false){C.Vd[Bl[G]]=true;var ar=this.akU(aC,Bl[G]);if(!ar&&ar!==null){C.Du[C.LM]=Bl[G];C.LM++;continue;}this.alZ(ar,Bl[G],aC);if(C.dA.qp){break;}}}if(((aC.fh-1)===Bl[G-1]||C.dA.qp)&& !C.dA.xZ){C.dA.ha=C.eN;C.dA.Uz=C.Du;C.dA.xZ=true;setTimeout(function(){C.dA.trigger("SearchResultsAvailable",{completedSearchResults:(C.eN)});},10);setTimeout(function(){C.dA.trigger("SearchCompleted",{completedSearchResults:(C.eN)});},10);}};this.buildSearchObject=function(){var aaK=[];var LN=0;for(var G=0;G<C.hq.searchTerms.length;G++){var eT={};if(C.hq.searchTerms[G].matchingOptions.exactPhrase===false&&C.hq.searchTerms[G].searchTermIsRegex===false){var zw=C.hq.searchTerms[G].searchTerm.split(' ');for(var ag=0;ag<zw.length;ag++){eT={};if(zw[ag].length<0){continue;}eT.searchText=zw[ag];eT.LO=C.hq.searchTerms[G];if(C.hq.searchTerms[G].matchingOptions.matchWholeWord){eT.searchTerm=this.ahK(this.Dj(zw[ag]),C.hq.searchTerms[G].matchingOptions);}else{if(C.hq.searchTerms[G].matchingOptions.wildcard===true){eT.searchTerm=this.adL(this.Dj(zw[ag]),C.hq.searchTerms[G].matchingOptions);}else if(C.hq.searchTerms[G].matchingOptions.beginsWith===true||C.hq.searchTerms[G].matchingOptions.endsWith===true){eT.searchTerm=this.acN(this.Dj(zw[ag]),C.hq.searchTerms[G].matchingOptions);}else{eT.searchTerm=this.aam(zw[ag],C.hq.searchTerms[G].matchingOptions,false);}}eT.highlightColor=this.alv(C.hq.searchTerms[G].highlightColor);aaK[LN]=eT;LN++;}}else{eT={};eT.searchText=C.hq.searchTerms[G].searchTerm;eT.LO=C.hq.searchTerms[G];if(C.hq.searchTerms[G].matchingOptions.matchWholeWord){eT.searchTerm=this.ahK(this.Dj(C.hq.searchTerms[G].searchTerm),C.hq.searchTerms[G].matchingOptions);}else{if(C.hq.searchTerms[G].matchingOptions.wildcard===true){eT.searchTerm=this.adL(this.Dj(C.hq.searchTerms[G].searchTerm),C.hq.searchTerms[G].matchingOptions);}else if(C.hq.searchTerms[G].matchingOptions.beginsWith===true||C.hq.searchTerms[G].matchingOptions.endsWith===true){eT.searchTerm=this.acN(this.Dj(C.hq.searchTerms[G].searchTerm),C.hq.searchTerms[G].matchingOptions);}else{eT.searchTerm=this.aam(C.hq.searchTerms[G].searchTerm,C.hq.searchTerms[G].matchingOptions,C.hq.searchTerms[G].searchTermIsRegex);}}eT.highlightColor=this.alv(C.hq.searchTerms[G].highlightColor);aaK[LN]=eT;LN++;}}return aaK;};this.alZ=function(VL,aQ,aC){var aiR=false;var aie=[];var agD=0;var d=new Date();var Ao=d.getTime();var ai=aC.dG.km(aQ);var ip=ai.dq();var fi=ip.eJ();for(var G=0;G<C.eT.length;G++){var IQ=C.eT[G].searchTerm;var eE=IQ.exec(VL);var gX=C.eT[G];var Va=gX.LO.contextPadding;while(eE!==null){var du=this.abo(VL,eE,Va);C.eN[C.cT]=new PCCViewer.SearchResult();C.eN[C.cT].cV=C.cT;C.eN[C.cT].aa=aQ+1;C.eN[C.cT].du=du.adB;C.eN[C.cT].ar=eE[0];C.eN[C.cT].zU=du.an;C.eN[C.cT].uG=C.eT[G].highlightColor;C.eN[C.cT].WU=eE.index;C.eN[C.cT].rw=C.eT[G].LO;C.eN[C.cT].OK=aC.get_documentIdentifier();C.eN[C.cT].Ao=Ao;var gM=Number.MAX_VALUE,gk=0,_top=Number.MAX_VALUE,jg=0;var cs=eE.index+eE[0].length;for(var ag=eE.index;ag<cs-1;ag++){var fd=fi.lB(ag);if(fd.bz.x<gM){gM=fd.bz.x;}if(fd.bz.x+fd.bz.width>gk){gk=fd.bz.x+fd.bz.width;}if(fd.bz.y<_top){_top=fd.bz.y;}if(fd.bz.y+fd.bz.height>jg){jg=fd.bz.y+fd.bz.height;}}C.eN[C.cT].pu={width:gk-gM,height:jg-_top,x:gM,y:_top};aie[agD]=C.eN[C.cT];C.dA.ha=C.eN;eE=IQ.exec(VL);C.cT++;agD++;aiR=true;}}if(aiR){setTimeout(function(){C.dA.trigger("PartialSearchResultsAvailable",{partialSearchResults:(aie),pagesWithoutText:(C.Du)});},10);}};this.abo=function(ar,eE,Kn){Kn=Kn||0;var aAE=eE[0],cc=aAE.length,amb=Math.max(eE.index-Kn,0),aAu=eE.index+cc,aqg=Math.min(aAu+Kn,ar.length);return{an:(amb===0)?eE.index:Kn,adB:ar.substring(amb,aqg)};};this.akU=function(aC,aQ){var ai=aC.dG.km(aQ);var ip=ai.dq();var ar=ip.Gh();return ar;};this.ahK=function(rX,pZ){var vS=new RegExp('\\b'+rX+'\\b',this.vV(pZ.matchCase));return vS;};this.acN=function(rX,pZ){if(pZ.beginsWith){return new RegExp("\\b"+rX+'(\\w+)',this.vV(pZ.matchCase));}if(pZ.endsWith){rX=rX.replace("*","");return new RegExp('(\\w+)'+rX+"\\b",this.vV(pZ.matchCase));}};this.Dj=function(rX){return rX.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.adL=function(vv,pZ){vv=vv.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(vv==='\\*'){var dP=new Error("The search term must contain one or more non-wildcard characters.");dP.aBg=true;throw dP;}vv=vv.replace(/\\\?/g,'.');var hc=this.OB(vv);var Ye,Ty,vS,Yi;var Jt=vv.substring(0,1);for(var G=0;G<hc.length;++G){if(G>0){Ye=hc.substring(G-1,G);}Jt=hc.substring(G,G+1);if(G<hc.length){Ty=hc.substring(G+1,G+2);}if(G===0){if(Jt==='*'&&Ty===" "||Jt==='*'&&Ty==="*"){hc=hc.substring(2,hc.length);}}if(G+1===hc.length){if(Jt==='*'&&Ye===" "||Jt==='*'&&Ye==="*"){hc=hc.substring(0,hc.length-2);}}}hc=hc.replace(/^\s+|\s+$/g,'');var afQ=hc.indexOf('*');if(afQ===1){hc=hc.replace(/\\\*/g,'\\S*')+'\\S*';}else if(afQ===hc.length-1){hc='\\S*'+hc.replace(/\\\*/g,'\\S*');}else{if(pZ.exactPhrase===false){hc=hc.replace(/\\\*/g,'.*?');}else{hc=hc.replace(/\\\*/g,'\\S*');}}vS=new RegExp(hc,this.vV(pZ.matchCase));if(hc.substring(0,1)!=='*'&&Yi!=='*'){vS=new RegExp('\\b'+hc+'\\b',this.vV(pZ.matchCase));}if(hc.substring(0,1)==='*'&&Yi!=='*'){vS=new RegExp(hc+'\\b',this.vV(pZ.matchCase));}if(hc.substring(0,1)!=='*'&&Yi==='*'){vS=new RegExp('\\b'+hc,this.vV(pZ.matchCase));}return vS;};this.OB=function(rX){return rX.replace(/\ /g,'\\s+');};this.aam=function(NQ,matchingOptions,isRegex){var vD='';if(isRegex===true){vD=this.OB(NQ);}else if(matchingOptions.wildcard===true){vD=NQ.replace(/[-[\]{}()+,^$|#]/g,"\\$&");vD=this.OB(vD);}else if(matchingOptions.exactPhrase){vD=NQ.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");vD=this.OB(vD);}else{vD=NQ.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}return new RegExp(vD,this.vV(matchingOptions.matchCase));};this.vV=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aEB=function(vv){var vS=new RegExp('\\b'+vv+'\\b',C.vV());return vS;};var akh=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.alv=function(ey){if(!ey){return akh[C.aaX++ %akh.length];}else{return ey;}};this.aqH=function(ar){try{this.awk(ar);}catch(e){C.dA.db=e.message;C.dA.hW="1010";return;}};this.awk=function(ar){var d=new Date();var Ao=d.getTime();for(var G=0;G<C.eT.length;G++){var IQ=C.eT[G].searchTerm;var eE=IQ.exec(ar);var gX=C.eT[G];var Va=gX.LO.contextPadding;while(eE!==null){var du=this.abo(ar,eE,Va);C.eN[C.cT]=new PCCViewer.SearchTaskResult();C.eN[C.cT].cV=C.cT;C.eN[C.cT].du=du.adB;C.eN[C.cT].ar=eE[0];C.eN[C.cT].zU=du.an;C.eN[C.cT].uG=C.eT[G].highlightColor;C.eN[C.cT].Vp=eE.index;C.eN[C.cT].rw=C.eT[G].LO;C.eN[C.cT].Ao=Ao;C.dA.ha=C.eN;eE=IQ.exec(ar);C.cT++;}}};this.agB=function(gX){var searchTermObj;if(typeof gX==='string'){gX={searchTerms:[{searchTerm:gX,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return gX;}for(var i=0;i<gX.searchTerms.length;i++){searchTermObj=gX.searchTerms[i];if(typeof searchTermObj.contextPadding==="undefined"){searchTermObj.contextPadding=25;}if(typeof searchTermObj.searchTermIsRegex==="undefined"){searchTermObj.searchTermIsRegex=false;}if(typeof searchTermObj.matchingOptions==="undefined"){searchTermObj.matchingOptions={};}if(!searchTermObj.matchingOptions.hasOwnProperty('matchCase')){searchTermObj.matchingOptions.matchCase=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('exactPhrase')){searchTermObj.matchingOptions.exactPhrase=true;}if(!searchTermObj.matchingOptions.hasOwnProperty('matchWholeWord')){searchTermObj.matchingOptions.matchWholeWord=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('beginsWith')){searchTermObj.matchingOptions.beginsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('endsWith')){searchTermObj.matchingOptions.endsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('wildcard')){searchTermObj.matchingOptions.wildcard=false;}if(typeof searchTermObj.highlightColor!=='undefined'){try{IPCC.bB.ey(searchTermObj.highlightColor,"selectText");}catch(e){searchTermObj.highlightColor=undefined;}}}return gX;};};PCCViewer.Search.prototype._search=function(searchQuery,RF,aC){this.eT={};this.dA=new PCCViewer.SearchRequest();this.hq=searchQuery;this.eN.length=0;this.dA.gX=searchQuery;this.Du.length=0;this.LM=0;this.cT=0;this.rw=searchQuery;this.aaX=0;this.apQ(RF,aC);return this.dA;};PCCViewer.Search.prototype.ayH=function(searchQuery){this.eT={};this.dA=new PCCViewer.SearchRequest();this.hq=searchQuery;this.eN.length=0;this.dA.gX=searchQuery;this.cT=0;this.rw=searchQuery;this.aaX=0;return this.dA;};PCCViewer.SearchTask=function(searchQuery){this.agr(searchQuery);var _search=new PCCViewer.Search();searchQuery=_search.agB(searchQuery);this.dA=_search.ayH(searchQuery);try{_search.eT=_search.buildSearchObject();}catch(e){if(e.aBg){throw new Error(e.message);}else{throw new Error(e.message);}}this.search=function(text){_search.eN=[];_search.cT=0;_search.aqH(text);return _search.eN;};};PCCViewer.SearchTask.prototype.agr=function(searchQuery){if(typeof searchQuery==='string'){return;}var acr;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){acr=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.aY.forEach(acr,function(apl,G){if(typeof apl.searchTerm!=='string'){throw new Error("Search term index "+G+" does not have a valid `searchTerm` string property.");}});};var PCCViewer=window.PCCViewer||{};PCCViewer.SearchResult=function(){this.cV=0;this.aa=0;this.an=0;this.ar='';this.uG='';this.WU=0;this.du='';this.zU=0;this.rw='';this.OK='';this.pu=null;};PCCViewer.SearchResult.prototype.getId=function(){return this.cV;};PCCViewer.SearchResult.prototype.getPageNumber=function(){return this.aa;};PCCViewer.SearchResult.prototype.getText=function(){return this.ar;};PCCViewer.SearchResult.prototype.getHighlightColor=function(){return this.uG;};PCCViewer.SearchResult.prototype.getStartIndexInPage=function(){return this.WU;};PCCViewer.SearchResult.prototype.getContext=function(){return this.du;};PCCViewer.SearchResult.prototype.getStartIndexInContext=function(){return this.zU;};PCCViewer.SearchResult.prototype.getSearchTerm=function(){return this.rw;};PCCViewer.SearchResult.prototype.getBoundingRectangle=function(){return this.pu;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aa;}},"id":{enumerable:true,get:function(){return this.cV;}},"text":{enumerable:true,get:function(){return this.ar;}},"highlightColor":{enumerable:true,get:function(){return this.uG;}},"startIndexInPage":{enumerable:true,get:function(){return this.WU;}},"context":{enumerable:true,get:function(){return this.du;}},"startIndexInContext":{enumerable:true,get:function(){return this.zU;}},"searchTerm":{enumerable:true,get:function(){return this.rw;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}PCCViewer.SearchTaskResult=function(){this.cV=0;this.an=0;this.ar='';this.uG='';this.Vp=0;this.du='';this.zU=0;this.rw='';};PCCViewer.SearchTaskResult.prototype.getId=function(){return this.cV;};PCCViewer.SearchTaskResult.prototype.getText=function(){return this.ar;};PCCViewer.SearchTaskResult.prototype.getHighlightColor=function(){return this.uG;};PCCViewer.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.Vp;};PCCViewer.SearchTaskResult.prototype.getContext=function(){return this.du;};PCCViewer.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.zU;};PCCViewer.SearchTaskResult.prototype.getSearchTerm=function(){return this.rw;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cV;}},"text":{enumerable:true,get:function(){return this.ar;}},"highlightColor":{enumerable:true,get:function(){return this.uG;}},"startIndexInInput":{enumerable:true,get:function(){return this.Vp;}},"context":{enumerable:true,get:function(){return this.du;}},"startIndexInContext":{enumerable:true,get:function(){return this.zU;}},"searchTerm":{enumerable:true,get:function(){return this.rw;}}});}var PCCViewer=window.PCCViewer||{};PCCViewer.SearchRequest=function(){this.jP={};this.gX={};this.ha=[];this.xZ=false;this.hW=null;this.db=null;this.Uz=[];PCCViewer.EventEmitter.extend(this);};PCCViewer.SearchRequest.prototype.getSearchQuery=function(){return this.gX;};PCCViewer.SearchRequest.prototype.getResults=function(){return this.ha;};PCCViewer.SearchRequest.prototype.getIsComplete=function(){return this.xZ;};PCCViewer.SearchRequest.prototype.getErrorCode=function(){return this.hW;};PCCViewer.SearchRequest.prototype.getErrorMessage=function(){return this.db;};PCCViewer.SearchRequest.prototype.getPagesWithoutText=function(){return this.Uz;};PCCViewer.SearchRequest.prototype.cancel=function(){this.qp=true;this.trigger('SearchCancelled');};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchRequest.prototype,{"searchQuery":{enumerable:true,get:function(){return this.gX;}},"results":{enumerable:true,get:function(){return this.ha;}},"isComplete":{enumerable:true,get:function(){return this.xZ;}},"errorCode":{enumerable:true,get:function(){return this.hW;}},"errorMessage":{enumerable:true,get:function(){return this.db;}}});}(function(PCCViewer){PCCViewer.BurnRequest=function(aO){this.qG="";this.dX="";this.lZ=0;this.qz="";this.hW="";this.uz=0;this.he=false;this.tQ=0;this.Ui="";this.qp=false;this.by=PCCViewer.Deferred();this.bW=this.by.getPromise();this.then=this.bW.then;this.aO=aO;this.hW=null;this.gw=undefined;this.uO=false;this.QJ=null;PCCViewer.EventEmitter.extend(this);};PCCViewer.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};PCCViewer.BurnRequest.prototype.cancel=function(){var C=this;this.qp=true;this.hW="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.BurnRequest.prototype.getProgress=function(){return this.lZ;};PCCViewer.BurnRequest.prototype.getWorkerID=function(){return this.qG;};PCCViewer.BurnRequest.prototype.getOptions=function(){return this.aO;};PCCViewer.BurnRequest.prototype.getErrorCode=function(){return this.hW;};PCCViewer.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.QJ;};PCCViewer.BurnRequest.prototype.aoF=function(nv){this.Ui=nv;};PCCViewer.BurnRequest.prototype.Vg=function(gw){this.gw=gw;};PCCViewer.BurnRequest.prototype.ape=function(){var C=this;this.hW="Failure to generate Markup XML";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("MarkupXMLFail",C.hW));},0);return this;};PCCViewer.BurnRequest.prototype.Kv=function(){var ca=new XMLHttpRequest();try{if(!this.Ui){throw new Error("XMl Markup data for burn is missing");}if(ca===null){throw new Error("AJAX (XMLHTTP) not supported.");}var C=this;var alB=function(){var XG;if(!(/^[\x00-\x7F]*$/.test(C.gw.aC.get_documentIdentifier()))){XG=C.gw.aO.imageHandlerUrl+'/ViewingSession/e'+C.gw.aO.documentID+'/MarkupBurner/'+C.qG;}else{XG=C.gw.aO.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.gw.aO.documentID)+'/MarkupBurner/'+C.qG;}ca.open("GET",XG,true);ca.setRequestHeader('Content-Type','application/json');ca.onreadystatechange=ajt;ca.send();};var ayX=function(fQ){if(fQ){if(C.qp===true){C.he=false;return;}if(fQ.percentComplete>=0&&C.he===true){if(fQ.percentComplete===100&&fQ.state==='complete'){if(fQ.processId){C.he=false;C.qG=fQ.processId;C.dX=fQ.state;C.uz+=1;C.tQ=1000;C.lZ= +(fQ.percentComplete);var Is;if(!(/^[\x00-\x7F]*$/.test(C.gw.aC.get_documentIdentifier()))){Is=C.gw.aO.imageHandlerUrl+'/ViewingSession/e'+C.gw.aO.documentID+'/MarkupBurner/'+C.qG+"/Document";}else{Is=C.gw.aO.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.gw.aO.documentID)+'/MarkupBurner/'+C.qG+"/Document";}if(C.aO.filename){Is+="?ContentDispositionFilename="+C.aO.filename;}C.QJ=Is;C.uO=true;var ayI= +(fQ.percentComplete);setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:ayI});C.by.resolve(Is);},10);return;}}else{if(fQ.state==='error'){C.he=false;C.hW=fQ.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+C.hW));},0);C.he=false;C.uO=true;return;}if(fQ.processId){var aay= +(fQ.percentComplete);if(C.lZ!==aay){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:aay});},10);}if(!C.qG){C.qG=fQ.processId;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);C.dX=fQ.state;C.uz=1;C.he=true;C.tQ=1000;C.lZ= +(fQ.percentComplete);}if(fQ.percentComplete<100){if(C.uz>1){C.tQ+=1000;}C.uz+=1;C.dX=fQ.state;C.lZ= +(fQ.percentComplete);if(C.he===true&&C.qp===false&&C.uO===false){setTimeout(alB,C.tQ);}}}}}else{if(C.uO===false){var Sb=false;if(C.he===false){if(fQ.state==='complete'){if(!C.QJ){Sb=true;}else{C.uO=true;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.by.resolve(C.QJ);},10);return;}}if(fQ.state==='processing'&&fQ.errorCode===null){if(fQ.percentComplete>=0&&fQ.percentComplete<100){if(C.uz>1){C.tQ+=1000;}C.uz+=1;C.he=true;C.dX=fQ.state;C.lZ= +(fQ.percentComplete);if(C.he===true&&C.qp===false){setTimeout(alB,C.tQ);}}else{Sb=true;}}if(fQ.state==='error'||Sb===true){C.he=false;C.hW=fQ.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+fQ.errorCode));},0);C.he=false;C.uO=true;return;}}}}}};var ajt=function(){var gT,bQ;if(ca.readyState===4){if(ca.status===200){try{gT=ca.responseText;if(!gT){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);C.uO=true;return;}else{if(typeof JSON!=='undefined'){bQ=JSON.parse(gT);}else{bQ=IPCC.ct.nP(gT);}setTimeout(function(){ayX(bQ);},0);}}catch(e){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);C.uO=true;return;}}else{C.he=false;var aM=ca.status+" "+ca.statusText;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.by.reject(new PCCViewer.Error("StatusCode","Status Code "+aM));},0);C.uO=true;return;}}};var cb;if(!(/^[\x00-\x7F]*$/.test(C.gw.aC.get_documentIdentifier()))){cb=C.gw.aO.imageHandlerUrl+'/ViewingSession/e'+C.gw.aO.documentID+'/MarkupBurner';}else{cb=C.gw.aO.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.gw.aO.documentID)+'/MarkupBurner';}ca.open("POST",cb,true);ca.setRequestHeader("Content-Type","application/xml");ca.onreadystatechange=ajt;C.he=true;ca.send(C.Ui);}catch(e){this.he=false;var ap=this,gq=e.message;setTimeout(function(){ap.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});ap.by.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+gq));},0);this.uO=true;}};if(Object.defineProperties){Object.defineProperties(PCCViewer.BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.ConversionRequest=function(aO){this.qG="";this.dX="";this.lZ=0;this.hW="";this.he=false;this.qp=false;this.aO=aO;this.MH=null;this.gw=undefined;this.by=PCCViewer.Deferred();this.bW=this.by.getPromise();this.then=this.bW.then;PCCViewer.EventEmitter.extend(this);};PCCViewer.ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};PCCViewer.ConversionRequest.prototype.cancel=function(){var C=this;this.qp=true;this.hW="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});C.by.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.ConversionRequest.prototype.getProgress=function(){return this.lZ;};PCCViewer.ConversionRequest.prototype.getWorkerID=function(){return this.qG;};PCCViewer.ConversionRequest.prototype.getOptions=function(){return this.aO;};PCCViewer.ConversionRequest.prototype.getErrorCode=function(){return this.hW;};PCCViewer.ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.MH;};PCCViewer.ConversionRequest.prototype.Vg=function(gw){this.gw=gw;};PCCViewer.ConversionRequest.prototype.Kv=function(){var C=this;C.he=true;C.azF().then(function onResolve(ut){C.qG=ut.processId;C.lZ=ut.percentComplete;C.dX=ut.state;C.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});C.axQ(ut).then(function onResolve(aro){C.he=false;C.MH=C.gw.aO.imageHandlerUrl+'/WorkFile/'+aro+"?ContentDispositionFilename="+C.aO.filename;if(ut.affinityToken){C.MH+="&affinityToken="+encodeURIComponent(ut.affinityToken);}C.by.resolve(C.MH);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){C.he=false;C.by.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){C.he=false;C.by.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};PCCViewer.ConversionRequest.prototype.azF=function(){var pj=PCCViewer.Deferred(),cb=this.gw.aO.imageHandlerUrl+'/contentConverters/';IPCC.aY.HZ({url:cb,method:'POST',headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:'json',body:{viewingSessionId:this.gw.aO.documentID}}).then(function onResolve(lA){var sy=JSON.parse(lA);pj.resolve(sy);},function onReject(reason){pj.reject(reason);});return pj.getPromise();};PCCViewer.ConversionRequest.prototype.axQ=function(ut){var cb=this.gw.aO.imageHandlerUrl+'/contentConverters/'+ut.processId,pj=PCCViewer.Deferred(),C=this;if(ut.affinityToken){var aBO={"Accusoft-Affinity-Token":ut.affinityToken};}(function poll(){setTimeout(function(){IPCC.aY.HZ({url:cb,headers:aBO}).then(function onResolve(lA){var sy=JSON.parse(lA);C.qG=sy.processId;C.lZ=sy.percentComplete;C.dX=sy.state;C.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:C.lZ});if(sy.percentComplete===100){pj.resolve(sy.output.results[0].fileId);}else{poll();}},function onReject(reason){pj.reject(reason);});},3000);})();return pj.getPromise();};if(Object.defineProperties){Object.defineProperties(PCCViewer.ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){var ZA=function(){},it={afe:0,ayN:1,avG:2};PCCViewer.ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.aY.vs(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var C=this;this.it=it.afe;this.aO=viewerControl.aO;this._debug= ! !this.aO.debug;this.Oe="Single";this.Ll=[];this.sJ={};if(!this.cz){this.cz=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bK=domElement;if(viewerControl.qw){C.it=it.avG;C.WR(viewerControl.getPageCount());C.Rk(C.bK);}else{C.it=it.ayN;C.WR(1,0);viewerControl.on('PageCountReady',function(){C.WR(viewerControl.getPageCount(),1);C.Rk(C.bK);});}viewerControl.on('PageRotated',function(bv){IPCC.aY.forEach(C.sJ,function(aL){if(aL.aQ===(bv.pageNumber-1)){if(aL.zV===true){C.Xu(aL);}}});});viewerControl.on('DocumentRotated',function(bv){IPCC.aY.forEach(C.sJ,function(aL){if(aL.zV===true){C.Xu(aL);}});});};PCCViewer.ThumbnailControl.prototype.getViewerControl=function(){return this.cz;};PCCViewer.ThumbnailControl.prototype.WR=function(fh,kX){kX=kX||0;var C=this,KA=document.createDocumentFragment();for(var i=kX;i<fh;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var cG=document.createElement('div');cG.className='pccThumbnail';var sM=document.createElement('div');sM.className='pccThumbnailView';sM.id='pcc-thumbnailPage-'+i+'-'+IPCC.BY();cG.appendChild(sM);_parent.appendChild(cG);KA.appendChild(_parent);C.sJ[i]={Zd:_parent,bV:cG,sM:sM,aQ:i,aj:{},zV:false,kL:0,kd:0,de:0};}IPCC.aY.forEach(C.sJ,function(aL){var YC=document.createElement('div'),wI=document.createElement('span'),aAC=document.createTextNode(aL.aQ+1);YC.className='pccThumbnailLabel';wI.appendChild(aAC);YC.appendChild(wI);aL.bV.appendChild(YC);aL.bV.onclick=function(){C.aly([aL.aQ+1]);};});C.bK.appendChild(KA);this.YV();return this;};PCCViewer.ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};PCCViewer.ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.it){return[];}return[].concat(this.Ll);};PCCViewer.ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.it){return this;}var fh=this.cz.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.aY.forEach(pageNumbers,function(eQ,G){if(isNaN(eQ)){throw new Error(eQ+' (array index '+G+') is not a number');}if(eQ<1||eQ>fh){throw new Error(eQ+' (array index '+G+') is out of range');}});this.aly([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}PCCViewer.ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var eQ=Number(pageNumber);if(eQ!==(eQ|0)||eQ<1||eQ>this.cz.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var kZ=false,C=this,aO=options||{};IPCC.aY.forEach(this.sJ,function(aL){if(kZ){return;}if(aL.aQ+1===eQ){kZ=true;C.aac(aL,undefined,! !aO.forceAlignTop);}});return this;};PCCViewer.ThumbnailControl.prototype.aac=function(aL,lC,awj){lC=lC||IPCC.aY.UM(this.bK.getBoundingClientRect());var wG=IPCC.aY.UM(aL.Zd.getBoundingClientRect());if(wG.top>lC.top&&wG.bottom<lC.bottom){return;}var aks=window.getComputedStyle?getComputedStyle(aL.Zd):aL.Zd.currentStyle,ie;if(wG.top<lC.top||awj){ie=wG.top-lC.top+this.bK.scrollTop-parseInt(aks.marginTop,10);}else if(wG.bottom>lC.bottom){ie=wG.bottom-lC.top-lC.height+this.bK.scrollTop+parseInt(aks.marginBottom,10);}if(ie!==undefined){this.bK.scrollTop=ie;}return this;};PCCViewer.ThumbnailControl.prototype.aly=function(ka){if(IPCC.aY.awq(this.Ll,ka)){return this;}var XD='pcc-thumbnail-selected',Jd=new RegExp(XD),XE=false,ali=[].concat(ka),alj=ali.shift(),acb=false,lC=IPCC.aY.UM(this.bK.getBoundingClientRect()),C=this;IPCC.aY.forEach(this.sJ,function(aL){if(aL.aQ===alj-1){IPCC.aY.adH(aL.bV,XD);XE=true;alj=ali.shift()||0;if(!acb){acb=true;C.aac(aL,lC);}return;}if(Jd.test(aL.bV.className)){IPCC.aY.alw(aL.bV,XD);XE=true;}});this.Ll=ka;if(XE){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Ll)});}return this;};PCCViewer.ThumbnailControl.prototype.asK=function(){var gJ=this.Lo(),C=this,zr;IPCC.aY.forEach(gJ,function(aL){if(!zr&&IPCC.aY.inArray(C.Ll,aL.aQ+1)){zr=aL;}});if(!zr){zr=gJ[0];}return zr;};PCCViewer.ThumbnailControl.prototype.reflow=function(){if(!this.it){return this;}var Dh,Et,bJ,ao,Og,Pl,de,zr=this.asK();IPCC.aY.forEach(this.sJ,function(aL){if(aL.zV){aL.bV.style.height=aL.sM.style.height='';aL.bV.style.width=aL.sM.style.width='';}});IPCC.aY.forEach(this.sJ,function(aL){if(aL.zV){Dh=aL.bV.offsetWidth;Et=aL.bV.offsetHeight;de=aL.aj.asQ();if(Math.abs(de)===90||Math.abs(de)===270){ao=aL.aj.nq();bJ=aL.aj.mV();}else{bJ=aL.aj.nq();ao=aL.aj.mV();}Og=bJ/ao;Pl=Dh/Et;var kL,kd;if(Og<Pl){kd=Et;kL=Math.floor(kd*bJ/ao);}else{kL=Dh;kd=Math.floor(kL*ao/bJ);}aL.kL=kL;aL.kd=kd;}});IPCC.aY.forEach(this.sJ,function(aL){if(aL.zV&&aL.aj){aL.sM.style.height=aL.kd+'px';aL.sM.style.width=aL.kL+'px';aL.aj.Xw(IPCC.Web.UI.FitType.FullImage);aL.aj.cR();}});if(zr){this.aac(zr);}this.YV();return this;};PCCViewer.ThumbnailControl.prototype.destroy=function(){if(!this.it){return this;}this.it=it.afe;IPCC.aY.forEach(this.sJ,function(aL){if(aL.aj&&aL.aj.dispose){aL.aj.dispose();}});while(this.bK.firstChild){this.bK.removeChild(this.bK.firstChild);}this.on=this.off=this.trigger=ZA;this.jP={};};PCCViewer.ThumbnailControl.prototype.getVisiblePages=function(){if(!this.it){return[];}var gJ=this.Lo();return IPCC.aY.map(gJ,function(aL){return aL.aQ+1;});};PCCViewer.ThumbnailControl.prototype.Lo=function Lo(){var Jj=this.bK.getBoundingClientRect(),wG;function YR(lC,PG){return(!(PG.top>=lC.bottom||PG.left>=lC.right||PG.bottom<=lC.top||PG.right<=lC.left));};return IPCC.aY.filter(this.sJ,function(aL){wG=aL.bV.getBoundingClientRect();return YR(Jj,wG);});};PCCViewer.ThumbnailControl.prototype.YV=function(){var C=this,gJ=C.Lo();IPCC.aY.forEach(gJ,function(aL){if(!aL.zV){aL.aj=C.km(aL);aL.zV=true;}});return this;};PCCViewer.ThumbnailControl.prototype.Rk=function Rk(bV){var QZ={},C=this;function awJ(cO,RV,FS){if(QZ[cO]){clearTimeout(QZ[cO]);QZ[cO]=undefined;}QZ[cO]=setTimeout(RV,FS||0);};IPCC.Web.UI.aE.addHandler(bV,'scroll',function(ev){awJ('scroll',function(){C.YV();},300);});};PCCViewer.ThumbnailControl.prototype.km=function(aL,oK){var C=this;oK=oK||ZA;var bg={documentIdentifier:C.aO.documentID,pageNumber:aL.aQ,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:C.aO.imageHandlerUrl,encryption:C.aO.encryption,handleTouchEvents:false};var aj=IPCC.initializePageViewPlugin(aL.sM,bg);aj.set_debug(C._debug);aj.set_mouseTool(IPCC.Web.UI.MouseTool.None);var ym=false;function Mp(){oK();};aj.add_pageOpened(function(){C.Xu(aL);});aj.add_pageDisplayed(function(){if(!ym){Mp();}});aj.add_textPageReady(function(){if(ym){aj.cR();Mp();}});aj.add_pageOpenFailed(function(){});aj.add_textExtractionFailed(function(){});bg.artPage=C.cz.ab.gB(C.cz.cd.getPage(aL.aQ));bg.artPage.CU(function(H){if(H.get_type()===608){ym=true;}});aj.ayK(bg);aj.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aj;};PCCViewer.ThumbnailControl.prototype.Xu=function(aL){var C=this;var FK=C.cz.ab.TL(aL.aQ);var de=aL.de;var adV=de;if(FK!==aL.de){adV=FK-de;}var aj=aL.aj,hL=aL.sM,ao,bJ;hL.style.height='';hL.style.width='';if(Math.abs(FK)===90||Math.abs(FK)===270){ao=aj.nq();bJ=aj.mV();}else{ao=aj.mV();bJ=aj.nq();}var Dh=hL.offsetWidth,Et=hL.offsetHeight;if(aL.de!==FK){aj.rotate(adV);aL.de=FK;}var Og=bJ/ao,Pl=Dh/Et;var kL,kd;if(Og<Pl){kd=Et;kL=Math.floor(kd*bJ/ao);}else{kL=Dh;kd=Math.floor(kL*ao/bJ);}hL.style.height=kd+'px';hL.style.width=kL+'px';};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.fp={copyRectangle:function(F){return{x:F.x,y:F.y,width:F.width,height:F.height};},Common:function(bg,ck){var ao;var bJ;if(bg.page){ao=bg.page.get_pageHeight();bJ=bg.page.get_pageWidth();}else{ao=null;bJ=null;}var aa=bg.mark.getPageNumber();var ba={uid:bg.mark.getUid(),interactionMode:bg.mark.getInteractionMode(),pageNumber:aa,type:bg.mark.getType(),creationDateTime:IPCC.aY.xD(bg.mark.O.aey()),modificationDateTime:IPCC.aY.xD(bg.mark.O.afH()),data:PCCViewer.fp.Data(bg.mark),conversation:PCCViewer.fp.Conversation(bg.mark.getConversation())};function zy(aX){return{x:aX.x,y:aX.y};};function auT(){var HM=IPCC.aY.map([].concat(bg.mark.O,bg.mark.cP),function(O){if(bJ!==null){return{pageNumber:O.aQ+1,pageData:{width:bJ,height:ao},startIndex:O.get_startIndex(),textLength:O.get_textLength(),lines:IPCC.aY.map(O.cf,function(bH){if(bH.get_rectangle){return PCCViewer.fp.copyRectangle(bH.get_rectangle());}else{return PCCViewer.fp.copyRectangle(bH);}})};}else{return{pageNumber:O.aQ+1,startIndex:O.get_startIndex(),textLength:O.get_textLength(),lines:IPCC.aY.map(O.cf,function(bH){if(bH.get_rectangle){return PCCViewer.fp.copyRectangle(bH.get_rectangle());}else{return PCCViewer.fp.copyRectangle(bH);}})};}});ba.lineGroups=HM;};function adr(){if(bg.mark.getRectangle){ba.rectangle=PCCViewer.fp.copyRectangle(bg.mark.getRectangle());if(bJ!==null){ba.pageData={width:bJ,height:ao};}}if(bg.mark.getStartPoint){ba.startPoint=zy(bg.mark.getStartPoint());if(bJ!==null){ba.pageData=ba.pageData||{width:bJ,height:ao};}}if(bg.mark.getEndPoint){ba.endPoint=zy(bg.mark.getEndPoint());if(bJ!==null){ba.pageData=ba.pageData||{width:bJ,height:ao};}}if(bg.mark.getPoints){var aT=bg.mark.getPoints();ba.points=IPCC.aY.map(aT,zy);if(bJ!==null){ba.pageData={width:bJ,height:ao};}}if(bg.mark.O.cf){auT();}};if(bJ!==undefined&&ao!==undefined&&bJ!==0&&ao!==0){adr();ck(undefined,ba);}else{bg.vc.requestPageAttributes(aa).then(function aEp(adY){ao=adY.height;bJ=adY.width;adr();ck(undefined,ba);},function aDK(fB){ck(fB);});}},Data:function(ba){return IPCC.aY.reduce(ba.getDataKeys(),function(ej,aB){ej[aB]=ba.getData(aB);return ej;},{});},Comment:function(cK){return{text:cK.getText(),data:PCCViewer.fp.Data(cK),creationDateTime:IPCC.aY.xD(cK.getCreationTime())};},Conversation:function(bX){return{comments:IPCC.aY.map(bX.getComments(),function(cK){return PCCViewer.fp.Comment(cK);}),data:PCCViewer.fp.Data(bX)};},EllipseAnnotation:function(bg,ck){PCCViewer.fp.RectangleAnnotation(bg,ck);},FreehandAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{color:bg.mark.getColor(),opacity:bg.mark.getOpacity(),path:bg.mark.getPath(),thickness:bg.mark.getThickness()});ck(undefined,ba);});},FreehandSignature:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{color:bg.mark.getColor(),path:bg.mark.getPath(),thickness:bg.mark.getThickness()});ck(undefined,ba);});},HighlightAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}var cB=bg.mark.getPosition();ba=IPCC.aY.extend(ba,{fillColor:bg.mark.getFillColor(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bg.mark.getText()});ck(undefined,ba);});},ImageStampAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}var bb=bg.mark.getImage();ba=IPCC.aY.extend(ba,{imageDataUrl:bb.dataUrl,imageId:bb.id});ck(undefined,ba);});},ImageStampRedaction:function(bg,ck){PCCViewer.fp.ImageStampAnnotation(bg,ck);},LineAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{color:bg.mark.getColor(),endHeadType:bg.mark.getEndHeadType(),opacity:bg.mark.getOpacity(),thickness:bg.mark.getThickness()});ck(undefined,ba);});},PolylineAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{color:bg.mark.getColor(),opacity:bg.mark.getOpacity(),thickness:bg.mark.getThickness()});ck(undefined,ba);});},RectangleAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{borderColor:bg.mark.getBorderColor(),borderThickness:bg.mark.getBorderThickness(),fillColor:bg.mark.getFillColor(),opacity:bg.mark.getOpacity()});ck(undefined,ba);});},RectangleRedaction:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{reason:bg.mark.getReason()});ck(undefined,ba);});},StampAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{label:bg.mark.getLabel(),color:bg.mark.getColor()});ck(undefined,ba);});},StampRedaction:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{label:bg.mark.getLabel()});ck(undefined,ba);});},TextAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{borderColor:bg.mark.getBorderColor(),borderThickness:bg.mark.getBorderThickness(),fillColor:bg.mark.getFillColor(),fontColor:bg.mark.getFontColor(),fontName:bg.mark.getFontName(),fontSize:bg.mark.getFontSize(),fontStyle:bg.mark.getFontStyle(),horizontalAlignment:bg.mark.getHorizontalAlignment(),opacity:bg.mark.getOpacity(),text:bg.mark.getText()});ck(undefined,ba);});},TextHyperlinkAnnotation:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}var cB=bg.mark.getPosition();ba=IPCC.aY.extend(ba,{href:bg.mark.getHref(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bg.mark.getText()});ck(undefined,ba);});},TextInputSignature:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{fontColor:bg.mark.getFontColor(),fontName:bg.mark.getFontName(),text:bg.mark.getText()});ck(undefined,ba);});},TextRedaction:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{fontColor:bg.mark.getFontColor(),fontName:bg.mark.getFontName(),fontSize:bg.mark.getFontSize(),text:bg.mark.getText()});ck(undefined,ba);});},TextSelectionRedaction:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}var cB=bg.mark.getPosition();ba=IPCC.aY.extend(ba,{reason:bg.mark.getReason(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bg.mark.getText()});ck(undefined,ba);});},TextSignature:function(bg,ck){PCCViewer.fp.Common(bg,function(dP,ba){if(dP){ck(dP);return;}ba=IPCC.aY.extend(ba,{color:bg.mark.getColor(),fontName:bg.mark.getFontName(),text:bg.mark.getText()});ck(undefined,ba);});},TransparentRectangleRedaction:function(bg,ck){PCCViewer.fp.Common(bg,ck);}};PCCViewer.ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var by=PCCViewer.Deferred();var bW=by.getPromise();var C=this,aK,aCf=false;function ajN(fB){setTimeout(function(){by.reject(fB);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){aK=marks;}else if(marks){aK=[marks];aCf=true;}else{ajN(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return bW;}var Pp;aK=IPCC.aY.filter(aK,function(nn,cT){var ajD=nn instanceof PCCViewer.Mark&&nn===C.getMarkById(nn.getId())&& ! !PCCViewer.fp[nn.getType()];if(!ajD&& !Pp){Pp=cT;}return ajD;});if(Pp){ajN(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Pp+' because it is not a valid mark or a mark known to ViewerControl'));return bW;}var Sf=C.aC.get_pages();var dG=IPCC.aY.reduce(aK,function(ej,nn){var aa=nn.getPageNumber();if(ej[aa]){return ej;}ej[aa]=Sf.getPage(aa-1);return ej;},{});function atr(H,ai,aEg){return function(oK){PCCViewer.fp[H.getType()]({mark:H,page:ai,vc:C},function(dP,dj){if(!dP){aEg(dj);oK();}else{by.reject(dP);}});};};var uJ=[];var asM=IPCC.aY.map(aK,function(nn,cT){return atr(nn,dG[nn.getPageNumber()],function(dj){uJ[cT]=dj;});});IPCC.aY.Wq(asM,function(){by.resolve(uJ);});return bW;};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.eD={calculateRectangle:function(ba,aO){if(ba.pageData===undefined||(ba.pageData.width===aO.bJ&&ba.pageData.height===aO.ao)){return ba.rectangle;}else{return{x:ba.rectangle.x*aO.bJ/ba.pageData.width,y:ba.rectangle.y*aO.ao/ba.pageData.height,width:ba.rectangle.width*aO.bJ/ba.pageData.width,height:ba.rectangle.height*aO.ao/ba.pageData.height};}},setRectangle:function(H,ba,aO){H.setRectangle(PCCViewer.eD.calculateRectangle(ba,aO));},setLines:function(H,ba,aO){var afL,oS,cs=ba.textLength+ba.startIndex-1,dv=ba.selectedText,cB={startIndex:ba.startIndex,length:ba.textLength};oS=[];var aQ,BC;afL=IPCC.aY.reduce(ba.lineGroups,function(ej,pE){aQ=pE.pageNumber-1;ej[aQ]=IPCC.aY.map(pE.lines,function(ie){if(pE.pageData!==undefined){BC=PCCViewer.eD.calculateRectangle({rectangle:ie,pageData:pE.pageData},aO);return new IPCC.Web.UI.Rectangle(BC.x,BC.y,BC.width,BC.height);}else{return new IPCC.Web.UI.Rectangle(ie.x,ie.y,ie.width,ie.height);}});oS.push({pageIndex:aQ,endIndex:pE.startIndex+pE.textLength-1});return ej;},{});H.Jg(oS,cs,dv,cB,afL);},postCreate:function(H,ba){H.O.adN(new Date(IPCC.aY.IJ(ba.creationDateTime)));H.O.Ws(new Date(IPCC.aY.IJ(ba.modificationDateTime)));return H;},calculatePoint:function(aX,LZ,aO){if(LZ===undefined||(LZ.width===aO.bJ&&LZ.height===aO.ao)){return aX;}else{return{x:aX.x*aO.bJ/LZ.width,y:aX.y*aO.ao/LZ.height};}},Data:function(ba,dj){IPCC.aY.forEach(dj,function(dm,aB){ba.setData(aB,dm);});},Comment:function(bX,cK){var oE=bX.addComment(cK.text);oE.setCreationTime(cK.creationDateTime);PCCViewer.eD.Data(oE,cK.data);},Conversation:function(H,bX){var ahE=H.getConversation();IPCC.aY.forEach(bX.comments?bX.comments:[],function(oE){PCCViewer.eD.Comment(ahE,oE);});PCCViewer.eD.Data(ahE,bX.data);},Common:function(ba,aO){if(ba.uid===undefined){ba.uid=IPCC.aY.akb();}var H=this.aib(ba.pageNumber,ba.type,{uid:ba.uid});if(ba.rectangle&&H.setRectangle){PCCViewer.eD.setRectangle(H,ba,aO);}if(ba.startPoint&&H.setStartPoint){H.setStartPoint(PCCViewer.eD.calculatePoint(ba.startPoint,ba.pageData,aO));}if(ba.endPoint&&H.setEndPoint){H.setEndPoint(PCCViewer.eD.calculatePoint(ba.endPoint,ba.pageData,aO));}if(ba.points&&H.setPoints){H.setPoints(IPCC.aY.map(ba.points,function(aX){return PCCViewer.eD.calculatePoint(aX,ba.pageData,aO);}));}if(ba.lineGroups&&H.Jg){H.dF=ba.uid;PCCViewer.eD.setLines(H,ba,aO);}if(ba.interactionMode){H.setInteractionMode(ba.interactionMode);}PCCViewer.eD.Data(H,ba.data);PCCViewer.eD.Conversation(H,ba.conversation);return H;},EllipseAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.borderColor){H.setBorderColor(ba.borderColor);}if(ba.borderThickness){H.setBorderThickness(ba.borderThickness);}if(ba.fillColor){H.setFillColor(ba.fillColor);}if(ba.opacity){H.setOpacity(ba.opacity);}return PCCViewer.eD.postCreate(H,ba);},FreehandAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.color){H.setColor(ba.color);}if(ba.opacity){H.setOpacity(ba.opacity);}if(ba.path){H.setPath(ba.path);}if(ba.thickness){H.setThickness(ba.thickness);}return PCCViewer.eD.postCreate(H,ba);},FreehandSignature:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.color){H.setColor(ba.color);}if(ba.path){H.setPath(ba.path);}if(ba.thickness){H.setThickness(ba.thickness);}return PCCViewer.eD.postCreate(H,ba);},HighlightAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.fillColor){H.setFillColor(ba.fillColor);}return PCCViewer.eD.postCreate(H,ba);},ImageStampAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.imageDataUrl&&ba.imageId){H.setImage({id:ba.imageId,dataUrl:ba.imageDataUrl});}return PCCViewer.eD.postCreate(H,ba);},ImageStampRedaction:function(ba,aO){return PCCViewer.eD.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.color){H.setColor(ba.color);}if(ba.endHeadType){H.setEndHeadType(ba.endHeadType);}if(ba.opacity){H.setOpacity(ba.opacity);}if(ba.thickness){H.setThickness(ba.thickness);}return PCCViewer.eD.postCreate(H,ba);},PolylineAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.color){H.setColor(ba.color);}if(ba.opacity){H.setOpacity(ba.opacity);}if(ba.thickness){H.setThickness(ba.thickness);}return PCCViewer.eD.postCreate(H,ba);},RectangleAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.borderColor){H.setBorderColor(ba.borderColor);}if(ba.borderThickness){H.setBorderThickness(ba.borderThickness);}if(ba.fillColor){H.setFillColor(ba.fillColor);}if(ba.opacity){H.setOpacity(ba.opacity);}return PCCViewer.eD.postCreate(H,ba);},RectangleRedaction:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.reason){H.setReason(ba.reason);}return PCCViewer.eD.postCreate(H,ba);},StampAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.label){H.setLabel(ba.label);}if(ba.color){H.setColor(ba.color);}return PCCViewer.eD.postCreate(H,ba);},StampRedaction:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.label){H.setLabel(ba.label);}return PCCViewer.eD.postCreate(H,ba);},TextAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.borderColor){H.setBorderColor(ba.borderColor);}if(ba.borderThickness){H.setBorderThickness(ba.borderThickness);}if(ba.fillColor){H.setFillColor(ba.fillColor);}if(ba.fontColor){H.setFontColor(ba.fontColor);}if(ba.fontName){H.setFontName(ba.fontName);}if(ba.fontSize){H.setFontSize(ba.fontSize);}if(ba.fontStyle){H.setFontStyle(ba.fontStyle);}if(ba.horizontalAlignment){H.setHorizontalAlignment(ba.horizontalAlignment);}if(ba.opacity){H.setOpacity(ba.opacity);}if(ba.text){H.setText(ba.text);}return PCCViewer.eD.postCreate(H,ba);},TextHyperlinkAnnotation:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.href){H.setHref(ba.href);}return PCCViewer.eD.postCreate(H,ba);},TextInputSignature:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.fontColor){H.setFontColor(ba.fontColor);}if(ba.fontName){H.setFontName(ba.fontName);}if(ba.text){H.setText(ba.text);}return PCCViewer.eD.postCreate(H,ba);},TextRedaction:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.fontColor){H.setFontColor(ba.fontColor);}if(ba.fontName){H.setFontName(ba.fontName);}if(ba.fontSize){H.setFontSize(ba.fontSize);}if(ba.text){H.setText(ba.text);}return PCCViewer.eD.postCreate(H,ba);},TextSelectionRedaction:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.reason){H.setReason(ba.reason);}return PCCViewer.eD.postCreate(H,ba);},TextSignature:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);if(ba.color){H.setColor(ba.color);}if(ba.fontName){H.setFontName(ba.fontName);}if(ba.text){H.setText(ba.text);}return PCCViewer.eD.postCreate(H,ba);},TransparentRectangleRedaction:function(ba,aO){var H=PCCViewer.eD.Common.apply(this,arguments);return PCCViewer.eD.postCreate(H,ba);}};PCCViewer.ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eR===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var C=this;var fh=C.getPageCount();var fe;if(typeof values==='string'){try{fe=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fe=values;}if(fe.constructor!==Array){fe=[fe];}function TP(fB,cT){throw new Error('Cannot serialize mark (at index '+cT+') because of '+fB);};var YF=IPCC.aY.map(C.getAllMarks(),function(H){return H.getUid();});IPCC.aY.forEach(fe,function validateObject(ba,cT){if(!ba.pageNumber||isNaN(+ba.pageNumber)||ba.pageNumber<1||ba.pageNumber>fh){TP('unknown page number '+ba.pageNumber,cT);}if(!PCCViewer.Mark.Type[ba.type]){TP('unknown type '+ba.type,cT);}if(IPCC.aY.contains(YF,ba.uid)){TP('uid '+ba.uid+' is being duplicated or already exists',cT);}else if(ba.uid!==undefined){YF.push(ba.uid);}});if(fe.length===0){return[];}var dG=C.aC.get_pages();var akB=dG.km(0);var eS=akB.get_pageWidth();var gW=akB.get_pageHeight();var awi=[];dG.mF(function(ai){awi.push(C.ab.gB(ai));});var aK=IPCC.aY.map(fe,function(ba){var H=PCCViewer.eD[ba.type].call(C,ba,{bJ:eS,ao:gW});if(ba.uid===undefined){YF.push(H.getUid());}var ai=dG.km(ba.pageNumber-1);ai.zQ=true;return H;});return aK;};})(PCCViewer||{});(function(PCCViewer){PCCViewer.LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.xE=layerRecordIds;this.cz=viewerControl;this.hW="";this.he=false;this.qp=false;this.lZ=0;this.by=PCCViewer.Deferred();this.bW=this.by.getPromise();this.then=this.bW.then;this.uf=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};PCCViewer.LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};PCCViewer.LoadMarkupLayersRequest.prototype.getProgress=function(){return this.lZ;};PCCViewer.LoadMarkupLayersRequest.prototype.cancel=function(){var C=this;this.qp=true;this.hW="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});C.by.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.cz;};PCCViewer.LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.hW;};PCCViewer.LoadMarkupLayersRequest.prototype.Kv=function(){var C=this,WK=1,XF,XW=[];var uf=this.uf;var tE=function(ahZ){var cb=XF+ahZ;IPCC.aY.HZ({url:cb,method:'GET'}).then(function onResolve(lA){var tg=JSON.parse(lA),Om=C.ayB(tg),hy,uJ=[],aK,gn=[],aid={},Nf=0,MK;for(var ni in Om.gn){if(Om.gn.hasOwnProperty(ni)){gn=gn.concat(Om.gn[ni]);}}hy=new PCCViewer.MarkupLayer(C.cz,gn);hy.aCV={cb:cb};IPCC.aY.forEach(Om.uJ,function(adj){uJ.push(adj);Nf++;aid[adj.uid]=true;});if(tg.name){hy.setName(tg.name);}if(tg.originalXmlName){hy.setOriginalXmlName(tg.originalXmlName);}if(Nf>0){MK=function(ev){if(aid[ev.mark.getUid()]){Nf--;}if(!Nf){C.cz.off(PCCViewer.EventType.MarkCreated,MK);C.cz.tn=true;}};C.cz.on(PCCViewer.EventType.MarkCreated,MK);C.cz.tn=false;try{aK=C.cz.deserializeMarks(uJ);}catch(dP){C.he=false;C.cz.off(PCCViewer.EventType.MarkCreated,MK);C.cz.tn=true;C.by.reject(new PCCViewer.Error('Error',dP.message));C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(uf){IPCC.aY.forEach(aK,function(H){H.setVisible(false);});}hy.addMarks(aK);}hy.Ut=ahZ;for(var wM in tg.data){if(tg.data.hasOwnProperty(wM)){hy.setData(wM,tg.data[wM]);}}C.cz.getMarkupLayerCollection().addItem(hy);XW.push(hy);WK--;C.lZ=(C.xE.length-WK)/C.xE.length;C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:C.lZ});if(C.lZ===1){C.he=false;C.by.resolve(XW);C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:XW});}},function onReject(fB){C.he=false;C.by.reject(new PCCViewer.Error("Error",fB));C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});});};if(!(/^[\x00-\x7F]*$/.test(this.cz.aC.get_documentIdentifier()))){XF=this.cz.aO.imageHandlerUrl+'/MarkupLayers/e'+this.cz.aO.documentID+'/';}else{XF=this.cz.aO.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.cz.aO.documentID)+'/';}if(this.qp){return;}if(Object.prototype.toString.call(this.xE)==='[object Array]'&&this.xE.length>0){WK=this.xE.length;this.he=true;IPCC.aY.forEach(this.xE,tE,this);}else if(typeof this.xE==="string"){this.he=true;tE(this.xE);}else{this.he=false;this.by.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};PCCViewer.LoadMarkupLayersRequest.prototype.ayB=function(tg){var LF={},Na={};IPCC.aY.forEach(tg.marks,function(Uq){Uq.conversation.comments=[];LF[Uq.uid]=Uq;},this);IPCC.aY.forEach(tg.comments,function(xt){if(LF[xt.markUid]){LF[xt.markUid].conversation.comments.push(xt);}else if(Na[xt.markUid]){Na[xt.markUid].push(xt);}else{Na[xt.markUid]=[xt];}},this);return{uJ:LF,gn:Na};};if(Object.defineProperties){Object.defineProperties(PCCViewer.LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayer=function(viewerControl,markReferences){var C=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cV=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.cz=viewerControl;this.cO=undefined;this.Ut=undefined;this.akf=undefined;this.aK=[];this.gn={};this.od=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.aY.forEach(markReferences,function(rM){var LD=rM.markUid;rM.markupLayer=C;if(C.gn[LD]){C.gn[LD]=C.gn[LD].concat(rM);}else{C.gn[LD]=[rM];}});}var qQ={};PCCViewer.EventEmitter.extend(qQ);qQ.RC=function(DI,cI){var C=this;return setTimeout(function(){C.trigger(DI,cI);},0);};PCCViewer.EventEmitter.extend(this);this.dj=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.FO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){C.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};PCCViewer.MarkupLayer.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};PCCViewer.MarkupLayer.prototype.getViewerControl=function(){return this.cz;};PCCViewer.MarkupLayer.prototype.addMarks=function(marks){var C=this,avr=function(cK){cK.iq=C;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var G=0;G<marks.length;G++){if(!(marks[G]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[G].getId())){marks.splice(G,1);continue;}IPCC.aY.forEach(marks[G].getConversation().getComments(),avr);}if(marks.length){this.aK=this.aK.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};PCCViewer.MarkupLayer.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var G=0;G<this.aK.length;G++){for(var ag=0;ag<marks.length;ag++){if(this.aK[G].getUid()===marks[ag].getUid()){this.aK.splice(G,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[ag]]});break;}}}};PCCViewer.MarkupLayer.prototype.getMarks=function(){var aiv=[];IPCC.aY.forEach(this.aK,function(H){aiv.push(H);});return aiv;};PCCViewer.MarkupLayer.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var G=0,afn=false,H;for(G;G<this.aK.length;G++){H=this.aK[G];if(H.getId()===markId){afn=true;break;}}return afn;};PCCViewer.MarkupLayer.prototype.getMarkReferences=function(){var gn=[];for(var ni in this.gn){if(this.gn.hasOwnProperty(ni)){gn=gn.concat(this.gn[ni]);}}return gn;};PCCViewer.MarkupLayer.prototype.hide=function(){var cz=this.cz;cz.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};PCCViewer.MarkupLayer.prototype.show=function(){var cz=this.cz;cz.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};PCCViewer.MarkupLayer.prototype.copyLayers=function(markupLayers){var cz=this.cz,C=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var aK=[];IPCC.aY.forEach(markupLayers,function(iq){cz.getMarkupLayerCollection().getItem(iq.getId());aK=aK.concat(iq.getMarks());});var copiedMarks=cz.copyMarks(aK);this.addMarks(copiedMarks);IPCC.aY.forEach(this.aK,function(H){IPCC.aY.forEach(H.getConversation().getComments(),function(cK){cK.iq=C;});});return this;};PCCViewer.MarkupLayer.prototype.getId=function(){return this.cV;};PCCViewer.MarkupLayer.prototype.getName=function(){return this.cO;};PCCViewer.MarkupLayer.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.cO=name;return this;};PCCViewer.MarkupLayer.prototype.getRecordId=function(){return this.Ut;};PCCViewer.MarkupLayer.prototype.destroy=function(){this.cz.getMarkupLayerCollection().removeItem(this.cV);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};PCCViewer.MarkupLayer.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.od=interactionMode;IPCC.aY.forEach(this.aK,function(H){H.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};PCCViewer.MarkupLayer.prototype.getOriginalXmlName=function(){return this.akf;};PCCViewer.MarkupLayer.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.akf=name;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayer.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cz=viewerControl;this.uM={};this.aK={};this.jA={};this.nh=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};PCCViewer.MarkupLayerCollection.prototype.getViewerControl=function(){return this.cz;};PCCViewer.MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.aY.forEach(this.uM,iterator,thisArg);return this;};PCCViewer.MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.uM[layerId];};PCCViewer.MarkupLayerCollection.prototype.getCount=function(){return this.nh;};PCCViewer.MarkupLayerCollection.prototype.getAll=function(){var aiG=[],WA;for(WA in this.uM){if(this.uM.hasOwnProperty(WA)){aiG.push(this.uM[WA]);}}return aiG;};PCCViewer.MarkupLayerCollection.prototype.addItem=function(layer){var C=this,gn,YU=layer.gn,Lb=function(H,rM){var cK=H.getConversation().addComment(rM.text);cK.creationTime=new Date(rM.creationDateTime);cK.iq=rM.markupLayer;for(var wM in rM.data){if(rM.data.hasOwnProperty(wM)){cK.setData(wM,rM.data[wM]);}}},axx=function(aza){Lb(C.aK[xP],aza);},ahG=function(H){var ni=H.getUid();C.aK[H.getUid()]=H;if(C.jA[ni]){IPCC.aY.forEach(C.jA[ni],function(pI){Lb(H,pI);});delete C.jA[ni];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.uM[layer.getId()]=layer;for(var xP in YU){if(YU.hasOwnProperty(xP)){gn=YU[xP];if(C.aK[xP]){IPCC.aY.forEach(gn,axx);}else if(C.jA[xP]){C.jA[xP]=C.jA[xP].concat(gn);}else{C.jA[xP]=gn;}}}IPCC.aY.forEach(layer.getMarks(),function(H){ahG(H);});this.nh++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.aY.forEach(ev.marks,function(H){ahG(H);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var axP=ev.cJ;IPCC.aY.forEach(ev.marks,function(H){var ni=H.getUid();IPCC.aY.forEach(C.aK[ni].getConversation().getComments(),function(HX){if(axP.id!==HX.iq.id){var pI={creationDateTime:IPCC.aY.xD(HX.creationTime),data:HX.dj.xv(),markUid:H.getUid(),markupLayer:HX.iq,text:HX.text};if(C.jA[ni]){C.jA[ni]=C.jA[ni].concat([pI]);}else{C.jA[ni]=[pI];}}});C.wK(H);});});return this;};PCCViewer.MarkupLayerCollection.prototype.wK=function(H){var LP;IPCC.aY.forEach(this.uM,function(hy){var ajx=hy.hasMark(H.getId());LP=(typeof LP!=='undefined')? +ajx^LP: +ajx;});if(LP===0){delete this.aK[H.getUid()];}};PCCViewer.MarkupLayerCollection.prototype.removeItem=function(layerId){var hy=this.uM[layerId],C=this,aAa=function(pI,bP){if(pI.markupLayer.getId()===layerId){C.jA[cV].splice(bP);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.aY.forEach(this.aK,function(H){var hi=H.getConversation().getComments();var Oc=hy.hasMark(H.getId());IPCC.aY.forEach(hi,function(cK){if(Oc&&cK.iq.getId()!==layerId){var aeq={"markUid":H.getUid(),"markupLayer":cK.iq,"text":cK.getText(),"data":cK.dj.dj,"creationDateTime":IPCC.aY.xD(cK.getCreationTime())};if(C.jA[H.getUid()]){C.jA[H.getUid()].push(aeq);}else{C.jA[H.getUid()]=[aeq];}H.getConversation().deleteComments(cK);}else if(Oc&&cK.iq.getId()===layerId){H.getConversation().deleteComments(cK);}else if(!Oc&&cK.iq.getId()===layerId){H.getConversation().deleteComments(cK);}});if(Oc&&C.aK[H.getUid()]){C.wK(H);}});for(var cV in this.jA){if(this.jA.hasOwnProperty(cV)){IPCC.aY.forEach(this.jA[cV],aAa);}}delete this.uM[layerId];this.nh--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};PCCViewer.MarkupLayerCollection.prototype.removeAll=function(){this.uM={};this.nh=0;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}})(PCCViewer||{}); 